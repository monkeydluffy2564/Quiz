const _0x2bcb18=_0x63b3;(function(_0x1a2b1b,_0x2e0953){const _0x34c2db=_0x63b3,_0x1819ba=_0x1a2b1b();while(!![]){try{const _0x1cf8fa=-parseInt(_0x34c2db(0xe9b))/0x1+parseInt(_0x34c2db(0xaac))/0x2*(-parseInt(_0x34c2db(0x7da))/0x3)+parseInt(_0x34c2db(0xea8))/0x4+-parseInt(_0x34c2db(0x5b4))/0x5*(parseInt(_0x34c2db(0x2e2))/0x6)+parseInt(_0x34c2db(0x4ba))/0x7+-parseInt(_0x34c2db(0xcb2))/0x8*(-parseInt(_0x34c2db(0xd9c))/0x9)+parseInt(_0x34c2db(0x649))/0xa*(parseInt(_0x34c2db(0x8e3))/0xb);if(_0x1cf8fa===_0x2e0953)break;else _0x1819ba['push'](_0x1819ba['shift']());}catch(_0x84a70c){_0x1819ba['push'](_0x1819ba['shift']());}}}(_0x4d61,0x3f04a));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,deleteField,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion,arrayRemove,getCountFromServer}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';const ANONYMOUS_NAMES=[_0x2bcb18(0x816),_0x2bcb18(0xde1),'เทพทรู',_0x2bcb18(0x86f),_0x2bcb18(0x67b),_0x2bcb18(0x3b5),_0x2bcb18(0x11e),_0x2bcb18(0x48d),_0x2bcb18(0x910),_0x2bcb18(0xac9),_0x2bcb18(0xdc2),'มือปราบสายรุ้ง',_0x2bcb18(0x785),_0x2bcb18(0x2aa),_0x2bcb18(0x662),_0x2bcb18(0xe97),_0x2bcb18(0x21e),_0x2bcb18(0x918),_0x2bcb18(0x7f3),_0x2bcb18(0xb35),'หมีขั้วโลกใต้','แมวเก้าชีวิต','ปลาทูคะนอง','ไก่ฟ้าพญาลอ',_0x2bcb18(0x3e0),_0x2bcb18(0x4c6),_0x2bcb18(0x448),_0x2bcb18(0x1d5),_0x2bcb18(0x8a7),_0x2bcb18(0x8d8),_0x2bcb18(0x8ed),_0x2bcb18(0x3fe),_0x2bcb18(0xde3),_0x2bcb18(0x38b),'ยูทูปเบอร์ฝึกหัด',_0x2bcb18(0x665),_0x2bcb18(0xe94),_0x2bcb18(0x1a8),_0x2bcb18(0x4cb),_0x2bcb18(0x114),_0x2bcb18(0x358),_0x2bcb18(0xadb),_0x2bcb18(0xdcd),_0x2bcb18(0xac5),_0x2bcb18(0xa4a),_0x2bcb18(0x3f8),'หมูกระทะจะเยียวยาทุกสิ่ง','ครัวซองต์','ชีสเค้ก',_0x2bcb18(0x861),_0x2bcb18(0x8e8),_0x2bcb18(0x2ec),'ออฟฟิศซินโดรม','นอนไม่พอ',_0x2bcb18(0xe46),_0x2bcb18(0x7dd),_0x2bcb18(0x9cf),'โหลดนาน','404\x20Not\x20Found',_0x2bcb18(0x35b),_0x2bcb18(0x4a2),'ตะวันฉาย','สายหมอก',_0x2bcb18(0x691),_0x2bcb18(0xdf9),_0x2bcb18(0x72f),_0x2bcb18(0x896),_0x2bcb18(0xa5e),_0x2bcb18(0x89d),'แม่น้ำ','นักเดินทาง',_0x2bcb18(0xe88),'เกมเมอร์','ศิลปิน',_0x2bcb18(0x279),_0x2bcb18(0x7ad),_0x2bcb18(0x575),'นักประดิษฐ์','นักกีฬา',_0x2bcb18(0xda0),_0x2bcb18(0x778),_0x2bcb18(0xb5d),_0x2bcb18(0x2ce),_0x2bcb18(0x6aa),_0x2bcb18(0xc64),_0x2bcb18(0x3a3),_0x2bcb18(0x5b3),_0x2bcb18(0x5ea),_0x2bcb18(0x957),_0x2bcb18(0xdd9),_0x2bcb18(0x316),_0x2bcb18(0x14b),_0x2bcb18(0xc8f),_0x2bcb18(0xe37),'เพื่อนสนิท','คู่จิ้น',_0x2bcb18(0xacf),_0x2bcb18(0x110),_0x2bcb18(0xa11),_0x2bcb18(0x8bb)];let lastSeenQuestionIndex=-0x1,clientSideHiddenOptions={},blueprintShortcuts=[],shortcutTabs=[],shortcutOrder={},activeShortcutTabId=_0x2bcb18(0x6b3),fileShortcutTabs=[],fileShortcutOrder={},activeFileShortcutTabId=_0x2bcb18(0x6b3),parallelShortcutTabs=[],parallelShortcutOrder={},activeParallelShortcutTabId=_0x2bcb18(0x6b3),fileShortcuts=[],parallelTestShortcuts=[],cameFromBlueprint=![],wakeLock=null,localGroupQuestionIndex=0x0,blueprintPageSettings=null,extractedBlueprintData=null,currentBlueprintProjectId=null;const requestWakeLock=async()=>{const _0x1ee04e=_0x2bcb18;if(_0x1ee04e(0x19c)in navigator)try{wakeLock=await navigator[_0x1ee04e(0x19c)][_0x1ee04e(0x1d1)](_0x1ee04e(0x156)),console[_0x1ee04e(0x273)](_0x1ee04e(0x11c)),wakeLock[_0x1ee04e(0x639)](_0x1ee04e(0xae2),()=>{const _0x2342bb=_0x1ee04e;console[_0x2342bb(0x273)]('Wake\x20Lock\x20ถูกปิดใช้งานแล้ว');});}catch(_0xea6405){console[_0x1ee04e(0x1ac)](_0x1ee04e(0x67a)+_0xea6405[_0x1ee04e(0x34a)]+',\x20'+_0xea6405[_0x1ee04e(0x523)]);}else console[_0x1ee04e(0xc23)](_0x1ee04e(0xdd1));},releaseWakeLock=async()=>{const _0x4c1924=_0x2bcb18;wakeLock!==null&&(await wakeLock[_0x4c1924(0xae2)](),wakeLock=null,console['log'](_0x4c1924(0x71c)));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0x24c96f=_0x2bcb18;if(!document[_0x24c96f(0x6ac)][_0x24c96f(0x360)][_0x24c96f(0x3fa)]('dimmed')){if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0x595c55=_0x24c96f;document[_0x595c55(0x6ac)][_0x595c55(0x360)][_0x595c55(0x4a6)]('dimmed'),console[_0x595c55(0x273)](_0x595c55(0xc40));},inactivityTime);}}function wakeUpScreen(_0x254032){const _0x24dad2=_0x2bcb18;_0x254032&&(_0x254032[_0x24dad2(0x17c)](),_0x254032[_0x24dad2(0xcfb)]());document[_0x24dad2(0x6ac)]['classList']['remove'](_0x24dad2(0xeb8));if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0x5693a5=_0x24dad2;document[_0x5693a5(0x6ac)]['classList'][_0x5693a5(0x4a6)]('dimmed');},inactivityTime);}function stopDimTimer(){const _0x24bb71=_0x2bcb18;if(dimTimer)clearTimeout(dimTimer);document[_0x24bb71(0x6ac)][_0x24bb71(0x360)]['remove'](_0x24bb71(0xeb8)),window[_0x24bb71(0x9c9)](_0x24bb71(0x22b),resetDimTimer),window[_0x24bb71(0x9c9)]('mousedown',resetDimTimer),window['removeEventListener'](_0x24bb71(0x393),resetDimTimer),window['removeEventListener']('keydown',resetDimTimer),console['log'](_0x24bb71(0x742));}let currentTeamQuizId=null,unsubscribeTeamQuizListener=null,localTeamPlayers=[],localPlayerTurnIndex=0x0,localQuestionIndex=0x0,localPlayerIndex=0x0,currentApplicationData=[];async function handleStartTeamQuiz(_0x558bc5,_0x14a4ee=![]){const _0x5a5100=_0x2bcb18,_0x4b1bde=allQuizzes['find'](_0x563a9e=>_0x563a9e['id']===_0x558bc5)||allQuizzesGlobal['find'](_0x246dd7=>_0x246dd7['id']===_0x558bc5);if(!_0x4b1bde){showMessage(_0x5a5100(0xd90));return;}currentQuizData=getShuffledQuiz(_0x4b1bde);const _0x5d1824=Math[_0x5a5100(0x4cf)](0x3e8+Math['random']()*0x2328)[_0x5a5100(0xdcb)]();try{const _0x13305a=await addDoc(collection(db,'artifacts/'+appId+_0x5a5100(0x8de)),{'quizId':_0x4b1bde['id'],'projectId':_0x4b1bde[_0x5a5100(0xc80)],'status':_0x5a5100(0x182),'pin':_0x5d1824,'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'responses':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x14a4ee});currentTeamQuizId=_0x13305a['id'],showView(_0x5a5100(0x1e5)),renderAdminTeamQuizDashboard(_0x5d1824,_0x4b1bde[_0x5a5100(0x79c)]),listenForTeamQuizUpdates();}catch(_0x13fac8){console['error'](_0x5a5100(0x7e8),_0x13fac8),showMessage('เกิดข้อผิดพลาดในการสร้างห้อง\x20Team\x20Quiz');}}function renderAdminTeamQuizDashboard(_0x308c55,_0x3d03c2,_0xd98298=_0x2bcb18(0x978)){const _0x44479d=_0x2bcb18,_0x251096=_0xd98298===_0x44479d(0xe25)?_0x44479d(0xa47):_0x44479d(0xc71);liveGameView[_0x44479d(0xa16)]=_0x44479d(0x73e)+_0x251096+':\x20'+_0x3d03c2+_0x44479d(0xa44)+_0x308c55+_0x44479d(0x481),document[_0x44479d(0x932)]('end-team-quiz-btn')[_0x44479d(0x639)]('click',async()=>{showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการจบกิจกรรมนี้?',async()=>{const _0xec57f6=_0x63b3;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();await deleteDoc(doc(db,_0xec57f6(0x6e6)+appId+'/public/data/teamQuizzes',currentTeamQuizId)),showView(_0xec57f6(0xde7));});});}function listenForTeamQuizUpdates(){const _0x2a3073=_0x2bcb18;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();const _0x362c5b=doc(db,_0x2a3073(0x6e6)+appId+_0x2a3073(0x8de),currentTeamQuizId);unsubscribeTeamQuizListener=onSnapshot(_0x362c5b,_0x2a45e6=>{const _0x1f801f=_0x2a3073;if(!_0x2a45e6[_0x1f801f(0x7d2)]()){sessionStorage[_0x1f801f(0x741)](_0x1f801f(0x15d));if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();showMessage(_0x1f801f(0x1eb));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x1f801f(0xcd1)?showView('project-detail'):showView(_0x1f801f(0x18c));return;}const _0x28cf31=_0x2a45e6[_0x1f801f(0x13f)]();if(currentMode===_0x1f801f(0xcd1)){if(_0x28cf31['mode']===_0x1f801f(0xe25)&&_0x28cf31['status']!==_0x1f801f(0x844)&&_0x28cf31[_0x1f801f(0x1f8)]!==_0x1f801f(0x501)){const _0x2ed803=Object['values'](_0x28cf31[_0x1f801f(0xd56)]||{});if(_0x2ed803[_0x1f801f(0x752)]>0x0){const _0x2f3104=_0x2ed803['every'](_0x50298d=>_0x50298d['isFinished']===!![]);_0x2f3104&&endGroupModeGame(currentTeamQuizId);}}updateAdminTeamDashboard(_0x28cf31);}else{if(_0x28cf31[_0x1f801f(0x1f8)]===_0x1f801f(0x844)||_0x28cf31[_0x1f801f(0x1f8)]===_0x1f801f(0x501)){if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();displayTeamQuizFinalResults();}else{if(_0x28cf31[_0x1f801f(0x251)]===_0x1f801f(0xe25)){const _0x5f5d24=_0x28cf31[_0x1f801f(0xd56)][userId];(!_0x5f5d24||!_0x5f5d24[_0x1f801f(0x98c)])&&renderTeamQuizQuestion();}}}});}async function endGroupModeGame(_0x49941e){const _0x52c10c=_0x2bcb18;console[_0x52c10c(0x273)](_0x52c10c(0xc67));const _0x5e2d4f=doc(db,'artifacts/'+appId+_0x52c10c(0x8de),_0x49941e);try{const _0x3f7f69=await getDoc(_0x5e2d4f);if(_0x3f7f69[_0x52c10c(0x7d2)]()){const _0x59e89e=_0x3f7f69[_0x52c10c(0x13f)]();_0x59e89e['shouldSaveResults']&&await saveGameResultsAsSubmissions(_0x59e89e);}await updateDoc(_0x5e2d4f,{'status':_0x52c10c(0x844)});}catch(_0x3854b8){console[_0x52c10c(0x1ac)](_0x52c10c(0x205),_0x3854b8);}}function updateAdminTeamDashboard(_0xac831b){const _0x556c3c=_0x2bcb18,_0xb7a137=document[_0x556c3c(0x932)](_0x556c3c(0x99d));if(!_0xb7a137)return;const _0x29e842=_0xac831b[_0x556c3c(0x251)]||_0x556c3c(0x978),_0x996c51=currentQuizData[_0x556c3c(0xc46)][_0x556c3c(0x752)];if(_0x29e842===_0x556c3c(0xe25)){const _0x1d535b=Object[_0x556c3c(0x282)](_0xac831b[_0x556c3c(0xd56)]||{});if(_0x1d535b[_0x556c3c(0x752)]===0x0){_0xb7a137[_0x556c3c(0xa16)]=_0x556c3c(0xac3);return;}const _0x1889ca=[..._0x1d535b][_0x556c3c(0x41f)]((_0x1b11ba,_0x1d20eb)=>_0x1d20eb[_0x556c3c(0x853)]-_0x1b11ba[_0x556c3c(0x853)]),_0x2e50c3=_0x1889ca[_0x556c3c(0xe49)]((_0x17df0f,_0x4b967a)=>{const _0x239937=_0x556c3c,_0x37a833=_0x17df0f[_0x239937(0x8c5)]?.[_0x239937(0x752)]||0x0;return _0x239937(0x5cb)+(_0x4b967a+0x1)+'.\x20กลุ่ม:\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-cyan-200\x22>'+_0x17df0f['members'][_0x239937(0xbb2)](',\x20')+_0x239937(0x28a)+_0x37a833+'/'+_0x996c51+_0x239937(0x457)+_0x17df0f[_0x239937(0x853)]+_0x239937(0x817);})[_0x556c3c(0xbb2)](''),_0x1c3deb=currentQuizData[_0x556c3c(0xc46)][_0x556c3c(0xe49)]((_0x1181b7,_0x54eb49)=>{const _0x4d5f49=_0x556c3c;let _0x3d553e=0x0,_0x58234f=0x0;_0x1d535b['forEach'](_0xdbfb8c=>{const _0x392702=_0x63b3,_0x545ee0=_0xdbfb8c[_0x392702(0x8c5)]?.[_0x392702(0x7a3)](_0x56564b=>_0x56564b[_0x392702(0xa22)]===_0x54eb49);if(_0x545ee0){_0x58234f++;if(_0x545ee0[_0x392702(0x129)])_0x3d553e++;}});const _0x159eab=_0x58234f>0x0&&_0x58234f===_0x1d535b['length'],_0x5c3356=_0x159eab?'bg-green-200\x20text-green-900\x20font-bold':_0x4d5f49(0xe16),_0x2343fd=_0x159eab?_0x4d5f49(0x1ef):'';return _0x4d5f49(0x361)+_0x5c3356+_0x4d5f49(0xeb4)+(_0x54eb49+0x1)+_0x4d5f49(0xe1d)+_0x2343fd+_0x4d5f49(0xa9c)+_0x3d553e+'/'+_0x1d535b['length']+_0x4d5f49(0xe4b);})[_0x556c3c(0xbb2)]('');_0xb7a137[_0x556c3c(0xa16)]='<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนกลุ่ม</h4><div\x20class=\x22space-y-2\x20text-lg\x22>'+_0x2e50c3+_0x556c3c(0x2d3)+_0x1c3deb+_0x556c3c(0x112);return;}const _0x3bccdf=_0xac831b['responses']||{},_0x5e3f20=Object[_0x556c3c(0x338)](_0x3bccdf);if(_0x5e3f20['length']===0x0){_0xb7a137[_0x556c3c(0xa16)]=_0x556c3c(0xdc1);return;}const _0x51c6ab=_0x5e3f20[_0x556c3c(0xe49)](_0x399ac0=>({'name':_0x399ac0,'score':_0x3bccdf[_0x399ac0][_0x556c3c(0x853)]||0x0}))['sort']((_0x456652,_0x1532e1)=>_0x1532e1[_0x556c3c(0x853)]-_0x456652['score']),_0x34b953=_0x51c6ab[_0x556c3c(0xe49)](_0x7f9e3=>{const _0x1d3d2e=_0x556c3c,_0x47268c=_0x3bccdf[_0x7f9e3[_0x1d3d2e(0x34a)]]?.[_0x1d3d2e(0x8c5)]?.[_0x1d3d2e(0x752)]||0x0,_0xa422bf=Math['ceil'](_0x996c51/_0x5e3f20[_0x1d3d2e(0x752)]);return'<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/20\x20p-2\x20rounded-md\x22><span>'+_0x7f9e3[_0x1d3d2e(0x34a)]+_0x1d3d2e(0xa6d)+_0x47268c+'/'+_0xa422bf+_0x1d3d2e(0x537)+_0x7f9e3[_0x1d3d2e(0x853)]+_0x1d3d2e(0x7fe);})[_0x556c3c(0xbb2)](''),_0x14dff4=_0x5e3f20['reduce']((_0x56d319,_0xe67e10)=>_0x56d319+(_0x3bccdf[_0xe67e10]['answers']?.[_0x556c3c(0x752)]||0x0),0x0),_0x21fc65=currentQuizData[_0x556c3c(0xc46)][_0x556c3c(0xe49)]((_0xe90178,_0x21e46e)=>{const _0xf68544=_0x556c3c;let _0x37dee0=null,_0x48db99=null;for(const _0x579a9b of _0x5e3f20){const _0x82ad84=_0x3bccdf[_0x579a9b][_0xf68544(0x8c5)]?.[_0xf68544(0x7a3)](_0x15d9cc=>_0x15d9cc['questionIndex']===_0x21e46e);if(_0x82ad84){_0x37dee0=_0x82ad84,_0x48db99=_0x579a9b;break;}}const _0x2fefa6=!!_0x37dee0,_0x38930e=_0x2fefa6&&_0x37dee0[_0xf68544(0x129)],_0x515a14=(Math[_0xf68544(0x4cf)](_0x21e46e/_0x5e3f20[_0xf68544(0x752)])+0x1)*_0x5e3f20['length'],_0x1ce11c=_0x14dff4>=_0x515a14,_0x50d990=_0x1ce11c?_0xf68544(0xaee):'bg-black/10',_0x699a38=_0x1ce11c?_0xf68544(0x1ef):'';let _0x96b90b=_0xf68544(0x84d);return _0x2fefa6&&(_0x96b90b=_0x48db99+_0xf68544(0x801)+(_0x38930e?'ถูก':'ผิด')),'<div\x20class=\x22p-2\x20rounded-md\x20'+_0x50d990+'\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20'+(_0x21e46e+0x1)+':</span><span>'+_0x699a38+_0xf68544(0x564)+_0x96b90b+_0xf68544(0xcb5);})['join']('');_0xb7a137[_0x556c3c(0xa16)]=_0x556c3c(0x974)+_0x34b953+_0x556c3c(0x8dc)+_0x21fc65+_0x556c3c(0x112);}async function handleJoinTeamQuiz(){const _0x37809=_0x2bcb18,_0x14a883=prompt(_0x37809(0x359));if(!_0x14a883||_0x14a883[_0x37809(0xa4d)]()[_0x37809(0x752)]!==0x4){showMessage(_0x37809(0x946));return;}try{const _0x25333c=collection(db,_0x37809(0x6e6)+appId+_0x37809(0x8de)),_0x2c424e=query(_0x25333c,where(_0x37809(0x365),'==',_0x14a883[_0x37809(0xa4d)]()),where('status','==',_0x37809(0x182))),_0x47e029=await getDocs(_0x2c424e);if(_0x47e029['empty']){showMessage(_0x37809(0x514));return;}const _0x31c565=_0x47e029[_0x37809(0x9ef)][0x0];currentTeamQuizId=_0x31c565['id'];const _0x57ac6b=_0x31c565[_0x37809(0x13f)](),_0x4398f6=doc(db,_0x37809(0x6e6)+appId+_0x37809(0x53a),_0x57ac6b[_0x37809(0xc80)]),_0x487748=doc(db,_0x37809(0x6e6)+appId+_0x37809(0x993),_0x57ac6b[_0x37809(0xa91)]),[_0x2a5253,_0x5935f1]=await Promise[_0x37809(0x6b3)]([getDoc(_0x4398f6),getDoc(_0x487748)]);if(!_0x2a5253[_0x37809(0x7d2)]()||!_0x5935f1['exists']())throw new Error('ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ');currentQuizData=getShuffledQuiz({'id':_0x5935f1['id'],..._0x5935f1['data']()});const _0x447f36=_0x2a5253[_0x37809(0x13f)]();showTeamPlayerSelection(_0x447f36[_0x37809(0x950)],currentQuizData[_0x37809(0x79c)]);}catch(_0x441608){console[_0x37809(0x1ac)](_0x37809(0xae3),_0x441608),showMessage('เกิดข้อผิดพลาด:\x20'+_0x441608[_0x37809(0x523)]);}}let currentInputPin='';function handleJoinGroupActivity(){const _0x5c3526=_0x2bcb18;currentInputPin='',updatePinDisplay(),document[_0x5c3526(0x932)](_0x5c3526(0xabd))['classList']['remove'](_0x5c3526(0x2f2));}function updatePinDisplay(){const _0x41b89e=_0x2bcb18,_0x572ff7=document[_0x41b89e(0x38e)](_0x41b89e(0x8ba));_0x572ff7['forEach']((_0xc69da2,_0x331fd5)=>{const _0x3b733b=_0x41b89e;_0x331fd5<currentInputPin[_0x3b733b(0x752)]?(_0xc69da2[_0x3b733b(0xdec)]=currentInputPin[_0x331fd5],_0xc69da2[_0x3b733b(0x360)][_0x3b733b(0x4a6)](_0x3b733b(0x82e),'bg-white'),_0xc69da2['classList'][_0x3b733b(0xcc8)](_0x3b733b(0xabb),'bg-gray-50')):(_0xc69da2[_0x3b733b(0xdec)]='',_0xc69da2[_0x3b733b(0x360)][_0x3b733b(0xcc8)](_0x3b733b(0x82e),_0x3b733b(0x30f)),_0xc69da2['classList']['add'](_0x3b733b(0xabb),'bg-gray-50'));});}async function handlePinKeyPress(_0x341527){const _0x26bd47=_0x2bcb18;if(_0x341527==='backspace')currentInputPin=currentInputPin[_0x26bd47(0x9b9)](0x0,-0x1);else currentInputPin[_0x26bd47(0x752)]<0x4&&(currentInputPin+=_0x341527);updatePinDisplay(),currentInputPin[_0x26bd47(0x752)]===0x4&&setTimeout(async()=>{const _0x2c6bef=_0x26bd47;document['getElementById']('pin-entry-modal')[_0x2c6bef(0x360)][_0x2c6bef(0x4a6)](_0x2c6bef(0x2f2)),await processJoinWithPin(currentInputPin),currentInputPin='',updatePinDisplay();},0x12c);}async function processJoinWithPin(_0x41e08c){const _0x4edf9f=_0x2bcb18,_0x20e290=_0x41e08c[_0x4edf9f(0xa4d)]();showMessage(_0x4edf9f(0xa0f));try{const _0x36f07a=collection(db,_0x4edf9f(0x6e6)+appId+_0x4edf9f(0x8de)),_0x462e75=query(_0x36f07a,where(_0x4edf9f(0x365),'==',_0x20e290),where(_0x4edf9f(0x1f8),'==',_0x4edf9f(0x182))),_0x480441=await getDocs(_0x462e75);if(!_0x480441[_0x4edf9f(0xab2)]){console[_0x4edf9f(0x273)](_0x4edf9f(0xa94)),await proceedWithTeamQuizJoin(_0x480441[_0x4edf9f(0x9ef)][0x0]);return;}const _0x3d7325=collection(db,_0x4edf9f(0x6e6)+appId+'/public/data/syncGames'),_0x31715e=query(_0x3d7325,where('pin','==',_0x20e290),where(_0x4edf9f(0x1f8),'in',['lobby',_0x4edf9f(0xb8f),_0x4edf9f(0x671),_0x4edf9f(0xd37)])),_0x57354d=await getDocs(_0x31715e);if(!_0x57354d['empty']){console[_0x4edf9f(0x273)](_0x4edf9f(0x8ca)),await proceedWithSyncQuizJoin(_0x57354d[_0x4edf9f(0x9ef)][0x0]);return;}showMessage('ไม่พบกิจกรรมด้วยรหัสนี้\x20หรือกิจกรรมอาจเริ่มไปแล้ว');}catch(_0x1a3484){console[_0x4edf9f(0x1ac)](_0x4edf9f(0x695),_0x1a3484),showMessage(_0x4edf9f(0x71e)+_0x1a3484['message']);}}async function proceedWithTeamQuizJoin(_0x5edccd){const _0x3afa16=_0x2bcb18;currentTeamQuizId=_0x5edccd['id'];const _0x313983=_0x5edccd[_0x3afa16(0x13f)](),_0x238164=doc(db,_0x3afa16(0x6e6)+appId+'/public/data/projects',_0x313983[_0x3afa16(0xc80)]),_0x4422cf=doc(db,_0x3afa16(0x6e6)+appId+'/public/data/quizzes',_0x313983[_0x3afa16(0xa91)]),[_0x265c4c,_0x104413]=await Promise[_0x3afa16(0x6b3)]([getDoc(_0x238164),getDoc(_0x4422cf)]);if(!_0x265c4c['exists']()||!_0x104413[_0x3afa16(0x7d2)]())throw new Error(_0x3afa16(0xced));currentQuizData=getShuffledQuiz({'id':_0x104413['id'],..._0x104413[_0x3afa16(0x13f)]()}),showTeamPlayerSelection(_0x265c4c[_0x3afa16(0x13f)]()[_0x3afa16(0x950)],currentQuizData[_0x3afa16(0x79c)],_0x313983[_0x3afa16(0x251)]||_0x3afa16(0x978)),messageModal[_0x3afa16(0x360)][_0x3afa16(0x4a6)](_0x3afa16(0x2f2));}async function proceedWithSyncQuizJoin(_0x49471b){const _0x2f217a=_0x2bcb18;currentLiveGameId=_0x49471b['id'];const _0x55e939=_0x49471b[_0x2f217a(0x13f)](),_0x1753be=doc(db,_0x2f217a(0x6e6)+appId+'/public/data/quizzes',_0x55e939[_0x2f217a(0xa91)]),_0x16ac96=await getDoc(_0x1753be);if(!_0x16ac96[_0x2f217a(0x7d2)]())throw new Error(_0x2f217a(0xd90));const _0x6c653f=_0x16ac96[_0x2f217a(0x13f)](),_0x4b79ba=doc(db,_0x2f217a(0x6e6)+appId+_0x2f217a(0x53a),_0x6c653f[_0x2f217a(0xc80)]),_0x42a06b=await getDoc(_0x4b79ba);if(!_0x42a06b[_0x2f217a(0x7d2)]())throw new Error(_0x2f217a(0xb34));currentQuizData=_0x55e939['shuffledQuiz'],showView('student-team-join'),showTeamPlayerSelection(_0x42a06b['data']()['students'],_0x6c653f[_0x2f217a(0x79c)],_0x2f217a(0xe51));const _0x2ac88b=document['getElementById'](_0x2f217a(0x9c3)),_0x3cbf94=_0x2ac88b[_0x2f217a(0xe5d)](!![]);_0x2ac88b[_0x2f217a(0xea4)][_0x2f217a(0x274)](_0x3cbf94,_0x2ac88b),_0x3cbf94[_0x2f217a(0xe1b)]=confirmAndJoinSyncGame,messageModal[_0x2f217a(0x360)][_0x2f217a(0x4a6)](_0x2f217a(0x2f2));}function getCleanApplicationHTML(){const _0x45f9c1=_0x2bcb18,_0x10ea5d=document['getElementById']('applicationContent');if(!_0x10ea5d)return'';const _0x53305e=_0x10ea5d[_0x45f9c1(0xe5d)](!![]);return _0x53305e[_0x45f9c1(0x38e)](_0x45f9c1(0x479))[_0x45f9c1(0x39f)](_0x2b336b=>{const _0x235ed0=_0x45f9c1;_0x2b336b[_0x235ed0(0x360)][_0x235ed0(0xcc8)](_0x235ed0(0x81e),'incorrect'),_0x2b336b[_0x235ed0(0xad6)]=![];}),_0x53305e[_0x45f9c1(0xa16)];}function showTeamPlayerSelection(_0x316490,_0x1ccdf5,_0x4788b9='team'){const _0x4327be=_0x2bcb18;studentInitialView[_0x4327be(0x360)][_0x4327be(0x4a6)](_0x4327be(0x2f2)),studentJoinGameView[_0x4327be(0x360)][_0x4327be(0x4a6)]('hidden'),document['getElementById']('student-team-selection-view')[_0x4327be(0x360)][_0x4327be(0xcc8)](_0x4327be(0x2f2));let _0x550889=_0x4327be(0xc71);if(_0x4788b9==='group')_0x550889=_0x4327be(0xa47);else _0x4788b9===_0x4327be(0xe51)&&(_0x550889='Sync\x20Mode');document[_0x4327be(0x932)](_0x4327be(0xc81))['textContent']=_0x550889+':\x20'+_0x1ccdf5;const _0x209767=document[_0x4327be(0x932)](_0x4327be(0x210));if(!_0x316490||_0x316490[_0x4327be(0x752)]===0x0){_0x209767[_0x4327be(0xa16)]=_0x4327be(0xb44),document[_0x4327be(0x932)](_0x4327be(0x9c3))[_0x4327be(0xad6)]=!![];return;}_0x209767[_0x4327be(0xa16)]=_0x316490[_0x4327be(0xe49)](_0x48982d=>_0x4327be(0xa3f)+_0x48982d+_0x4327be(0x436)+_0x48982d+_0x4327be(0x32b))['join'](''),document[_0x4327be(0x932)](_0x4327be(0x9c3))['disabled']=![];}async function confirmAndStartTeamQuiz(){const _0x169582=_0x2bcb18,_0x5d6b81=Array[_0x169582(0x337)](document['querySelectorAll'](_0x169582(0xcdf)))['map'](_0x2eb8d0=>_0x2eb8d0[_0x169582(0x99c)]);if(_0x5d6b81[_0x169582(0x752)]===0x0){showMessage('กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน');return;}localTeamPlayers=_0x5d6b81,localQuestionIndex=0x0,localPlayerIndex=0x0;const _0x30638a=doc(db,_0x169582(0x6e6)+appId+_0x169582(0x8de),currentTeamQuizId);try{const _0x50607d=await getDoc(_0x30638a);if(!_0x50607d[_0x169582(0x7d2)]())throw new Error(_0x169582(0x799));const _0x115303=_0x50607d['data']();if(_0x115303[_0x169582(0x251)]===_0x169582(0xe25)){const _0x2290e3={['groups.'+userId]:{'members':localTeamPlayers,'score':0x0,'answers':[]}};await updateDoc(_0x30638a,_0x2290e3);}else{const _0x16617b=_0x115303[_0x169582(0x880)]||{};localTeamPlayers[_0x169582(0x39f)](_0x4079e1=>{!_0x16617b[_0x4079e1]&&(_0x16617b[_0x4079e1]={'score':0x0,'answers':[]});}),await updateDoc(_0x30638a,{'responses':_0x16617b});}document[_0x169582(0x932)](_0x169582(0xd2d))[_0x169582(0x360)]['add']('hidden'),renderTeamQuizQuestion();const _0x50a92b={'gameId':currentTeamQuizId,'mode':_0x115303[_0x169582(0x251)]||'team','players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x169582(0x798)](_0x169582(0x15d),JSON[_0x169582(0x692)](_0x50a92b)),listenForTeamQuizUpdates();}catch(_0x11886a){console['error']('Error\x20confirming\x20players:',_0x11886a),showMessage(_0x169582(0x854));}}async function renderTeamQuizQuestion(){const _0x231962=_0x2bcb18;if(localQuestionIndex>=currentQuizData[_0x231962(0xc46)][_0x231962(0x752)]){displayTeamQuizFinalResults();return;}const _0x3f1e48=currentQuizData[_0x231962(0xc46)][localQuestionIndex],_0x2c5421=localTeamPlayers[localPlayerIndex],_0xd310dd=_0x3f1e48[_0x231962(0x2ed)]||currentQuizData[_0x231962(0x2de)];let _0x42d2c4=_0x3f1e48['stem']||_0x3f1e48[_0x231962(0xca8)],_0x270d02='';switch(_0xd310dd){case _0x231962(0x47e):case _0x231962(0xa65):_0x270d02=_0x3f1e48[_0x231962(0x3e2)][_0x231962(0xe49)]((_0x2cefe7,_0x35fc9f)=>_0x231962(0xb9f)+_0x35fc9f+'\x22\x20name=\x22team_answer\x22\x20value=\x22'+_0x35fc9f+_0x231962(0x8db)+_0x35fc9f+'\x22>'+_0x2cefe7+_0x231962(0x340))[_0x231962(0xbb2)]('');break;case'true_false':_0x270d02=_0x231962(0xe39);break;case _0x231962(0xafb):case _0x231962(0xceb):_0x270d02='<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>';break;case'matching_item':_0x270d02=_0x231962(0x771)+_0x3f1e48['allResponses'][_0x231962(0xe49)](_0x5df19c=>_0x231962(0x1bd)+_0x5df19c+'\x22>'+_0x5df19c+_0x231962(0x194))[_0x231962(0xbb2)]('')+_0x231962(0x97a);break;default:_0x270d02=_0x231962(0x294);break;}studentQuizArea[_0x231962(0xa16)]=_0x231962(0x6f0)+(localQuestionIndex+0x1)+_0x231962(0xb54)+currentQuizData['questions'][_0x231962(0x752)]+_0x231962(0xcb0)+_0x2c5421+_0x231962(0xeaa)+(localQuestionIndex+0x1)+'.\x20'+_0x42d2c4+_0x231962(0xc12)+(_0x3f1e48[_0x231962(0xe40)]?_0x231962(0x66f)+_0x3f1e48['imageCode']+_0x231962(0x1f5):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>'+_0x270d02+_0x231962(0x456),studentQuizArea[_0x231962(0x360)][_0x231962(0xcc8)](_0x231962(0x2f2));if(window[_0x231962(0x7f9)])MathJax['typesetPromise']([studentQuizArea]);document[_0x231962(0x932)]('submit-team-answer-btn')[_0x231962(0x639)](_0x231962(0x164),handleTeamAnswerSubmit);}async function handleGroupAnswerSubmit(){const _0x14c486=_0x2bcb18,_0x43ee75=currentQuizData[_0x14c486(0xc46)][localQuestionIndex],_0x405a87=_0x43ee75[_0x14c486(0x2ed)]||currentQuizData[_0x14c486(0x2de)];let _0xa7eae5=null,_0x1e38d5=![];if(_0x405a87===_0x14c486(0xafb)||_0x405a87===_0x14c486(0xceb)){const _0x4a0fab=document[_0x14c486(0xc60)](_0x14c486(0x594));if(!_0x4a0fab||!_0x4a0fab[_0x14c486(0x99c)][_0x14c486(0xa4d)]()){showMessage(_0x14c486(0x744));return;}_0xa7eae5=_0x4a0fab['value'][_0x14c486(0xa4d)](),_0x1e38d5=await gradeShortAnswer(_0xa7eae5,_0x43ee75);}else{const _0x109a0e=document[_0x14c486(0xc60)](_0x14c486(0x603));if(!_0x109a0e||_0x109a0e[_0x14c486(0x99c)]===''){showMessage(_0x14c486(0xc2d));return;}_0xa7eae5=_0x109a0e[_0x14c486(0x99c)];switch(_0x405a87){case'true_false':_0x1e38d5=_0xa7eae5===_0x14c486(0x1b2)===_0x43ee75['correctAnswer'];break;case'matching_item':_0x1e38d5=_0xa7eae5===_0x43ee75[_0x14c486(0xd79)];break;default:_0x1e38d5=parseInt(_0xa7eae5)===_0x43ee75[_0x14c486(0x52a)];break;}}const _0x5cf3d8={'questionIndex':localQuestionIndex,'isCorrect':_0x1e38d5},_0xadac30=userId,_0x25bc44={[_0x14c486(0xa60)+_0xadac30+_0x14c486(0x159)]:arrayUnion(_0x5cf3d8)};_0x1e38d5&&(_0x25bc44[_0x14c486(0xa60)+_0xadac30+_0x14c486(0x495)]=increment(0x1));try{await updateDoc(doc(db,_0x14c486(0x6e6)+appId+_0x14c486(0x8de),currentTeamQuizId),_0x25bc44),localQuestionIndex++,localQuestionIndex>=currentQuizData[_0x14c486(0xc46)][_0x14c486(0x752)]?displayTeamQuizFinalResults():renderGroupModeQuestion();}catch(_0x4db895){console[_0x14c486(0x1ac)](_0x14c486(0x4df),_0x4db895),showMessage(_0x14c486(0x7f2));}}async function handleTeamAnswerSubmit(){const _0x5e2665=_0x2bcb18,_0x217f18=await getDoc(doc(db,_0x5e2665(0x6e6)+appId+_0x5e2665(0x8de),currentTeamQuizId));if(!_0x217f18['exists']())return;const _0x53efe3=_0x217f18[_0x5e2665(0x13f)]();if(_0x53efe3[_0x5e2665(0x251)]==='group'){handleGroupAnswerSubmit();return;}const _0x386b0f=localTeamPlayers[localPlayerIndex],_0x85ecc1=currentQuizData['questions'][localQuestionIndex],_0x92300c=_0x85ecc1[_0x5e2665(0x2ed)]||currentQuizData[_0x5e2665(0x2de)];let _0x1519d4=null,_0x4a0dcb=![];if(_0x92300c===_0x5e2665(0xafb)||_0x92300c==='fill_in_no_choices'){const _0x199024=document[_0x5e2665(0xc60)](_0x5e2665(0x594));if(!_0x199024||!_0x199024[_0x5e2665(0x99c)][_0x5e2665(0xa4d)]()){showMessage(_0x5e2665(0x573));return;}_0x1519d4=_0x199024[_0x5e2665(0x99c)][_0x5e2665(0xa4d)](),_0x4a0dcb=await gradeShortAnswer(_0x1519d4,_0x85ecc1);}else{const _0x34a229=document[_0x5e2665(0xc60)]('[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]');if(!_0x34a229||_0x34a229['value']===''){showMessage(_0x5e2665(0x876));return;}_0x1519d4=_0x34a229['value'];switch(_0x92300c){case'true_false':_0x4a0dcb=_0x1519d4==='true'===_0x85ecc1[_0x5e2665(0x8f4)];break;case _0x5e2665(0xb08):_0x4a0dcb=_0x1519d4===_0x85ecc1[_0x5e2665(0xd79)];break;default:_0x4a0dcb=parseInt(_0x1519d4)===_0x85ecc1[_0x5e2665(0x52a)];break;}}const _0x443b1c={'questionIndex':localQuestionIndex,'isCorrect':_0x4a0dcb,'answerValue':_0x1519d4},_0x1bb2e5={[_0x5e2665(0x745)+_0x386b0f+'.answers']:arrayUnion(_0x443b1c)};_0x4a0dcb&&(_0x1bb2e5[_0x5e2665(0x745)+_0x386b0f+_0x5e2665(0x495)]=increment(0x1));try{await updateDoc(doc(db,'artifacts/'+appId+_0x5e2665(0x8de),currentTeamQuizId),_0x1bb2e5),localPlayerIndex++,localPlayerIndex>=localTeamPlayers[_0x5e2665(0x752)]&&(localQuestionIndex++,localPlayerIndex=0x0),renderTeamQuizQuestion();}catch(_0xb1e76c){console[_0x5e2665(0x1ac)](_0x5e2665(0xc02),_0xb1e76c),showMessage('เกิดข้อผิดพลาดในการส่งคำตอบ');}}async function displayTeamQuizFinalResults(){const _0x2b462a=_0x2bcb18;studentQuizArea[_0x2b462a(0x360)][_0x2b462a(0x4a6)](_0x2b462a(0x2f2)),studentResultArea[_0x2b462a(0x360)][_0x2b462a(0xcc8)](_0x2b462a(0x2f2));const _0xb1cf16=doc(db,_0x2b462a(0x6e6)+appId+_0x2b462a(0x8de),currentTeamQuizId),_0x450e0f=await getDoc(_0xb1cf16);if(!_0x450e0f[_0x2b462a(0x7d2)]()){studentResultArea[_0x2b462a(0xa16)]=_0x2b462a(0x48f);return;}const _0x5dad66=_0x450e0f[_0x2b462a(0x13f)]();let _0x3aa43c=[];const _0x351f72=_0x5dad66[_0x2b462a(0x251)]||'team';if(_0x351f72===_0x2b462a(0xe25)){const _0xd66e5a=_0x5dad66['groups'][userId];_0xd66e5a?_0x3aa43c=[{'name':_0x2b462a(0x6c7)+localTeamPlayers[_0x2b462a(0xbb2)](',\x20'),'score':_0xd66e5a[_0x2b462a(0x853)]||0x0}]:_0x3aa43c=[{'name':_0x2b462a(0xb36),'score':_0x2b462a(0x9ff)}];}else _0x3aa43c=localTeamPlayers['map'](_0x15da2f=>({'name':_0x15da2f,'score':_0x5dad66[_0x2b462a(0x880)][_0x15da2f]?.[_0x2b462a(0x853)]||0x0}))['sort']((_0x6309d9,_0x45413f)=>_0x45413f[_0x2b462a(0x853)]-_0x6309d9[_0x2b462a(0x853)]);studentResultArea[_0x2b462a(0xa16)]=_0x2b462a(0x5e4)+_0x3aa43c['map'](_0x5b9596=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20text-lg\x20p-2\x20bg-white/50\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>'+_0x5b9596[_0x2b462a(0x34a)]+_0x2b462a(0xa8d)+_0x5b9596[_0x2b462a(0x853)]+'\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x2b462a(0xbb2)]('')+_0x2b462a(0x1af),sessionStorage[_0x2b462a(0x741)](_0x2b462a(0x15d)),currentMode===_0x2b462a(0xcd1)&&currentTeamQuizId&&setTimeout(()=>{const _0x5c76c3=_0x2b462a;deleteDoc(doc(db,_0x5c76c3(0x6e6)+appId+_0x5c76c3(0x8de),currentTeamQuizId));},0x493e0);}let history=[],historyStep=-0x1,modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':'date_desc','pinnedProjects':[],'projectView':_0x2bcb18(0x391)};const allMathTopics=[{'category':_0x2bcb18(0x111),'name':_0x2bcb18(0xd27)},{'category':_0x2bcb18(0x111),'name':_0x2bcb18(0x62f)},{'category':'จำนวนและการดำเนินการ','name':'การปัดเศษและประมาณค่า'},{'category':'จำนวนและการดำเนินการ','name':_0x2bcb18(0xbd0)},{'category':'จำนวนและการดำเนินการ','name':_0x2bcb18(0xe14)},{'category':_0x2bcb18(0x111),'name':_0x2bcb18(0x59e)},{'category':_0x2bcb18(0x111),'name':_0x2bcb18(0x5ed)},{'category':'จำนวนและการดำเนินการ','name':_0x2bcb18(0x195)},{'category':_0x2bcb18(0x111),'name':_0x2bcb18(0x123)},{'category':'จำนวนและการดำเนินการ','name':'จำนวนเต็มลบ'},{'category':'จำนวนและการดำเนินการ','name':'ศูนย์'},{'category':_0x2bcb18(0x111),'name':_0x2bcb18(0xe69)},{'category':_0x2bcb18(0x111),'name':_0x2bcb18(0x9e9)},{'category':_0x2bcb18(0x111),'name':'ตัวประกอบและตัวประกอบเฉพาะ'},{'category':'จำนวนและการดำเนินการ','name':_0x2bcb18(0xa0e)},{'category':_0x2bcb18(0x111),'name':_0x2bcb18(0x2dc)},{'category':_0x2bcb18(0x111),'name':_0x2bcb18(0x758)},{'category':_0x2bcb18(0x111),'name':_0x2bcb18(0x49c)},{'category':_0x2bcb18(0x111),'name':'เศษส่วน\x20(ย่อ/ขยาย)'},{'category':'จำนวนและการดำเนินการ','name':'การบวกเศษส่วน'},{'category':'จำนวนและการดำเนินการ','name':_0x2bcb18(0xa6b)},{'category':_0x2bcb18(0x111),'name':'การคูณเศษส่วน'},{'category':_0x2bcb18(0x111),'name':_0x2bcb18(0x58e)},{'category':'จำนวนและการดำเนินการ','name':_0x2bcb18(0x49f)},{'category':_0x2bcb18(0x111),'name':_0x2bcb18(0xb43)},{'category':_0x2bcb18(0x111),'name':_0x2bcb18(0xc47)},{'category':_0x2bcb18(0x111),'name':'การลบทศนิยม'},{'category':_0x2bcb18(0x111),'name':_0x2bcb18(0x6e9)},{'category':_0x2bcb18(0x111),'name':_0x2bcb18(0x9bd)},{'category':_0x2bcb18(0x111),'name':'แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ'},{'category':_0x2bcb18(0x111),'name':'ร้อยละพื้นฐาน'},{'category':_0x2bcb18(0x111),'name':'ปรับเพิ่ม/ลดเป็นร้อยละ'},{'category':'จำนวนและการดำเนินการ','name':'ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน'},{'category':'จำนวนและการดำเนินการ','name':_0x2bcb18(0x927)},{'category':_0x2bcb18(0x111),'name':_0x2bcb18(0x787)},{'category':_0x2bcb18(0x111),'name':_0x2bcb18(0x525)},{'category':_0x2bcb18(0x111),'name':_0x2bcb18(0x12f)},{'category':_0x2bcb18(0x847),'name':_0x2bcb18(0x85c)},{'category':_0x2bcb18(0x847),'name':_0x2bcb18(0x8a3)},{'category':_0x2bcb18(0x847),'name':_0x2bcb18(0x2a3)},{'category':_0x2bcb18(0x847),'name':_0x2bcb18(0x666)},{'category':_0x2bcb18(0x847),'name':_0x2bcb18(0x299)},{'category':'การวัด','name':'เส้นรอบรูป'},{'category':_0x2bcb18(0x847),'name':'พื้นที่สี่เหลี่ยม'},{'category':_0x2bcb18(0x847),'name':'พื้นที่สามเหลี่ยม'},{'category':_0x2bcb18(0x847),'name':'พื้นที่วงกลม/ส่วนของวงกลม'},{'category':_0x2bcb18(0x847),'name':_0x2bcb18(0x7c9)},{'category':_0x2bcb18(0x847),'name':_0x2bcb18(0x6b1)},{'category':_0x2bcb18(0x847),'name':_0x2bcb18(0x3ea)},{'category':_0x2bcb18(0x847),'name':_0x2bcb18(0x2be)},{'category':'การวัด','name':_0x2bcb18(0xbb4)},{'category':_0x2bcb18(0xab4),'name':_0x2bcb18(0x9ba)},{'category':_0x2bcb18(0xab4),'name':_0x2bcb18(0x342)},{'category':_0x2bcb18(0xab4),'name':_0x2bcb18(0xe28)},{'category':'เรขาคณิต','name':_0x2bcb18(0xe53)},{'category':_0x2bcb18(0xab4),'name':_0x2bcb18(0xbb5)},{'category':_0x2bcb18(0xab4),'name':'ความคล้ายของรูป'},{'category':_0x2bcb18(0xab4),'name':_0x2bcb18(0x7d0)},{'category':'เรขาคณิต','name':'รูปหลายเหลี่ยมและมุมภายใน'},{'category':_0x2bcb18(0xab4),'name':_0x2bcb18(0x5a4)},{'category':_0x2bcb18(0xab4),'name':'วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม'},{'category':_0x2bcb18(0xab4),'name':_0x2bcb18(0xb87)},{'category':_0x2bcb18(0xab4),'name':_0x2bcb18(0xe31)},{'category':_0x2bcb18(0xab4),'name':_0x2bcb18(0xda6)},{'category':_0x2bcb18(0xab4),'name':'การสร้างรูปด้วยวงเวียน–สันตรง'},{'category':_0x2bcb18(0xab4),'name':_0x2bcb18(0x857)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x2bcb18(0x76e)},{'category':_0x2bcb18(0x843),'name':_0x2bcb18(0x42e)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x2bcb18(0x61d)},{'category':_0x2bcb18(0x843),'name':_0x2bcb18(0x9af)},{'category':_0x2bcb18(0x843),'name':_0x2bcb18(0xdb8)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x2bcb18(0xdc6)},{'category':_0x2bcb18(0x843),'name':_0x2bcb18(0x788)},{'category':'พีชคณิตและฟังก์ชัน','name':'สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)'},{'category':'พีชคณิตและฟังก์ชัน','name':'สมการค่าสัมบูรณ์'},{'category':_0x2bcb18(0x843),'name':_0x2bcb18(0x94d)},{'category':_0x2bcb18(0x843),'name':_0x2bcb18(0x57f)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x2bcb18(0xa78)},{'category':_0x2bcb18(0x843),'name':_0x2bcb18(0x9b8)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x2bcb18(0x121)},{'category':_0x2bcb18(0x843),'name':_0x2bcb18(0xa6a)},{'category':_0x2bcb18(0x843),'name':'ระบบอสมการ'},{'category':_0x2bcb18(0x843),'name':'ฟังก์ชัน:\x20แนวคิดและสัญกรณ์'},{'category':_0x2bcb18(0x843),'name':_0x2bcb18(0x92b)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x2bcb18(0x8eb)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x2bcb18(0x5c7)},{'category':_0x2bcb18(0x843),'name':_0x2bcb18(0x61f)},{'category':_0x2bcb18(0x843),'name':'ฟังก์ชันเชิงเส้นและกราฟ'},{'category':'พีชคณิตและฟังก์ชัน','name':'ฟังก์ชันกำลังสองและกราฟ'},{'category':_0x2bcb18(0x843),'name':_0x2bcb18(0x23b)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x2bcb18(0xa31)},{'category':_0x2bcb18(0x843),'name':'ฟังก์ชันราก\x20(root)'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x2bcb18(0x2f7)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x2bcb18(0x791)},{'category':_0x2bcb18(0x843),'name':_0x2bcb18(0xda9)},{'category':'พีชคณิตและฟังก์ชัน','name':'ฟังก์ชันลอการิทึม'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x2bcb18(0x966)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x2bcb18(0x3c1)},{'category':'พีชคณิตและฟังก์ชัน','name':'ผลรวมอนุกรม\x20(Σ)'},{'category':_0x2bcb18(0x843),'name':_0x2bcb18(0xa2a)},{'category':'พีชคณิตและฟังก์ชัน','name':'จำนวนเชิงซ้อน\x20(เสริม)'},{'category':_0x2bcb18(0x61c),'name':'ระยะทางและจุดกึ่งกลาง'},{'category':_0x2bcb18(0x61c),'name':_0x2bcb18(0x1d9)},{'category':_0x2bcb18(0x61c),'name':_0x2bcb18(0x278)},{'category':'เรขาคณิตวิเคราะห์','name':_0x2bcb18(0x600)},{'category':'เรขาคณิตวิเคราะห์','name':_0x2bcb18(0x98e)},{'category':_0x2bcb18(0x61c),'name':_0x2bcb18(0x437)},{'category':_0x2bcb18(0x61c),'name':_0x2bcb18(0x1a9)},{'category':_0x2bcb18(0x61c),'name':_0x2bcb18(0x1bb)},{'category':'เรขาคณิตวิเคราะห์','name':_0x2bcb18(0xad4)},{'category':_0x2bcb18(0x2fc),'name':_0x2bcb18(0x716)},{'category':_0x2bcb18(0x2fc),'name':'มุมพิเศษ\x2030°-60°-90°'},{'category':'ตรีโกณมิติ','name':_0x2bcb18(0x262)},{'category':_0x2bcb18(0x2fc),'name':_0x2bcb18(0x947)},{'category':_0x2bcb18(0x2fc),'name':_0x2bcb18(0xe6e)},{'category':'ตรีโกณมิติ','name':_0x2bcb18(0xbdc)},{'category':_0x2bcb18(0x2fc),'name':_0x2bcb18(0x83c)},{'category':_0x2bcb18(0x2fc),'name':_0x2bcb18(0x6eb)},{'category':_0x2bcb18(0x2fc),'name':'สมการตรีโกณมิติ'},{'category':_0x2bcb18(0x2fc),'name':_0x2bcb18(0x635)},{'category':_0x2bcb18(0x2fc),'name':'ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)'},{'category':_0x2bcb18(0x5c4),'name':'ชนิดของข้อมูลและการเก็บข้อมูล'},{'category':_0x2bcb18(0x5c4),'name':_0x2bcb18(0xce2)},{'category':_0x2bcb18(0x5c4),'name':_0x2bcb18(0x1d3)},{'category':_0x2bcb18(0x5c4),'name':'กราฟแท่ง\x20กราฟเส้น'},{'category':_0x2bcb18(0x5c4),'name':_0x2bcb18(0xcd4)},{'category':_0x2bcb18(0x5c4),'name':_0x2bcb18(0xad3)},{'category':_0x2bcb18(0x5c4),'name':'ค่าเฉลี่ย'},{'category':_0x2bcb18(0x5c4),'name':'มัธยฐาน'},{'category':_0x2bcb18(0x5c4),'name':_0x2bcb18(0x4c4)},{'category':_0x2bcb18(0x5c4),'name':'พิสัย'},{'category':_0x2bcb18(0x5c4),'name':_0x2bcb18(0x1d4)},{'category':'สถิติและความน่าจะเป็น','name':'ความแปรปรวน'},{'category':_0x2bcb18(0x5c4),'name':_0x2bcb18(0xdd0)},{'category':_0x2bcb18(0x5c4),'name':_0x2bcb18(0x518)},{'category':'สถิติและความน่าจะเป็น','name':_0x2bcb18(0x703)},{'category':_0x2bcb18(0x5c4),'name':_0x2bcb18(0x237)},{'category':_0x2bcb18(0x5c4),'name':_0x2bcb18(0x482)},{'category':_0x2bcb18(0x5c4),'name':_0x2bcb18(0x1f3)},{'category':_0x2bcb18(0x5c4),'name':_0x2bcb18(0xb82)},{'category':_0x2bcb18(0x5c4),'name':_0x2bcb18(0xc69)},{'category':_0x2bcb18(0x5c4),'name':_0x2bcb18(0x4c0)},{'category':'สถิติและความน่าจะเป็น','name':_0x2bcb18(0x66c)},{'category':'สถิติและความน่าจะเป็น','name':_0x2bcb18(0xad0)},{'category':_0x2bcb18(0x5c4),'name':_0x2bcb18(0x9be)},{'category':'แคลคูลัสเบื้องต้น','name':_0x2bcb18(0xc66)},{'category':_0x2bcb18(0xd59),'name':'ความต่อเนื่อง'},{'category':_0x2bcb18(0xd59),'name':_0x2bcb18(0xa04)},{'category':_0x2bcb18(0xd59),'name':_0x2bcb18(0x421)},{'category':_0x2bcb18(0xd59),'name':'อนุพันธ์:\x20ผลคูณ/ผลหาร'},{'category':_0x2bcb18(0xd59),'name':_0x2bcb18(0x890)},{'category':_0x2bcb18(0xd59),'name':'ความชันเส้นสัมผัส'},{'category':_0x2bcb18(0xd59),'name':_0x2bcb18(0xaec)},{'category':_0x2bcb18(0xd59),'name':'Optimization\x20(ค่าสูงสุด–ต่ำสุด)'},{'category':_0x2bcb18(0xd59),'name':'ปริพันธ์ไม่จำกัด'},{'category':'แคลคูลัสเบื้องต้น','name':_0x2bcb18(0x27b)},{'category':'แคลคูลัสเบื้องต้น','name':_0x2bcb18(0x430)},{'category':'แคลคูลัสเบื้องต้น','name':_0x2bcb18(0xc16)},{'category':_0x2bcb18(0xc92),'name':_0x2bcb18(0x770)},{'category':_0x2bcb18(0xc92),'name':'ดอทโปรดักต์\x20(dot)'},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x2bcb18(0x491)},{'category':_0x2bcb18(0xc92),'name':_0x2bcb18(0x5be)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x2bcb18(0x8c8)},{'category':_0x2bcb18(0xc92),'name':_0x2bcb18(0x515)},{'category':_0x2bcb18(0xc92),'name':_0x2bcb18(0x6ef)},{'category':_0x2bcb18(0x556),'name':'ดอกเบี้ยอย่างง่าย'},{'category':'คณิตการเงิน/บูรณาการ','name':_0x2bcb18(0x902)},{'category':_0x2bcb18(0x556),'name':_0x2bcb18(0x57c)},{'category':_0x2bcb18(0x556),'name':_0x2bcb18(0xa0c)},{'category':'คณิตการเงิน/บูรณาการ','name':_0x2bcb18(0x538)},{'category':_0x2bcb18(0xcaf),'name':_0x2bcb18(0xa12)},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':_0x2bcb18(0x185)},{'category':_0x2bcb18(0xcaf),'name':_0x2bcb18(0xeb6)}];function renderTopicCheckboxes(){const _0x5b56c5=_0x2bcb18,_0x569050=document[_0x5b56c5(0x932)](_0x5b56c5(0x830));if(!_0x569050)return;const _0x24e200=allMathTopics,_0x53259a=customMathTopics['map'](_0x1d6271=>({'id':_0x1d6271['id'],'category':_0x5b56c5(0x3ef),'name':_0x1d6271['name']})),_0x235ad4=[..._0x24e200,..._0x53259a],_0x23d2b6=_0x235ad4[_0x5b56c5(0xdbf)]((_0x2cfb52,_0x3ec703)=>{const _0x57171e=_0x5b56c5;return!_0x2cfb52[_0x3ec703[_0x57171e(0x928)]]&&(_0x2cfb52[_0x3ec703[_0x57171e(0x928)]]=[]),_0x2cfb52[_0x3ec703[_0x57171e(0x928)]]['push'](_0x3ec703),_0x2cfb52;},{});let _0x8a6f59='';const _0x536576=['หัวข้อที่สร้างเอง',...Object[_0x5b56c5(0x338)](_0x23d2b6)['filter'](_0x175339=>_0x175339!==_0x5b56c5(0x3ef))];for(const _0x31aa8c of _0x536576){if(_0x23d2b6[_0x31aa8c]){const _0x2a939b=_0x31aa8c===_0x5b56c5(0x3ef),_0x508ffa=_0x2a939b?_0x5b56c5(0x8f6):'fas\x20fa-bookmark',_0x3d4eab=_0x2a939b?_0x5b56c5(0xcd6):_0x5b56c5(0x296);_0x8a6f59+='<div\x20class=\x22mb-3\x20topic-category\x22>',_0x8a6f59+=_0x5b56c5(0x75d)+_0x3d4eab+_0x5b56c5(0x793)+_0x508ffa+_0x5b56c5(0x735)+_0x31aa8c+_0x5b56c5(0x463),_0x23d2b6[_0x31aa8c][_0x5b56c5(0x39f)](_0x3a0b70=>{const _0x18614b=_0x5b56c5,_0x8010ea=!!_0x3a0b70['id'],_0x404846=_0x8010ea?_0x18614b(0x944)+_0x3a0b70['id']+_0x18614b(0x90f)+_0x3a0b70['id']+_0x18614b(0x5ad)+_0x3a0b70['id']+_0x18614b(0x7be)+_0x3a0b70['id']+_0x18614b(0xc25):'';_0x8a6f59+=_0x18614b(0x579)+(_0x3a0b70['id']||'')+_0x18614b(0x155)+_0x3a0b70[_0x18614b(0x34a)]+'\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>'+_0x3a0b70[_0x18614b(0x34a)]+_0x18614b(0x1db)+(_0x8010ea?_0x18614b(0xdc9)+_0x3a0b70[_0x18614b(0x34a)]+'\x22>':'')+_0x18614b(0x613)+_0x404846+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x8a6f59+=_0x5b56c5(0x1f5);}}_0x569050[_0x5b56c5(0xa16)]=_0x8a6f59||'<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>',_0x569050[_0x5b56c5(0x9c9)](_0x5b56c5(0x62d),updateSelectedTopicsCount),_0x569050[_0x5b56c5(0x639)]('change',updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x38f1f6,_0x5697d2){const _0x2fc27a=_0x2bcb18;if(!_0x38f1f6||!_0x5697d2['trim']()){showMessage(_0x2fc27a(0xaea));return;}try{const _0xcb1512=doc(db,_0x2fc27a(0x6e6)+appId+_0x2fc27a(0xe26),_0x38f1f6);await updateDoc(_0xcb1512,{'name':_0x5697d2['trim']()}),showMessage(_0x2fc27a(0xd3b));}catch(_0x37375e){console[_0x2fc27a(0x1ac)](_0x2fc27a(0x818),_0x37375e),showMessage(_0x2fc27a(0x192));}}function toggleTopicEditMode(_0x46458f,_0x4455a7){const _0x45902a=_0x2bcb18;if(!_0x46458f)return;const _0x336ac5=_0x46458f['querySelector'](_0x45902a(0x19d)),_0x2dcc8b=_0x46458f[_0x45902a(0xc60)](_0x45902a(0x8f5)),_0x506a37=_0x46458f[_0x45902a(0xc60)](_0x45902a(0x7ec)),_0x45c816=_0x46458f['querySelector'](_0x45902a(0x34e));_0x336ac5[_0x45902a(0x360)][_0x45902a(0xaa3)](_0x45902a(0x2f2),_0x4455a7),_0x2dcc8b['classList'][_0x45902a(0xaa3)]('hidden',!_0x4455a7),_0x506a37[_0x45902a(0x360)][_0x45902a(0xaa3)](_0x45902a(0x2f2),_0x4455a7),_0x45c816[_0x45902a(0x360)][_0x45902a(0xaa3)](_0x45902a(0x2f2),!_0x4455a7),_0x4455a7&&(_0x2dcc8b['focus'](),_0x2dcc8b[_0x45902a(0x2fd)]());}async function handleStartLiveRace(_0x360836){const _0xc2eb78=_0x2bcb18;let _0x17dc7a=allQuizzes[_0xc2eb78(0x7a3)](_0x2b1c4b=>_0x2b1c4b['id']===_0x360836);if(!_0x17dc7a){const _0xd739b7=doc(db,_0xc2eb78(0x6e6)+appId+_0xc2eb78(0x993),_0x360836),_0x72ca03=await getDoc(_0xd739b7);if(!_0x72ca03[_0xc2eb78(0x7d2)]()){showMessage(_0xc2eb78(0xd90));return;}_0x17dc7a={'id':_0x72ca03['id'],..._0x72ca03[_0xc2eb78(0x13f)]()};}const _0x4626f9=getShuffledQuiz(_0x17dc7a);currentQuizData=_0x4626f9;const _0x2eaf9f=_0x17dc7a[_0xc2eb78(0xc80)]||currentProjectId||null,_0x49337f=Math[_0xc2eb78(0x4cf)](0x3e8+Math[_0xc2eb78(0xbad)]()*0x2328)[_0xc2eb78(0xdcb)]();currentLiveGamePin=_0x49337f;try{const _0x38cfda=await addDoc(collection(db,_0xc2eb78(0x6e6)+appId+_0xc2eb78(0x903)),{'quizId':_0x360836,'projectId':_0x2eaf9f,'status':'lobby','currentQuestionIndex':-0x1,'players':{},'gamePin':_0x49337f,'createdAt':serverTimestamp(),'shuffledQuiz':_0x4626f9});currentLiveGameId=_0x38cfda['id'],showAdminLobbyView(_0x49337f,_0x17dc7a['topic']),listenForLiveGameUpdates();}catch(_0x112610){console[_0xc2eb78(0x1ac)](_0xc2eb78(0x1ec),_0x112610),showMessage(_0xc2eb78(0x30c));}}function updateSelectedTopicsCount(){const _0x5776eb=_0x2bcb18,_0x3a04cf=document[_0x5776eb(0x932)]('math-topics-checkbox-container'),_0x32f671=_0x3a04cf[_0x5776eb(0x38e)](_0x5776eb(0x596))['length'],_0x4eaf40=document['getElementById'](_0x5776eb(0xb0f));_0x32f671>0x0?_0x4eaf40['textContent']=_0x5776eb(0xea0)+_0x32f671+_0x5776eb(0x22a):_0x4eaf40['textContent']='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode=_0x2bcb18(0x18c),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy=_0x2bcb18(0x20f),quizLeaderboardSortOrder=_0x2bcb18(0xdf0),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,cancelAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],cachedOtherPlayersForQuestion=null,cachedQuestionIndexForPlayers=-0x1,currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,syncQuestionTimerInterval=null,lastRenderedAdminQuestionIndex=-0x1,isAnimatingTrail=![];const TRAIL_DURATION=0x5dc;let scratchpadCtx=null,isDrawingOnScratchpad=![],scratchpadHighlighterColor=_0x2bcb18(0xbca),scratchpadHighlighterSize=0x14,isPanning=![],isMousePanning=![],scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},panStart={'x':0x0,'y':0x0},initialPinchDistance=null;const MIN_SCALE=0.2,MAX_SCALE=0x5;let strokes=[],redoStrokes=[],currentStroke=null,activeTool=_0x2bcb18(0xccd),scratchpadPenColor=_0x2bcb18(0x9aa),scratchpadPenSize=0x5,scratchpadEraserSize=0x28,laserFadeTimer=null;const LASER_INACTIVITY_TIMEOUT=0x5dc;function getDistance(_0x1f1f61,_0x4ff056){const _0x6e2c7f=_0x2bcb18;return Math[_0x6e2c7f(0x68f)](Math[_0x6e2c7f(0xd61)](_0x1f1f61['x']-_0x4ff056['x'],0x2)+Math[_0x6e2c7f(0xd61)](_0x1f1f61['y']-_0x4ff056['y'],0x2));}function getMidpoint(_0x4eab20,_0x502cfc){return{'x':(_0x4eab20['x']+_0x502cfc['x'])/0x2,'y':(_0x4eab20['y']+_0x502cfc['y'])/0x2};}function getTransformedPoint(_0x67c247,_0x2cd136){return{'x':(_0x67c247-scratchpadOffset['x'])/scratchpadScale,'y':(_0x2cd136-scratchpadOffset['y'])/scratchpadScale};}function redrawScratchpad(){const _0xad7538=_0x2bcb18;if(!scratchpadCtx)return;const _0xa64579=scratchpadCtx[_0xad7538(0x79d)],_0x152df2=window[_0xad7538(0x2fe)]||0x1,_0x5749bc=document[_0xad7538(0x932)]('scratchpad-header');_0x5749bc&&(_0x5749bc['style'][_0xad7538(0x6a3)]='0\x200',_0x5749bc['style']['transform']=_0xad7538(0x4ae)+scratchpadOffset['x']+_0xad7538(0x574)+scratchpadOffset['y']+'px)\x20scale('+scratchpadScale+')'),scratchpadCtx[_0xad7538(0x4f4)](),scratchpadCtx[_0xad7538(0x5ba)](_0x152df2,0x0,0x0,_0x152df2,0x0,0x0),scratchpadCtx[_0xad7538(0x1dc)](0x0,0x0,_0xa64579[_0xad7538(0x3c6)],_0xa64579[_0xad7538(0x539)]),scratchpadCtx[_0xad7538(0x1a3)](),scratchpadCtx['save'](),scratchpadCtx[_0xad7538(0xe01)](scratchpadOffset['x'],scratchpadOffset['y']),scratchpadCtx[_0xad7538(0x31c)](scratchpadScale,scratchpadScale),strokes[_0xad7538(0x39f)](_0x215448=>{drawStroke(_0x215448);}),currentStroke&&drawStroke(currentStroke),scratchpadCtx['restore']();}function renderGroupModeQuestion(){const _0x44e3cb=_0x2bcb18;if(localQuestionIndex>=currentQuizData[_0x44e3cb(0xc46)]['length']){displayTeamQuizFinalResults();return;}const _0x8d60a6=currentQuizData[_0x44e3cb(0xc46)][localQuestionIndex],_0x3ce929=_0x8d60a6['questionType']||currentQuizData[_0x44e3cb(0x2de)];let _0x1b0779=_0x8d60a6['stem']||_0x8d60a6[_0x44e3cb(0xca8)],_0x47c734='';switch(_0x3ce929){case _0x44e3cb(0x47e):case'fill_in_with_choices':_0x47c734=_0x8d60a6['options'][_0x44e3cb(0xe49)]((_0x5dcbe1,_0x5b0d26)=>'<div><input\x20type=\x22radio\x22\x20id=\x22team_opt'+_0x5b0d26+_0x44e3cb(0x65f)+_0x5b0d26+_0x44e3cb(0x8db)+_0x5b0d26+'\x22>'+_0x5dcbe1+'</label></div>')[_0x44e3cb(0xbb2)]('');break;case _0x44e3cb(0x827):_0x47c734=_0x44e3cb(0xe39);break;case _0x44e3cb(0xafb):case _0x44e3cb(0xceb):_0x47c734=_0x44e3cb(0xe3e);break;case'matching_item':_0x47c734=_0x44e3cb(0x771)+_0x8d60a6['allResponses']['map'](_0x58367b=>_0x44e3cb(0x1bd)+_0x58367b+'\x22>'+_0x58367b+_0x44e3cb(0x194))[_0x44e3cb(0xbb2)]('')+_0x44e3cb(0x97a);break;default:_0x47c734=_0x44e3cb(0x294);break;}studentQuizArea[_0x44e3cb(0xa16)]=_0x44e3cb(0x6f0)+(localQuestionIndex+0x1)+'\x20/\x20'+currentQuizData[_0x44e3cb(0xc46)][_0x44e3cb(0x752)]+_0x44e3cb(0xba8)+localTeamPlayers[_0x44e3cb(0xbb2)](',\x20')+_0x44e3cb(0xeaa)+(localQuestionIndex+0x1)+'.\x20'+_0x1b0779+_0x44e3cb(0xc12)+(_0x8d60a6[_0x44e3cb(0xe40)]?'<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x8d60a6['imageCode']+'</div>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>'+_0x47c734+_0x44e3cb(0x196),studentQuizArea[_0x44e3cb(0x360)][_0x44e3cb(0xcc8)](_0x44e3cb(0x2f2));if(window[_0x44e3cb(0x7f9)])MathJax[_0x44e3cb(0xd3d)]([studentQuizArea]);document['getElementById'](_0x44e3cb(0xc28))['addEventListener'](_0x44e3cb(0x164),handleGroupAnswerSubmit);}function handleGenerateQuizFromBlueprintTopic(_0x510b28,_0x480999=null,_0x3f641b,_0x3dcaa4=null,_0x3a49d1=![],_0xe0f00e=null){const _0x26c7b2=_0x2bcb18,_0x45726a=document[_0x26c7b2(0x932)]('quiz-generation-area');_0x45726a&&_0x45726a[_0x26c7b2(0x3a9)]({'behavior':_0x26c7b2(0xe74),'block':'center'}),generateQuiz(_0x510b28,_0x480999,null,_0xe0f00e,!![],_0x3f641b,_0x3dcaa4,_0x3a49d1);}function handleGenerateAndShowLesson(_0x30c7a0,_0x56c9ed){const _0x2995fc=_0x2bcb18,_0x3ef306=document[_0x2995fc(0x932)](_0x2995fc(0xc38)),_0x293774=document[_0x2995fc(0x932)](_0x2995fc(0xd1b)),_0x4e605f=document[_0x2995fc(0x932)]('lesson-loader'),_0x2a9b69=document[_0x2995fc(0x932)]('lesson-sections-container');[_0x2995fc(0x388),_0x2995fc(0x7db),_0x2995fc(0x9ac),_0x2995fc(0x6a9)][_0x2995fc(0x39f)](_0x1df088=>{const _0x3f0036=_0x2995fc,_0x48ddf5=document['getElementById'](_0x1df088)[_0x3f0036(0x906)];_0x48ddf5&&(_0x48ddf5['style'][_0x3f0036(0xb59)]=_0x3f0036(0xca6));}),_0x293774[_0x2995fc(0xdec)]='กำลังสร้างบทเรียน:\x20'+_0x30c7a0,_0x2a9b69[_0x2995fc(0x360)]['add']('hidden'),_0x4e605f['classList'][_0x2995fc(0xcc8)]('hidden'),_0x3ef306[_0x2995fc(0x360)][_0x2995fc(0xcc8)](_0x2995fc(0x2f2)),generateLesson(_0x30c7a0,_0x56c9ed)['catch'](_0x887e82=>{const _0x1df5ef=_0x2995fc;console[_0x1df5ef(0x1ac)](_0x1df5ef(0xd8a),_0x887e82),showMessage(_0x1df5ef(0xbf9)),_0x3ef306[_0x1df5ef(0x360)]['add']('hidden');});}function handlePointerDown(_0x26282b){const _0x47cd31=_0x2bcb18;_0x26282b[_0x47cd31(0xcfb)]();const _0x53beab=scratchpadCtx[_0x47cd31(0x79d)],_0x109660=_0x53beab['getBoundingClientRect'](),_0x39c4ee=_0x26282b[_0x47cd31(0x846)]||(_0x26282b[_0x47cd31(0xd63)]?_0x47cd31(0xcfc):'mouse');if(_0x39c4ee==='pen'||_0x39c4ee===_0x47cd31(0x5d8)){if(_0x26282b[_0x47cd31(0x846)]==='mouse'&&_0x26282b[_0x47cd31(0x7a2)]!==0x0){_0x26282b[_0x47cd31(0x7a2)]===0x1&&(isMousePanning=!![],panStart={'x':_0x26282b[_0x47cd31(0xbd2)],'y':_0x26282b[_0x47cd31(0x345)]},_0x53beab[_0x47cd31(0x6dc)][_0x47cd31(0xb55)]=_0x47cd31(0x59b));return;}activeTool===_0x47cd31(0x738)&&(laserFadeTimer&&clearTimeout(laserFadeTimer));isDrawingOnScratchpad=!![],redoStrokes=[];const _0x2769b1=getTransformedPoint(_0x26282b[_0x47cd31(0xbd2)]-_0x109660['left'],_0x26282b[_0x47cd31(0x345)]-_0x109660['top']);let _0x5de453={'tool':activeTool,'points':[_0x2769b1]};if(activeTool===_0x47cd31(0xccd))_0x5de453['color']=scratchpadPenColor,_0x5de453['size']=scratchpadPenSize;else{if(activeTool===_0x47cd31(0x9a2))_0x5de453[_0x47cd31(0xb56)]=scratchpadPenColor,_0x5de453[_0x47cd31(0x6a2)]=scratchpadEraserSize;else{if(activeTool===_0x47cd31(0x1be))_0x5de453[_0x47cd31(0xb56)]=scratchpadHighlighterColor,_0x5de453[_0x47cd31(0x6a2)]=scratchpadHighlighterSize;else activeTool===_0x47cd31(0x738)&&(_0x5de453[_0x47cd31(0xb56)]=scratchpadPenColor,_0x5de453['size']=scratchpadPenSize);}}currentStroke=_0x5de453;}else _0x26282b[_0x47cd31(0xd63)]&&(_0x26282b['touches']['length']===0x2&&(isPanning=!![],panStart=getMidpoint({'x':_0x26282b['touches'][0x0][_0x47cd31(0xbd2)],'y':_0x26282b[_0x47cd31(0xd63)][0x0]['clientY']},{'x':_0x26282b[_0x47cd31(0xd63)][0x1][_0x47cd31(0xbd2)],'y':_0x26282b[_0x47cd31(0xd63)][0x1][_0x47cd31(0x345)]}),initialPinchDistance=getDistance({'x':_0x26282b[_0x47cd31(0xd63)][0x0][_0x47cd31(0xbd2)],'y':_0x26282b[_0x47cd31(0xd63)][0x0][_0x47cd31(0x345)]},{'x':_0x26282b[_0x47cd31(0xd63)][0x1]['clientX'],'y':_0x26282b[_0x47cd31(0xd63)][0x1]['clientY']})));}function animateTrail(){const _0x41fdf6=_0x2bcb18,_0x299d8b=Date[_0x41fdf6(0x18f)]();let _0x54d4d6=![];for(let _0x4e8241=strokes[_0x41fdf6(0x752)]-0x1;_0x4e8241>=0x0;_0x4e8241--){const _0x3cbac2=strokes[_0x4e8241];if(_0x3cbac2[_0x41fdf6(0x95b)]===_0x41fdf6(0x738)&&_0x3cbac2[_0x41fdf6(0x883)]){const _0x1bccc3=_0x299d8b-_0x3cbac2[_0x41fdf6(0x883)];_0x1bccc3>=TRAIL_DURATION?strokes['splice'](_0x4e8241,0x1):(_0x3cbac2[_0x41fdf6(0xc84)]=0x1-_0x1bccc3/TRAIL_DURATION,_0x54d4d6=!![]);}}redrawScratchpad(),_0x54d4d6?requestAnimationFrame(animateTrail):isAnimatingTrail=![];}function startTrailAnimation(){!isAnimatingTrail&&(isAnimatingTrail=!![],requestAnimationFrame(animateTrail));}function drawStroke(_0x2c6af3){const _0x2640f8=_0x2bcb18;if(!_0x2c6af3||_0x2c6af3[_0x2640f8(0xc6a)][_0x2640f8(0x752)]<0x1)return;scratchpadCtx[_0x2640f8(0x4f4)](),scratchpadCtx[_0x2640f8(0x384)]='round',scratchpadCtx[_0x2640f8(0x96d)]=_0x2640f8(0x346);if(_0x2c6af3[_0x2640f8(0x95b)]===_0x2640f8(0x738)){const _0x542c9f=_0x2c6af3[_0x2640f8(0x6a2)]/scratchpadScale;scratchpadCtx[_0x2640f8(0x343)]=_0x2c6af3[_0x2640f8(0xc84)]??0x1,scratchpadCtx[_0x2640f8(0xb97)]=_0x2640f8(0x8a9),scratchpadCtx['shadowBlur']=_0x542c9f*0x3,scratchpadCtx[_0x2640f8(0x9d7)]=_0x2640f8(0x44e),scratchpadCtx[_0x2640f8(0x3ec)]=_0x542c9f*2.5,scratchpadCtx[_0x2640f8(0x984)](),scratchpadCtx[_0x2640f8(0xb99)](_0x2c6af3[_0x2640f8(0xc6a)][0x0]['x'],_0x2c6af3[_0x2640f8(0xc6a)][0x0]['y']);for(let _0x366cb3=0x1;_0x366cb3<_0x2c6af3[_0x2640f8(0xc6a)][_0x2640f8(0x752)]-0x1;_0x366cb3++){const _0x300a28=getMidpoint(_0x2c6af3[_0x2640f8(0xc6a)][_0x366cb3],_0x2c6af3[_0x2640f8(0xc6a)][_0x366cb3+0x1]);scratchpadCtx[_0x2640f8(0xea2)](_0x2c6af3['points'][_0x366cb3]['x'],_0x2c6af3[_0x2640f8(0xc6a)][_0x366cb3]['y'],_0x300a28['x'],_0x300a28['y']);}scratchpadCtx[_0x2640f8(0xe56)](),scratchpadCtx['shadowColor']=_0x2640f8(0x773),scratchpadCtx[_0x2640f8(0xe4d)]=0x0,scratchpadCtx[_0x2640f8(0x9d7)]=_0x2640f8(0x248),scratchpadCtx[_0x2640f8(0x3ec)]=_0x542c9f,scratchpadCtx[_0x2640f8(0xe56)](),scratchpadCtx['closePath']();}else{if(_0x2c6af3[_0x2640f8(0x95b)]===_0x2640f8(0x1be)){scratchpadCtx['globalCompositeOperation']=_0x2640f8(0x407),scratchpadCtx[_0x2640f8(0x9d7)]=_0x2c6af3[_0x2640f8(0xb56)],scratchpadCtx[_0x2640f8(0x3ec)]=_0x2c6af3[_0x2640f8(0x6a2)],scratchpadCtx['beginPath'](),scratchpadCtx[_0x2640f8(0xb99)](_0x2c6af3[_0x2640f8(0xc6a)][0x0]['x'],_0x2c6af3[_0x2640f8(0xc6a)][0x0]['y']);for(let _0x3aae7b=0x1;_0x3aae7b<_0x2c6af3[_0x2640f8(0xc6a)][_0x2640f8(0x752)]-0x1;_0x3aae7b++){const _0x556966=getMidpoint(_0x2c6af3[_0x2640f8(0xc6a)][_0x3aae7b],_0x2c6af3['points'][_0x3aae7b+0x1]);scratchpadCtx['quadraticCurveTo'](_0x2c6af3[_0x2640f8(0xc6a)][_0x3aae7b]['x'],_0x2c6af3[_0x2640f8(0xc6a)][_0x3aae7b]['y'],_0x556966['x'],_0x556966['y']);}scratchpadCtx[_0x2640f8(0xe56)](),scratchpadCtx['closePath']();}else{scratchpadCtx[_0x2640f8(0x7b5)]=_0x2c6af3['tool']===_0x2640f8(0x9a2)?_0x2640f8(0x85d):'source-over',scratchpadCtx[_0x2640f8(0x9d7)]=_0x2c6af3[_0x2640f8(0xb56)],scratchpadCtx[_0x2640f8(0x3ec)]=_0x2c6af3[_0x2640f8(0x6a2)],scratchpadCtx[_0x2640f8(0x984)](),scratchpadCtx[_0x2640f8(0xb99)](_0x2c6af3['points'][0x0]['x'],_0x2c6af3[_0x2640f8(0xc6a)][0x0]['y']);for(let _0x156e5d=0x1;_0x156e5d<_0x2c6af3[_0x2640f8(0xc6a)][_0x2640f8(0x752)]-0x1;_0x156e5d++){const _0x27ae36=getMidpoint(_0x2c6af3[_0x2640f8(0xc6a)][_0x156e5d],_0x2c6af3[_0x2640f8(0xc6a)][_0x156e5d+0x1]);scratchpadCtx[_0x2640f8(0xea2)](_0x2c6af3['points'][_0x156e5d]['x'],_0x2c6af3[_0x2640f8(0xc6a)][_0x156e5d]['y'],_0x27ae36['x'],_0x27ae36['y']);}scratchpadCtx[_0x2640f8(0xe56)](),scratchpadCtx['closePath']();}}scratchpadCtx[_0x2640f8(0x1a3)]();}function handlePointerMove(_0x302b5d){const _0x296f65=_0x2bcb18;_0x302b5d['preventDefault']();const _0x39c253=scratchpadCtx[_0x296f65(0x79d)],_0x5248cb=_0x39c253[_0x296f65(0xe1c)]();if(_0x302b5d[_0x296f65(0xd63)]){if(_0x302b5d['touches'][_0x296f65(0x752)]===0x1&&isDrawingOnScratchpad){const _0x184c2a=getTransformedPoint(_0x302b5d[_0x296f65(0xd63)][0x0][_0x296f65(0xbd2)]-_0x5248cb[_0x296f65(0x2bd)],_0x302b5d[_0x296f65(0xd63)][0x0][_0x296f65(0x345)]-_0x5248cb['top']);currentStroke[_0x296f65(0xc6a)][_0x296f65(0xe86)](_0x184c2a),redrawScratchpad();}else{if(_0x302b5d['touches']['length']===0x2&&isPanning){const _0x5e9f14=getDistance({'x':_0x302b5d[_0x296f65(0xd63)][0x0][_0x296f65(0xbd2)],'y':_0x302b5d[_0x296f65(0xd63)][0x0][_0x296f65(0x345)]},{'x':_0x302b5d['touches'][0x1][_0x296f65(0xbd2)],'y':_0x302b5d['touches'][0x1][_0x296f65(0x345)]}),_0x239553=getMidpoint({'x':_0x302b5d[_0x296f65(0xd63)][0x0][_0x296f65(0xbd2)],'y':_0x302b5d[_0x296f65(0xd63)][0x0][_0x296f65(0x345)]},{'x':_0x302b5d[_0x296f65(0xd63)][0x1][_0x296f65(0xbd2)],'y':_0x302b5d[_0x296f65(0xd63)][0x1]['clientY']}),_0x5c2228=_0x5e9f14/ initialPinchDistance,_0x1c31e4=Math[_0x296f65(0xc5a)](Math[_0x296f65(0x824)](scratchpadScale*_0x5c2228,MIN_SCALE),MAX_SCALE),_0x3cc4ba=_0x239553['x']-panStart['x'],_0x5826bf=_0x239553['y']-panStart['y'];scratchpadOffset['x']=_0x239553['x']-(_0x239553['x']-scratchpadOffset['x'])*(_0x1c31e4/scratchpadScale),scratchpadOffset['y']=_0x239553['y']-(_0x239553['y']-scratchpadOffset['y'])*(_0x1c31e4/scratchpadScale),scratchpadOffset['x']+=_0x3cc4ba,scratchpadOffset['y']+=_0x5826bf,scratchpadScale=_0x1c31e4,initialPinchDistance=_0x5e9f14,panStart=_0x239553,redrawScratchpad();}}}else{if(isMousePanning){const _0x4c61fb=_0x302b5d[_0x296f65(0xbd2)]-panStart['x'],_0x219747=_0x302b5d[_0x296f65(0x345)]-panStart['y'];scratchpadOffset['x']+=_0x4c61fb,scratchpadOffset['y']+=_0x219747,panStart={'x':_0x302b5d[_0x296f65(0xbd2)],'y':_0x302b5d[_0x296f65(0x345)]},redrawScratchpad();}else{if(isDrawingOnScratchpad){const _0x2584e5=getTransformedPoint(_0x302b5d[_0x296f65(0xbd2)]-_0x5248cb['left'],_0x302b5d[_0x296f65(0x345)]-_0x5248cb['top']);currentStroke['points'][_0x296f65(0xe86)](_0x2584e5),redrawScratchpad();}}}}function handlePointerUp(_0x53941f){const _0x13b33f=_0x2bcb18;_0x53941f[_0x13b33f(0xcfb)]();const _0x11fd65=scratchpadCtx[_0x13b33f(0x79d)];isMousePanning&&(isMousePanning=![],_0x11fd65[_0x13b33f(0x6dc)][_0x13b33f(0xb55)]=_0x13b33f(0x700)),isPanning=![],initialPinchDistance=null,isDrawingOnScratchpad&&(isDrawingOnScratchpad=![],currentStroke&&currentStroke['points'][_0x13b33f(0x752)]>0x1&&(strokes[_0x13b33f(0xe86)](currentStroke),currentStroke[_0x13b33f(0x95b)]===_0x13b33f(0x738)&&(laserFadeTimer&&clearTimeout(laserFadeTimer),laserFadeTimer=setTimeout(()=>{const _0x572c7b=_0x13b33f,_0x41e251=strokes[_0x572c7b(0x9a7)](_0x5e846f=>_0x5e846f[_0x572c7b(0x95b)]===_0x572c7b(0x738)&&!_0x5e846f[_0x572c7b(0x883)]);if(_0x41e251['length']>0x0){const _0x15ba11=Date[_0x572c7b(0x18f)]();_0x41e251[_0x572c7b(0x39f)](_0x1a846c=>_0x1a846c['fadeStartTime']=_0x15ba11),startTrailAnimation();}},LASER_INACTIVITY_TIMEOUT))),currentStroke=null,updateUndoRedoButtons());}function handleWheel(_0x531742){const _0x65173e=_0x2bcb18;_0x531742['preventDefault']();const _0x28b60c=_0x531742[_0x65173e(0xc44)]*-0.005,_0xa0a108=Math[_0x65173e(0xc5a)](Math[_0x65173e(0x824)](scratchpadScale+_0x28b60c,MIN_SCALE),MAX_SCALE);scratchpadOffset['x']=_0x531742['clientX']-(_0x531742[_0x65173e(0xbd2)]-scratchpadOffset['x'])*(_0xa0a108/scratchpadScale),scratchpadOffset['y']=_0x531742[_0x65173e(0x345)]-(_0x531742[_0x65173e(0x345)]-scratchpadOffset['y'])*(_0xa0a108/scratchpadScale),scratchpadScale=_0xa0a108,redrawScratchpad();}function undo(){const _0x1279c8=_0x2bcb18;strokes[_0x1279c8(0x752)]>0x0&&(redoStrokes[_0x1279c8(0xe86)](strokes[_0x1279c8(0xdf2)]()),updateUndoRedoButtons(),redrawScratchpad());}function redo(){const _0x4a534b=_0x2bcb18;redoStrokes['length']>0x0&&(strokes[_0x4a534b(0xe86)](redoStrokes[_0x4a534b(0xdf2)]()),updateUndoRedoButtons(),redrawScratchpad());}function updateUndoRedoButtons(){const _0x3cb6c2=_0x2bcb18;document[_0x3cb6c2(0x932)](_0x3cb6c2(0xc86))[_0x3cb6c2(0xad6)]=strokes[_0x3cb6c2(0x752)]===0x0,document['getElementById'](_0x3cb6c2(0x669))[_0x3cb6c2(0xad6)]=redoStrokes[_0x3cb6c2(0x752)]===0x0;}function openScratchpad(_0x519208,_0x4246ec){const _0x5b86b4=_0x2bcb18,_0x2a2fa4=document[_0x5b86b4(0x932)](_0x5b86b4(0x684)),_0x46277f=document['getElementById'](_0x5b86b4(0xd04)),_0x109199=document[_0x5b86b4(0x932)](_0x5b86b4(0x678)),_0xfea453=document[_0x5b86b4(0x932)](_0x5b86b4(0x530));_0x46277f[_0x5b86b4(0xa16)]=_0x519208['stem']||_0x519208['questionText'],_0x109199[_0x5b86b4(0xa16)]=_0x4246ec[_0x5b86b4(0xe49)]((_0x14f226,_0x324895)=>_0x5b86b4(0xd75)+String[_0x5b86b4(0x4b4)](0x41+_0x324895)+'.\x20'+_0x14f226+_0x5b86b4(0x1f5))[_0x5b86b4(0xbb2)](''),setupScratchpadControls(),strokes=[],redoStrokes=[],currentStroke=null,scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},_0x2a2fa4[_0x5b86b4(0x360)][_0x5b86b4(0xcc8)](_0x5b86b4(0x2f2)),setTimeout(()=>{initializeScratchpadCanvas(),redrawScratchpad();},0x32);if(window['MathJax'])MathJax[_0x5b86b4(0xd3d)]([_0x46277f,_0x109199]);}function openBlueprintQuizSettings(){const _0x1e5dad=_0x2bcb18,_0x3a0289=document['getElementById'](_0x1e5dad(0xa8a)),_0x5d5cc6=blueprintPageSettings||(currentProjectData?currentProjectData[_0x1e5dad(0x6ce)]:{})||{};document[_0x1e5dad(0x932)](_0x1e5dad(0x77f))[_0x1e5dad(0x99c)]=_0x5d5cc6[_0x1e5dad(0x2de)]||document['getElementById'](_0x1e5dad(0x5bb))[_0x1e5dad(0x99c)],document[_0x1e5dad(0x932)](_0x1e5dad(0x288))[_0x1e5dad(0xa16)]=document['getElementById'](_0x1e5dad(0xd8d))[_0x1e5dad(0xa16)],document[_0x1e5dad(0x932)](_0x1e5dad(0x288))[_0x1e5dad(0x99c)]=_0x5d5cc6[_0x1e5dad(0xd53)]||document['getElementById'](_0x1e5dad(0xd8d))[_0x1e5dad(0x99c)],document[_0x1e5dad(0x932)]('bp-modal-question-complexity-select')[_0x1e5dad(0xa16)]=document['getElementById'](_0x1e5dad(0x618))['innerHTML'],document[_0x1e5dad(0x932)](_0x1e5dad(0x936))[_0x1e5dad(0x99c)]=_0x5d5cc6[_0x1e5dad(0xc37)]||document['getElementById'](_0x1e5dad(0x618))[_0x1e5dad(0x99c)],document[_0x1e5dad(0x932)]('bp-modal-num-questions')[_0x1e5dad(0x99c)]=_0x5d5cc6['numQuestions']||document['getElementById'](_0x1e5dad(0x70e))[_0x1e5dad(0x99c)],document[_0x1e5dad(0x932)](_0x1e5dad(0x255))[_0x1e5dad(0x99c)]=_0x5d5cc6[_0x1e5dad(0x24b)]||document[_0x1e5dad(0x932)](_0x1e5dad(0xbd3))['value'],document[_0x1e5dad(0x932)](_0x1e5dad(0xa75))[_0x1e5dad(0x99c)]=_0x5d5cc6[_0x1e5dad(0xd6c)]||document['getElementById'](_0x1e5dad(0x638))[_0x1e5dad(0x99c)],document[_0x1e5dad(0x932)](_0x1e5dad(0xde9))[_0x1e5dad(0x99c)]=_0x5d5cc6['shuffle']||document[_0x1e5dad(0x932)]('shuffle-setting-select')[_0x1e5dad(0x99c)],document[_0x1e5dad(0x932)](_0x1e5dad(0x898))[_0x1e5dad(0xc62)]=_0x5d5cc6['includeImages']||document[_0x1e5dad(0x932)](_0x1e5dad(0xe91))[_0x1e5dad(0xc62)],_0x3a0289[_0x1e5dad(0x360)]['remove']('hidden');}function handleSaveBlueprintPageSettings(){const _0x5db1c0=_0x2bcb18;blueprintPageSettings={'quizType':document['getElementById'](_0x5db1c0(0x77f))['value'],'difficultyValue':document[_0x5db1c0(0x932)]('bp-modal-difficulty-level-select')[_0x5db1c0(0x99c)],'complexityValue':document[_0x5db1c0(0x932)](_0x5db1c0(0x936))[_0x5db1c0(0x99c)],'numQuestions':document[_0x5db1c0(0x932)](_0x5db1c0(0xd54))[_0x5db1c0(0x99c)],'passingScore':document[_0x5db1c0(0x932)](_0x5db1c0(0x255))[_0x5db1c0(0x99c)],'numChoices':document['getElementById'](_0x5db1c0(0xa75))[_0x5db1c0(0x99c)],'shuffle':document['getElementById'](_0x5db1c0(0xde9))[_0x5db1c0(0x99c)],'includeImages':document['getElementById']('bp-modal-include-images-checkbox')['checked']},showMessage('บันทึกการตั้งค่าสำหรับสร้างแบบทดสอบในหน้านี้แล้ว'),document[_0x5db1c0(0x932)](_0x5db1c0(0xa8a))['classList'][_0x5db1c0(0x4a6)](_0x5db1c0(0x2f2));}function listenForParallelTestShortcuts(){const _0x3da825=_0x2bcb18,_0x4cb313=doc(db,_0x3da825(0x4db),_0x3da825(0x91d));onSnapshot(_0x4cb313,_0x18e8c7=>{const _0x370331=_0x3da825;let _0xa2d7d9=[],_0x4e44a8=[],_0x2a0b15={};if(_0x18e8c7['exists']()){const _0x138f7c=_0x18e8c7['data']();_0xa2d7d9=_0x138f7c[_0x370331(0x79b)]||[],_0x4e44a8=_0x138f7c['parallelShortcutTabs']||[],_0x2a0b15=_0x138f7c[_0x370331(0x952)]||{};}!_0x4e44a8[_0x370331(0x7a3)](_0x547547=>_0x547547['id']===_0x370331(0x6b3))&&_0x4e44a8[_0x370331(0xaa5)]({'id':'all','name':_0x370331(0xaf7),'isDefault':!![]}),!_0xa2d7d9['find'](_0xfa354f=>_0xfa354f['id']===_0x370331(0x882))&&_0xa2d7d9[_0x370331(0xaa5)]({'id':_0x370331(0x882),'name':_0x370331(0x2a9),'url':'','isDefault':!![]}),!_0xa2d7d9['find'](_0x302fcf=>_0x302fcf['id']===_0x370331(0x179))&&_0xa2d7d9[_0x370331(0xaa5)]({'id':_0x370331(0x179),'name':_0x370331(0xeae),'url':'','isDefault':!![]}),parallelTestShortcuts=_0xa2d7d9,parallelShortcutTabs=_0x4e44a8,parallelShortcutOrder=_0x2a0b15,renderParallelTestShortcuts(),!document[_0x370331(0x932)](_0x370331(0x218))[_0x370331(0x360)][_0x370331(0x3fa)](_0x370331(0x2f2))&&renderAdditionalParallelShortcutsModal();});}async function saveParallelShortcutConfig(){const _0x107997=_0x2bcb18,_0x13fdf2=doc(db,_0x107997(0x4db),_0x107997(0x91d));try{await setDoc(_0x13fdf2,{'parallelShortcutTabs':parallelShortcutTabs,'parallelShortcutOrder':parallelShortcutOrder},{'merge':!![]});}catch(_0x512294){console[_0x107997(0x1ac)](_0x107997(0x8a8),_0x512294);}}function renderAdditionalParallelShortcutsModal(){const _0x513601=_0x2bcb18,_0x3c1c10=document[_0x513601(0x932)](_0x513601(0x3c9)),_0x21f11f=document['getElementById'](_0x513601(0x6c8));if(!_0x3c1c10||!_0x21f11f)return;_0x3c1c10['innerHTML']=parallelShortcutTabs[_0x513601(0xe49)](_0x26fef5=>{const _0x2b3d82=_0x513601,_0x137439=_0x26fef5['id']===activeParallelShortcutTabId;return _0x2b3d82(0x97e)+_0x26fef5['id']+'\x22\x20class=\x22parallel-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20'+(_0x137439?_0x2b3d82(0x8ae):_0x2b3d82(0x5b0))+_0x2b3d82(0x5c0)+_0x26fef5[_0x2b3d82(0x34a)]+_0x2b3d82(0x929)+_0x26fef5[_0x2b3d82(0x34a)]+'\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x26fef5[_0x2b3d82(0xd55)]?_0x2b3d82(0xc74)+_0x26fef5['id']+'\x22\x20class=\x22delete-parallel-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>':'')+_0x2b3d82(0xc20);})[_0x513601(0xbb2)]('');const _0x4bc624=parallelShortcutTabs[_0x513601(0x7a3)](_0x58462e=>_0x58462e['id']===activeParallelShortcutTabId);let _0x560d36=_0x4bc624?.[_0x513601(0xd55)]?[...parallelTestShortcuts]:parallelTestShortcuts[_0x513601(0x9a7)](_0x39b5d9=>(_0x4bc624?.[_0x513601(0x165)]||[])[_0x513601(0xd2e)](_0x39b5d9['id']));const _0x4f31a6=parallelShortcutOrder[activeParallelShortcutTabId]||[];_0x560d36['sort']((_0x3ed6d0,_0x27dbaf)=>{const _0x4db3c3=_0x513601,_0x516bc1=_0x4f31a6[_0x4db3c3(0x2bc)](_0x3ed6d0['id']),_0x2758ea=_0x4f31a6['indexOf'](_0x27dbaf['id']);return(_0x516bc1===-0x1?Infinity:_0x516bc1)-(_0x2758ea===-0x1?Infinity:_0x2758ea);}),_0x21f11f[_0x513601(0xa16)]=_0x560d36[_0x513601(0xe49)](_0x47569e=>{const _0x291933=_0x513601,_0xcc92e6=_0x47569e[_0x291933(0x3ae)]?'🔁':'🔗',_0x462dc8=parallelShortcutTabs[_0x291933(0x9a7)](_0xdb94ee=>!_0xdb94ee['isDefault']),_0x52ce44=_0x4bc624[_0x291933(0xd55)]&&_0x462dc8[_0x291933(0x752)]>0x0?_0x291933(0xbba)+_0x462dc8['map'](_0x258350=>_0x291933(0x713)+_0x47569e['id']+'\x22\x20data-target-tab-id=\x22'+_0x258350['id']+'\x22>'+_0x258350[_0x291933(0x34a)]+_0x291933(0x717))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>':'';return _0x291933(0xc9b)+_0x47569e['id']+'\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-teal-700\x22>'+_0xcc92e6+'\x20'+_0x47569e[_0x291933(0x34a)]+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x47569e['id']+'\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x47569e['id']+'\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x47569e[_0x291933(0xd55)]?'<button\x20data-id=\x22'+_0x47569e['id']+_0x291933(0x314):'')+_0x291933(0xc77)+(!_0x4bc624[_0x291933(0xd55)]?_0x291933(0xdaf)+_0x47569e['id']+_0x291933(0xe75):'')+_0x291933(0xc77)+_0x52ce44+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x513601(0xbb2)]('')||_0x513601(0x1e2),setupParallelShortcutModalEventListeners();}function setupParallelShortcutModalEventListeners(){const _0x5a50d7=_0x2bcb18;document[_0x5a50d7(0x38e)]('.parallel-shortcut-tab-btn')['forEach'](_0x2e7dbf=>{const _0x47a48d=_0x5a50d7;_0x2e7dbf['onclick']=_0x34ab24=>{const _0x5b65cb=_0x63b3;activeParallelShortcutTabId=_0x34ab24[_0x5b65cb(0xb7c)][_0x5b65cb(0x134)][_0x5b65cb(0x654)],renderAdditionalParallelShortcutsModal();},_0x2e7dbf[_0x47a48d(0x996)]=_0x36c9a3=>{const _0x47bc65=_0x47a48d,_0x441eb5=_0x36c9a3['currentTarget']['querySelector']('.tab-name-input');_0x36c9a3[_0x47bc65(0xb7c)][_0x47bc65(0xc60)](_0x47bc65(0x6c2))['classList'][_0x47bc65(0x4a6)](_0x47bc65(0x2f2)),_0x441eb5[_0x47bc65(0x360)][_0x47bc65(0xcc8)](_0x47bc65(0x2f2)),_0x441eb5['focus'](),_0x441eb5[_0x47bc65(0x2fd)]();};}),document[_0x5a50d7(0x38e)](_0x5a50d7(0x9f1))['forEach'](_0x3910c3=>{const _0x3c794b=_0x5a50d7,_0x51113a=()=>{const _0x233f34=_0x63b3,_0x3ba721=_0x3910c3[_0x233f34(0x1d0)]('.parallel-shortcut-tab-btn')[_0x233f34(0x134)][_0x233f34(0x654)],_0x5c035f=parallelShortcutTabs['find'](_0x28b62c=>_0x28b62c['id']===_0x3ba721);_0x5c035f&&(_0x5c035f[_0x233f34(0x34a)]=_0x3910c3[_0x233f34(0x99c)]['trim']()||_0x5c035f[_0x233f34(0x34a)],saveParallelShortcutConfig());};_0x3910c3[_0x3c794b(0xb15)]=_0x51113a,_0x3910c3[_0x3c794b(0xc7b)]=_0x20263b=>{const _0x570a4e=_0x3c794b;if(_0x20263b['key']===_0x570a4e(0xa2b))_0x3910c3[_0x570a4e(0xa73)]();};}),document[_0x5a50d7(0x38e)]('.delete-parallel-shortcut-tab-btn')[_0x5a50d7(0x39f)](_0x5692bd=>_0x5692bd[_0x5a50d7(0xe1b)]=_0x4fcd71=>{const _0x31e894=_0x5a50d7,_0x24aedd=_0x4fcd71[_0x31e894(0xb7c)][_0x31e894(0x134)][_0x31e894(0x654)];showConfirmation(_0x31e894(0x8d2),()=>{const _0x334b92=_0x31e894;parallelShortcutTabs=parallelShortcutTabs[_0x334b92(0x9a7)](_0x5e1136=>_0x5e1136['id']!==_0x24aedd),delete parallelShortcutOrder[_0x24aedd];if(activeParallelShortcutTabId===_0x24aedd)activeParallelShortcutTabId=_0x334b92(0x6b3);saveParallelShortcutConfig();});}),document['querySelectorAll'](_0x5a50d7(0xd01))['forEach'](_0x3366b6=>_0x3366b6[_0x5a50d7(0xe1b)]=_0x34afe5=>{const _0x1e4c66=_0x5a50d7;_0x34afe5['preventDefault']();const {shortcutId:_0x4d50a4,targetTabId:_0x265f44}=_0x34afe5['currentTarget']['dataset'],_0x54c5e6=parallelShortcutTabs[_0x1e4c66(0x7a3)](_0x499473=>_0x499473['id']===_0x265f44);_0x54c5e6&&!_0x54c5e6['shortcutIds'][_0x1e4c66(0xd2e)](_0x4d50a4)&&(_0x54c5e6[_0x1e4c66(0x165)][_0x1e4c66(0xe86)](_0x4d50a4),saveParallelShortcutConfig());}),document[_0x5a50d7(0x38e)](_0x5a50d7(0x90b))['forEach'](_0x2814d9=>_0x2814d9[_0x5a50d7(0xe1b)]=_0xd87c9c=>{const _0x15cd0d=_0x5a50d7,_0x56983d=_0xd87c9c[_0x15cd0d(0xb7c)][_0x15cd0d(0x134)]['shortcutId'],_0x314406=parallelShortcutTabs['find'](_0x33be4a=>_0x33be4a['id']===activeParallelShortcutTabId);_0x314406&&!_0x314406['isDefault']&&(_0x314406[_0x15cd0d(0x165)]=_0x314406[_0x15cd0d(0x165)][_0x15cd0d(0x9a7)](_0x92fbe2=>_0x92fbe2!==_0x56983d),saveParallelShortcutConfig());}),document[_0x5a50d7(0x38e)](_0x5a50d7(0x503))[_0x5a50d7(0x39f)](_0x3e940a=>_0x3e940a[_0x5a50d7(0xe1b)]=_0x45a8ad=>{const _0x375f78=_0x5a50d7;_0x45a8ad[_0x375f78(0x17c)]();const _0x373f32=_0x45a8ad[_0x375f78(0xb7c)]['nextElementSibling'];document[_0x375f78(0x38e)]('.move-parallel-shortcut-dropdown')[_0x375f78(0x39f)](_0x4efeb7=>_0x4efeb7[_0x375f78(0x360)][_0x375f78(0x4a6)](_0x375f78(0x2f2))),_0x373f32[_0x375f78(0x360)]['remove'](_0x375f78(0x2f2));});const _0x5ed1ba=document['getElementById'](_0x5a50d7(0x6c8));let _0x5f3dfb=null;_0x5ed1ba[_0x5a50d7(0xa95)]=_0x59a22f=>{const _0x43380d=_0x5a50d7;_0x5f3dfb=_0x59a22f[_0x43380d(0x5f8)][_0x43380d(0x1d0)](_0x43380d(0x30a));if(_0x5f3dfb)setTimeout(()=>_0x5f3dfb[_0x43380d(0x360)][_0x43380d(0x4a6)]('opacity-50'),0x0);},_0x5ed1ba[_0x5a50d7(0x699)]=()=>{const _0x1b4654=_0x5a50d7;_0x5f3dfb&&(_0x5f3dfb[_0x1b4654(0x360)][_0x1b4654(0xcc8)](_0x1b4654(0x4d3)),_0x5f3dfb=null);},_0x5ed1ba[_0x5a50d7(0xa8c)]=_0x5be4f8=>{const _0x5e29cb=_0x5a50d7;_0x5be4f8[_0x5e29cb(0xcfb)]();},_0x5ed1ba[_0x5a50d7(0xcbd)]=_0x4c6a54=>{const _0x3665cd=_0x5a50d7;_0x4c6a54[_0x3665cd(0xcfb)]();if(_0x5f3dfb){const _0x53f6e3=[..._0x5ed1ba['querySelectorAll'](_0x3665cd(0x335))][_0x3665cd(0xdbf)]((_0x85d32b,_0x4bc6e3)=>{const _0x2bb3c5=_0x3665cd,_0x92dac6=_0x4bc6e3[_0x2bb3c5(0xe1c)](),_0x54d726=_0x4c6a54['clientY']-_0x92dac6['top']-_0x92dac6[_0x2bb3c5(0x539)]/0x2;return _0x54d726<0x0&&_0x54d726>_0x85d32b[_0x2bb3c5(0x329)]?{'offset':_0x54d726,'element':_0x4bc6e3}:_0x85d32b;},{'offset':Number['NEGATIVE_INFINITY']})[_0x3665cd(0x16a)];_0x53f6e3==null?_0x5ed1ba[_0x3665cd(0xce0)](_0x5f3dfb):_0x5ed1ba['insertBefore'](_0x5f3dfb,_0x53f6e3);const _0x472f73=[..._0x5ed1ba['querySelectorAll'](_0x3665cd(0x30a))][_0x3665cd(0xe49)](_0x2e357a=>_0x2e357a[_0x3665cd(0x134)]['shortcutId']);parallelShortcutOrder[activeParallelShortcutTabId]=_0x472f73,saveParallelShortcutConfig();}};}async function handleAddParallelShortcutTab(){const _0x46d48e=_0x2bcb18,_0x4c558c=prompt(_0x46d48e(0x3f4),_0x46d48e(0xbf4));_0x4c558c&&_0x4c558c[_0x46d48e(0xa4d)]()&&(parallelShortcutTabs['push']({'id':_0x46d48e(0x22c)+Date[_0x46d48e(0x18f)](),'name':_0x4c558c['trim'](),'shortcutIds':[]}),await saveParallelShortcutConfig());}function renderParallelTestShortcuts(){const _0xcd0ee0=_0x2bcb18,_0x1d52f1=document[_0xcd0ee0(0x932)](_0xcd0ee0(0xbc4)),_0x37c7c7=document[_0xcd0ee0(0x932)](_0xcd0ee0(0x6c8)),_0x342e2a=document[_0xcd0ee0(0x932)](_0xcd0ee0(0xe06));if(_0x342e2a)_0x342e2a['classList']['add'](_0xcd0ee0(0x2f2));if(!_0x1d52f1||!_0x37c7c7)return;const _0x2df89a=parallelTestShortcuts[_0xcd0ee0(0x9b9)](0x0,0x4),_0x23f1a3=parallelTestShortcuts['slice'](0x4);_0x1d52f1['innerHTML']=_0x2df89a['map'](_0x10eadd=>{const _0x5db04a=_0xcd0ee0,_0x161c8d=_0x10eadd[_0x5db04a(0x3ae)]&&_0x10eadd[_0x5db04a(0x3ae)][_0x5db04a(0xa4d)]()!=='',_0x58822f=_0x161c8d?_0x5db04a(0x127):'bg-gray-200\x20hover:bg-gray-300\x20text-gray-700',_0x3e7edd=_0x161c8d?'🔁':'🔗',_0x5c8b30=!_0x10eadd['isDefault']?_0x5db04a(0x25e)+_0x10eadd['id']+_0x5db04a(0x29a):'';return _0x5db04a(0x1b3)+_0x10eadd['id']+_0x5db04a(0x3e5)+_0x58822f+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22pointer-events-none\x22>'+_0x3e7edd+'\x20'+_0x10eadd['name']+_0x5db04a(0xc36)+_0x10eadd['id']+'\x22\x20class=\x22edit-parallel-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5c8b30+_0x5db04a(0x8d3);})[_0xcd0ee0(0xbb2)](''),_0x23f1a3[_0xcd0ee0(0x752)]>0x0&&(_0x1d52f1[_0xcd0ee0(0xa16)]+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-parallel-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'),_0x23f1a3[_0xcd0ee0(0x752)]>0x0?_0x37c7c7[_0xcd0ee0(0xa16)]=_0x23f1a3['map'](_0x45c4b3=>_0xcd0ee0(0x95f)+(_0x45c4b3[_0xcd0ee0(0x3ae)]?'🔁':'🔗')+'\x20'+_0x45c4b3[_0xcd0ee0(0x34a)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x45c4b3['id']+_0xcd0ee0(0x7b0)+_0x45c4b3['id']+_0xcd0ee0(0xbbc)+(!_0x45c4b3[_0xcd0ee0(0xd55)]?_0xcd0ee0(0x25e)+_0x45c4b3['id']+'\x22\x20class=\x22delete-hidden-parallel-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>':'')+_0xcd0ee0(0xea7))[_0xcd0ee0(0xbb2)](''):_0x37c7c7['innerHTML']=_0xcd0ee0(0x324);}function openParallelTestShortcutEditor(_0x2d1c50=null){const _0x57be2a=_0x2bcb18,_0x113f25=document[_0x57be2a(0x932)](_0x57be2a(0x419)),_0x5bb07f=document[_0x57be2a(0x932)]('parallel-shortcut-modal-title'),_0x1edc90=document['getElementById']('parallel-shortcut-id-input'),_0x37e189=document[_0x57be2a(0x932)](_0x57be2a(0x541)),_0x3293b1=document[_0x57be2a(0x932)](_0x57be2a(0xe55));if(_0x2d1c50){const _0xb776da=parallelTestShortcuts[_0x57be2a(0x7a3)](_0x18b35a=>_0x18b35a['id']===_0x2d1c50);if(!_0xb776da)return;_0x5bb07f['textContent']=_0x57be2a(0xa54),_0x1edc90[_0x57be2a(0x99c)]=_0xb776da['id'],_0x37e189[_0x57be2a(0x99c)]=_0xb776da[_0x57be2a(0x34a)],_0x3293b1[_0x57be2a(0x99c)]=_0xb776da[_0x57be2a(0x3ae)]||'';}else _0x5bb07f[_0x57be2a(0xdec)]=_0x57be2a(0x21a),_0x1edc90[_0x57be2a(0x99c)]='',_0x37e189[_0x57be2a(0x99c)]='',_0x3293b1[_0x57be2a(0x99c)]='';_0x113f25[_0x57be2a(0x360)]['remove'](_0x57be2a(0x2f2));}async function saveParallelTestShortcutChanges(){const _0x8c1c48=_0x2bcb18,_0x571bec=document[_0x8c1c48(0x932)](_0x8c1c48(0x29f))['value'],_0x1a062e=document[_0x8c1c48(0x932)](_0x8c1c48(0x541))['value'][_0x8c1c48(0xa4d)](),_0x537311=document['getElementById']('parallel-shortcut-url-input')[_0x8c1c48(0x99c)][_0x8c1c48(0xa4d)]();if(!_0x1a062e){showMessage('กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27');return;}const _0x1cded8={'id':_0x571bec||'parallel-shortcut_'+Date[_0x8c1c48(0x18f)](),'name':_0x1a062e,'url':_0x537311,'isDefault':_0x571bec[_0x8c1c48(0x646)](_0x8c1c48(0x555))};let _0x3ca898;_0x571bec?_0x3ca898=parallelTestShortcuts[_0x8c1c48(0xe49)](_0x26c1c2=>_0x26c1c2['id']===_0x571bec?_0x1cded8:_0x26c1c2):_0x3ca898=[...parallelTestShortcuts,_0x1cded8];try{const _0x19f1bf=doc(db,'globalSettings',_0x8c1c48(0x91d));await setDoc(_0x19f1bf,{'shortcuts':_0x3ca898},{'merge':!![]}),document['getElementById'](_0x8c1c48(0x419))[_0x8c1c48(0x360)][_0x8c1c48(0x4a6)](_0x8c1c48(0x2f2));}catch(_0x14d451){console['error'](_0x8c1c48(0xa7d),_0x14d451),showMessage(_0x8c1c48(0x5ae));}}async function handleParallelTestShortcutClick(_0x122a9c){const _0x52c3eb=_0x2bcb18,_0x1ee981=parallelTestShortcuts['find'](_0x39511d=>_0x39511d['id']===_0x122a9c);if(!_0x1ee981)return;if(!_0x1ee981[_0x52c3eb(0x3ae)]||_0x1ee981[_0x52c3eb(0x3ae)][_0x52c3eb(0xa4d)]()===''){openParallelTestShortcutEditor(_0x122a9c);return;}const _0x4e3280=document[_0x52c3eb(0x932)](_0x52c3eb(0xe0d)),_0x225c76=document[_0x52c3eb(0x932)](_0x52c3eb(0x231));document[_0x52c3eb(0x932)]('quiz-generation-area')[_0x52c3eb(0x360)][_0x52c3eb(0xcc8)](_0x52c3eb(0x2f2)),document[_0x52c3eb(0x932)](_0x52c3eb(0x277))['innerHTML']='',_0x4e3280['classList'][_0x52c3eb(0xcc8)](_0x52c3eb(0x2f2)),_0x225c76[_0x52c3eb(0xdec)]=_0x52c3eb(0x65b);try{let _0x2c6e3c;_0x1ee981['url']['toLowerCase']()[_0x52c3eb(0xd2e)](_0x52c3eb(0x354))?_0x2c6e3c='source_document.txt':_0x2c6e3c=_0x52c3eb(0x12c);const _0x5b377c=await fetchFileFromUrl(_0x1ee981[_0x52c3eb(0x3ae)],_0x2c6e3c);await handleGenerateParallelTest(_0x5b377c);}catch(_0x3adb03){console['error']('Error\x20processing\x20parallel\x20shortcut\x20click:',_0x3adb03),showMessage(_0x52c3eb(0xb75)+_0x3adb03[_0x52c3eb(0x523)]),_0x4e3280[_0x52c3eb(0x360)]['add']('hidden');}}function initializeScratchpadCanvas(){const _0x3457c1=_0x2bcb18,_0x149eb0=document[_0x3457c1(0x932)](_0x3457c1(0x3d5)),_0x441d4f=document[_0x3457c1(0xc60)]('.scratchpad-content-wrapper');if(!_0x149eb0||!_0x441d4f)return;scratchpadCtx=_0x149eb0[_0x3457c1(0x6ec)]('2d',{'willReadFrequently':!![]});const _0x52c33b=window[_0x3457c1(0x2fe)]||0x1,_0x484c0e=_0x441d4f['getBoundingClientRect']();_0x149eb0[_0x3457c1(0x3c6)]=_0x484c0e[_0x3457c1(0x3c6)]*_0x52c33b,_0x149eb0[_0x3457c1(0x539)]=_0x484c0e['height']*_0x52c33b,_0x149eb0[_0x3457c1(0x6dc)][_0x3457c1(0x3c6)]=_0x484c0e[_0x3457c1(0x3c6)]+'px',_0x149eb0[_0x3457c1(0x6dc)][_0x3457c1(0x539)]=_0x484c0e[_0x3457c1(0x539)]+'px',scratchpadCtx[_0x3457c1(0x31c)](_0x52c33b,_0x52c33b),scratchpadCtx['lineJoin']=_0x3457c1(0x346),scratchpadCtx[_0x3457c1(0x96d)]='round',_0x149eb0[_0x3457c1(0x9c9)](_0x3457c1(0x228),handlePointerDown),_0x149eb0[_0x3457c1(0x9c9)](_0x3457c1(0xbee),handlePointerMove),_0x149eb0[_0x3457c1(0x9c9)]('pointerup',handlePointerUp),_0x149eb0[_0x3457c1(0x9c9)](_0x3457c1(0x5a8),handlePointerUp),_0x149eb0[_0x3457c1(0x9c9)](_0x3457c1(0x287),handleWheel),_0x149eb0['removeEventListener'](_0x3457c1(0x393),handlePointerDown),_0x149eb0[_0x3457c1(0x9c9)](_0x3457c1(0x747),handlePointerMove),_0x149eb0[_0x3457c1(0x9c9)](_0x3457c1(0x69f),handlePointerUp),_0x149eb0[_0x3457c1(0x639)](_0x3457c1(0x228),handlePointerDown),_0x149eb0['addEventListener'](_0x3457c1(0xbee),handlePointerMove),_0x149eb0[_0x3457c1(0x639)](_0x3457c1(0x5f2),handlePointerUp),_0x149eb0['addEventListener']('pointercancel',handlePointerUp),_0x149eb0[_0x3457c1(0x639)](_0x3457c1(0x287),handleWheel,{'passive':![]}),_0x149eb0[_0x3457c1(0x639)]('touchstart',handlePointerDown,{'passive':![]}),_0x149eb0['addEventListener'](_0x3457c1(0x747),handlePointerMove,{'passive':![]}),_0x149eb0[_0x3457c1(0x639)](_0x3457c1(0x69f),handlePointerUp,{'passive':![]});}function setupScratchpadControls(){const _0x4db3ed=_0x2bcb18,_0x2e5fdf=document[_0x4db3ed(0x932)]('scratchpad-modal'),_0x3fefea=document['getElementById'](_0x4db3ed(0x530));_0x3fefea['innerHTML']=_0x4db3ed(0x13c)+scratchpadHighlighterSize+_0x4db3ed(0xcfe);const _0x380db0=document[_0x4db3ed(0x932)](_0x4db3ed(0x510)),_0x112571=document['getElementById'](_0x4db3ed(0xcf0)),_0x266c58=document[_0x4db3ed(0x932)]('trail-tool-btn'),_0x5f3dc5=document[_0x4db3ed(0x932)](_0x4db3ed(0xacb)),_0x45b77d=document[_0x4db3ed(0x932)](_0x4db3ed(0x727)),_0x213ec1=document[_0x4db3ed(0x932)](_0x4db3ed(0x3fc)),_0x8f2aaa=document[_0x4db3ed(0x932)]('eraser-tools-group'),_0xac83ec=[_0x380db0,_0x112571,_0x266c58,_0x5f3dc5];document[_0x4db3ed(0x932)]('scratchpad-close-btn')['addEventListener'](_0x4db3ed(0x164),()=>_0x2e5fdf[_0x4db3ed(0x360)][_0x4db3ed(0x4a6)](_0x4db3ed(0x2f2))),document[_0x4db3ed(0x932)]('reset-view-btn')['addEventListener'](_0x4db3ed(0x164),()=>{scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},redrawScratchpad();}),document[_0x4db3ed(0x932)](_0x4db3ed(0xa90))[_0x4db3ed(0x639)](_0x4db3ed(0x164),()=>{strokes=[],redoStrokes=[],redrawScratchpad(),updateUndoRedoButtons();}),document[_0x4db3ed(0x932)]('undo-btn')[_0x4db3ed(0x639)]('click',undo),document[_0x4db3ed(0x932)](_0x4db3ed(0x669))[_0x4db3ed(0x639)](_0x4db3ed(0x164),redo);const _0x587469=_0x3cbe54=>{const _0x2b48ea=_0x4db3ed;_0xac83ec[_0x2b48ea(0x39f)](_0x224e44=>_0x224e44[_0x2b48ea(0x360)]['remove']('active')),_0x3cbe54[_0x2b48ea(0x360)][_0x2b48ea(0x4a6)]('active'),_0x45b77d[_0x2b48ea(0x360)]['add'](_0x2b48ea(0x2f2)),_0x213ec1[_0x2b48ea(0x360)][_0x2b48ea(0x4a6)]('hidden'),_0x8f2aaa[_0x2b48ea(0x360)][_0x2b48ea(0x4a6)](_0x2b48ea(0x2f2));if(activeTool===_0x2b48ea(0xccd)||activeTool==='trail')_0x45b77d[_0x2b48ea(0x360)][_0x2b48ea(0xcc8)](_0x2b48ea(0x2f2));else{if(activeTool===_0x2b48ea(0x1be))_0x213ec1[_0x2b48ea(0x360)][_0x2b48ea(0xcc8)](_0x2b48ea(0x2f2));else activeTool===_0x2b48ea(0x9a2)&&_0x8f2aaa['classList']['remove'](_0x2b48ea(0x2f2));}};_0x380db0[_0x4db3ed(0x639)](_0x4db3ed(0x164),()=>{const _0x112fd6=_0x4db3ed;activeTool=_0x112fd6(0xccd),_0x587469(_0x380db0);}),_0x112571['addEventListener'](_0x4db3ed(0x164),()=>{const _0x3acda5=_0x4db3ed;activeTool=_0x3acda5(0x9a2),_0x587469(_0x112571);}),_0x266c58[_0x4db3ed(0x639)](_0x4db3ed(0x164),()=>{const _0xc9e022=_0x4db3ed;activeTool=_0xc9e022(0x738),_0x587469(_0x266c58);}),_0x5f3dc5[_0x4db3ed(0x639)](_0x4db3ed(0x164),()=>{activeTool='highlighter',_0x587469(_0x5f3dc5);}),_0x45b77d[_0x4db3ed(0x38e)](_0x4db3ed(0xeb7))[_0x4db3ed(0x39f)](_0xf85ece=>{const _0x39fe84=_0x4db3ed;_0xf85ece[_0x39fe84(0x639)](_0x39fe84(0x164),_0x28db81=>{const _0x216146=_0x39fe84;scratchpadPenSize=parseInt(_0x28db81[_0x216146(0x5f8)][_0x216146(0x134)]['size'],0xa),_0x45b77d[_0x216146(0x38e)](_0x216146(0xeb7))[_0x216146(0x39f)](_0x99b986=>_0x99b986[_0x216146(0x360)][_0x216146(0xcc8)]('active')),_0x28db81['target'][_0x216146(0x360)][_0x216146(0x4a6)](_0x216146(0x76a));});}),_0x8f2aaa[_0x4db3ed(0x38e)]('.eraser-size-btn')[_0x4db3ed(0x39f)](_0x2e7ebe=>{const _0x3da4b1=_0x4db3ed;_0x2e7ebe[_0x3da4b1(0x639)]('click',_0x2313f4=>{const _0x325857=_0x3da4b1,_0x466937=_0x2313f4['currentTarget'];scratchpadEraserSize=parseInt(_0x466937[_0x325857(0x134)][_0x325857(0x6a2)],0xa),_0x8f2aaa[_0x325857(0x38e)](_0x325857(0x4fc))['forEach'](_0x3b1dff=>_0x3b1dff['classList']['remove'](_0x325857(0x76a))),_0x466937['classList'][_0x325857(0x4a6)]('active');});}),_0x45b77d['querySelectorAll'](_0x4db3ed(0x6cc))[_0x4db3ed(0x39f)](_0x41976d=>{_0x41976d['addEventListener']('click',_0x2ee73d=>{const _0x227550=_0x63b3;scratchpadPenColor=_0x2ee73d[_0x227550(0x5f8)][_0x227550(0x134)][_0x227550(0xb56)],_0x45b77d[_0x227550(0x38e)](_0x227550(0x6cc))[_0x227550(0x39f)](_0x1a4933=>_0x1a4933[_0x227550(0x360)]['remove'](_0x227550(0x76a))),_0x2ee73d[_0x227550(0x5f8)]['classList'][_0x227550(0x4a6)]('active');});}),_0x213ec1[_0x4db3ed(0x38e)](_0x4db3ed(0x865))[_0x4db3ed(0x39f)](_0x1ba497=>{const _0x13f464=_0x4db3ed;_0x1ba497['addEventListener'](_0x13f464(0x164),_0xcd0cf=>{const _0x1ae556=_0x13f464;scratchpadHighlighterColor=_0xcd0cf[_0x1ae556(0x5f8)][_0x1ae556(0x134)]['color'],_0x213ec1['querySelectorAll'](_0x1ae556(0x865))[_0x1ae556(0x39f)](_0x5dec2d=>_0x5dec2d['classList']['remove'](_0x1ae556(0x76a))),_0xcd0cf['target']['classList'][_0x1ae556(0x4a6)](_0x1ae556(0x76a));});});const _0x535b23=document['getElementById'](_0x4db3ed(0xc75)),_0x56cbd4=document[_0x4db3ed(0x932)]('highlighter-size-value');_0x535b23[_0x4db3ed(0x639)](_0x4db3ed(0x41a),_0x4f81c4=>{const _0x405cf6=_0x4db3ed,_0x1f266c=parseInt(_0x4f81c4['target'][_0x405cf6(0x99c)],0xa);scratchpadHighlighterSize=_0x1f266c,_0x56cbd4[_0x405cf6(0xdec)]=_0x1f266c;}),window[_0x4db3ed(0x639)](_0x4db3ed(0x8ea),()=>{const _0x2014cf=_0x4db3ed;!_0x2e5fdf[_0x2014cf(0x360)][_0x2014cf(0x3fa)]('hidden')&&(initializeScratchpadCanvas(),redrawScratchpad());});}const BADGES={'PERFECT_SCORE':{'id':_0x2bcb18(0x91b),'name':_0x2bcb18(0xd51),'description':'ตอบถูกทุกข้อในแบบทดสอบนี้','icon':_0x2bcb18(0xaa1)},'QUICK_THINKER':{'id':_0x2bcb18(0x656),'name':_0x2bcb18(0xe3c),'description':_0x2bcb18(0x96b),'icon':_0x2bcb18(0x550)},'ON_FIRE':{'id':_0x2bcb18(0x4cc),'name':_0x2bcb18(0x183),'description':_0x2bcb18(0xcb6),'icon':_0x2bcb18(0xe00)},'FIRST_TRY_ACE':{'id':_0x2bcb18(0x44f),'name':_0x2bcb18(0xd3c),'description':_0x2bcb18(0x8cb),'icon':_0x2bcb18(0x7f0)},'COMEBACK_KING':{'id':_0x2bcb18(0x2b6),'name':'ราชาคัมแบ็ก','description':_0x2bcb18(0x9f8),'icon':_0x2bcb18(0xbc1)},'SPECIALIST':{'id':_0x2bcb18(0xb80),'name':_0x2bcb18(0x5fd),'description':'ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','icon':_0x2bcb18(0xbdb)},'PERSEVERANCE':{'id':_0x2bcb18(0xd5f),'name':'ผู้ไม่ยอมแพ้','description':'ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','icon':_0x2bcb18(0x4bb)}},firebaseConfig={'apiKey':_0x2bcb18(0x837),'authDomain':_0x2bcb18(0x44b),'projectId':_0x2bcb18(0xad7),'storageBucket':_0x2bcb18(0x27f),'messagingSenderId':_0x2bcb18(0x8b1),'appId':_0x2bcb18(0x453),'measurementId':'G-V90KRM0L63'},appId=typeof __app_id!==_0x2bcb18(0xdce)?__app_id:'ai-quiz-generator-v3',adminView=document[_0x2bcb18(0x932)](_0x2bcb18(0x438)),studentView=document[_0x2bcb18(0x932)]('student-view'),projectDashboardView=document[_0x2bcb18(0x932)](_0x2bcb18(0xc6e)),projectDetailView=document[_0x2bcb18(0x932)](_0x2bcb18(0x9c6)),quizResultsView=document['getElementById'](_0x2bcb18(0x696)),projectList=document[_0x2bcb18(0x932)](_0x2bcb18(0x119)),noProjectsMsg=document[_0x2bcb18(0x932)]('no-projects-msg'),projectTitle=document[_0x2bcb18(0x932)](_0x2bcb18(0x71b)),projectIdDisplay=document['getElementById']('project-id-display'),studentList=document[_0x2bcb18(0x932)]('student-list'),messageModal=document[_0x2bcb18(0x932)]('message-modal'),modalMessage=document[_0x2bcb18(0x932)](_0x2bcb18(0x2ab)),createProjectModal=document['getElementById'](_0x2bcb18(0x5e0)),adminPasswordModal=document[_0x2bcb18(0x932)]('admin-password-modal'),confirmationModal=document[_0x2bcb18(0x932)](_0x2bcb18(0x307)),userIdDisplay=document['getElementById']('user-id-display'),topicTab=document[_0x2bcb18(0x932)](_0x2bcb18(0xbfd)),textTab=document[_0x2bcb18(0x932)](_0x2bcb18(0xe11)),topicInputArea=document[_0x2bcb18(0x932)](_0x2bcb18(0x988)),textInputArea=document[_0x2bcb18(0x932)](_0x2bcb18(0xad8)),manageTab=document[_0x2bcb18(0x932)](_0x2bcb18(0x1fc)),resultsTab=document[_0x2bcb18(0x932)](_0x2bcb18(0xb1f)),leaderboardTab=document[_0x2bcb18(0x932)](_0x2bcb18(0x4b6)),manageTabContent=document['getElementById'](_0x2bcb18(0x3bd)),resultsTabContent=document['getElementById'](_0x2bcb18(0x8c9)),leaderboardTabContent=document[_0x2bcb18(0x932)]('leaderboard-tab-content'),projectQuizzesList=document['getElementById']('project-quizzes-list'),fileTab=document[_0x2bcb18(0x932)](_0x2bcb18(0x167)),fileInputArea=document[_0x2bcb18(0x932)](_0x2bcb18(0x5d1)),fileUploadInput=document[_0x2bcb18(0x932)](_0x2bcb18(0x37a)),worksheetTab=document[_0x2bcb18(0x932)]('worksheet-tab'),worksheetInputArea=document[_0x2bcb18(0x932)](_0x2bcb18(0xbb6)),generateWorksheetBtn=document[_0x2bcb18(0x932)](_0x2bcb18(0x75f)),studentInitialView=document[_0x2bcb18(0x932)](_0x2bcb18(0xc58)),studentNameSelectionView=document['getElementById']('student-name-selection-view'),studentQuizArea=document[_0x2bcb18(0x932)]('student-quiz-area'),studentResultArea=document[_0x2bcb18(0x932)](_0x2bcb18(0x566)),studentReadingArea=document['getElementById']('student-reading-area'),loadQuizBtn=document['getElementById'](_0x2bcb18(0xa83)),startQuizBtn=document[_0x2bcb18(0x932)](_0x2bcb18(0x916)),studentJoinGameView=document[_0x2bcb18(0x932)]('student-join-game-view'),presentationModal=document[_0x2bcb18(0x932)](_0x2bcb18(0xbfc)),renameQuizModal=document['getElementById'](_0x2bcb18(0x1e3)),moveQuizModal=document[_0x2bcb18(0x932)](_0x2bcb18(0x3a5)),quizSettingsModal=document['getElementById'](_0x2bcb18(0x68a)),quizStatusModal=document[_0x2bcb18(0x932)](_0x2bcb18(0x88f)),liveGameView=document[_0x2bcb18(0x932)](_0x2bcb18(0xda1));function handleFixLessonLatex(){const _0x452d18=_0x2bcb18,_0x1adb24=document[_0x452d18(0x932)](_0x452d18(0x1d2));if(!_0x1adb24){showMessage('ไม่พบเนื้อหาบทเรียนที่จะแก้ไข');return;}const _0x2919e1=_0x1adb24[_0x452d18(0x38e)]([_0x452d18(0xeab),_0x452d18(0x378),_0x452d18(0x958),_0x452d18(0xb46),'.ai-content\x20h3'][_0x452d18(0xbb2)](','));let _0x336931=0x0;const _0x612353=_0x43b810=>_0x43b810[_0x452d18(0xdec)]||'',_0x5351aa=(_0x23d4c3,_0x33f04e)=>{const _0x42c966=_0x452d18;if(_0x23d4c3[_0x42c966(0xc60)]&&_0x23d4c3[_0x42c966(0xc60)]('mjx-container'))return;_0x23d4c3[_0x42c966(0xdec)]=_0x33f04e;},_0x2cee36=_0x3184d2=>_0x3184d2['replace'](/\u00A0/g,'\x20')[_0x452d18(0xdcc)](/\u200B/g,'')[_0x452d18(0xdcc)](/\r\n?/g,'\x0a'),_0x271765=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x1ea16a=_0x377ab8=>{const _0x4d945a=_0x452d18;let _0xdddb4b=_0x377ab8['trim']();const _0x1cf9ff=[_0x4d945a(0x4aa),_0x4d945a(0xa13),_0x4d945a(0x6d4),'sqrt','text',_0x4d945a(0x821),_0x4d945a(0x264),_0x4d945a(0xd2a),_0x4d945a(0xa69),_0x4d945a(0x9d2),'le','ge','neq','pm',_0x4d945a(0xa71),'sin','cos','tan',_0x4d945a(0x273),'ln',_0x4d945a(0xa9b),_0x4d945a(0x852),'binom',_0x4d945a(0x2bd),_0x4d945a(0xd2f),_0x4d945a(0x146),_0x4d945a(0x1c7),_0x4d945a(0x5c2),_0x4d945a(0x810)];_0x1cf9ff['forEach'](_0x18e040=>{const _0x1d2186=_0x4d945a;_0xdddb4b=_0xdddb4b[_0x1d2186(0xdcc)](new RegExp('(^|[^\x5c\x5c])\x5cb'+_0x18e040+'\x5cb','g'),(_0x450ab4,_0x3d739f)=>_0x3d739f+'\x5c'+_0x18e040);});const _0x3a7495=[[/×/g,_0x4d945a(0x65a)],[/·/g,'\x5ccdot'],[/÷/g,_0x4d945a(0x223)],[/≤/g,_0x4d945a(0x790)],[/≥/g,_0x4d945a(0x4e5)],[/≠/g,'\x5cneq'],[/±/g,'\x5cpm'],[/∑/g,_0x4d945a(0x5d0)],[/−/g,'-']];return _0x3a7495[_0x4d945a(0x39f)](([_0x1d3002,_0x50ff68])=>{const _0x3d4671=_0x4d945a;_0xdddb4b=_0xdddb4b[_0x3d4671(0xdcc)](_0x1d3002,_0x50ff68);}),_0xdddb4b=_0xdddb4b[_0x4d945a(0xdcc)](/√\s*([A-Za-z0-9]+)/g,_0x4d945a(0x492)),_0xdddb4b=_0xdddb4b[_0x4d945a(0xdcc)](/(\d+)\s*%/g,_0x4d945a(0x4fb)),_0xdddb4b;},_0x430059=_0x187bc9=>{const _0x51728f=_0x452d18;if(/\$|\\\(|\\\[/[_0x51728f(0x743)](_0x187bc9))return _0x187bc9;if(!_0x271765[_0x51728f(0x743)](_0x187bc9))return _0x187bc9;const _0x17ae97=_0x187bc9[_0x51728f(0x783)](/^\s*/)[0x0],_0xf3337d=_0x187bc9['match'](/\s*$/)[0x0],_0x1ea6c7=_0x187bc9[_0x51728f(0xa4d)]();return _0x17ae97+'$'+_0x1ea16a(_0x1ea6c7)+'$'+_0xf3337d;};_0x2919e1['forEach'](_0x7cef84=>{const _0x4b482f=_0x452d18,_0x3ac5ce=_0x612353(_0x7cef84);let _0x5d0f92=_0x2cee36(_0x3ac5ce);_0x5d0f92=_0x5d0f92[_0x4b482f(0xdcc)](/\$([^$]*?)\$/g,(_0xc95639,_0x1736b4)=>'$'+_0x1ea16a(_0x1736b4)+'$');const _0x2f95bd=_0x5d0f92[_0x4b482f(0x664)](/(\s+)/),_0x12d2ed=_0x2f95bd[_0x4b482f(0xe49)](_0x45d1a1=>{const _0x2c0b98=_0x4b482f;if(/\s+/[_0x2c0b98(0x743)](_0x45d1a1))return _0x45d1a1;return _0x430059(_0x45d1a1);});_0x5d0f92=_0x12d2ed[_0x4b482f(0xbb2)](''),_0x5d0f92!==_0x3ac5ce&&(_0x5351aa(_0x7cef84,_0x5d0f92),_0x336931++);});if(_0x336931>0x0){showMessage(_0x452d18(0x611)+_0x336931+_0x452d18(0x941));try{window[_0x452d18(0x7f9)]&&MathJax[_0x452d18(0xd3d)]&&MathJax[_0x452d18(0xd3d)]([_0x1adb24]);}catch(_0x1c93d5){console['error'](_0x452d18(0xc2c),_0x1c93d5);}}else showMessage(_0x452d18(0x51d));}function handleAutoFixLatex(){const _0x3366a8=_0x2bcb18,_0x151ba1=document['getElementById']('quiz-editor-questions-container')||document,_0x1168d6=_0x151ba1[_0x3366a8(0x38e)](_0x3366a8(0x768));let _0x67cc72=0x0;const _0x3ea7e8=_0x4468a0=>_0x3366a8(0x99c)in _0x4468a0?String(_0x4468a0[_0x3366a8(0x99c)]):_0x4468a0[_0x3366a8(0x6ad)]!==undefined?_0x4468a0[_0x3366a8(0x6ad)]:_0x4468a0[_0x3366a8(0xdec)]||'',_0x5c9b8a=(_0x167a3b,_0x23878c)=>{const _0x3c7de1=_0x3366a8;if(_0x3c7de1(0x99c)in _0x167a3b){_0x167a3b[_0x3c7de1(0x99c)]=_0x23878c;return;}if(_0x167a3b[_0x3c7de1(0xc60)]&&_0x167a3b[_0x3c7de1(0xc60)]('mjx-container'))return;if(_0x167a3b[_0x3c7de1(0x6ad)]!==undefined)_0x167a3b[_0x3c7de1(0x6ad)]=_0x23878c;else _0x167a3b[_0x3c7de1(0xdec)]=_0x23878c;},_0x43dd02=_0x4796a8=>_0x4796a8[_0x3366a8(0xdcc)](/\u00A0/g,'\x20')['replace'](/\u200B/g,'')[_0x3366a8(0xdcc)](/\r\n?/g,'\x0a'),_0x167186=/[\^_\\]|\b(?:frac|sqrt|times|cdot|div|leq|geq|neq|pm|sin|cos|tan|log|ln)\b|[×÷≤≥≠±·√]/,_0x540234=_0x117d4e=>{const _0x3a515a=_0x3366a8;let _0x51e700=_0x117d4e['trim']();_0x51e700=_0x51e700[_0x3a515a(0xdcc)](/\bfrac\{?(\d+)\}?\{?(\d+)\}?/g,_0x3a515a(0x1aa)),_0x51e700=_0x51e700[_0x3a515a(0xdcc)](/\bfrac(\d)(\d)/g,_0x3a515a(0x1aa));const _0x27ed26=[_0x3a515a(0x4aa),_0x3a515a(0x68f),_0x3a515a(0x821),_0x3a515a(0x264),_0x3a515a(0xd2a),'leq',_0x3a515a(0x9d2),'neq','pm',_0x3a515a(0xbfa),_0x3a515a(0x37c),_0x3a515a(0xe79),_0x3a515a(0x273),'ln'];_0x27ed26[_0x3a515a(0x39f)](_0xaf6b72=>{const _0x928d8f=_0x3a515a;_0x51e700=_0x51e700[_0x928d8f(0xdcc)](new RegExp('(^|[^\x5c\x5c])\x5cb'+_0xaf6b72+'\x5cb','g'),(_0x3e055e,_0x4e7328)=>_0x4e7328+'\x5c'+_0xaf6b72);});const _0x26628a=[[/×/g,_0x3a515a(0x65a)],[/·/g,'\x5ccdot'],[/÷/g,_0x3a515a(0x223)],[/≤/g,_0x3a515a(0x790)],[/≥/g,_0x3a515a(0x4e5)],[/≠/g,_0x3a515a(0x1ff)],[/±/g,_0x3a515a(0xd5b)]];return _0x26628a[_0x3a515a(0x39f)](([_0x1ec538,_0x25094b])=>{_0x51e700=_0x51e700['replace'](_0x1ec538,_0x25094b);}),_0x51e700;},_0x5420d9=_0x192aec=>{const _0x409cb2=_0x3366a8;if(/\$|\\\(|\\\[/[_0x409cb2(0x743)](_0x192aec))return _0x192aec;if(!_0x167186[_0x409cb2(0x743)](_0x192aec))return _0x192aec;const _0x5c4a79=_0x192aec[_0x409cb2(0x783)](/^\s*/)[0x0],_0x542ed9=_0x192aec[_0x409cb2(0x783)](/\s*$/)[0x0],_0x3619ff=_0x192aec[_0x409cb2(0xa4d)]();return _0x5c4a79+'$'+_0x540234(_0x3619ff)+'$'+_0x542ed9;};_0x1168d6[_0x3366a8(0x39f)](_0xc487b1=>{const _0x3ec5c6=_0x3366a8,_0xbeb178=_0x3ea7e8(_0xc487b1);let _0x35bbf2=_0x43dd02(_0xbeb178);_0x35bbf2=_0x35bbf2['replace'](/\$([^$]*?)\$/g,(_0x1366cd,_0x332c57)=>'$'+_0x540234(_0x332c57)+'$');const _0x57b0ae=_0x35bbf2['split'](/(\s+)/),_0x19e767=_0x57b0ae[_0x3ec5c6(0xe49)](_0x3246b1=>/\s+/['test'](_0x3246b1)?_0x3246b1:_0x5420d9(_0x3246b1));_0x35bbf2=_0x19e767[_0x3ec5c6(0xbb2)](''),_0x35bbf2!==_0xbeb178&&(_0x5c9b8a(_0xc487b1,_0x35bbf2),_0x67cc72++);});if(_0x67cc72>0x0){showMessage(_0x3366a8(0x4e0)+_0x67cc72+_0x3366a8(0x661));try{if(window['MathJax']&&MathJax[_0x3366a8(0xd3d)])MathJax[_0x3366a8(0xd3d)]();}catch(_0x451636){}}else showMessage(_0x3366a8(0x12e));}async function listenForCustomMathTopics(){const _0xcc902e=_0x2bcb18,_0x1bd370=collection(db,_0xcc902e(0x6e6)+appId+_0xcc902e(0xe26));onSnapshot(_0x1bd370,_0x366851=>{const _0x423461=_0xcc902e;customMathTopics=_0x366851[_0x423461(0x9ef)][_0x423461(0xe49)](_0x4ef9d7=>({'id':_0x4ef9d7['id'],..._0x4ef9d7[_0x423461(0x13f)]()})),renderTopicCheckboxes();},_0x4a98f3=>{const _0x4fa007=_0xcc902e;console[_0x4fa007(0x1ac)]('Error\x20listening\x20for\x20custom\x20math\x20topics:',_0x4a98f3);});}function handleSelectAllTopics(){const _0x5a2b0a=_0x2bcb18,_0x26740e=document[_0x5a2b0a(0x932)](_0x5a2b0a(0x830)),_0x230c84=_0x26740e[_0x5a2b0a(0x38e)]('input[type=\x22checkbox\x22]');_0x230c84[_0x5a2b0a(0x39f)](_0x37fb9c=>{_0x37fb9c['checked']=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x54e07e=_0x2bcb18,_0x39c90d=document[_0x54e07e(0x932)](_0x54e07e(0x830)),_0x33596f=_0x39c90d[_0x54e07e(0x38e)](_0x54e07e(0xdde));_0x33596f[_0x54e07e(0x39f)](_0x1a61ae=>{const _0x423397=_0x54e07e;_0x1a61ae[_0x423397(0xc62)]=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x435472){const _0x15a2f=_0x2bcb18;if(!_0x435472)return;try{const _0x5290c9=doc(db,_0x15a2f(0x6e6)+appId+_0x15a2f(0xe26),_0x435472);await deleteDoc(_0x5290c9),showMessage('ลบหัวข้อสำเร็จ');}catch(_0x13b899){console['error']('Error\x20deleting\x20custom\x20topic:',_0x13b899),showMessage(_0x15a2f(0x74b));}}async function handleAddCustomMathTopic(){const _0x4673ee=_0x2bcb18,_0x46d7b1=document[_0x4673ee(0x932)](_0x4673ee(0x467)),_0x3d6087=_0x46d7b1['value'][_0x4673ee(0xa4d)]();if(!_0x3d6087){showMessage(_0x4673ee(0x9f6));return;}if(!userId){showMessage(_0x4673ee(0x5f6));return;}try{const _0x415e5f=collection(db,_0x4673ee(0x6e6)+appId+'/public/data/customMathTopics');await addDoc(_0x415e5f,{'name':_0x3d6087,'createdAt':serverTimestamp()}),_0x46d7b1[_0x4673ee(0x99c)]='',showMessage('เพิ่มหัวข้อ\x20\x22'+_0x3d6087+_0x4673ee(0x711));}catch(_0x5ee18d){console[_0x4673ee(0x1ac)](_0x4673ee(0x1d8),_0x5ee18d),showMessage(_0x4673ee(0x2c3));}}async function handleUpdateOldQuizzes(){const _0x5d2b0e=_0x2bcb18;showConfirmation(_0x5d2b0e(0xbb0),async()=>{const _0x3500f1=_0x5d2b0e,_0x28d482=document[_0x3500f1(0x932)](_0x3500f1(0xe0d)),_0x20b54d=document[_0x3500f1(0x932)]('loader-text'),_0x4f93bb=_0x20b54d[_0x3500f1(0xdec)];_0x28d482[_0x3500f1(0x360)][_0x3500f1(0xcc8)](_0x3500f1(0x2f2)),_0x20b54d[_0x3500f1(0xdec)]=_0x3500f1(0x9e1);try{const _0x19fb10=collection(db,'artifacts/'+appId+_0x3500f1(0x993)),_0x561aaa=await getDocs(_0x19fb10);if(_0x561aaa[_0x3500f1(0xab2)]){showMessage('ไม่พบแบบทดสอบในระบบเลย');return;}const _0x409453=writeBatch(db);let _0x51eab0=0x0;_0x561aaa[_0x3500f1(0x39f)](_0x1ddb04=>{const _0x1b2229=_0x3500f1,_0x3a9efa=_0x1ddb04[_0x1b2229(0x13f)](),_0xddc629=_0x1ddb04['id'];if(_0x3a9efa[_0x1b2229(0xc46)]&&_0x3a9efa[_0x1b2229(0xc46)]['length']>0x0&&!_0x3a9efa[_0x1b2229(0xc46)][0x0][_0x1b2229(0xe8a)]('id')){console[_0x1b2229(0x273)](_0x1b2229(0x229)+_0xddc629+'\x20('+_0x3a9efa[_0x1b2229(0x79c)]+')'),_0x51eab0++;const _0xe1aa4=_0x3a9efa[_0x1b2229(0xc46)][_0x1b2229(0xe49)]((_0x4805c4,_0x50c325)=>{const _0x4d8353=_0x1b2229;return{..._0x4805c4,'id':_0x4805c4['id']||'q_'+Date[_0x4d8353(0x18f)]()+'_'+_0xddc629+'_'+_0x50c325};}),_0x47fe7a=doc(db,_0x1b2229(0x6e6)+appId+_0x1b2229(0x993),_0xddc629);_0x409453[_0x1b2229(0xbe3)](_0x47fe7a,{'questions':_0xe1aa4});}}),_0x51eab0>0x0?(_0x20b54d[_0x3500f1(0xdec)]=_0x3500f1(0xa42)+_0x51eab0+_0x3500f1(0xa01),await _0x409453['commit'](),showMessage('อัปเดตแบบทดสอบเก่า\x20'+_0x51eab0+_0x3500f1(0x535))):showMessage(_0x3500f1(0xcf9));}catch(_0x8f25a){console[_0x3500f1(0x1ac)]('Error\x20updating\x20old\x20quizzes:',_0x8f25a),showMessage(_0x3500f1(0xb6c)+_0x8f25a[_0x3500f1(0x523)]);}finally{_0x28d482[_0x3500f1(0x360)][_0x3500f1(0x4a6)](_0x3500f1(0x2f2)),_0x20b54d[_0x3500f1(0xdec)]=_0x4f93bb;}});}async function handleBulkUpdateQuizSettings(){const _0x51c2e2=_0x2bcb18,_0x44a7eb={'shuffle':document[_0x51c2e2(0x932)](_0x51c2e2(0x527))['value'],'resultsDisplay':document[_0x51c2e2(0x932)](_0x51c2e2(0x9c5))[_0x51c2e2(0x99c)],'loopUntilPass':document[_0x51c2e2(0x932)]('bulk-loop-until-pass-checkbox')[_0x51c2e2(0xc62)],'isConfidenceScoringEnabled':document['getElementById'](_0x51c2e2(0xb7e))['checked'],'confidenceMode':document['getElementById'](_0x51c2e2(0x4fe))[_0x51c2e2(0x99c)]};try{showMessage(_0x51c2e2(0x5e5));const _0x541895=await getDocs(collection(db,_0x51c2e2(0x6e6)+appId+_0x51c2e2(0x993))),_0x331c9c=_0x541895[_0x51c2e2(0x9ef)][_0x51c2e2(0xe49)](_0x253b9d=>({'id':_0x253b9d['id'],'data':_0x253b9d[_0x51c2e2(0x13f)]()})),_0x2eea93=_0x331c9c[_0x51c2e2(0x752)];showConfirmation(_0x51c2e2(0xda7)+_0x2eea93+_0x51c2e2(0xa79),async()=>{const _0x39a9ab=_0x51c2e2,_0x1ce305=document['getElementById'](_0x39a9ab(0x796));_0x1ce305[_0x39a9ab(0xad6)]=!![],_0x1ce305[_0x39a9ab(0xa16)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...';try{const _0x270b79=writeBatch(db);_0x331c9c['forEach'](_0x4c1371=>{const _0xc396fe=_0x39a9ab,_0x1dec11=doc(db,_0xc396fe(0x6e6)+appId+_0xc396fe(0x993),_0x4c1371['id']),_0xc32d8b={..._0x4c1371[_0xc396fe(0x13f)][_0xc396fe(0x6ce)]||{},..._0x44a7eb};_0x270b79['update'](_0x1dec11,{'settings':_0xc32d8b});}),await _0x270b79['commit'](),document['getElementById'](_0x39a9ab(0xcf3))['classList'][_0x39a9ab(0x4a6)](_0x39a9ab(0x2f2)),showMessage(_0x39a9ab(0xc8a)+_0x2eea93+_0x39a9ab(0x559));}catch(_0x5b5aa2){console[_0x39a9ab(0x1ac)](_0x39a9ab(0x6ea),_0x5b5aa2),showMessage(_0x39a9ab(0xcf4));}finally{_0x1ce305[_0x39a9ab(0xad6)]=![],_0x1ce305[_0x39a9ab(0xa16)]='ยืนยันและอัปเดตทั้งหมด';}});}catch(_0xced73b){console[_0x51c2e2(0x1ac)](_0x51c2e2(0xc2a),_0xced73b),showMessage('เกิดข้อผิดพลาดในการดึงรายการแบบทดสอบล่าสุด');}}async function handleSaveProjectName(){const _0x537bf3=_0x2bcb18,_0x2c1862=document[_0x537bf3(0x932)]('project-title'),_0x1dd9ff=document[_0x537bf3(0x932)](_0x537bf3(0x43a)),_0x3857de=_0x2c1862[_0x537bf3(0xdec)]['trim']();if(!_0x3857de||!currentProjectId){showMessage('ชื่อโปรเจคห้ามว่าง'),_0x2c1862[_0x537bf3(0xdec)]=currentProjectData['projectName'];return;}_0x1dd9ff['disabled']=!![],_0x1dd9ff[_0x537bf3(0xa16)]=_0x537bf3(0xa80);try{const _0x4f6189=doc(db,_0x537bf3(0x6e6)+appId+_0x537bf3(0x53a),currentProjectId);await updateDoc(_0x4f6189,{'projectName':_0x3857de}),currentProjectData&&(currentProjectData['projectName']=_0x3857de),showMessage(_0x537bf3(0x7b4));}catch(_0x517008){console[_0x537bf3(0x1ac)](_0x537bf3(0x8c3),_0x517008),showMessage(_0x537bf3(0x5ae)),_0x2c1862[_0x537bf3(0xdec)]=currentProjectData[_0x537bf3(0x1cc)];}finally{_0x1dd9ff[_0x537bf3(0x360)][_0x537bf3(0x4a6)](_0x537bf3(0x2f2)),_0x1dd9ff['disabled']=![],_0x1dd9ff[_0x537bf3(0xa16)]=_0x537bf3(0x7ae);}}function handleGeneratePracticeTest(_0x205d61,_0x3c372b){const _0x537a8a=_0x2bcb18,_0x7f99ce=document[_0x537a8a(0x932)](_0x537a8a(0xc38)),_0x38cbd5=document[_0x537a8a(0x932)](_0x537a8a(0xd1b)),_0x1ee70b=document[_0x537a8a(0x932)](_0x537a8a(0x31e)),_0x169deb=document['getElementById'](_0x537a8a(0xb04));_0x38cbd5[_0x537a8a(0xdec)]=_0x537a8a(0xc07)+_0x205d61,_0x169deb[_0x537a8a(0x360)]['add']('hidden'),_0x1ee70b[_0x537a8a(0x360)][_0x537a8a(0xcc8)]('hidden'),_0x7f99ce[_0x537a8a(0x360)][_0x537a8a(0xcc8)](_0x537a8a(0x2f2)),generatePracticeTest(_0x205d61,_0x3c372b)['catch'](_0x2cffe2=>{const _0x26978b=_0x537a8a;console[_0x26978b(0x1ac)]('Failed\x20to\x20generate\x20practice\x20test:',_0x2cffe2),showMessage(_0x26978b(0x856)),_0x7f99ce[_0x26978b(0x360)]['add'](_0x26978b(0x2f2));});}async function generatePracticeTest(_0x3423af,_0x49bdc1){const _0x1361c6=_0x2bcb18;['pointContent',_0x1361c6(0x7db),_0x1361c6(0x9ac),_0x1361c6(0x6a9)][_0x1361c6(0x39f)](_0x1ba6ff=>{const _0x2f0f25=_0x1361c6,_0x472721=document[_0x2f0f25(0x932)](_0x1ba6ff)[_0x2f0f25(0x906)];_0x472721&&(_0x472721[_0x2f0f25(0x6dc)][_0x2f0f25(0xb59)]='none');});try{const _0x21be1f=_0x1361c6(0x4f5),_0x3e165d='สร้างแบบฝึกหัดแบบปรนัย\x204\x20ตัวเลือก\x20จำนวน\x205\x20ข้อ\x20สำหรับนักเรียนระดับชั้น\x20\x27'+_0x49bdc1+_0x1361c6(0x153)+_0x3423af+'\x27.\x20โจทย์และตัวเลือกต้องมีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET\x20จริงๆ.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรคณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX',_0x28ec47=await callGemini(_0x3e165d,!![]),_0x53aa2d=document['getElementById'](_0x1361c6(0xd1b)),_0x1e4cc6=document[_0x1361c6(0x932)]('lesson-loader'),_0x38dbb3=document[_0x1361c6(0x932)](_0x1361c6(0xb04)),_0x315f69=document[_0x1361c6(0x932)](_0x1361c6(0x9ac))[_0x1361c6(0x906)];_0x53aa2d[_0x1361c6(0x6ad)]=_0x1361c6(0x118)+_0x3423af[_0x1361c6(0xdcc)](/•\s/g,'')+_0x1361c6(0x8c0)+_0x49bdc1+')',currentApplicationData=JSON['parse'](_0x28ec47);const _0x48cd1f=document[_0x1361c6(0x932)](_0x1361c6(0x9ac));_0x48cd1f[_0x1361c6(0xa16)]=currentApplicationData[_0x1361c6(0xe49)]((_0x3f7e45,_0x57438c)=>_0x1361c6(0xe6a)+(_0x57438c+0x1)+'.\x20'+marked['parseInline'](_0x3f7e45[_0x1361c6(0xb8f)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q'+_0x57438c+_0x1361c6(0x631)+_0x3f7e45[_0x1361c6(0x3e2)]['map']((_0x573f13,_0x3af202)=>_0x1361c6(0xe98)+_0x57438c+',\x20'+_0x3af202+_0x1361c6(0x630)+String['fromCharCode'](0x61+_0x3af202)+'.\x20'+marked[_0x1361c6(0x86e)](_0x573f13)+_0x1361c6(0x2bf))[_0x1361c6(0xbb2)]('')+_0x1361c6(0xea7))[_0x1361c6(0xbb2)](''),window[_0x1361c6(0x7f9)]&&MathJax[_0x1361c6(0xd3d)]([_0x48cd1f]),_0x315f69&&(_0x315f69[_0x1361c6(0x6dc)]['display']=_0x1361c6(0xca6)),_0x1e4cc6[_0x1361c6(0x360)]['add'](_0x1361c6(0x2f2)),_0x38dbb3[_0x1361c6(0x360)][_0x1361c6(0xcc8)]('hidden');}catch(_0x173261){console[_0x1361c6(0x1ac)](_0x173261);throw _0x173261;}}async function callGemini(_0x212725,_0x7e2763=![]){const _0x5bb71e=_0x2bcb18,_0x3c4ea1=_0x5bb71e(0x40e),_0x2b0fa7=_0x5bb71e(0xddb)+_0x3c4ea1,_0x4ed6fb={'contents':[{'parts':[{'text':_0x212725}]}]};_0x7e2763&&(_0x4ed6fb[_0x5bb71e(0x829)]={'responseMimeType':'application/json'},_0x212725[_0x5bb71e(0xd2e)](_0x5bb71e(0x967))?_0x4ed6fb['generationConfig']['responseSchema']={'type':_0x5bb71e(0xde5),'properties':{'gradeLevel':{'type':_0x5bb71e(0x7d8)},'curriculum':{'type':_0x5bb71e(0xd66),'items':{'type':_0x5bb71e(0xde5),'properties':{'sara':{'type':_0x5bb71e(0x7d8)},'mainTopics':{'type':_0x5bb71e(0xd66),'items':{'type':_0x5bb71e(0xde5),'properties':{'topicName':{'type':'STRING'},'subTopics':{'type':_0x5bb71e(0xd66),'items':{'type':_0x5bb71e(0x7d8)}}},'required':[_0x5bb71e(0x9fc),_0x5bb71e(0xd9d)]}}},'required':['sara',_0x5bb71e(0xa02)]}}},'required':[_0x5bb71e(0x637),'curriculum']}:_0x4ed6fb['generationConfig'][_0x5bb71e(0x184)]={'type':_0x5bb71e(0xd66),'items':{'type':_0x5bb71e(0xde5),'properties':{'question':{'type':_0x5bb71e(0x7d8)},'options':{'type':_0x5bb71e(0xd66),'items':{'type':_0x5bb71e(0x7d8)}},'answer':{'type':_0x5bb71e(0xd4c)}},'required':[_0x5bb71e(0xb8f),'options','answer']}});try{const _0x42831c=await fetch(_0x2b0fa7,{'method':_0x5bb71e(0xe68),'headers':{'Content-Type':_0x5bb71e(0x7f5)},'body':JSON[_0x5bb71e(0x692)](_0x4ed6fb)});if(!_0x42831c['ok']){const _0x565c9f=await _0x42831c[_0x5bb71e(0x13d)]();console[_0x5bb71e(0x1ac)](_0x5bb71e(0x3ff),_0x565c9f);throw new Error('API\x20call\x20failed\x20with\x20status:\x20'+_0x42831c[_0x5bb71e(0x1f8)]);}const _0x24816c=await _0x42831c['json']();if(_0x24816c[_0x5bb71e(0xa28)]&&_0x24816c['candidates'][0x0][_0x5bb71e(0x780)]&&_0x24816c[_0x5bb71e(0xa28)][0x0]['content'][_0x5bb71e(0x21f)][0x0])return _0x24816c[_0x5bb71e(0xa28)][0x0]['content'][_0x5bb71e(0x21f)][0x0][_0x5bb71e(0x13d)];else{console[_0x5bb71e(0x1ac)](_0x5bb71e(0xea1),_0x24816c);if(_0x24816c[_0x5bb71e(0xa28)]&&_0x24816c[_0x5bb71e(0xa28)][0x0][_0x5bb71e(0xda8)]===_0x5bb71e(0x1e1))return JSON[_0x5bb71e(0x692)]({'error':_0x5bb71e(0xdab)});throw new Error('Invalid\x20response\x20structure\x20from\x20API.');}}catch(_0x2db82a){console[_0x5bb71e(0x1ac)](_0x5bb71e(0xd71),_0x2db82a);throw _0x2db82a;}}async function generateLesson(_0x11e49b=null,_0x316e52=null){const _0x334e20=_0x2bcb18,_0x564c5a=_0x11e49b,_0xda92f3=_0x316e52||'ไม่ระบุ',_0x1169c5=document[_0x334e20(0x932)](_0x334e20(0x31e)),_0x47da03=document[_0x334e20(0x932)](_0x334e20(0x187));_0x47da03[_0x334e20(0xdec)]=_0x334e20(0xd9e)+_0x564c5a+_0x334e20(0xa3c);try{let _0x559246=[];const _0x2863db=document[_0x334e20(0x932)](_0x334e20(0x1ad))?.[_0x334e20(0x99c)][_0x334e20(0xa4d)]();if(_0x2863db)try{_0x47da03[_0x334e20(0xdec)]='กำลังดึงไฟล์\x20O-NET\x20อ้างอิงจากลิงก์...';const _0x47c4b8=await fetchFileFromUrl(_0x2863db,'reference_onet.pdf'),_0x1baef1=await new Promise((_0x1c022f,_0x3071ad)=>{const _0xaf44c0=_0x334e20,_0x59aff8=new FileReader();_0x59aff8[_0xaf44c0(0x96a)](_0x47c4b8),_0x59aff8[_0xaf44c0(0x905)]=()=>_0x1c022f(_0x59aff8['result']['split'](',')[0x1]),_0x59aff8[_0xaf44c0(0x13e)]=_0x3071ad;});_0x559246[_0x334e20(0xe86)]({'inlineData':{'mimeType':_0x47c4b8[_0x334e20(0x587)],'data':_0x1baef1}});}catch(_0x2bcced){console[_0x334e20(0x1ac)](_0x334e20(0xd57),_0x2bcced),showMessage(_0x334e20(0x8af));}const _0xabf26e='\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้าง\x20**\x22บทเรียน\x22**\x20ที่มีเนื้อหา,\x20สูตร,\x20และตัวอย่าง\x20ที่\x20**\x22เพียงพอและไม่ยากเกินกว่า\x22**\x20ที่จะใช้แก้โจทย์ในไฟล์อ้างอิงนั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20**ห้าม\x20(DO\x20NOT)**\x20สร้างเนื้อหาบทเรียน,\x20สูตรลัด,\x20หรือตัวอย่าง\x20ที่มีความซับซ้อนทางวิชาการ\x20**\x22เกินกว่า\x22**\x20ระดับความรู้ที่จำเป็นสำหรับไฟล์อ้างอิงโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของขอบเขตเนื้อหาและความซับซ้อน\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20ปรัชญาการสร้างเนื้อหาและโจทย์สไตล์\x20O-NET\x20โดยอ้างอิงจากไฟล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบหลักสูตรคณิตศาสตร์\x20O-NET\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x20(ถ้ามี)\x20จงวิเคราะห์สไตล์,\x20ขอบเขต,\x20และระดับความลึกของโจทย์ที่เกี่ยวข้องกับหัวข้อ\x20\x22'+_0x564c5a+_0x334e20(0x80a)+_0x564c5a+_0x334e20(0xd07);_0x47da03[_0x334e20(0xdec)]=_0x334e20(0xd9e)+_0x564c5a+_0x334e20(0xa3c);const _0x301f99=_0x334e20(0x51f)+_0xda92f3+_0x334e20(0x153)+_0x564c5a+'\x27\x20สำหรับส่วน\x20\x27POINT\x27.\x20'+_0xabf26e+_0x334e20(0x831),_0x1954e8='สำหรับหัวข้อ\x20\x27'+_0x564c5a+_0x334e20(0x7b3)+_0xda92f3+'\x27\x20ในส่วน\x20\x27MEMORY\x27.\x20'+_0xabf26e+_0x334e20(0x3b3),_0x3fcd3e='\x0a\x20\x20\x20\x20\x20\x20\x20\x20**กฎเหล็กสำหรับการสร้างตัวเลือก\x20(Advanced\x20Distractor\x20Rule):**\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ห้ามสุ่มตัวเลขมั่วๆ\x20มาใส่เป็นตัวหลอก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตัวเลือกที่ผิด\x20(Distractors)\x20ต้องออกแบบมาเพื่อดักจับ\x20\x22ความผิดพลาดที่พบบ่อย\x22\x20(Common\x20Misconceptions)\x20เช่น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20การคำนวณผิดในขั้นตอนสุดท้าย\x20(Calculation\x20Error)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20การจำสูตรผิด\x20หรือสลับตัวแปร\x20(Conceptual\x20Error)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ลืมแปลงหน่วย\x20หรือตีความโจทย์ผิด\x20(Unit/Interpretation\x20Error)\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ตัวเลือกต้องดูสมเหตุสมผลและใกล้เคียงกับคำตอบจริง\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x533a7c=_0x334e20(0x6cb)+_0xda92f3+_0x334e20(0x153)+_0x564c5a+'\x27\x20สำหรับส่วน\x20\x27APPLICATION\x27.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0xabf26e+_0x334e20(0xa15)+_0x3fcd3e+_0x334e20(0x9ea),_0x59abed='สร้างเนื้อหาสรุปภาพรวมทั้งหมดของหัวข้อ\x20\x27'+_0x564c5a+_0x334e20(0x6e0)+_0xda92f3+_0x334e20(0xd94)+_0xabf26e+_0x334e20(0x1d7),_0x26ec90={'type':_0x334e20(0xd66),'items':{'type':_0x334e20(0xde5),'properties':{'question':{'type':_0x334e20(0x7d8)},'options':{'type':_0x334e20(0xd66),'items':{'type':_0x334e20(0x7d8)}},'answer':{'type':'NUMBER'}},'required':[_0x334e20(0xb8f),_0x334e20(0x3e2),'answer']}},[_0x4ef4da,_0x3dbf07,_0x33837b,_0x5e85d4]=await Promise[_0x334e20(0x6b3)]([handleApiCall([{'text':_0x301f99},..._0x559246],_0x334e20(0x7f7),null,null,![]),handleApiCall([{'text':_0x1954e8},..._0x559246],_0x334e20(0x7f7),null,null,![]),handleApiCall([{'text':_0x533a7c},..._0x559246],'...',_0x26ec90,null,![]),handleApiCall([{'text':_0x59abed},..._0x559246],_0x334e20(0x7f7),null,null,![])]),_0x2458c5=JSON[_0x334e20(0x692)](_0x33837b||[]),_0x319157=document[_0x334e20(0x932)](_0x334e20(0xd1b)),_0x4256bc=document[_0x334e20(0x932)](_0x334e20(0xb04));_0x319157[_0x334e20(0x6ad)]='บทเรียนเรื่อง:\x20'+_0x564c5a[_0x334e20(0xdcc)](/•\s/g,'')+_0x334e20(0x8c0)+_0xda92f3+')',[_0x334e20(0x388),'memoryContent','summaryContent']['forEach'](_0x19e285=>{const _0x14550b=_0x334e20;document[_0x14550b(0x932)](_0x19e285)[_0x14550b(0xa16)]='';}),document[_0x334e20(0x932)](_0x334e20(0x388))[_0x334e20(0xa16)]=_0x4ef4da?marked[_0x334e20(0x4bd)](_0x4ef4da):_0x334e20(0xb64),document[_0x334e20(0x932)](_0x334e20(0x7db))[_0x334e20(0xa16)]=_0x3dbf07?marked['parse'](_0x3dbf07):_0x334e20(0xb64),document[_0x334e20(0x932)](_0x334e20(0x6a9))[_0x334e20(0xa16)]=_0x5e85d4?marked[_0x334e20(0x4bd)](_0x5e85d4):_0x334e20(0xb64),currentApplicationData=JSON[_0x334e20(0x4bd)](_0x2458c5);const _0x1ef80e=document[_0x334e20(0x932)](_0x334e20(0x9ac));_0x1ef80e[_0x334e20(0xa16)]=(currentApplicationData||[])['map']((_0x42b098,_0x1f4701)=>_0x334e20(0xe6a)+(_0x1f4701+0x1)+'.\x20'+marked['parseInline'](_0x42b098[_0x334e20(0xb8f)]||'')+_0x334e20(0xc88)+_0x1f4701+_0x334e20(0x631)+(_0x42b098[_0x334e20(0x3e2)]||[])['map']((_0x53d98e,_0x165927)=>_0x334e20(0xe98)+_0x1f4701+',\x20'+_0x165927+_0x334e20(0x630)+String[_0x334e20(0x4b4)](0x61+_0x165927)+'.\x20'+marked[_0x334e20(0x86e)](_0x53d98e||'')+_0x334e20(0x2bf))[_0x334e20(0xbb2)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')['join']('')||'<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างแบบทดสอบได้</p>',window[_0x334e20(0x7f9)]&&MathJax[_0x334e20(0xd3d)]([_0x4256bc]),_0x1169c5[_0x334e20(0x360)]['add'](_0x334e20(0x2f2)),_0x4256bc[_0x334e20(0x360)][_0x334e20(0xcc8)]('hidden');}catch(_0x4d69cd){console[_0x334e20(0x1ac)](_0x4d69cd);throw _0x4d69cd;}}function checkAnswer(_0x5cccc3,_0x35e91d){const _0x36b318=_0x2bcb18,_0x33827d=currentApplicationData[_0x5cccc3],_0x58ea42=document[_0x36b318(0x932)]('q'+_0x5cccc3+_0x36b318(0x6de)),_0x401975=_0x58ea42[_0x36b318(0xcc4)](_0x36b318(0x7a2));for(let _0x3b5496 of _0x401975){_0x3b5496[_0x36b318(0xad6)]=!![];}_0x35e91d===_0x33827d[_0x36b318(0x328)]?_0x401975[_0x35e91d][_0x36b318(0x360)][_0x36b318(0x4a6)](_0x36b318(0x81e)):(_0x401975[_0x35e91d][_0x36b318(0x360)]['add'](_0x36b318(0xaad)),_0x401975[_0x33827d[_0x36b318(0x328)]][_0x36b318(0x360)][_0x36b318(0x4a6)](_0x36b318(0x81e)));}window[_0x2bcb18(0xe57)]=handleGenerateAndShowLesson,window[_0x2bcb18(0x416)]=checkAnswer,window['handleGeneratePracticeTest']=handleGeneratePracticeTest,window[_0x2bcb18(0xd14)]=handleGenerateQuizFromBlueprintTopic;let cropperInstance=null;function ensureCropperModalExists(){const _0x4b6138=_0x2bcb18;if(document[_0x4b6138(0x932)](_0x4b6138(0xcd9)))return;const _0x995348=_0x4b6138(0xc9c);document[_0x4b6138(0x6ac)][_0x4b6138(0x677)](_0x4b6138(0x764),_0x995348),setupCropperButtons();}function setupCropperButtons(){const _0x143ad9=_0x2bcb18;document[_0x143ad9(0x932)](_0x143ad9(0x729))['addEventListener'](_0x143ad9(0x164),()=>{const _0xe666f0=_0x143ad9;document['getElementById']('cropper-modal')[_0xe666f0(0x360)]['add'](_0xe666f0(0x2f2)),cropperInstance&&(cropperInstance[_0xe666f0(0x6f1)](),cropperInstance=null),document[_0xe666f0(0x932)](_0xe666f0(0x48c))[_0xe666f0(0x99c)]='';}),document[_0x143ad9(0x932)](_0x143ad9(0xd30))[_0x143ad9(0x639)](_0x143ad9(0x164),()=>{const _0x5ab81d=_0x143ad9;if(!cropperInstance)return;const _0x31d9ae=document[_0x5ab81d(0x932)]('confirm-crop-btn'),_0x23a4b6=_0x31d9ae[_0x5ab81d(0xa16)];_0x31d9ae[_0x5ab81d(0xa16)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20กำลังประมวลผล...',_0x31d9ae[_0x5ab81d(0xad6)]=!![],cropperInstance[_0x5ab81d(0x9d0)]()[_0x5ab81d(0xc15)](async _0x394dfe=>{const _0x4e632e=_0x5ab81d;document['getElementById'](_0x4e632e(0xcd9))[_0x4e632e(0x360)][_0x4e632e(0x4a6)](_0x4e632e(0x2f2));const _0x2282ee=new File([_0x394dfe],'cropped_image.png',{'type':_0x4e632e(0x70d)});await handleScanImageForText(_0x2282ee),_0x31d9ae[_0x4e632e(0xa16)]=_0x23a4b6,_0x31d9ae['disabled']=![],cropperInstance[_0x4e632e(0x6f1)](),cropperInstance=null;},_0x5ab81d(0x70d));});}function startCropper(_0x14f4a4){const _0x34fa13=_0x2bcb18;ensureCropperModalExists();const _0x1512cf=document[_0x34fa13(0x932)]('cropper-modal'),_0x60cc47=document[_0x34fa13(0x932)](_0x34fa13(0xa3d)),_0x273327=new FileReader();_0x273327[_0x34fa13(0x905)]=_0x511f94=>{const _0x3900d9=_0x34fa13;_0x60cc47[_0x3900d9(0xc30)]=_0x511f94[_0x3900d9(0x5f8)]['result'],_0x1512cf[_0x3900d9(0x360)][_0x3900d9(0xcc8)](_0x3900d9(0x2f2));if(cropperInstance)cropperInstance[_0x3900d9(0x6f1)]();cropperInstance=new Cropper(_0x60cc47,{'viewMode':0x1,'dragMode':'move','autoCropArea':0.8,'restore':![],'guides':!![],'center':!![],'highlight':![],'cropBoxMovable':!![],'cropBoxResizable':!![],'toggleDragModeOnDblclick':![]});},_0x273327[_0x34fa13(0x96a)](_0x14f4a4);}document[_0x2bcb18(0x639)]('DOMContentLoaded',()=>{const _0x303e2a=_0x2bcb18,_0x3fc189=document[_0x303e2a(0x932)](_0x303e2a(0x48c)),_0x424708=document[_0x303e2a(0x932)](_0x303e2a(0xafd));_0x424708&&_0x3fc189&&(_0x424708[_0x303e2a(0x639)]('click',()=>{_0x3fc189['value']='',_0x3fc189['click']();}),_0x3fc189[_0x303e2a(0x639)](_0x303e2a(0x62d),_0x25a1a4=>{const _0x599457=_0x303e2a;_0x25a1a4[_0x599457(0x5f8)][_0x599457(0x98b)]&&_0x25a1a4[_0x599457(0x5f8)]['files'][_0x599457(0x752)]>0x0&&startCropper(_0x25a1a4[_0x599457(0x5f8)][_0x599457(0x98b)][0x0]);}));});async function handleScanImageForText(_0x182319){const _0x4f7f8e=_0x2bcb18,_0x84c819=document[_0x4f7f8e(0x932)](_0x4f7f8e(0x934)),_0x5ab244=document[_0x4f7f8e(0x932)](_0x4f7f8e(0x3de));if(!_0x182319)return;_0x5ab244['disabled']=!![],_0x5ab244['innerHTML']=_0x4f7f8e(0x50e),_0x84c819[_0x4f7f8e(0x914)]=_0x4f7f8e(0x4ce);try{const _0x10d359=await new Promise((_0x33899d,_0xfe3b58)=>{const _0x308a84=_0x4f7f8e,_0x196497=new FileReader();_0x196497['readAsDataURL'](_0x182319),_0x196497[_0x308a84(0x905)]=()=>_0x33899d(_0x196497['result'][_0x308a84(0x664)](',')[0x1]),_0x196497[_0x308a84(0x13e)]=_0xfe3b58;}),_0x1f17a0=_0x4f7f8e(0x901),_0x18fedb=[{'text':_0x1f17a0},{'inlineData':{'mimeType':_0x182319[_0x4f7f8e(0x587)],'data':_0x10d359}}],_0x33100b=await handleApiCall(_0x18fedb,_0x4f7f8e(0x74f),null,null,![]);if(_0x33100b){const _0x515459=_0x84c819[_0x4f7f8e(0x99c)][_0x4f7f8e(0xa4d)]();_0x84c819[_0x4f7f8e(0x99c)]=_0x515459?_0x515459+'\x0a\x0a'+_0x33100b:_0x33100b,showMessage(_0x4f7f8e(0xcbc));}else throw new Error(_0x4f7f8e(0x9d6));}catch(_0x30a950){console[_0x4f7f8e(0x1ac)](_0x4f7f8e(0x7ef),_0x30a950),showMessage(_0x4f7f8e(0x3d4)+_0x30a950['message']);}finally{_0x5ab244[_0x4f7f8e(0xad6)]=![],_0x5ab244['innerHTML']='<i\x20class=\x22fas\x20fa-camera\x22></i>\x20สแกนข้อความจากรูปภาพ',document[_0x4f7f8e(0x932)]('scan-text-image-input')[_0x4f7f8e(0x99c)]='';}}async function initialize(){const _0x11d802=_0x2bcb18;try{const _0x430dfb=initializeApp(firebaseConfig);db=getFirestore(_0x430dfb),auth=getAuth(_0x430dfb),setupAuthListener(),setupEventListeners(),showView(_0x11d802(0x18c)),renderTopicCheckboxes(),setupStudentProgressListeners(),resumeActiveGameSession(),listenForFileShortcuts(),listenForParallelTestShortcuts();}catch(_0x8911b2){console[_0x11d802(0x1ac)](_0x11d802(0x4a7),_0x8911b2),showMessage(_0x11d802(0x395));}}async function handleVerifyAnswersInEditor(){const _0x1b7b10=_0x2bcb18,_0x30219f=document[_0x1b7b10(0x932)](_0x1b7b10(0x546));if(!_0x30219f)return;const _0x385011=document[_0x1b7b10(0x932)](_0x1b7b10(0x163));_0x385011[_0x1b7b10(0xad6)]=!![],_0x385011[_0x1b7b10(0xa16)]=_0x1b7b10(0x276);try{const _0x1caf7f=_0x30219f[_0x1b7b10(0x38e)](_0x1b7b10(0xbb8)),_0xd5b38e=Array[_0x1b7b10(0x337)](_0x1caf7f)['map']((_0x355053,_0x3473d6)=>{const _0x48b013=_0x1b7b10,_0x584b9c=_0x355053[_0x48b013(0x134)]['qType'],_0x48bbb2=_0x355053[_0x48b013(0xc60)](_0x48b013(0x353))[_0x48b013(0x99c)];let _0x3e3dc1=null,_0x405d83='';switch(_0x584b9c){case'multiple_choice':const _0x5acc83=_0x355053[_0x48b013(0x38e)](_0x48b013(0x56f));_0x3e3dc1=Array[_0x48b013(0x337)](_0x5acc83)['map'](_0x4717a1=>_0x4717a1['value']);const _0x22b460=_0x355053[_0x48b013(0xc60)](_0x48b013(0x5a5));_0x22b460&&(_0x405d83=_0x3e3dc1[parseInt(_0x22b460[_0x48b013(0x99c)])]||'');break;case _0x48b013(0xafb):case _0x48b013(0xceb):_0x3e3dc1=[],_0x405d83=_0x355053[_0x48b013(0xc60)]('.ideal-answer-input')['value'];break;case _0x48b013(0x827):_0x3e3dc1=[_0x48b013(0x1b2),_0x48b013(0x7ba)];const _0x38d4d9=_0x355053[_0x48b013(0xc60)](_0x48b013(0x5a5));_0x405d83=_0x38d4d9?_0x38d4d9[_0x48b013(0x99c)]:'';break;case _0x48b013(0xb08):_0x3e3dc1=[],_0x405d83=_0x355053['querySelector'](_0x48b013(0x70b))[_0x48b013(0x99c)];break;}return{'questionIndex':_0x3473d6,'questionType':_0x584b9c,'question':_0x48bbb2,'options':_0x3e3dc1,'proposedAnswer':_0x405d83};}),_0x4bb504='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อใน\x20JSON\x20array\x20ที่ส่งมา\x20ให้ทำตามขั้นตอนดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์\x20\x22question\x22\x20และ\x20\x22proposedAnswer\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20**ตรวจสอบความถูกต้อง:**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ถ้า\x20\x22proposedAnswer\x22\x20ถูกต้อง\x20->\x20ตอบ\x20\x22isCorrect\x22:\x20true\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20**กรณีผิดหรือข้อมูลไม่ครบ\x20(สำคัญ):**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ถ้า\x20\x22proposedAnswer\x22\x20ผิด\x20หรือเป็นค่าว่าง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20หรือถ้า\x20\x22options\x22\x20ว่างเปล่า\x20หรือมีแต่ค่าขยะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20false\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20และ\x20**ต้องสร้าง\x20\x22newOptionsPayload\x22**\x20ขึ้นมาใหม่\x20โดยมีกฎเหล็กดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22newOptions\x22:\x20**ต้องเป็น\x20Array\x20ที่มี\x20String\x20จำนวน\x204\x20ตัวเลือกเสมอ**\x20(ห้ามขาด\x20ห้ามเกิน)\x20ประกอบด้วยคำตอบที่ถูก\x201\x20ข้อ\x20และตัวลวงสมเหตุสมผล\x203\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22newCorrectIndex\x22:\x20ตำแหน่ง\x20(0-3)\x20ของข้อที่ถูก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องตรวจสอบ:\x20'+JSON[_0x1b7b10(0x692)](_0xd5b38e)+_0x1b7b10(0x9b3),_0x2a1fa1={'type':'ARRAY','items':{'type':'OBJECT','properties':{'questionIndex':{'type':'NUMBER'},'isCorrect':{'type':_0x1b7b10(0x339)},'justification':{'type':_0x1b7b10(0x7d8)},'correctOptionExists':{'type':_0x1b7b10(0x339)},'suggestedAnswer':{'type':_0x1b7b10(0x7d8)},'newOptionsPayload':{'type':_0x1b7b10(0xde5),'properties':{'newOptions':{'type':'ARRAY','items':{'type':_0x1b7b10(0x7d8)}},'newCorrectIndex':{'type':'NUMBER'}},'required':['newOptions',_0x1b7b10(0x213)]}},'required':['questionIndex',_0x1b7b10(0x129),_0x1b7b10(0xc1d)]}},_0x1a1553=await callAnalysisApi(_0x4bb504,{'type':_0x1b7b10(0xde5),'properties':{'result':_0x2a1fa1},'required':[_0x1b7b10(0x72b)]});if(_0x1a1553&&_0x1a1553[_0x1b7b10(0x72b)])displayVerificationResultsInEditor(_0x1a1553[_0x1b7b10(0x72b)]);else throw new Error(_0x1b7b10(0xa20));}catch(_0x40d96b){console[_0x1b7b10(0x1ac)](_0x1b7b10(0x9df),_0x40d96b),showMessage(_0x1b7b10(0x28e)+_0x40d96b[_0x1b7b10(0x523)]);}finally{_0x385011[_0x1b7b10(0xad6)]=![],_0x385011[_0x1b7b10(0xa16)]='<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)';}}function displayVerificationResultsInEditor(_0x3105d1){const _0x1dc87c=_0x2bcb18;_0x3105d1[_0x1dc87c(0x39f)](_0x546daa=>{const _0xc987d3=_0x1dc87c,_0x43fcb1=document[_0xc987d3(0xc60)](_0xc987d3(0x404)+_0x546daa['questionIndex']+'\x22]');if(!_0x43fcb1)return;const _0x309e37=_0x43fcb1[_0xc987d3(0xc60)]('.verification-result-editor');if(_0x309e37)_0x309e37[_0xc987d3(0xcc8)]();let _0x4bd77f='';if(_0x546daa[_0xc987d3(0x35d)]&&_0x546daa[_0xc987d3(0x35d)]['newOptions']){const _0x507cbe=_0x546daa['newOptionsPayload'][_0xc987d3(0x381)],_0xfbee2a=_0x546daa[_0xc987d3(0x35d)]['newCorrectIndex'],_0x52c849=_0x43fcb1[_0xc987d3(0x134)][_0xc987d3(0x66e)];if(_0x52c849==='multiple_choice'){const _0x21ec2a=_0x43fcb1[_0xc987d3(0x38e)](_0xc987d3(0x56f));_0x21ec2a[_0xc987d3(0x39f)]((_0x1f01f7,_0x4fcfa1)=>{const _0x21defa=_0xc987d3;_0x507cbe[_0x4fcfa1]?_0x1f01f7[_0x21defa(0x99c)]=_0x507cbe[_0x4fcfa1]:_0x1f01f7[_0x21defa(0x99c)]='---\x20(AI\x20ไม่ได้สร้างตัวเลือกนี้)\x20---';});const _0x53a757=_0x43fcb1['querySelector'](_0xc987d3(0x3f1)+_0xfbee2a+'\x22]');_0x53a757&&(_0x53a757[_0xc987d3(0xc62)]=!![]),_0x4bd77f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-yellow-400\x20bg-yellow-50\x20text-yellow-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-magic-wand-sparkles\x20mr-2\x22></i>AI\x20ตรวจไม่พบคำตอบที่ถูกต้อง!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ระบบได้สร้างชุดตัวเลือกใหม่\x20และแก้ไขเฉลยให้ถูกต้องอัตโนมัติแล้ว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',_0x43fcb1[_0xc987d3(0x360)][_0xc987d3(0x4a6)]('bg-yellow-200',_0xc987d3(0xa77),'duration-300'),setTimeout(()=>{_0x43fcb1['classList']['remove']('bg-yellow-200');},0x9c4);}}else{if(!_0x546daa[_0xc987d3(0x129)]&&_0x546daa['suggestedAnswer']){const _0x5351d=_0x546daa[_0xc987d3(0x5bc)]?'\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>':'';_0x4bd77f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง'+_0x5351d+_0xc987d3(0xa2c)+_0x546daa['justification']+_0xc987d3(0x586)+(_0x546daa[_0xc987d3(0x5bc)]?'<p><strong>คำตอบที่แนะนำ:</strong>\x20'+_0x546daa[_0xc987d3(0x5bc)]+_0xc987d3(0x463):'')+_0xc987d3(0x86b);const _0x2b8af6=_0x43fcb1['dataset'][_0xc987d3(0x66e)],_0x589998=_0xa005c0=>{const _0x4f2663=_0xc987d3;if(!_0xa005c0)return;_0xa005c0['classList'][_0x4f2663(0x4a6)](_0x4f2663(0x8bc),_0x4f2663(0xa77),_0x4f2663(0xc79)),setTimeout(()=>{const _0x2e5039=_0x4f2663;_0xa005c0[_0x2e5039(0x360)][_0x2e5039(0xcc8)](_0x2e5039(0x8bc));},0x9c4);};if(_0x2b8af6==='multiple_choice'){const _0x4e1d72=Array[_0xc987d3(0x337)](_0x43fcb1[_0xc987d3(0x38e)](_0xc987d3(0x56f))),_0x159178=_0x4e1d72[_0xc987d3(0x2b7)](_0x5f29bc=>_0x5f29bc[_0xc987d3(0x99c)]['trim']()['toLowerCase']()===_0x546daa[_0xc987d3(0x5bc)][_0xc987d3(0xa4d)]()[_0xc987d3(0x4ea)]());if(_0x159178!==-0x1){const _0x1a48bd=_0x43fcb1[_0xc987d3(0xc60)](_0xc987d3(0x3f1)+_0x159178+'\x22]');_0x1a48bd&&(_0x1a48bd['checked']=!![],_0x589998(_0x1a48bd[_0xc987d3(0x1d0)]('div')));}}else{if(_0x2b8af6===_0xc987d3(0xafb)||_0x2b8af6===_0xc987d3(0xb08)){const _0x48b76d=_0x43fcb1[_0xc987d3(0xc60)](_0xc987d3(0xc9d));_0x48b76d&&(_0x48b76d[_0xc987d3(0x99c)]=_0x546daa[_0xc987d3(0x5bc)],_0x589998(_0x48b76d));}else{if(_0x2b8af6==='true_false'){const _0x364aec=_0x546daa[_0xc987d3(0x5bc)][_0xc987d3(0xa4d)]()[_0xc987d3(0x4ea)](),_0x2d6f03=_0x43fcb1['querySelector'](_0xc987d3(0x3f1)+_0x364aec+'\x22]');_0x2d6f03&&(_0x2d6f03['checked']=!![],_0x589998(_0x2d6f03['closest'](_0xc987d3(0xd2a))));}}}}else _0x546daa[_0xc987d3(0x129)]&&(_0x4bd77f=_0xc987d3(0x37d));}_0x43fcb1[_0xc987d3(0x677)](_0xc987d3(0x764),_0x4bd77f);}),showMessage(_0x1dc87c(0x940));}async function handleVerifyAnswers(){const _0x20d62c=_0x2bcb18;if(!currentQuizData||!currentQuizData[_0x20d62c(0xc46)]){showMessage(_0x20d62c(0x20d));return;}const _0x19e5a1=document[_0x20d62c(0x932)]('verify-answers-btn');_0x19e5a1[_0x20d62c(0xad6)]=!![],_0x19e5a1[_0x20d62c(0xa16)]=_0x20d62c(0x276);try{const _0x1cd46a=currentQuizData['questions'][_0x20d62c(0xe49)]((_0x22e346,_0x1ef54a)=>{const _0x4fa60d=_0x20d62c;let _0x2711b5='';const _0x153986=_0x22e346[_0x4fa60d(0x2ed)]||currentQuizData[_0x4fa60d(0x2de)];switch(_0x153986){case _0x4fa60d(0x47e):_0x2711b5=_0x22e346[_0x4fa60d(0x3e2)][_0x22e346[_0x4fa60d(0x52a)]];break;case _0x4fa60d(0xafb):_0x2711b5=_0x22e346[_0x4fa60d(0xbe7)];break;case'true_false':_0x2711b5=_0x22e346[_0x4fa60d(0x8f4)][_0x4fa60d(0xdcb)]();break;case _0x4fa60d(0xb08):_0x2711b5=_0x22e346[_0x4fa60d(0xd79)];break;}return{'question':_0x22e346['stem']||_0x22e346[_0x4fa60d(0xca8)],'options':_0x22e346[_0x4fa60d(0x3e2)]||null,'proposedAnswer':_0x2711b5};}),_0x21fead=_0x20d62c(0xc49)+JSON['stringify'](_0x1cd46a)+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x27c63d={'type':_0x20d62c(0xd66),'items':{'type':_0x20d62c(0xde5),'properties':{'questionIndex':{'type':'NUMBER'},'isCorrect':{'type':_0x20d62c(0x339)},'justification':{'type':_0x20d62c(0x7d8)},'suggestedAnswer':{'type':_0x20d62c(0x7d8)}},'required':[_0x20d62c(0xa22),_0x20d62c(0x129),_0x20d62c(0xc1d)]}},_0x50dc0b=await callAnalysisApi(_0x21fead,{'type':_0x20d62c(0xde5),'properties':{'result':_0x27c63d},'required':['result']});displayVerificationResults(_0x50dc0b[_0x20d62c(0x72b)]);}catch(_0x16b442){console[_0x20d62c(0x1ac)](_0x20d62c(0x912),_0x16b442),showMessage(_0x20d62c(0xd1f));}finally{_0x19e5a1[_0x20d62c(0xad6)]=![],_0x19e5a1[_0x20d62c(0xa16)]='<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง';}}function displayVerificationResults(_0xf5b4cf){const _0x1be039=_0x2bcb18;_0xf5b4cf['forEach'](_0x12c068=>{const _0x4b77f3=_0x63b3,_0x40227a=document[_0x4b77f3(0xc60)](_0x4b77f3(0xabe)+_0x12c068[_0x4b77f3(0xa22)]+'\x22]');if(_0x40227a){const _0x2f27b0=_0x40227a[_0x4b77f3(0xc60)](_0x4b77f3(0x58c));if(_0x2f27b0)_0x2f27b0[_0x4b77f3(0xcc8)]();let _0x5acae8='';_0x12c068[_0x4b77f3(0x129)]?_0x5acae8=_0x4b77f3(0x6fd):_0x5acae8='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20'+_0x12c068[_0x4b77f3(0xc1d)]+_0x4b77f3(0x1e8)+(_0x12c068[_0x4b77f3(0x5bc)]?_0x4b77f3(0x56b)+_0x12c068[_0x4b77f3(0x5bc)]+_0x4b77f3(0x463):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x40227a['insertAdjacentHTML'](_0x4b77f3(0x764),_0x5acae8);}}),showMessage(_0x1be039(0x940));}function compareNumericalAnswers(_0xe3c41f,_0x1f6ae5){const _0x5932af=_0x2bcb18,_0x297c9f=String(_0xe3c41f)[_0x5932af(0xdcc)](',','.')['replace'](/[^\d.-]/g,'')['trim'](),_0x52af83=String(_0x1f6ae5)[_0x5932af(0xdcc)](',','.')[_0x5932af(0xdcc)](/[^\d.-]/g,'')[_0x5932af(0xa4d)]();if(_0x297c9f===''||_0x52af83==='')return![];const _0x75aa9f=parseFloat(_0x297c9f),_0x53ec40=parseFloat(_0x52af83);if(isNaN(_0x75aa9f)||isNaN(_0x53ec40))return![];return Math['abs'](_0x75aa9f-_0x53ec40)<0.001;}function isPotentiallyNumeric(_0x5c5e90){const _0x1ad674=_0x2bcb18;if(typeof _0x5c5e90!=='string'&&typeof _0x5c5e90!==_0x1ad674(0x5fa))return![];const _0x8df20f=String(_0x5c5e90)[_0x1ad674(0xdcc)](',','.')[_0x1ad674(0xa4d)]();return _0x8df20f!==''&&!isNaN(parseFloat(_0x8df20f))&&isFinite(_0x8df20f);}async function gradeShortAnswer(_0x88aefd,_0xdd30fc){const _0x19111b=_0x2bcb18,_0x14c1a2=_0xdd30fc[_0x19111b(0xbe7)],_0x4b18ff=String(_0x88aefd)['replace'](/\$/g,'')['trim'](),_0x4d59dc=String(_0x14c1a2)[_0x19111b(0xdcc)](/\$/g,'')[_0x19111b(0xa4d)]();if(_0x4b18ff[_0x19111b(0x4ea)]()===_0x4d59dc['toLowerCase']())return!![];if(isPotentiallyNumeric(_0x4b18ff)&&isPotentiallyNumeric(_0x4d59dc)){if(compareNumericalAnswers(_0x4b18ff,_0x4d59dc))return!![];}return console[_0x19111b(0x273)]('Exact/Numeric\x20checks\x20failed.\x20AI\x20grading\x20is\x20DISABLED.'),![];}async function revealAnswerForAdmin(_0x3dd6bf,_0x144c78){const _0x2e222b=_0x2bcb18,_0x19c6be=doc(db,_0x2e222b(0x6e6)+appId+_0x2e222b(0x903),currentLiveGameId);await updateDoc(_0x19c6be,{'questionStatus':_0x2e222b(0x5db)});}function _0x4d61(){const _0x28e945=['</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>','ไม่พบข้อมูลแบบทดสอบที่ใช้ในเกมนี้','<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','toString','replace','ส้มตำปูปลาร้า','undefined','curriculum','ส่วนเบี่ยงเบนมาตรฐาน','เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API','project-quizzes-list','เกิดข้อผิดพลาดในการบันทึกโปรเจค','<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>','generate-from-parallel-test-btn','ลบคำถามแล้ว\x20(อย่าลืมกด\x20\x27บันทึกการแก้ไข\x27\x20เพื่อยืนยัน)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.delete-custom-topic-btn','ฮัลค์','.project-card-container[data-id]','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=','ย้าย','stdDev','input[type=\x22checkbox\x22]','รอผู้ควบคุมแสดงผลสรุปสุดท้าย...','text-green-600\x20font-bold','บักแตงโม','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','คนดีศรีสยาม','ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างแบบทดสอบตามปกติ','OBJECT','ไม่พบเนื้อหาบทเรียนสำหรับ\x20Export','project-detail','isNormalTopic','bp-modal-shuffle-setting-select','answered','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','textContent','quiz-leaderboard-table','FIRST_TRY_ACE','Failed\x20to\x20apply\x20forceConfident:','desc','เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20','pop','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>','global-activity-quiz-list','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>','createGain','font-bold\x20text-green-700','Error\x20adding\x20students:','ดวงดาว','displayRank','(ก่อนเรียน)\x20','\x22\x20class=\x22edit-hidden-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','input[name=\x22drill_answer\x22]:checked','schedule','shortcutOrder','fa-fire\x20text-orange-500','translate','<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>','modal-results-display-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Could\x20not\x20fetch\x20reference\x20file:','parallel-shortcuts-loading-msg','<span\x20class=\x22text-blue-300\x20ml-1\x20text-2xl\x20drop-shadow-md\x22>🎓</span>','resultsDisplay','cancel-file-shortcut-edit-btn','เกิดข้อผิดพลาดในการบันทึกการจัดเรียง','<p><strong>คำตอบของคุณ:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','loader','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','subTopic','text-tab','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','file-shortcut-editor-modal','การบวก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-black/10','วิเคราะห์ข้อความ\x20Test\x20Blueprint\x20วิชาคณิตศาสตร์นี้:\x20\x22','pinnedProjects','Failed\x20to\x20kick\x20player\x20','bg-green-500','onclick','getBoundingClientRect',':</span><span>','.bp-present-btn','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20fetching\x20projects\x20for\x20move:','GlobalWorkerOptions','-\x20ข้อ\x20','cancel-move-quiz-btn','scale-125','group','/public/data/customMathTopics','AI\x20Formula\x20Fix\x20Error:','สามเหลี่ยม\x20(ชนิด/สมบัติ)','ไม่พบโปรเจค','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>','viewBox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','setAttributeNS','playerIndex','\x22\x0a(ใส่ค่าเดิมที่ถูกต้องลงไป)','การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','bg-gray-300\x20text-gray-500\x20cursor-not-allowed\x20border\x20border-gray-300','\x20ครั้ง)</span></td>','pointsAwarded','btn','อกหัก','bg-green-50','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>','27411472','จัดการ','เซียนสมองไว','.pointsLastRound','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของกลุ่ม...\x22></textarea>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','imageCode','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>','\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','buyTime','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22','\x22\x20value=\x22','ติดซีรีส์','answerValue','code','map','<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white/30\x22>','\x20กลุ่ม</p></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','shadowBlur','\x22\x20data-value=\x22confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-smile-beam\x20mr-2\x22></i>มั่นใจ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20not-confident\x22\x20data-question-index=\x22','แบบเติมคำตอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','sync','กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน','พื้นที่สามเหลี่ยม','post-test','parallel-shortcut-url-input','stroke','handleGenerateAndShowLesson','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...','default-1','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','⚡️\x2050:50\x20ทำงาน!\x20ตัดตัวเลือกผิดออกไปแล้ว!','cloneNode','fix-lesson-latex-btn','bg-black/20','save-quiz-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือวิเคราะห์\x20\x22ไฟล์ข้อสอบต้นฉบับที่แนบมานี้\x22\x20อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20และระดับความยาก\x20จากนั้นให้สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x20แต่ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามคัดลอกโจทย์เดิมโดยเด็ดขาด\x20จำนวนข้อและประเภทคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คำสั่งพิเศษเรื่องตัวเลือก\x20(Distractors):**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ในการสร้างโจทย์ข้อใหม่\x20ห้ามสุ่มตัวลวงมั่วๆ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตัวลวงต้องมีความ\x20\x22สมมูล\x22\x20กับข้อสอบต้นฉบับ\x20คือดักทางผิดในจุดเดียวกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20เช่น\x20ถ้าต้นฉบับดักคนลืมคูณ\x202,\x20โจทย์คู่ขนานของคุณก็ต้องมีตัวลวงที่ดักคนลืมคูณ\x202\x20เช่นกัน\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**กฎเพิ่มเติม:**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20กฎสำหรับข้อสอบเติมคำ\x20(พิมพ์ตอบเอง):คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20*\x20ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','modified','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง','Auto-linking\x20new\x20quiz\x20','Failed\x20to\x20resume\x20game\x20session:','POST','ค่าสัมบูรณ์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27\x20และ\x20\x27ลิงก์\x20Test\x20Blueprint\x27','ใช้ไอเทม\x20','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','กฎของไซน์','player-count','🎓\x20','bg-gray-200\x20hover:bg-gray-300\x20text-gray-700','การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','smooth','\x22\x20class=\x22remove-parallel-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','export-lesson-pdf-btn','.unpair-quiz-btn','confidence-modal','tan','Error\x20listening\x20for\x20projects:','project-search-input','<span\x20title=\x22ใช้:\x20ซื้อเวลา\x22>⏳</span>','.game-start-btn','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?','กรุณาใส่ชื่อโปรเจค','passcode-error-msg','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-center\x20py-3\x20px-4\x20rounded-lg\x20bg-gradient-to-r\x20from-yellow-400\x20to-yellow-600\x20text-black\x20font-extrabold\x20mb-3\x20animate-pulse\x20border-4\x20border-yellow-200\x20shadow-lg\x20text-xl\x20transform\x20scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สอบปกติ','Error\x20calculating\x20final\x20scores:','\x22><i\x20class=\x22fas\x20','push','จากไฟล์ที่แนบมานี้,\x20','ช่างภาพ','คณิตศาสตร์','hasOwnProperty','close-additional-file-shortcuts-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20','Error\x20saving\x20reference\x20URL:',',\x20r=','save-quiz-edits-btn','save-game-results-checkbox','include-images-checkbox','.parallel-shortcut-btn','text-yellow-800','เศรษฐีดูไบ','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','จอมเวทย์ขนมหวาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','454648zpqXKg','quiz-id-input','.status','checkbox','buy-time-quantity-input','(เลือกแล้ว\x20','Unexpected\x20API\x20response\x20structure:','quadraticCurveTo','.bp-edit-topic-btn','parentNode','\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','363560HCFhiP','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','.ai-content\x20p','คุณไม่มีไอเทมนี้ในคลัง\x20(กรุณาลองรีเฟรชหน้าจอ)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**[กฎรูปแบบ]\x20','ต้นฉบับ\x202','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','line-through\x20text-red-700','export-tutor-pdf-btn','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>','offsetWidth','\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20','พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)','.pen-size-btn','dimmed','<option\x20value=\x22\x22>ยังไม่มีโปรเจคให้เลือก</option>','ลบหัวข้อสำเร็จ','คนคุย','จำนวนและการดำเนินการ','</div></div></div>','File\x20content\x20identified\x20as\x20PDF\x20by\x20its\x20magic\x20number.','ดาวสภา','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-3\x20border\x20rounded-lg\x20','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','จากเนื้อหาต่อไปนี้:\x20\x22','แบบทดสอบฝึกฝนเรื่อง:\x20','project-list','back-to-student-initial-btn','getBBox','Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง','กรุณาป้อนรหัส\x20Sync\x20Game\x20(2\x20หลัก):','โลมาบิน','...\x22)?','Error\x20starting\x20sync\x20game:','อสมการเชิงเส้น','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>','จำนวนเต็มบวก','.quiz-bank-present-btn','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-teal-500\x20hover:bg-teal-600\x20text-white','fileShortcutsConfig','isCorrect','\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20','.quiz-bank-try-btn','source_document.pdf','nextElementSibling','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','สัญกรณ์วิทยาศาสตร์','results-quiz-id-display','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','<tr\x20class=\x22','/public/data/quizzes/','dataset','<i\x20class=\x22fas\x20fa-ban\x22></i>\x20ไม่มีตัวเลือก','generate-from-link-btn','**\x20(ต้องเป็นภาษาไทยเท่านั้น)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างเฉลยและคำอธิบายสำหรับทุกข้อ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการใช้ไอเทม','ข้อที่\x20','w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighter-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกาไฮไลท์\x22><i\x20class=\x22fas\x20fa-highlighter\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x09\x09\x0a\x09\x09<div\x20id=\x22eraser-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2220\x22\x20title=\x22ยางลบขนาดเล็ก\x20(20)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-2\x20h-2\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2240\x22\x20title=\x22ยางลบขนาดกลาง\x20(40)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-3\x20h-3\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2280\x22\x20title=\x22ยางลบขนาดใหญ่\x20(80)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-4\x20h-4\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22pen-tools-group\x22\x20class=\x22tool-group\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22highlighter-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(255,\x20255,\x200,\x200.5)\x22\x20style=\x22background-color:\x20yellow;\x22\x20title=\x22สีเหลือง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(59,\x20130,\x20246,\x200.5)\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(236,\x2072,\x20153,\x200.5)\x22\x20style=\x22background-color:\x20#EC4899;\x22\x20title=\x22สีชมพู\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(34,\x20197,\x2094,\x200.5)\x22\x20style=\x22background-color:\x20#22C55E;\x22\x20title=\x22สีเขียว\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(249,\x20115,\x2022,\x200.5)\x22\x20style=\x22background-color:\x20#F97316;\x22\x20title=\x22สีส้ม\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(168,\x2085,\x20247,\x200.5)\x22\x20style=\x22background-color:\x20#A855F7;\x22\x20title=\x22สีม่วง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-text-height\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22highlighter-size-slider\x22\x20type=\x22range\x22\x20min=\x225\x22\x20max=\x2250\x22\x20value=\x2220\x22\x20class=\x22w-24\x20h-2\x20bg-gray-200\x20rounded-lg\x20appearance-none\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22highlighter-size-value\x22\x20class=\x22text-sm\x20font-mono\x20w-8\x20text-center\x22>','text','onerror','data','<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>',')\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่สามารถโหลดรายการได้</p>','pathname','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','triangle','overline','Export\x20Image\x20Error:','จำนวนนักเรียน','.quiz-status-btn','bg-gray-400','คนโสด','preTScore','\x20\x0a\x20\x20\x20\x20','editor-quiz-topic','ถ้าคุณตอบข้อนี้ผิด\x20คุณจะได้เลือกตอบอีก\x201\x20ครั้ง','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','mouseleave','\x27\x20ในหัวข้อ\x20\x27','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','screen','referenceFileUrl','<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>','.answers','.topic-selection-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','Error\x20analyzing\x20file\x20for\x20topics:','activeGameSession','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-full\x20text-center\x20p-8\x20bg-black/20\x20rounded-lg\x20border-2\x20border-dashed\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye-slash\x20text-4xl\x20text-yellow-300\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20text-white\x22>ตัวเลือกถูกซ่อนอยู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-indigo-200\x20mt-2\x22>(นักเรียนต้องใช้ไอเทม\x20\x22เผยตัวเลือก\x22\x20จึงจะเห็นปุ่ม)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','blockReason','overflowY','.admin-try-quiz-list-btn','\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง','verify-answers-editor-btn','click','shortcutIds','cancel-quiz-status-btn','file-tab','<div\x20class=\x22answer-space\x22></div>','เกิดข้อผิดพลาดในการจับคู่','element','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','confidence-scoring-description','\x22\x20class=\x22remove-file-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว','<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>','\x22\x20style=\x22','write','confidence_single','new-question-type-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ml-4\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','สร้างแบบทดสอบคู่ขนานสำเร็จแล้ว!','ยอดเยี่ยม','text-gray-500','</span></td>','parallel-default-2','password-error-msg','pairedQuizId','stopPropagation','generate-from-blueprint-btn','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>','badges','ไม่มีผู้ตอบตัวเลือกนี้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-6\x22>สรุปอันดับ\x20(รายบุคคล)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','lobby','ท็อปฟอร์ม','responseSchema','รูปแบบการให้เหตุผล','ไม่สามารถสร้างโปรเจคได้','lesson-loader-text','\x22\x20data-pre-test-id=\x22','text-red-900','results-quiz-title','players','student','<div\x20class=\x22flex-1\x22></div>','visibilitychange','now','bg-red-500','กำลังอ่านและเตรียมไฟล์ต้นฉบับ...','เกิดข้อผิดพลาดในการแก้ไขหัวข้อ','กรุณาเลือกชื่อของคุณ','</option>','การหาร','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-group-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.toggle-hidden-options-btn','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','-tab','.kick-player-btn-sync','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20','wakeLock','.topic-name-display','คุณแน่ใจว่าต้องการลบแท็บ\x20\x22','check-presentation-answer-btn','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20PIN:\x20<strong\x20class=\x22font-bold\x22>','ตัวเลือก\x20ข','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20','restore','เกิดข้อผิดพลาดในการลบแบบทดสอบ','ตัดตัวเลือกที่\x20\x22ผิด\x22\x20ออก\x201\x20ข้อ','flex\x20flex-col\x20gap-2','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์ข้อสอบ\x20\x22','อินฟลูเอนเซอร์','พาราโบลา','\x5cfrac{$1}{$2}','grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4','error','bp-reference-file-url','mouseup','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22mt-6\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x22>กลับหน้าแรก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.presentation-option','#student-project-leaderboard-content\x20thead','true','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','file-shortcut-id-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20คน\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','wasJinxed','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','price','วงรี','width\x2060s\x20linear','<option\x20value=\x22','highlighter','localeCompare','<button\x20id=\x22use-powerup-cutOne\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>✂️\x20ตัด\x201\x20(',')</span></div>','):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x20auto-resize-textarea\x22>','.sortable-header','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x20<span\x20class=\x22text-orange-500\x20animate-pulse\x20font-bold\x22\x20title=\x22On\x20Fire!\x20(x2\x20Points)\x22>🔥\x20x','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','underline','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','.shortcut-btn','เกิดข้อผิดพลาดในการสร้างรูปภาพ','admin-password-input','projectName','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22','per-question-options','สลับไปโหมดนักเรียน','closest','request','lesson-view-content','ตารางความถี่','ส่วนเบี่ยงเบนเฉลี่ย','เสือซ่อนเล็บ','\x20ข้อแล้ว!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-[10px]\x20text-white/90\x20mt-1\x20font-normal\x20bg-black/10\x20rounded\x20px-2\x20py-0.5\x20inline-block\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20⚠️\x20การใช้ตัวช่วย\x20(ยกเว้นเดิมพัน)\x20จะรีเซ็ต\x20Combo\x20เป็น\x200\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.\x20ให้เหมาะสำหรับใช้เป็นแผ่นสรุปก่อนสอบ\x20โดยต้องรวมแนวคิดสำคัญ,\x20สูตรหลัก\x20(ใช้\x20LaTeX),\x20และตัวอย่างการนำไปใช้ที่สำคัญ\x20โดยใช้\x20Markdown\x20ในการจัดรูปแบบ','Error\x20adding\x20custom\x20topic:','ความชันและเส้นตรง','input[name=\x22syncVariant\x22][value=\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','clearRect','open','ยังไม่ส่ง','countdown-display','\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','SAFETY','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>','rename-quiz-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','live-game','isScored','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คำตอบที่ถูกต้อง','\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กิจกรรมสิ้นสุดลงแล้ว','Error\x20starting\x20live\x20race:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','⚡️\x20ตัดตัวเลือกผิดออกไป\x201\x20ข้อแล้ว!','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>','document','per_question','getPage','แผนภาพเวนน์','json','</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20bg-gray-50\x20border\x20border-gray-200\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-between\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20text-left\x22>','\x22\x20class=\x22delete-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','status','val','ใช่\x20/\x20ถูก','blueprint-shortcut-container','manage-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x20shrink-0\x22>จบเกม</button>','\x5cneq','Error\x20toggling\x20pin\x20status:','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','doc','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20(','Failed\x20to\x20end\x20group\x20mode\x20game:','<i\x20class=\x22fas\x20fa-square-root-alt\x22></i>','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','คุณมี\x20Points\x20ไม่พอ\x20(ต้องใช้\x201P)','\x0a\x0aไฟล์ข้อสอบอ้างอิง:\x0a','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20sm:flex-row\x20sm:items-center\x20gap-1\x20sm:gap-3\x20min-w-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','dim-overlay','AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้','ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน','bg-red-100','bestScore','team-student-list','\x22\x20data-index=\x22','leaderboard-quiz-tab-content','newCorrectIndex','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x20mt-3\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว','cancel-blueprint-projects-btn','confirm-admin-login-btn','additional-parallel-shortcuts-modal','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>','เพิ่มปุ่มลัดข้อสอบต้นฉบับ','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','per-question-text','นินจาชาเขียว','parts','<i\x20class=\x22fas\x20fa-check-circle\x22></i>','กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ','สร้างแบบทดสอบปรนัย','\x5cdiv','text-green-800','.start-presentation-list-btn','hasPerfectScoreBonus','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x20(มีตัวเลือกให้)\x27\x20(มี\x20','pointerdown','พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20','\x20หัวข้อ)','mousemove','tab_','<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','perQuestionStats','loader-text','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','q-image-container-','scores-tab-btn','การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์','student-team-join','modal-confidence-scoring-checkbox','แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22','ฟังก์ชันพหุนาม','sync-timer-countdown','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','blueprint-upload-input','\x22\x20title=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20title=\x22ใช้เวลา\x22>⏳</span>','delete','delete-all-students-btn','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>','ใช้\x20\x22บังคับมั่นใจ\x22\x20กับ\x20','requestFullscreen','มี\x20Points\x20ไม่เพียงพอ','#FFFFFF','<div\x20class=\x22flex\x20gap-4\x22><button\x20id=\x22reveal-names-btn\x22\x20class=\x22w-1/2\x20bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22><i\x20class=\x22fas\x20fa-eye\x22></i>\x20เปิดเผยชื่อจริง</button><button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-1/2\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ดู\x20Podium\x20<i\x20class=\x22fas\x20fa-trophy\x22></i></button></div>','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20(','passingScore','thead\x20.sortable-header','firstScore','\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','<th\x20class=\x22py-2\x20px-2\x20border-b\x22>','กำลังวิเคราะห์หัวข้อ...','mode','border-green-700','live-player-list','New\x20question\x20detected.\x20Cleaning\x20up.','bp-modal-passing-score-input','\x20ชิ้น)','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','\x20ตัวเลือก)','<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>','รายการนี้','ตรวจคะแนนใหม่\x20','border-red-300\x20bg-red-50','</p><div>','<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','jspdf','มุมพิเศษ\x2045°-45°-90°','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','cdot','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','substr','\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','Error\x20deleting\x20submission:','กำลังโหลดคลังข้อสอบทั้งหมด...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวิเคราะห์หลักสูตร\x20จากเนื้อหาของไฟล์ข้อสอบที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสกัด\x20\x22หัวข้อหลัก\x22\x20(Key\x20Topics)\x20ที่ข้อสอบนี้วัดผลออกมาเป็นรายการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามแต่ละข้อว่าอยู่เรื่องอะไร\x20แล้วสรุปเป็นรายการหัวข้อที่ไม่ซ้ำกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20สรุปหัวข้อให้สั้นและตรงประเด็น\x20(เช่น\x20\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตอบกลับเป็น\x20JSON\x20object\x20ที่มี\x20key\x20ชื่อ\x20\x22topics\x22\x20โดยค่าของมันคือ\x20array\x20ของ\x20string\x20ที่เป็นชื่อหัวข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่างผลลัพธ์:\x20{\x20\x22topics\x22:\x20[\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','toISOString','dragstart','instantWager','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','onchange','log','replaceChild','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','generated-quiz-container','เส้นตรง:\x20รูปแบบสมการ','นักดนตรี','comparison-overall-tab','ปริพันธ์จำกัด','ผู้ควบคุม\x20(ทดสอบ)','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>','isAdaptive','ai-quiz-app-aefee.firebasestorage.app','ไม่พบ\x20Sync\x20Game\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','lastAnswerCorrect','values','choices_only','เกิดข้อผิดพลาดในการใช้ตัวช่วย','ref','teacherSuggestions','wheel','bp-modal-difficulty-level-select','nickname-input','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-300\x20ml-2\x22>(','\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>','generate-from-file-btn','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ:\x20','connect','parallel-test-upload-input','.use-hidden-parallel-shortcut-btn','additional-shortcuts-list','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>','text-indigo-700','show-final-results-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-blue-400\x20to-cyan-500\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-undo-alt\x20fa-lg\x22></i>\x20<span>โอกาสครั้งที่สอง!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20opacity-90\x22>ตอบผิดได้\x201\x20ครั้งโดยไม่เสียคะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','อุณหภูมิและการแปลง','\x22\x20class=\x22delete-parallel-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','ไม่ใช่\x20/\x20ผิด','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','parallel-shortcut-id-input','<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','analyze-strengths-btn','หน่วยเวลาและการคำนวณเวลา','.delete-shortcut-tab-btn','เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้','md:col-span-1','Error\x20adding\x20topic:','matching','ต้นฉบับ\x201','สายลมแห่งโชคชะตา','modal-message','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<button\x20data-quiz-id=\x22','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','anon-show-answer-toggle','wager-modal','<div\x20class=\x22','shortcutId','แบบทดสอบจากคลังส่วนตัว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','comeback_king','findIndex','\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','</li>','indexOf','left','สเกลและแผนที่','</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x20','save-shortcut-btn','\x20เป็น\x20','เกิดข้อผิดพลาดในการบันทึกหัวข้อ','</h5>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>',':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x22>','ไม่สามารถโหลดคลังข้อสอบได้','close-lesson-view-btn','<span\x20class=\x22block\x20text-sm\x20','splice','export-worksheet-pdf-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fixedData','applicationData','แปลงร่าง','date_desc','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','move-quiz-project-select','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20lg:grid-cols-3\x20gap-2\x22>','.move-file-shortcut-menu-btn','\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม\x20\x22ใหม่\x22\x20ที่สร้าง\x20ต้องมีระดับความยากและสไตล์ใกล้เคียงกับต้นฉบับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','open-market-btn','cancel-rename-quiz-btn','กำลังจับคู่...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','ค.ร.น.\x20(LCM)','doughnut','quizType','กำลังสร้างแบบทดสอบจากหัวข้อ...','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','</p><div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','230358BhgVsS','results-table-container','Failed\x20to\x20apply\x20jinx:','dragover','cancel-global-activity-btn','mean','sara','🔁\x20โอกาสครั้งที่สอง','student-name-select','keyConcepts','ปวดหลัง','questionType','\x22?\x20การกระทำนี้จะลบ\x20\x22บทเรียนทั้งหมด\x22\x20และ\x20\x22แบบทดสอบที่เชื่อมโยงอยู่ทั้งหมด\x22\x20อย่างถาวร\x20ไม่สามารถกู้คืนได้!','/public/data/syncGames','/submissions','\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','hidden','cancel-passcode-btn','Error\x20moving\x20quiz:','arrayBuffer','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','ฟังก์ชันค่าสัมบูรณ์','(ก่อนเรียน)','save-blueprint-as-project-btn','short','.delete-student-btn','ตรีโกณมิติ','select','devicePixelRatio','results_','showImproveButton','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20opacity-80\x20ml-1\x20font-medium\x22>','ไม่พบข้อมูลข้อสอบหลังเรียน','สำหรับ\x20\x22คำถามใหม่\x22\x20ที่คุณสร้างขึ้น\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20เรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22','sine','กรุณาเลือกแบบทดสอบที่ต้องการจับคู่','Error\x20loading\x20user\x20preferences:','confirmation-modal','<span\x20title=\x22ใช้\x20','lesson-plan-modal','.shortcut-list-item','เพิ่ม\x20','เกิดข้อผิดพลาดในการสร้างห้องเกม','lastIndexOf','):\x20','bg-white','คุณมี\x20Points\x20ไม่พอ\x20(ซื้อได้สูงสุด\x20','<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22><h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>','#DBEAFE','<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-teal-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างบทเรียน</button>','\x22\x20class=\x22delete-hidden-parallel-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','#26890c','รักแรกพบ','บันทึกการตั้งค่าสำเร็จ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-4\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence-scoring-toggle\x22\x20class=\x22flex\x20items-center\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22confidence-scoring-toggle\x22\x20type=\x22checkbox\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22\x20checked>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-3\x20text-lg\x20font-semibold\x22>เปิดใช้งานระบบคะแนนความมั่นใจ</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22confidence-scoring-description\x22\x20class=\x22mt-2\x20text-sm\x20text-indigo-200\x20pl-8\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-white\x22>คะแนนพิเศษที่จะถูกคำนวณในตอนท้าย:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบถูก\x20&\x20มั่นใจ\x20=\x20ได้โบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบผิด\x20&\x20มั่นใจ\x20=\x20ถูกหัก\x20<strong\x20class=\x22text-white\x22>-1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-400\x22>(กรณี\x20\x22ไม่มั่นใจ\x22\x20จะไม่มีคะแนนพิเศษ)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-3\x20text-sm\x20text-yellow-300\x20pl-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x22></i>\x20พิเศษ:\x20ผู้ที่ได้คะแนนหลักเต็ม\x20จะได้รับโบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนนในหน้าสรุปผลสุดท้าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-sync-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มเกม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','score-distribution-chart','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22>','modal-confidence-mode-select','scale','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','lesson-loader','<div\x20class=\x22absolute\x20top-4\x20left-4\x20bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x22>PIN:\x20<strong\x20class=\x22font-bold\x22>','cancel-quiz-edits-btn-footer','text-blue-700\x20bg-blue-100','<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>','helvetica','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>','disabled\x20bg-gray-400\x20cursor-not-allowed','export-leaderboard-word-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence','answer','offset','save-bp-settings-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','label[for=\x22num-questions\x22]','#open-additional-file-shortcuts-btn','presentation-explanation','removed','%PDF','close-pin-modal-btn','แบบทดสอบนี้ปิดใช้งานอยู่','<span\x20class=\x22text-yellow-200\x20font-bold\x22>','includeImages','.shortcut-list-item:not(.opacity-50)','oninput','from','keys','BOOLEAN','\x22\x20class=\x22delete-bp-project-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x20ml-2\x22>ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20listening\x20for\x20student\x20profiles:','เกิดข้อผิดพลาดในการเข้าตลาดมืด','<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','timerMode','Error\x20generating\x20parallel\x20post-test:','</label></div>','my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800','ความสัมพันธ์ของมุม','globalAlpha','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ai-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','clientY','round','md:col-span-3','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</h5><div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','name','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22bp-unlink-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำออกจากคลังนี้\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ','.topic-actions-edit','rgba(79,\x2070,\x20229,\x200.8)','line-height:\x201.3;\x20min-width:\x200;','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/3\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','show-in-student-dashboard-checkbox','textarea','.txt','❌\x20ไอเทมนี้ใช้ได้เฉพาะกับข้อสอบแบบตัวเลือกเท่านั้นครับ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0a\x0a**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0aนี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้างข้อสอบที่มีความซับซ้อน\x20**\x22เทียบเท่า\x22**\x20กับไฟล์อ้างอิงนั้น\x0a\x0a**ห้าม\x20(DO\x20NOT)**\x20สร้างโจทย์ที่มีความซับซ้อน,\x20มีหลายขั้นตอน,\x20หรือต้องตีความ\x20**\x22เกินกว่า\x22**\x20ระดับความยากโดยเฉลี่ยของโจทย์ในไฟล์อ้างอิงโดยเด็ดขาด\x0aให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของความซับซ้อน\x0a\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20(ภายใต้กรอบความซับซ้อนของไฟล์อ้างอิง)\x20โดยอาจมีลักษณะดังนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวงขั้นสูง\x20(Advanced\x20Distractor\x20Rule):**\x20ห้ามใช้ตัวเลขสุ่ม!\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ต้องออกแบบมาอย่างจงใจเพื่อดักจับ\x20\x22Misconception\x22\x20ของนักเรียน:\x0a1.\x20**Calculation\x20Error:**\x20คำนวณผิดในขั้นตอนสุดท้าย\x20หรือลืมทด\x0a2.\x20**Concept\x20Error:**\x20ใช้สูตรผิด\x20หรือสลับตัวแปร\x0a3.\x20**Unit\x20Error:**\x20ลืมแปลงหน่วย\x0a*ตัวลวงทุกข้อต้องเป็นคำตอบที่นักเรียนที่\x20\x22รู้ไม่จริง\x22\x20มีโอกาสตอบได้*\x0a','กาแฟขม','กรุณาป้อนรหัส\x20Team\x20Quiz\x20(4\x20หลัก):','gameVariant','กองดอง','text-gray-100','newOptionsPayload','webkitExitFullscreen','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','classList','<div\x20class=\x22p-2\x20rounded-md\x20','\x20\x0a\x0a---\x0a\x0a**ลำดับความสำคัญของข้อมูล\x20(Data\x20Priority\x20Directive):**\x20*\x20**กฎสูงสุด\x20(Priority\x20#1):\x20Test\x20Blueprint**\x20(สำหรับโครงสร้างและจำนวนข้อ)\x0a*\x20**ข้อมูลเสริม\x20(Priority\x20#2):\x20ไฟล์ข้อสอบอ้างอิง\x20(ถ้ามี)**\x20(สำหรับสไตล์และความยาก)\x0a\x0a**สร้างสรรค์โจทย์ใหม่เสมอ\x20(Novelty\x20Requirement):**\x0a*\x20ไม่ว่าจะกรณีใดก็ตาม\x20ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์จากไฟล์อ้างอิง\x20(ถ้ามี)\x20มาโดยเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ให้มีความ\x20\x22สมมูล\x22\x20กันในเชิงการวัดผลเท่านั้น\x0a\x0a---\x0a\x0a**แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x20(Definitive\x20Master\x20Test\x20Pattern)**\x0a(ส่วนนี้\x20AI\x20จะใช้เมื่อ\x20`qualityDirective`\x20เป็น\x20`noReferencePrompt`)\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20ประถมศึกษาปีที่\x206\x20(P.6):**\x0a\x20\x20\x20\x20*\x20**การคำนวณระคน:**\x20สร้างโจทย์ที่มีวงเล็บและการคูณ/หารผสมกับการบวก/ลบ\x20ต้องใช้ลำดับการคำนวณที่ถูกต้อง\x0a\x20\x20\x20\x20*\x20**โจทย์ปัญหาเศษส่วนและทศนิยม:**\x20สร้างโจทย์ปัญหา\x202-3\x20ขั้นตอน\x20หรือโจทย์เปรียบเทียบและเรียงลำดับเศษส่วน/จำนวนคละที่ตัวส่วนไม่เท่ากัน\x0a\x20\x20\x20\x20*\x20**อัตราส่วนและร้อยละ:**\x20สร้างโจทย์ปัญหาที่ต้องใช้อัตราส่วนหรือการคำนวณร้อยละ\x20เช่น\x20การหากำไร,\x20การหาส่วนลด,\x20หรือการหาจำนวนทั้งหมด\x0a\x20\x20\x20\x20*\x20**แบบรูป\x20(Patterns):**\x20สร้างโจทย์ที่ให้นักเรียนวิเคราะห์แบบรูปของจำนวนจากตารางหรือลำดับ\x20แล้วทำนายจำนวนในลำดับถัดไป\x0a\x20\x20\x20\x20*\x20**การวัด\x20(Measurement):**\x20สร้างโจทย์ปัญหาที่ต้องมีการแปลงหน่วย\x20(เมตรเป็นเซนติเมตร,\x20กิโลกรัมเป็นกรัม,\x20ชั่วโมงเป็นนาที)\x0a\x20\x20\x20\x20*\x20**เรขาคณิต\x20(Geometry):**\x20สร้างโจทย์หาความยาวรอบรูปหรือพื้นที่ของ\x20**รูปทรงผสม**\x20หรือหาปริมาตรของรูปทรงสามมิติที่ประกอบจากทรงสี่เหลี่ยม\x20และต้องมีคำถามเกี่ยวกับ\x20**สมบัติของรูปสี่เหลี่ยม**\x0a\x20\x20\x20\x20*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20ต้องมีโจทย์ที่ให้นักเรียนอ่านและตีความข้อมูลจาก\x20**กราฟเส้น**\x20หรือ\x20**แผนภูมิวงกลม**\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข:**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20มัธยมศึกษาปีที่\x203\x20(M.3):**\x0a\x20\x20\x20\x20*\x20**เลขยกกำลังและราก:**\x20สร้างโจทย์คำนวณที่ซับซ้อนซึ่งต้องใช้\x20**สมบัติของเลขยกกำลังและราก**\x20ในการจัดรูป\x0a\x20\x20\x20\x20*\x20**พีชคณิต\x20(Algebra):**\x20สร้างโจทย์ปัญหาที่ต้องแก้\x20**ระบบสมการเชิงเส้นสองตัวแปร**,\x20**สมการกำลังสอง**,\x20หรือ\x20**อสมการ**\x0a\x20\x20\x20\x20*\x20**ฟังก์ชันกำลังสอง\x20(Quadratic\x20Functions):**\x20สร้างโจทย์ที่ต้องใช้ความเข้าใจเกี่ยวกับกราฟ\x20**พาราโบลา**\x20ในการหาระยะทางหรือค่าคงที่\x0a\x20\x20\x20\x20*\x20**เรขาคณิตวิเคราะห์\x20(Analytic\x20Geometry):**\x20สร้างโจทย์เกี่ยวกับการแปลงทางเรขาคณิต\x20(เลื่อนขนาน,\x20สะท้อน),\x20การหาระยะห่างระหว่างจุด\x0a\x20\x20\x20\x20*\x20**เรขาคณิตประยุกต์\x20(Applied\x20Geometry):**\x20สร้างโจทย์ที่ต้องใช้ความรู้เรื่อง\x20**สามเหลี่ยมคล้าย**,\x20**ทฤษฎีบทพีทาโกรัส**,\x20**อัตราส่วนตรีโกณมิติ**\x20(มุมก้ม/มุมเงย),\x20หรือ\x20**ทฤษฎีบทเกี่ยวกับวงกลม**\x0a\x20\x20\x20\x20*\x20**ปริมาตรและพื้นที่ผิว:**\x20สร้างโจทย์ปัญหาประยุกต์เกี่ยวกับการหาปริมาตรหรือพื้นที่ผิวของ\x20กรวย,\x20ทรงกระบอก,\x20พีระมิด,\x20หรือทรงกลม\x0a\x20\x20\x20\x20*\x20**สถิติและความน่าจะเป็น:**\x20ต้องมีโจทย์หา\x20**ค่ากลางของข้อมูล**\x20หรือ\x20**พิสัย**\x20จากชุดข้อมูลที่\x20**มีค่าบางตัวหายไป**\x20และโจทย์\x20**ความน่าจะเป็น**\x20ของเหตุการณ์\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข\x20(เติมคำ\x20(พิมพ์ตอบเอง)):**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะที่ต้องมีในทุกระดับชั้น\x20(Universal\x20Characteristics):**\x0a\x20\x20\x20\x20*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ต้องมีโจทย์บางข้อที่ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไร/ส่วนลดเป็นจำนวนเงิน\x20แล้วถามหาราคาเดิม)\x0a\x20\x20\x20\x20*\x20**การสังเคราะห์ข้อมูล\x20(Information\x20Synthesis):**\x20ในโจทย์กราฟหรือตาราง\x20ต้องมีคำถามที่บังคับให้นำข้อมูลจากหลายๆ\x20จุดมาเปรียบเทียบหรือคำนวณร่วมกัน\x0a\x20\x20\x20\x20*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20ต้องมีโจทย์ที่ให้ข้อสรุปมา\x202-3\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20*\x20**ลักษณะของตัวลวง\x20(Distractor\x20Characteristics):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20ควรเป็นผลลัพธ์ที่เกิดจากการ\x20**คำนวณผิดพลาดในขั้นตอนที่พบบ่อย**\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20ลืมแปลงหน่วย)\x20หรือเกิดจาก\x20**ความเข้าใจผิดในแนวคิด**\x20(เช่น\x20ใช้สูตรพื้นที่แทนความยาวรอบรูป)\x0a\x0a---\x0a\x0a**ข้อกำหนดด้านโครงสร้างและรูปแบบ\x20(Structural\x20&\x20Formatting\x20Requirements)**\x0a\x0a1.\x20\x20**กฎเหล็กของการกระจายเนื้อหา\x20(The\x20Golden\x20Rule\x20of\x20Content\x20Distribution):**\x20คุณต้องปฏิบัติตามกระบวนการนี้อย่างเคร่งครัด:\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x201:**\x20ในตาราง\x20Test\x20Blueprint,\x20ให้มองหา\x20**\x22กลุ่มของแถว\x22**\x20ที่อยู่ภายใต้\x20**\x27มาตรฐาน\x27**\x20เดียวกัน\x20(เช่น\x20กลุ่มของแถวทั้งหมดที่อยู่ใน\x20\x27มาตรฐาน\x20ค\x201.3\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x202:**\x20สำหรับ\x20\x22กลุ่มของแถว\x22\x20นั้นๆ,\x20ให้ดูที่คอลัมน์\x20**\x27รูปแบบข้อสอบ\x20(จำนวนข้อ)\x27**\x20ซึ่งจะถูกระบุไว้เพียง\x20**ชุดเดียว**\x20สำหรับทั้งกลุ่ม\x20เพื่อหาจำนวนข้อสอบที่ต้องสร้างสำหรับมาตรฐานนั้น\x20(เช่น\x20\x274\x20ตัวเลือก\x20(3\x20ข้อ)\x27,\x20\x27ระบายตัวเลข\x20(1\x20ข้อ)\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x203:**\x20จากนั้น,\x20ให้รวบรวมรายการหัวข้อย่อยทั้งหมดในคอลัมน์\x20**\x27สาระการเรียนรู้แกนกลาง\x27**\x20ที่อยู่ใน\x20\x22กลุ่มของแถว\x22\x20นั้นๆ\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x204\x20(ภารกิจหลัก):**\x20สร้างข้อสอบตามจำนวนและรูปแบบที่ได้จากขั้นตอนที่\x202\x20โดยต้องกระจายการสร้างโจทย์ให้ครอบคลุมหัวข้อย่อยที่รวบรวมมาในขั้นตอนที่\x203\x20ให้ได้มากที่สุดเท่าที่จะเป็นไปได้\x20**ห้ามสร้างโจทย์หลายข้อจากหัวข้อย่อยเดียวกัน\x20หากยังมีหัวข้อย่อยอื่นในกลุ่มเดียวกันที่ยังไม่ได้ใช้**\x0a\x0a2.\x20\x20**ลำดับข้อสอบและรูปแบบ\x20(Item\x20&\x20Format\x20Sequencing\x20-\x20CRITICAL):**\x20**คุณต้องวิเคราะห์ลำดับของ\x20\x22ตอนที่\x22\x20(Part\x201,\x20Part\x202,\x20Part\x203,\x20...)\x20และ\x20\x22รูปแบบข้อสอบ\x22\x20ที่ระบุไว้ในแต่ละตอนจาก\x20Test\x20Blueprint\x20ที่แนบมาอย่างละเอียด**\x20ข้อสอบที่คุณสร้างขึ้นทั้งหมด\x20**ต้อง**\x20ถูกจัดเรียงตามลำดับของ\x20\x22ตอนที่\x22\x20และมี\x20\x22รูปแบบ\x22\x20ตรงตามที่ปรากฏในเอกสาร\x20Test\x20Blueprint\x20ทุกประการ\x20**ห้ามสลับลำดับ,\x20เปลี่ยนแปลงรูปแบบ,\x20หรือใช้ลำดับจากความจำเดิมโดยเด็ดขาด**\x0a\x0a---\x0a\x0a**คำสั่งสุดท้าย:\x20การตรวจสอบก่อนส่งมอบ\x20(Final\x20Check\x20Directive)**\x0aก่อนที่คุณจะสร้าง\x20JSON\x20object\x20สุดท้าย\x20ให้ตรวจสอบอีกครั้ง:\x20\x22จำนวนคำถามและรูปแบบในแต่ละตอนที่ฉันสร้าง\x20ตรงกับที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการหรือไม่?\x22\x20หากไม่ตรง\x20ให้เริ่มกระบวนการใหม่ทั้งหมดทันที\x0a\x0a---\x0a\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20**ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ:**\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a','exitFullscreen','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','pin','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','scheduled_pending','\x22>จาก:\x20','projectSortOrder','text-gray-300\x20hover:text-white','</h3>','เกิดข้อผิดพลาด','input[name=\x22status-option\x22]:checked','quiz-results-table-body','\x20ทำงานอยู่!</div>','generated-quiz-actions','เกิดข้อผิดพลาดในการเตรียมข้อมูลสำหรับสร้างแบบทดสอบ','passcode','<button\x20id=\x22use-powerup-insurance\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>🛡️\x20ประกันภัย\x20(','bg-red-500\x20text-white\x20font-bold','#10B981','cancel-parallel-shortcut-edit-btn',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','.ai-content\x20li','.doc','file-upload-input','revealOptions','cos','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','blueprint-projects-modal','manual-bp-grade-level','Powerup\x20use\x20failed:','newOptions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','กำลังดึงข้อมูลจากลิงก์...','lineJoin','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22\x20class=\x22use-hidden-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>ใช้งาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','shortcut-editor-modal','pointContent','applicationHTML','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x20border-b-2\x20border-blue-200\x20pb-2\x22>👩‍🏫\x20คำแนะนำสำหรับครู</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','ดาวTikTok','นำแบบทดสอบออกจากคลังนี้แล้ว','.compare-results-btn','querySelectorAll','Error\x20creating\x20project:','(หลังเรียน)\x20','grid','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','touchstart','_blank','ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้','font-bold\x20text-red-700\x20line-through','<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>','text-gray-400\x20hover:text-indigo-600','เกิดข้อผิดพลาดในการเพิ่มหัวข้อ','สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<div\x20class=\x22flex\x20items-center\x20gap-2\x22><div>','เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>','forEach','#F3E8FF','\x20to\x20blueprint\x20topic\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คาถาแยกเงาพันร่าง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22','move-quiz-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','\x22>(','scrollIntoView','submittedAt','<button\x20class=\x22toggle-hidden-options-btn\x20text-purple-600\x20hover:text-purple-800\x20p-1\x20rounded-full\x20hover:bg-purple-100\x22\x20title=\x22แปลงเป็นแบบเติมคำ\x20(แต่ซ่อนตัวเลือกไว้ขาย)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye-slash\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','\x22\x20data-name=\x22','Error\x20saving\x20game\x20results:','url','Waiting\x20for\x20server\x20timestamp\x20for\x20timer...','AI\x20ไม่สามารถแยกหัวข้อจากไฟล์ได้','icon','<button\x20id=\x22student-back-to-home-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>','.\x20ให้อยู่ในรูปแบบที่จดจำง่าย\x20โดยใช้\x20Markdown\x20table\x20หรือ\x20bullet\x20points\x20ที่เน้นข้อความสำคัญ\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20flex\x20justify-center\x20items-center\x20gap-2\x20p-4\x20bg-gray-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x22>เพิ่มข้อใหม่แบบ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22new-question-type-select\x22\x20class=\x22p-2\x20border\x20border-gray-300\x20rounded-lg\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22multiple_choice\x22>ปรนัย\x20(4\x20ตัวเลือก)</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22short_answer\x22>เติมคำ\x20(พิมพ์ตอบ)</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22true_false\x22>ถูก/ผิด</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22matching_item\x22>จับคู่</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22add-question-editor-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-plus-circle\x22></i>\x20เพิ่ม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','เต่าสายฟ้า','เกิดข้อผิดพลาดในการยกเลิกการจับคู่','leaderboard','\x22\x20class=\x22quiz-bank-checkbox\x20h-5\x20w-5\x20rounded\x20border-gray-300\x20text-purple-600\x20focus:ring-purple-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','bg-green-100\x20font-bold','create-project-btn','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','substring','manage-tab-content','กรุณาอัปโหลดไฟล์\x20Blueprint\x20หรือใช้ปุ่มลัด','บันทึกโปรเจค\x20\x22','\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20text-sm\x20flex\x20items-center\x20min-h-[54px]\x22\x20','ลำดับเรขาคณิต\x20(GP)','\x20คะแนน\x20','</td>','bg-indigo-600\x20hover:bg-indigo-700','/public/data/projects/','width','quiz-bank-count','learningGaps','parallel-shortcut-tabs-nav','manual-create-blueprint-btn','#F59E0B','ยกเลิกการเชื่อมโยงสำเร็จ','บันทึกการตั้งค่าการแสดงผลสำเร็จ','#add-question-editor-btn','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>','Error\x20fetching\x20student\x20rankings:','เกิดข้อผิดพลาดในการอ่านรูปภาพ:\x20','scratchpad-canvas','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','behavior-log','#4338ca',')\x22><span\x20style=\x22','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','resultsSaved','cancel-shortcut-edit-btn','scan-text-image-btn','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>','กุ้งเต้นแร้งกา','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','options','หมดเวลาสำหรับข้อนี้!','กรุณาระบุจำนวนที่ถูกต้อง\x20(อย่างน้อย\x201\x20ชิ้น)','\x22\x20class=\x22parallel-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20','timer-container','Starting\x20cleanup\x20for\x20deleted\x20quiz\x20ID:\x20','pointsLastRound','promise','มุมและการวัดมุม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','lineWidth','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-item-id=\x22','lessonPlan','หัวข้อที่สร้างเอง','ลบผลสอบของ\x20','input[type=\x22radio\x22][value=\x22','.pin-key','จำนวนข้อ:','กรุณาตั้งชื่อแท็บใหม่:','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างได้</p>','\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20','<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>','ข้าวมันไก่พิเศษ','ยังไม่เต็มนะ','contains','<span\x20class=\x22text-yellow-300\x20ml-1\x22>+1\x20✨</span>','highlighter-tools-group','\x22.\x20กำลังสุ่มเลือกมาใช้งาน...','สายลับจับบ้านเล็ก','API\x20Error\x20Body:','.delete-hidden-file-shortcut-btn','\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>','close-topic-bank-btn','_new','.question-editor-item[data-q-index=\x22','topics.','.move-shortcut-menu-btn','multiply','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20(นั่นคือคุณ!)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20text-yellow-300\x20mt-2\x22>','players.','bg-blue-100\x20text-blue-800','.open-bp-project-btn','isJinxed','AIzaSyCtoNyZdnHyihAxOD_M0HTLKoWdB-vHM08','showAnswerInAnonymous','inactive','fileShortcutTabs','ข้อมูลไม่เพียงพอที่จะลบผลสอบ','clear-all-links-btn','prev-question-btn','Error\x20clearing\x20linked\x20quiz:','checkAnswer','คำถามทุกข้อต้องเป็นแบบ\x20\x27จับคู่\x27\x20(แยกข้อ)','/public/data/blueprintProjects/','parallel-shortcut-editor-modal','input','timer-mode-select','สร้างชุดคำถามจับคู่','Error\x20updating\x20pin\x20status:','แก้ไขข้อนี้','sort','key','อนุพันธ์:\x20กฎลูกโซ่','loopUntilPass','กำลังอ่านไฟล์อ้างอิง...','top','คัดลอกรหัสแล้ว!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>(','/preferences/main','.delete-hidden-shortcut-btn','webkitAudioContext','กรุณากรอกเป็นตัวเลขเท่านั้น','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','createdBy','การกระจายและการจัดหมู่','isBlackMarketEnabled','ทฤษฎีบทพื้นฐานของแคลคูลัส','สร้างและจับคู่\x20Post-test\x20สำเร็จ!','เกิดข้อผิดพลาดในการเปลี่ยนสี','.live-answer-btn','ก่อนเรียน','_opt','\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-cyan-600\x20focus:ring-cyan-500\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-lg\x22>','วงกลม:\x20สมการและสมบัติ','admin-view','</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','save-project-name-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','👁️','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20','teachingContent','กำลังกลับเข้าสู่เกม\x20','shortcut_','blueprintShortcuts','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','student-project-leaderboard-tab','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','ไม่พบเอกสารการส่งงานของ\x20','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','กระต่ายตื่นตูม','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','shuffleSetting','ai-quiz-app-aefee.firebaseapp.com','reviewQuestionIndex','bottom','rgba(239,\x2068,\x2068,\x200.7)','first_try_ace','shuffledQuiz','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bulk-confidence-mode-container','1:274192258111:web:4120c9118229b5644dd48a','bank-quiz-search-input','Error\x20starting\x20group\x20quiz:','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-team-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','quiz-form','Blueprint\x20O-NET\x20ป.6','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','.delete-parallel-shortcut-btn','student-quiz-leaderboard-table-body','screen_exit','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','timerDuration','per-question-timer-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-6\x20text-center\x22>สรุปคะแนนของคุณ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>','parseFromString','\x20\x0a\x20\x20\x20\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20\x0a\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','custom-math-topic-input','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20opacity-80\x20ml-1\x20font-medium\x22>','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20flex\x20items-center\x20gap-1\x22>💰\x20เดิมพันเลือกเอง</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-[9px]\x20bg-black/10\x20px-1.5\x20py-0.5\x20rounded\x20mt-0.5\x22>ผิด=โดดตบ\x2010\x20ครั้ง!</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22use-powerup-wagerMultiplier-instant\x22\x20class=\x22','\x20คะแนน\x20(','toFixed','</td></tr>','onloadend','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','AI\x20ไม่สามารถประมวลผลข้อมูลได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','sync-timer-bar','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>','<span\x20class=\x22text-yellow-400\x20ml-1\x20text-xl\x20drop-shadow-md\x22>⭐</span>','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','<button\x20id=\x22use-powerup-revealOptions\x22\x20class=\x22powerup-btn\x20bg-purple-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x20font-bold\x20border-2\x20border-yellow-300\x20shadow-sm\x22>👁️\x20เผยตัวเลือก\x20(','คะแนนยังไม่ถึงครึ่ง','.application-options\x20button','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22buy-time-confirm-btn\x20text-white\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20text-sm\x20','bg-green-600\x20text-white\x20ring-4\x20ring-green-300','กรุณาเลือกไฟล์ข้อสอบต้นฉบับ\x20หรือใช้ปุ่มลัด','Error\x20analyzing\x20blueprint\x20topics:','multiple_choice','ไม่พบข้อมูลหัวข้อที่จะบันทึก','temp-loader-results','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20bg-white/20\x20p-4\x20rounded-lg\x20mt-4\x20flex-grow\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x20text-center\x22>สถานะผู้เล่น</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22team-player-status-grid\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-team-quiz-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบกิจกรรม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','กฎบวกและกฎคูณ','starred','file.txt','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','Error\x20opening\x20quiz\x20editor:','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','\x0a---\x0a','P/อัน)','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','camera-input','สิงโตยิ้ม','student-quiz-leaderboard-content','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่พบข้อมูลเกม\x20อาจสิ้นสุดไปแล้ว</p>','.pointsLastQuestion','การประยุกต์เวกเตอร์พื้นฐาน','\x5csqrt{$1}','name_desc','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','.score','student-progress-content','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-ban\x22></i>\x20ไม่ได้จับเวลา','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','order','file-shortcut-url-input','อัตราและอัตราหน่วย','🌗\x2050:50','<div\x20class=\x22space-y-4\x22>','จำนวนคละ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20','ownerSVGElement','จันทร์เจ้า','catch','Error\x20resetting\x20project\x20order:','progress-project-select','add','Firebase\x20initialization\x20failed:','enable-black-market-checkbox','เกิดข้อผิดพลาดในการอ่านไฟล์','frac','student-quiz-leaderboard-tab','กรุณาเลือกโปรเจคก่อน','ซื้อ\x20\x22','translate(','MathJax\x20typeset\x20error\x20(analytics):','ดีมาก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','font-bold','sync-manage-players-btn','fromCharCode','<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>','leaderboard-tab','selected-answer-index-hidden','พอใช้','isSyncGame','868035RXzpRW','fa-dumbbell\x20text-gray-700','text-red-600','parse','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','option','การเรียงสับเปลี่ยน\x20(Permutation)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','.delete-project-btn','.color-palette-btn','ฐานนิยม','<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>','หมาป่าเดียวดาย','จำนวนคู่:','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','[data-field=\x22subTopic\x22]','กรุณาป้อนหัวข้อสำหรับใบงาน','เน็ตไอดอล','on_fire','currentPoints','AI\x20กำลังพยายามอ่านข้อความจากรูปภาพของคุณ\x20กรุณารอสักครู่...','floor','ตัวเลือก\x20ค','เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','opacity-50','s;\x22\x20title=\x22','secondChance','\x20คู่\x20','back-from-results-btn','shortcut-name-input','<button\x20id=\x22next-review-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>เฉลยข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','\x22\x20name=\x22question_single\x22\x20value=\x22','globalSettings','กรุณาป้อนชื่อหัวข้อย่อยใหม่:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','timer-duration-label','Error\x20submitting\x20group\x20answer:','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-open-topic-bank-btn\x20text-purple-700\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22เปิดคลังแบบทดสอบประจำหัวข้อ\x22><i\x20class=\x22fas\x20fa-book-open\x22></i>\x20คลัง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-topic-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบจากชื่อหัวข้อ\x22>สร้าง\x20(หัวข้อ)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-content-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20','behaviorLog','ไม่พบโปรเจคของแบบทดสอบนี้\x20ไม่สามารถเริ่มโหมด\x20Anonymous\x20ได้','\x5cge','classic','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','every','\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','toLowerCase','\x20<span\x20class=\x22block\x20text-sm\x20mt-1\x20font-normal\x20text-red-900\x22>(ผิด=โดดตบ\x2010\x20ครั้ง!)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22\x20class=\x22shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','(ไม่มีชื่อ)','Error\x20loading\x20quiz\x20for\x20student:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','startTime','bg-red-100\x20text-red-800','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','save','โดยเน้นสร้างโจทย์ที่สอดคล้องกับแนวทางข้อสอบ\x20O-NET\x20สำหรับระดับชั้นนี้อย่างเคร่งครัด','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>','.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','projectOrder','$1\x5c%','.eraser-size-btn','overallGroups','bulk-confidence-mode-select','\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','padStart','finished','start-presentation-btn','.move-parallel-shortcut-menu-btn','reference.pdf','\x22\x20name=\x22question','<tr><td\x20colspan=\x22','Fullscreen\x20exit\x20failed\x20(safe\x20to\x20ignore):','\x20สำเร็จ!','game-start-mode','\x22\x20class=\x22file-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','confirm-delete-btn','live-short-answer-input','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20กำลังอ่านรูปภาพ...','quiz-leaderboard-table-container','pen-tool-btn','Error\x20during\x20deep\x20delete:','สร้างเนื้อหาเป็นภาษาไทยเท่านั้น\x20ห้ามมีข้อความภาษาอังกฤษปะปนโดยเด็ดขาด','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>','ไม่พบ\x20Team\x20Quiz\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','ดีเทอร์มิแนนต์','half_mark_status','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','การแจกแจงปกติและ\x20z-score','Error\x20submitting\x20answer:','ไม่เหลือตัวเลือกผิดให้ตัดแล้วครับ!','Error\x20deleting\x20topic:','editable-quiz-topic','ไม่พบรูปแบบสูตรที่ต้องแก้ไขเพิ่มเติม','practiceProblems','สร้างเนื้อหาการสอนสำหรับนักเรียนระดับชั้น\x20\x27','link-input-area','ถูกต้อง!','.edit-hidden-shortcut-btn','message','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','รูปสแควร์รูท\x20(surd)','✂️\x20ตัด\x201\x20ตัวเลือก','bulk-shuffle-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22','update-old-quizzes-btn','correctAnswerIndex','.color-palette-popup','กรุณาใส่ชื่อนักเรียน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','lesson-plan-title','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','scratchpad-controls',';\x22\x20data-tooltip-target=\x22tooltip-','stepByStepExamples','<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20','\x20รายการสำเร็จ!','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>','\x20ตา)</span></span><span\x20class=\x22font-bold\x22>','ร้อยละประยุกต์','height','/public/data/projects','project-passcode-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22','text/csv;charset=utf-8;','28px','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','ไม่มีคำอธิบาย','parallel-shortcut-name-input','\x22\x20จำนวน\x20','text-gray-700','\x20ตัวเลือก.\x20','msRequestFullscreen','quiz-editor-modal','\x20link(s)\x20for\x20quiz\x20ID:\x20','attemptNumber','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','**\x20(คำถามทุกข้อต้องเป็นรูปแบบนี้เท่านั้น\x20ห้ามใช้รูปแบบอื่นปน)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**[กฎภาษา]\x20','ไม่ได้ตอบ','bg-yellow-100','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','fa-bolt\x20text-blue-500','file-shortcut-modal-title','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','auto','ย้ายแบบทดสอบไปโปรเจคอื่น','parallel-default-','คณิตการเงิน/บูรณาการ','.delete-question-editor-btn','.delete-hidden-parallel-shortcut-btn','\x20ชุดสำเร็จ!','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-price=\x22','file-shortcuts-loading-msg','\x20ข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-1\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20p-2\x20bg-red-600\x20text-white\x20rounded-lg\x20text-center\x20animate-bounce\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-running\x20fa-2x\x20mb-1\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-bold\x22>ตอบผิดในโหมดเดิมพัน!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-extrabold\x20text-yellow-300\x22>🏃\x20กระโดดตบ\x2010\x20ครั้ง!\x20🏃</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','2-digit','.delete-file-shortcut-tab-btn','authed_project_','<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x20relative\x22\x20style=\x22','</span></p><p\x20class=\x22text-xs\x20font-normal\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','student-result-area','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','class',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','20px','<p><strong>คำตอบที่แนะนำ:</strong>\x20','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์ข้อสอบต้นฉบับนี้เพื่อทำความเข้าใจขอบเขตเนื้อหา,\x20รูปแบบคำถาม,\x20และระดับความยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์เดิมมาโดยเด็ดขาด**\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20จำนวนข้อและประเภทของคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','input[type=\x22text\x22]','ON_FIRE','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**กฎเหล็กการสร้างตัวเลือก\x20(Distractor\x20Engineering):**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ห้ามสุ่มตัวเลขมั่วๆ\x20มาใส่เป็นตัวหลอก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตัวเลือกที่ผิด\x20(Distractors)\x20ต้องเกิดจาก\x20\x22ความผิดพลาดที่พบบ่อย\x22\x20(Common\x20Misconceptions)\x20ของนักเรียนในเรื่องนั้นๆ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20ตัวเลือกต้องดูสมเหตุสมผล\x20ไม่ใช่ผิดแบบเห็นได้ชัด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ถ้าเป็นโจทย์คำนวณ\x20ให้ดักทางคนที่ลืมทดเลข,\x20ลืมเปลี่ยนหน่วย,\x20หรือจำสูตรผิด','กรุณาพิมพ์คำตอบ','px,\x20','นักวิทยาศาสตร์','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+','getItem','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22','string','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','เงินงวด\x20(อนุกรมเงินงวด)','กรุณาใส่ชื่อใหม่','</span>\x20วินาที\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','สมการราก\x20(radical)','ไม่พบตารางสำหรับ\x20Export','ลบโปรเจคสำเร็จแล้ว','.bp-create-onet-quiz-btn','.delete-submission-btn','rename-quiz-input','\x20แล้ว!','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','type','decode','Error\x20generating\x20from\x20link:','.lastAnswerCorrect','stem','.verification-result','คำถามดิบ:\x20\x22','การหารเศษส่วน','download','selected-answer-index-hidden-wager','-options\x22>','text-indigo-600','insurance','textarea[name=\x22team_answer\x22]','quiz-bank-modal','input[type=\x22checkbox\x22]:checked','โหลดข้อมูลเพื่อนใหม่จาก\x20Server...','quiz','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-blue-600\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20','grabbing','<span\x20class=\x22text-red-500\x20ml-1\x20text-xl\x22>⚠️</span>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','การลบ','กรุณาเลือกคำตอบก่อนกดปุ่มถัดไปครับ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a<button\x20class=\x22text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22handleGenerateQuizFromBlueprintTopic(\x27','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','แบบทดสอบที่ติดดาว','วงกลม:\x20คอร์ดและเส้นสัมผัส','input[type=\x22radio\x22]:checked','close-comparison-modal-btn','latestScore','pointercancel','analytics','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','เกิดข้อผิดพลาดในการล้างการเชื่อมโยง','setFont','\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','เกิดข้อผิดพลาดในการบันทึก','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','flex','ธอร์ค้อนบิน','10XiRtnZ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>','.edit-points-btn','.move-shortcut-dropdown','sync-timer-duration-container','<span\x20class=\x22font-bold\x20text-right\x22\x20style=\x22flex-shrink:\x200;\x22>','setTransform','quiz-type-select','suggestedAnswer','.live-answer-btn,\x20#live-submit-short-answer-btn','เมทริกซ์:\x20บวก/คูณ','student-name-input','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>','file-default-','circ','.project-card-content','สถิติและความน่าจะเป็น','live-player-management','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22my-2\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>วิธีทำ:</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22whitespace-pre-wrap\x20pl-2\x22>','ฟังก์ชันผกผัน','description','#math-topics-checkbox-container\x20input:checked','questionId','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-md\x20transition-all\x20hover:bg-black/40\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Error\x20fetching\x20quiz\x20settings:','previousElementSibling','\x5csum','file-input-area','shuffle','สาระที่\x201','Error\x20preparing\x20content\x20quiz:','ส่งแล้ว','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','$$$1$','mouse','transition-transform','bar','summary_chart','เกิดข้อผิดพลาดในการแก้ไข','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence','.submittedAt','create-project-modal','.bp-delete-topic-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22\x20data-field=\x22subTopic\x22>','</span></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-cyan-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-cyan-800\x22>จบกิจกรรมแล้ว!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x22>สรุปคะแนน:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-2\x20max-w-sm\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังตรวจสอบรายการแบบทดสอบล่าสุด...','contents','</span><span\x20class=\x22font-bold\x22>','<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20','<br>','ไอรอนแมน','จับคู่เพื่อเปรียบเทียบผล','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20','การคูณ','freeMarketEntryUsed_q','.file-shortcut-tab-btn','blueprint-input-area','sync-variant-selector','pointerup','\x22\x20class=\x22open-bp-project-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เปิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<textarea\x20name=\x22question','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','target','เริ่มกิจกรรม:\x20','number','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','Error\x20saving\x20submission:','ผู้เชี่ยวชาญ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>','close-student-rankings-btn','เส้นตรง:\x20ขนาน/ตั้งฉาก','\x22\x20class=\x22pin-project-btn\x20','Error\x20generating\x20hybrid\x20quiz:','[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]','file-shortcut_','(ฉบับง่าย)\x20','<span\x20title=\x22เทพวิชาการ\x22>🎓</span>\x20','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22hidden\x20absolute\x20top-full\x20left-0\x20w-full\x20mt-1\x20bg-white\x20border\x20border-gray-300\x20rounded-lg\x20shadow-xl\x20max-h-60\x20overflow-y-auto\x20z-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-left\x22\x20style=\x22flex-shrink:\x200;\x20min-width:\x202.5rem;\x22>','ไม่พบแบบทดสอบ','cancel-test-btn','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','red','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','ใช้ข้อมูลเพื่อนจาก\x20Cache\x20(ประหยัดเน็ต)','isStarred','แก้ไขสูตรคณิตศาสตร์\x20','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','backspace','comparison','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','(ตามมาติดๆ)','question-complexity-select','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-yellow-300\x20my-2\x22>ตาของ:\x20',')</button>','input[name=\x22syncVariant\x22]:checked','เรขาคณิตวิเคราะห์','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','ไม่พบข้อมูลผู้ใช้','การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)','\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','แก้ไข\x20Points\x20ของ\x20','💰\x20โหมดเดิมพันทำงาน!\x20เลือกคำตอบเพื่อเปิดหน้าต่างเดิมพัน','.bp-open-topic-bank-btn','getScreenCTM','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','manual-bp-content','<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>','สรุปผลสุดท้าย','เกิดข้อผิดพลาดในการลบนักเรียน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200/50\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar\x22\x20class=\x22bg-yellow-400\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-yellow-300\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เหลือเวลา\x20<span\x20id=\x22sync-timer-countdown\x22\x20class=\x22font-bold\x22>','<button\x20id=\x22show-final-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22><i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เข้าสู่ช่วงเฉลยคำตอบ\x20(Review)</button>','change','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20','ระบบเลขและค่าประจำหลัก',')\x22>','-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20p-3\x20border\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-left\x20flex\x20justify-between\x20items-center\x20hover:border-indigo-500\x20focus:ring-2\x20focus:ring-indigo-200\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22window.toggleMathDropdown(','เลือกโปรเจคที่จะบันทึกแบบทดสอบ','add-shortcut-btn','กราฟฟังก์ชันตรีโกณ','ตัวเลือก\x20ง','gradeLevel','num-choices','addEventListener','\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20sm:flex-row\x20sm:items-center\x20w-full\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20sm:items-center\x20gap-3\x20flex-grow\x20min-w-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-shrink-0\x20w-8\x20h-8\x20flex\x20items-center\x20justify-center\x20rounded-full\x20bg-black/10\x20font-bold\x20text-lg\x20mt-1\x20sm:mt-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','text-indigo-800','.tab-name-input','text-green-700\x20bg-green-100','passcode-input-container','.bp-live-btn','shortcut-tabs-nav','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','black-market-settings-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20text-left\x22\x20style=\x22line-height:\x201.8;\x22>','generated','startsWith','<li\x20class=\x22','<span\x20class=\x22text-blue-300\x20ml-1\x22\x20title=\x22เทพวิชาการ\x22>🎓</span>','1667230cXriGw','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<span>','.ai-fix-formula-btn','grid-view-btn','global-quiz-search-input','blueprint.pdf','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>','สร้างคำถามแบบใช่/ไม่ใช่','back-to-results-btn','bg-yellow-300\x20text-yellow-900\x20font-bold','tabId','results-table','quick_thinker','perfect_score_status','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>','<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>','\x5ctimes','กำลังดึงไฟล์จากลิงก์และสร้างข้อสอบคู่ขนาน...','export-compact-pdf-btn','<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>','ไม่พบห้องเกมด้วยรหัสนี้\x20หรือเกมจบไปแล้ว','\x22\x20name=\x22team_answer\x22\x20value=\x22','user','\x20จุด','อัศวินรัตติกาล','.linkedQuizIds','split','CEOพันล้าน','ปริมาตร/ความจุและการแปลง','medium','คุณแน่ใจว่าต้องการลบปุ่มลัด\x20\x22','redo-btn','allResponses','close-additional-parallel-shortcuts-btn','การจัดหมู่\x20(Combination)','anon-settings-container','qType','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','summary','items','starred-project','shortcut-modal-title','playerName','.move-file-shortcut-dropdown','insertAdjacentHTML','scratchpad-options','visibilityState','เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20','นกฮูกกลางวัน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20id=\x22sync-short-answer-input\x22\x20inputmode=\x22decimal\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20max-w-lg\x20p-4\x20border-2\x20border-gray-300\x20rounded-lg\x20text-gray-800\x20text-3xl\x20text-center\x20font-bold\x20focus:border-indigo-500\x20focus:ring-2\x20focus:ring-indigo-200\x20outline-none\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20placeholder=\x220\x22\x20autocomplete=\x22off\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20','Error\x20deleting\x20student:','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.animate-pulse','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','student-progress-view','scratchpad-modal','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22text-yellow-300\x20ml-1\x22>⭐</span>','input[name=\x22question_single\x22]:checked','quiz-settings-modal','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','confirm-wager-btn','use-powerup-cutOne','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','sqrt','badgesCount','ก้อนเมฆ','stringify','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','totalQuestions','Error\x20joining\x20activity:','quiz-results-view','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','progress-student-select','ondragend','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</h4>','exponentialRampToValueAtTime','live-race','Error\x20updating\x20project\x20color:','touchend','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>','size','transformOrigin','เกิดข้อผิดพลาดในการเข้าร่วม:\x20','กรุณาเลือกโปรเจคที่ต้องการบันทึก','cancel-confidence-btn','.use-hidden-file-shortcut-btn','end-game-btn','summaryContent','ตัวแทนแห่งดวงจันทร์','<option>กำลังโหลดโปรเจค...</option>','body','innerText','blueprint-options-container','main-correct-answer-display','คู่คำตอบ...','ปริมาตรรูปทรงสามมิติ','.shortcut-tab-btn','all','\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน','bg-[#DCFCE7]\x20text-green-900','Save\x20complete\x20(Optimized\x20Read)',':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22main-correct-answer-display\x22\x20class=\x22text-4xl\x20font-bold\x20text-white\x20mt-1\x22>','\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-formula-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x20rounded-full\x20hover:bg-blue-100\x22\x20title=\x22ให้\x20AI\x20ช่วยซ่อมสูตร\x20LaTeX\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-square-root-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22delete-question-editor-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20rounded-full\x20hover:bg-red-100\x22\x20title=\x22ลบคำถามข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','เปิดใช้งาน','<p\x20class=\x22text-green-700\x22><strong>(ไม่มีข้อมูลตัวเลือก)</strong></p>','analytics-tab-btn','<div\x20class=\x22ml-4\x20mb-3\x22><h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','<div><input\x20type=\x22radio\x22\x20id=\x22q','</span><button\x20data-player-name=\x22','\x22\x20name=\x22drill_answer\x22\x20value=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','.tab-name-display','\x20class=\x22accent-gray-500\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','z-index:\x20','blueprintUrl','เกิดข้อผิดพลาดในการซื้อ','กลุ่ม:\x20','additional-parallel-shortcuts-list','Matching\x20options\x20synced:','raw','สร้างแบบฝึกหัดแบบปรนัย\x204\x20ตัวเลือก\x20จำนวน\x205\x20ข้อ\x20สำหรับนักเรียนระดับชั้น\x20\x27','.pen-color-btn','quiz-leaderboard-table-body','settings','\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>','\x20in\x20all\x20blueprint\x20projects.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/questionBank','mode-switcher-btn','tfrac','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20','show_results_and_answers','student-project-leaderboard-content','สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.buy-time-confirm-btn','project-sort-select','style','.view-bp-lesson-btn','-options','เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม','\x27\x20สำหรับนักเรียนระดับชั้น\x20\x27','.remove-shortcut-from-tab-btn','show-results-btn','admin-dashboard','add-parallel-shortcut-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','artifacts/','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','linearRampToValueAtTime','การคูณทศนิยม','Error\x20during\x20bulk\x20quiz\x20settings\x20update\x20(inside\x20confirmation):','การแปลงรูปอัตลักษณ์','getContext','เกิดข้อผิดพลาดในการโหลดโปรเจค','toLocaleString','แก้ระบบสมการด้วยเมทริกซ์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20','destroy','เกิดข้อผิดพลาดในการบันทึกคะแนน','reference_onet.pdf','[data-topic-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','documentElement','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-6\x20text-center\x22>สรุปอันดับ\x20(รายบุคคล)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-2\x22>','Error\x20saving\x20settings:','lesson-plan-content','commit','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','dispatchEvent','sync-player-list','default','passcode-prompt-message','Error\x20processing\x20file\x20for\x20AI:','สหสัมพันธ์และเส้นถดถอยเชิงเส้น','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20option-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','upperGroupResponders','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22use-powerup-wagerMultiplier\x22\x20class=\x22','powerupUsed_q','publicLeaderboard','Error\x20saving\x20quiz\x20edits:','spinner','.correct-response-input','บันทึกลิงก์ไฟล์อ้างอิงสำเร็จ','image/png','num-questions','เกิดข้อผิดพลาดในการอ่านไฟล์อ้างอิง','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20สำเร็จ','🛡️','<a\x20href=\x22#\x22\x20class=\x22move-parallel-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','then','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','</a>','<div\x20class=\x22my-2\x22>','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','project-title','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ','แก้ไขปุ่มลัด','เกิดข้อผิดพลาดในการเชื่อมต่อ:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>','count','กรุณาเลือกระดับความมั่นใจให้ครบทุกข้อก่อนส่งคำตอบครับ','label','.export-pdf-list-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22#\x22\x20class=\x22move-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','text/plain','.summary-bar-item','pen-tools-group','editable-text-','cancel-crop-btn','.quiz-result-card','result','Failed\x20to\x20get\x20standardized\x20topic:','pollUsedThisTurn','wager-all-in-btn','ท้องฟ้า','ปุ่มลัดทั้งหมด','<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>','selectedTopicNames','student-progress','scrollHeight','\x20mr-2\x22></i>','end-sync-game-btn','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','trail','\x22\x20class=\x22file-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-6\x20h-24\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20','questionStatus','<p\x20class=\x22text-red-500\x20text-sm\x22>ข้อผิดพลาด:\x20ไม่พบข้อมูลเฉลยหรือตัวเลือก</p>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22edit-points-btn\x20text-gray-400\x20hover:text-orange-500\x20transition-colors\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-student-name=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-cyan-600\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>','confidenceMode','<span\x20title=\x22เจ้าพ่อตลาดมืด\x22>👑</span>\x20','removeItem','หยุดระบบจับเวลาหรี่หน้าจอ','test','กรุณาพิมพ์คำตอบของกลุ่ม','responses.','Successfully\x20removed\x20','touchmove','preScore','Error\x20during\x20class\x20analysis:','usedBuyTime','เกิดข้อผิดพลาดในการลบหัวข้อ','เกิดข้อผิดพลาดในการโหลดไฟล์จากลิงก์:\x20','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20bg-cyan-200\x20text-cyan-800\x22>เชื่อมโยงแล้ว\x20(','thead','AI\x20กำลังสแกนข้อความ...','isArray','เกมสิ้นสุดลงแล้ว','length','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-around\x20items-end\x20gap-4\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22!\x20Combo\x20ถูกรีเซ็ตเป็น\x200','back-to-dashboard-btn','.edit-parallel-shortcut-btn','minHeight','อัตราส่วนและสัดส่วน','Error\x20saving\x20user\x20preference:','เกิดข้อผิดพลาดในการนำผู้เล่นออก','Failed\x20to\x20refund\x20powerup:','.pair-quiz-btn','<p\x20class=\x22font-bold\x20text-sm\x20','has','generate-worksheet-btn','timer-duration-input','โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22','questions_only','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบคู่ขนาน...','beforeend','scores','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>','textarea,\x20input[type=\x22text\x22],\x20[contenteditable=\x22true\x22],\x20[role=\x22textbox\x22],\x20.ql-editor,\x20label,\x20.choice-text,\x20.option-text,\x20.answer-text,\x20p,\x20li','\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว','active','default-','asc','title','ตัวแปรและนิพจน์','text-red-700\x20bg-red-100','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์','<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>','transparent','บันทึกการแก้ไข','start-live-race-generated-btn','getTextContent',';\x22\x20data-id=\x22','พลังคลื่นเต่า','Error\x20updating\x20sort\x20preference:','bg-gray-400\x20text-gray-200\x20cursor-not-allowed\x20opacity-70','\x0a**คำสั่งเริ่มต้น:\x20การวิเคราะห์โครงสร้าง\x20(Initial\x20Directive:\x20Structural\x20Analysis)**\x0aก่อนเริ่มสร้างโจทย์ใดๆ\x20ภารกิจแรกของคุณคือ:\x0a1.\x20อ่านไฟล์\x20Test\x20Blueprint\x20ที่แนบมาให้จบ\x0a2.\x20**ระบุจำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20ออกมาให้ชัดเจน\x0a3.\x20จดจำโครงสร้างนี้ไว้\x20เพราะมันคือกฎสูงสุดที่ต้องปฏิบัติตาม\x0a\x0a---\x0a\x0a**บทบาท:**\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x20โดยเชี่ยวชาญด้านการสร้างข้อสอบ\x20O-NET\x20คณิตศาสตร์\x20(Test\x20Specialist\x20for\x20O-NET\x20Mathematics)\x20ที่ได้รับมอบหมายให้สร้างข้อสอบชุดใหม่ที่มีความสมมูล\x20(Equivalent)\x20กับข้อสอบจริง\x0a\x0a**กฎเหล็กสูงสุด:\x20โครงสร้างข้อสอบ\x20(The\x20Ultimate\x20Golden\x20Rule:\x20Test\x20Structure)**\x0aภารกิจแรกและสำคัญที่สุดของคุณ\x20คือการวิเคราะห์ไฟล์\x20Test\x20Blueprint\x20ที่แนบมาเพื่อหาโครงสร้างข้อสอบที่ถูกต้อง\x20คุณต้อง:\x0a1.\x20\x20**วิเคราะห์จำนวนและรูปแบบ:**\x20อ่านข้อมูลจากหน้า\x20\x22คำชี้แจง\x22\x20หรือส่วนสรุป\x20เพื่อระบุ\x20**จำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20(เช่น\x20ตอนที่\x201:\x20ปรนัย\x204\x20ตัวเลือก,\x20ตอนที่\x202:\x20ระบายตัวเลข,\x20ตอนที่\x203:\x20ถูก/ผิด)\x0a2.\x20\x20**ยึดตามโครงสร้างนี้เท่านั้น:**\x20ข้อสอบทั้งชุดที่คุณจะสร้าง\x20ต้องมีจำนวนข้อรวมและรูปแบบในแต่ละตอน\x20**ตรงตามที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการ**\x0a3.\x20\x20**คำเตือน:**\x20**ห้ามสร้างจำนวนข้อเกินหรือขาดจากที่ระบุใน\x20Blueprint\x20โดยเด็ดขาด**\x20หากจำนวนข้อที่สร้างไม่ตรงตามนี้\x20ถือว่าภารกิจทั้งหมดล้มเหลว\x0a\x0a---\x0a\x0a**ภารกิจหลักด้านคุณภาพ:\x20ปรัชญาการสร้างโจทย์\x20(Quality\x20Directive:\x20Question\x20Generation\x20Philosophy)**\x0a\x0a','\x20|\x20','bg-green-200\x20text-green-800','timeBonusThisQuestion','bp-modal-quiz-type-select','content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','match','\x20mx-1\x20text-lg\x22></i></span>','เงาปริศนา','.generate-post-test-btn','รากที่สองและที่สาม','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','text/html','game-start-modal-title','keydown','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20','.live-answer-btn,\x20#sync-submit-btn','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','rgba(16,\x20185,\x20129,\x200.7)','\x5cle','ฟังก์ชันแบบชิ้นส่วน','\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22','\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','.group\x5c/dropdown','confirm-bulk-quiz-settings-btn','modal-timer-mode-select','setItem','ไม่พบข้อมูลเกม','Error\x20joining\x20sync\x20game:','shortcuts','topic','canvas','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-rocket\x22></i>\x20เดิมพันทุ่มหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-[9px]\x20bg-black/20\x20px-1.5\x20py-0.5\x20rounded\x20mt-0.5\x22>ผิด=โดดตบ\x2010\x20ครั้ง!</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22.\x20ภารกิจคือ:\x201.ระบุระดับชั้น\x202.สกัดโครงสร้างเนื้อหาทั้งหมดออกมาในรูปแบบ\x20nested\x20JSON\x20ที่ชัดเจน\x203.แก้ไขคำภาษาไทยที่ผิดเพี้ยน\x204.สรุปชื่อหัวข้อย่อยให้สั้นกระชับ.\x20JSON\x20output\x20ต้องมีโครงสร้าง:\x20{\x20gradeLevel:\x20string,\x20curriculum:\x20[\x20{\x20sara:\x20string,\x20mainTopics:\x20[\x20{\x20topicName:\x20string,\x20subTopics:\x20[string]\x20}\x20]\x20}\x20]\x20}.\x20ตัวอย่าง:\x20\x27สาระที่\x201:\x20จำนวนและพีชคณิต\x27\x20คือ\x20\x27sara\x27.\x20\x27เวลา\x27\x20คือ\x20\x27topicName\x27.\x20\x27การอ่านตารางเวลา\x27\x20คือ\x20\x27subTopic\x27','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>','</tbody></table></div>','button','find','anonymous','cutOne','💰\x20โหมดเดิมพันทำงานอยู่!','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','.lastAnswerIndex','.text-indigo-200','mixed','currentTime','use-powerup-buyTime','นักเขียน','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก','.mb-6.p-4','\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Error\x20fetching\x20project\x20quizzes:','\x27,\x20สร้างเนื้อหาสรุปสูตรหรือหลักการสำคัญสำหรับนักเรียนระดับชั้น\x20\x27','เปลี่ยนชื่อโปรเจคสำเร็จ','globalCompositeOperation','hiddenOptions_q','\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>','[data-topic-container-id]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','false','null','กรุณากรอกข้อมูลให้ครบทุกช่อง','\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<button\x20id=\x22use-powerup-secondChance\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>🔁\x20แก้ตัว\x20(','<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>','\x20ข้อ\x20','กำลังกลับเข้าสู่เกม\x20(Admin)\x20(ID:\x20','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>กำลังโหลด...</p>','th-TH','not_generated','toDate','close-lesson-plan-modal-btn','พื้นที่ผิวรูปทรงสามมิติ','Blueprint\x202','ไม่สามารถเริ่มเกมได้','เกิดข้อผิดพลาดในการรีเซ็ตลำดับ','🚀\x20คุณเดิมพันหมดหน้าตัก!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20','modal-loop-until-pass-checkbox','รูปสี่เหลี่ยมและสมบัติ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','exists','badgesToAdd','<span\x20class=\x22text-yellow-300\x20ml-1\x20text-2xl\x20drop-shadow-md\x22>👑</span>','แก้ไขคะแนน\x20Points\x20ของ\x20\x22','\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','STRING','กำลังเตรียมไฟล์อ้างอิง...','2061yFqGzS','memoryContent','none','แบตหมด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','comparison-overall-content','gain','</body></html>','กรุณาเลือกหรือพิมพ์คำตอบก่อนครับ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','quiz-editor-questions-container','วิเคราะห์ไฟล์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','Error\x20starting\x20team\x20quiz:','cancel-manual-bp-btn','ระยะเวลา\x20(นาที):','not-found','.topic-actions-view','#e21b3c','standard','OCR\x20Error:','fa-rocket\x20text-purple-500','กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...','เกิดข้อผิดพลาดในการส่งคำตอบ','โจรสลัดอวกาศ','ไม่ผ่าน','application/json','scheduled','...','lower_group_count','MathJax','.move-quiz-btn','dataIndex','http://www.w3.org/2000/svg','submissions','\x20คะแนน</span></div>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20sm:justify-end\x20w-full\x20sm:w-auto\x20pl-11\x20sm:pl-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20opacity-70\x20sm:hidden\x22>คะแนนรวม:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-xl\x22>','\x20ตอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22><i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.quiz-bank-move-btn','fullscreenElement','market-current-points','สร้างแบบทดสอบ','แผนการสอน:\x20','touchcancel','\x22\x20แล้วนำมาสร้างเนื้อหาบทเรียนและแบบฝึกหัดชุดใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20กฎการสร้าง\x20(ภายใต้กฎควบคุมความซับซ้อน):\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**วิเคราะห์ต้นแบบ:**\x20อ่านไฟล์ที่แนบมาเพื่อทำความเข้าใจว่าข้อสอบ\x20O-NET\x20จริงๆ\x20ถามเกี่ยวกับหัวข้อ\x20\x22','add-from-global-bank-btn','<button\x20data-value=\x22','คุณแน่ใจหรือไม่ว่าต้องการลบคำถามข้อ\x20','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x20transform\x20transition\x20hover:scale-105\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-700\x22></i><p\x20class=\x22font-bold\x20text-2xl\x20truncate\x22>','isPinned','deg','quizMode','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22','\x22\x20class=\x22bp-view-analysis-btn\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20pointer-events-none\x22>','str','\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>(','นักล่าฝัน','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20updating\x20custom\x20topic:','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>','workerSrc','<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>','topicId','fa-pen','correct','```','confirm-link-quiz-btn','times','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','manage-players-btn','max','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>','true_false','Saving\x20game\x20results\x20(Optimized)...','generationConfig','เลือกและเริ่มสร้าง','insertBefore','pointer-events-none','\x0a\x20\x20\x20\x20**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20**กรณีที่\x202:\x20หากไม่มี\x20\x22ไฟล์ข้อสอบอ้างอิง\x22\x20แนบมาด้วย:**\x0a\x20\x20\x20\x20*\x20ภารกิจหลักของคุณคือการสร้างข้อสอบตาม\x20**\x22แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x22**\x20(ที่ระบุไว้ด้านล่าง)\x0a\x20\x20\x20\x20*\x20ให้สร้างโจทย์ที่มีความซับซ้อนในระดับ\x20O-NET\x20\x22มาตรฐาน\x22\x20ทั่วไป\x20(เช่น\x20โจทย์ปัญหา\x201-2\x20ขั้นตอน)\x0a\x20\x20\x20\x20*\x20**ห้าม\x20(DO\x20NOT)**\x20พยายามสร้างโจทย์ที่\x20\x22คิดวิเคราะห์ซับซ้อน\x22\x20หรือ\x20\x22หลายขั้นตอน\x22\x20จนเกินความจำเป็น\x0a\x20\x20\x20\x20*\x20ให้เน้นความถูกต้องตามหลักสูตรและความชัดเจนของคำถามเป็นหลัก\x0a\x20\x20\x20\x20','border-indigo-500','powerupUsedThisTurn','math-topics-checkbox-container','.\x20โดยต้องมีองค์ประกอบดังนี้:\x0a1.\x20ใช้\x20Markdown\x20ในการจัดรูปแบบ\x0a2.\x20อธิบายแนวคิดหลักอย่างน้อย\x203-4\x20ข้อ\x20โดยใช้\x20###\x20สำหรับหัวข้อแนวคิด\x0a3.\x20ในแต่ละแนวคิดหลัก\x20ต้องมีตัวอย่างประกอบที่ชัดเจน\x20ใส่ตัวอย่างใน\x20blockquote\x20(>)\x0a4.\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX\x20เช่น\x20$a^2\x20+\x20b^2\x20=\x20c^2$\x0a5.\x20เมื่ออธิบายแนวคิดทางเรขาคณิต\x20ให้สร้างรูปภาพประกอบเป็น\x20SVG\x20แบบ\x20inline\x20ที่เรียบง่ายและชัดเจน\x20แทนการใช้\x20ASCII\x20art','admin-testing','เปิด\x20(จับเวลา)','application/pdf','additional-file-shortcuts-modal','timer-duration-container','AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20font-medium\x20focus:outline-none\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','confirm-move-quiz-btn','.delete-svg-btn','อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)','</form>','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนน\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20opacity-75\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22hidden-correct-answer-','(คู่ขนาน)\x20','marginBottom','พีชคณิตและฟังก์ชัน','podium','loop-until-pass-checkbox','pointerType','การวัด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','border-green-300\x20bg-green-50','Authentication\x20failed:','keyup','คะแนน','รอ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20','<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','prod','score','เกิดข้อผิดพลาดในการยืนยันผู้เล่น','upper_group_count','ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบสำหรับหัวข้อนี้ได้','ทฤษฎีบทพีทาโกรัสและการประยุกต์','confirm-rename-quiz-btn','wager-slider','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','function','หน่วยความยาวและการแปลง','destination-out','🔁\x20โอกาสครั้งที่สองทำงาน!\x20หากตอบผิด\x20คุณจะได้เลือกใหม่ทันที\x201\x20ครั้ง','เข้าตลาดมืดครั้งต่อไปเสียค่าธรรมเนียม\x201\x20Point\x20ยืนยัน?','bp-project-title','ลาเต้ไม่หวาน','export-excel-btn','Error\x20deleting\x20quiz:','fill','.highlighter-color-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-red-700\x20to-red-900\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-skull-crossbones\x22></i>\x20<span>คุณโดนคำสาป!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20opacity-80\x22>คะแนนติดลบ\x20x2\x20ถ้าตอบผิด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20','<div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x20shadow-lg\x20border-t-4\x20border-amber-600\x22>','.buy-item-btn','%</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22','open-blueprint-projects-btn','parseInline','เหมียวขี้เซา','originalQuestionText','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-orange-500\x20to-red-600\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-4\x20shadow-lg\x20animate-pulse\x20border-2\x20border-yellow-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-lg\x20font-extrabold\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-fire\x20text-yellow-200\x20text-2xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ON\x20FIRE!\x20คะแนน\x20x2</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-fire\x20text-yellow-200\x20text-2xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-100\x22>ตอบถูกต่อเนื่อง\x20','.totalPoints','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','กรุณาเลือกคำตอบ','\x22\x20data-topic=\x22','bg-gray-50','quiz-end-time','คุณแน่ใจหรือไม่ว่าต้องการล้างการเชื่อมโยงแบบทดสอบทั้งหมดในคลังนี้?\x20(ตัวแบบทดสอบจริงจะไม่ถูกลบ)','standardTopic','ไม่พบข้อมูลเนื้อหาบทเรียนที่บันทึกไว้','#E5E7EB','\x20คะแนน','instructions','responses','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','parallel-default-1','fadeStartTime','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','reveal-names-btn','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','isConfidenceScoringEnabled','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','export-lesson-to-pdf-btn','<span\x20class=\x22text-blue-500\x20ml-1\x20text-2xl\x20drop-shadow-md\x22>🎓</span>','<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','export-leaderboard-excel-btn','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-status-modal','อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)','\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22><span\x20style=\x22','สอบซ่อม','Error\x20generating\x20lesson\x20plan:','anonymous_reveal_end','ทะเล','student-back-to-home-btn','bp-modal-include-images-checkbox','lowerGroupResponders','delete-svg-btn','.regenerate-question-btn','confidence-scoring-toggle','ป่าไม้','ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน','powerups.','0\x20(รอโบนัส)','.regenerate-question-editor-btn','-tab-content','หน่วยมวล/น้ำหนักและการแปลง','text-purple-600','/public/data/blueprintProjects','project-passcode-modal','ม้าดีดกะโหลก','Error\x20saving\x20parallel\x20shortcut\x20config:','rgba(239,\x2068,\x2068,\x200.9)','กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน','start-sync-game-btn','ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่','เกิดข้อผิดพลาดในการสร้างใบงาน','border-indigo-500\x20text-indigo-600','ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างบทเรียนตามปกติ','.hidden-option-input','274192258111','<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>','แก้ไขชื่อหัวข้อย่อย:','<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>','.answered','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','text-emerald-900','เกิดข้อผิดพลาดในการสร้าง:\x20','border-gray-200','.pin-digit-box','มูเตลู','bg-green-200','สร้างโปรเจคสำเร็จ!','\x20คนที่ส่ง\x20ตอบถูก\x20(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x20(สำหรับ\x20','targetId','\x20หัวข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','Error\x20updating\x20project\x20name:','state','answers','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22generate-content-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','\x20สำเร็จ','อินเวอร์สของเมทริกซ์','results-tab-content','พบ\x20Sync\x20Game!','ทำคะแนนเต็มในการทำครั้งแรก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>','shortcut-reference-url-input','ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20','scoresCalculated','</p><p><strong>เฉลย:</strong>\x20','powerups','คุณแน่ใจว่าต้องการลบแท็บนี้?','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22text-yellow-500\x20ml-1\x20text-2xl\x20drop-shadow-md\x22>👑</span>','text-gray-300','shortcut-blueprint-url-input','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20','หนอนหนังสือ','draggable-text','classStrengths','\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20md:grid-cols-3\x20gap-2\x22>','.bp-game-btn','/public/data/teamQuizzes','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','_opt1\x22\x20name=\x22question','fix\x20the\x20option','.project-card-container.opacity-50','44Lqqrss','<textarea\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','.generate-content-btn','Failed\x20to\x20get\x20hint:','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','สายตาสั้น','confident','resize','องค์ประกอบของฟังก์ชัน','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','ยอดนักสืบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-yellow-400\x20to-orange-500\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clock\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>เวลาโบนัสทำงาน!</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20opacity-90\x22>+25%\x20เวลาคิดเพิ่มพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','boolean','answerText','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','topic_','correctAnswer','.topic-name-input','fas\x20fa-user-edit','text-white','\x22\x20title=\x22สร้างแบบทดสอบทั่วไปจากเนื้อหาบทเรียน\x20','<p\x20class=\x22','fileShortcutOrder','enable-passcode-checkbox','bg-gray-200\x20text-gray-700','setValueAtTime','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','แก้ไขปุ่มลัดจากไฟล์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20แกะข้อความจากรูปภาพนี้\x20(OCR)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20อ่านตัวอักษรทั้งหมดในรูปภาพ\x20ไม่ว่าจะเป็นภาษาไทยหรืออังกฤษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20จัดรูปแบบเว้นวรรคและบรรทัดให้เหมือนต้นฉบับมากที่สุด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20ไม่ต้องใส่คำนำหน้าอย่าง\x20\x22นี่คือข้อความ\x22\x20ให้ส่งคืนเฉพาะเนื้อหาในรูปเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ดอกเบี้ยทบต้น','/public/data/liveGames','bank-tab','onload','parentElement','currentQuestionIndex','copy-quiz-id-btn','close-lesson-plan-modal-footer-btn','AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน','.remove-parallel-shortcut-from-tab-btn','.ai-fix-question-btn','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-price=\x22','manage','\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','เพนกวินไฟ','wager-amount-display','Error\x20verifying\x20answers:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','placeholder','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','start-quiz-btn','คำถามทุกข้อต้องเป็นแบบปรนัย\x204\x20ตัวเลือก\x20(มี\x20','ซามูไรสายเดี่ยว','export-pdf-modal','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','perfect_score','file-default-1','parallelTestShortcutsConfig','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการบันทึกผลคะแนน','showInStudentDashboard','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-center\x20my-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22use-powerup-wagerMultiplier-instant\x22\x20class=\x22bg-gradient-to-r\x20from-red-500\x20to-pink-600\x20text-white\x20shadow-lg\x20border-4\x20border-white/20\x20active:scale-95\x20animate-pulse\x20py-3\x20px-6\x20rounded-full\x20font-bold\x20transition-all\x20flex\x20flex-col\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-rocket\x22></i>\x20<span>เดิมพันหมดหน้าตัก!\x20(วัดดวง)</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-[10px]\x20opacity-90\x20font-normal\x22>(ผิด=โดดตบ\x2010\x20ครั้ง!)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','#open-additional-parallel-shortcuts-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','math-topic-search-input','เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)','category','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','href','โดเมนและเรนจ์','back-to-dashboard-from-results-btn','use-powerup-fiftyFifty','.edit-question-btn','เลือกและบันทึก','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22flex\x20flex-wrap\x20gap-1\x22>','getElementById','force-math-checkbox','text-content-input','\x22>ใช่</p>','bp-modal-question-complexity-select','add-file-shortcut-btn','text-red-800','<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>','some','confirm-confident','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','AI\x20grading\x20failed:','dashboardConfig','isRemedial','ตรวจทานเฉลยเสร็จสิ้น!','\x20จุดเรียบร้อยแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','topics','รหัสไม่ถูกต้อง','เรเดียนและการแปลงหน่วย','.bp-generate-lesson-btn','view-my-progress-btn','cancel-game-start-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20','\x22\x20value=\x22true\x22\x20','สมการเหตุผล\x20(rational)','\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>','หมดเวลา!\x20กำลังส่งคำตอบ...','students','cancel-wager-btn','parallelShortcutOrder','.sort-indicator','results-display-select','คำถาม...','comparison-individual-tab','กัปตัน','.ai-content\x20blockquote','competition','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20','tool','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>สร้างเนื้อหาสำหรับสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22file-topic-selection-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','.group\x5c/dropdown-parallel','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>','แบบปรนัย\x204\x20ตัวเลือก','commonMistakes','pre-test-checkbox','file-shortcut-tabs-nav','get','.duplicate-quiz-btn','ลำดับเลขคณิต\x20(AP)','Test\x20Blueprint','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','readAsDataURL','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','lineCap','กำลังสร้างเนื้อหา:\x20','bg-green-100','temp-loader-text-results','realScore','Error\x20editing\x20topic:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-6\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนรวม\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','confidence-scoring-checkbox','sync-timer-duration-input','<div\x20style=\x22','team','isAnonymousRevealed','</select>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>','text-blue-800','setAttribute','<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt0\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt0\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt1\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt1\x22>ไม่ใช่</label></div>','next-review-question-btn','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','pin-backspace-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','beginPath','modal-timer-duration-label','createOscillator','.quiz-bank-delete-btn','topic-input-area','fontFamily','export-leaderboard-pdf-btn','files','isFinished','ลบโปรเจค\x20\x22','ระยะจากจุดถึงเส้นตรง','???','</span>','.\x20\x0a\x20\x20\x20\x20แต่ละข้อมี\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/public/data/quizzes','ข้อ\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','ondblclick','adaptive-quiz-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-book-open\x20text-blue-500\x20mr-2\x22></i>\x20','</strong></div>','value','team-player-status-grid','\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20hover:bg-gray-100\x20flex\x20flex-col\x20sm:flex-row\x20items-start\x20sm:items-center\x20justify-between\x20gap-2\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20cursor-pointer\x22\x20onclick=\x22handleGenerateAndShowLesson(\x27','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.start-live-race-btn','eraser','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20','<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.quiz-settings-btn','filter','fixed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>','#000000','<i\x20class=\x22fas\x20fa-play-circle\x20mr-2\x22></i>เริ่มกิจกรรม','applicationContent','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confirm-game-start-modal','การแยกตัวประกอบ','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-item-id=\x22','<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>','ระยะเวลา\x20(วินาที):','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','firstElementChild','👑\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','answeredCurrentQuestion','สมการลอการิทึม','slice','จุด\x20เส้น\x20ระนาบ','\x20quizzes\x20into\x20global\x20cache.','PERSEVERANCE','การหารทศนิยม','ความคาดหมาย\x20(Expected\x20value)','getAttributeNS','สำหรับโปรเจค:\x20','\x20แบบทดสอบลงในคลังสำเร็จ!','ตลาดมืด\x20(0\x20P)','confirm-team-players-btn','<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>','bulk-results-display-select','project-detail-view','<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','removeEventListener','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','hover:bg-indigo-100','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','ลบแบบทดสอบสำเร็จแล้ว','กำลังลบโปรเจคและข้อมูลที่เกี่ยวข้องทั้งหมด...','เน็ตช้า','getCroppedCanvas','modal-passing-score-input','geq','Error\x20showing\x20quiz\x20detail\x20view:','(พยายามอยู่)','bg-[#4ADE80]\x20text-green-900\x20font-bold','AI\x20ไม่สามารถอ่านข้อความได้','strokeStyle','Error\x20generating\x20teaching\x20content:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20','shuffle-setting-select','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','submission-status-chart','ตัวเลือก\x20ก','tGain','Error\x20verifying\x20answers\x20in\x20editor:','endTime','กำลังสแกนหาแบบทดสอบเก่า...','\x20(Player)\x20(ID:\x20','bg-yellow-400\x20text-yellow-900\x20hover:bg-yellow-500\x20shadow-md\x20border-b-4\x20border-yellow-600\x20active:border-b-0\x20active:translate-y-1','blueprint-project-manager-view',';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-','print','point','not_confident','เส้นจำนวน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรหรือสัญลักษณ์คณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','docs','bg-green-400\x20text-white\x20font-bold','#parallel-shortcut-tabs-nav\x20.tab-name-input','\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-','whole_quiz','bg-gradient-to-r\x20from-red-500\x20to-pink-600\x20text-white\x20shadow-md\x20border-b-4\x20border-red-800\x20active:border-b-0\x20active:translate-y-1','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม','Global\x20quiz\x20cache\x20is\x20empty.\x20Fetching\x20now...','สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','start','เกิดข้อผิดพลาดในการลบโปรเจค','\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','topicName','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','/users/','N/A','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','\x20รายการ...','mainTopics','<span\x20class=\x22pointer-events-none\x22><i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i></span>','อนุพันธ์:\x20กฎพื้นฐาน','bg-[#EF4444]\x20text-white\x20font-bold','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_','sync-player-management','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','docChanges','บันทึกบทเรียนสำหรับหัวข้อ\x20ID:\x20','ค่าเสื่อมราคา','รายงานผลคะแนน','ห.ร.ม.\x20(GCD)','กำลังค้นหากิจกรรม...','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','สถานะไม่ชัดเจน','ค่าความจริง/ตารางค่าความจริง','dfrac','<button\x20id=\x22use-powerup-buyTime\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>⏳\x20ซื้อเวลา\x20(','.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','innerHTML','quiz-generation-area','\x22\x20สำเร็จ!','ไฟล์ลัด\x201','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','Error\x20regenerating\x20question\x20in\x20editor:','บันทึกการตั้งค่าแล้ว','Error\x20reading\x20reference\x20file\x20for\x20single\x20topic:','\x20P)','<h1></h1>','AI\x20ไม่ส่งผลลัพธ์กลับมา','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','questionIndex','Error\x20duplicating\x20quiz:','ไม่พบโปรเจคที่ต้องการลบ','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ','removeAttribute','candidates','\x22\x20class=\x22remove-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','ทฤษฎีทวินาม\x20(เบื้องต้น)','Enter','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','default-2','pointsLastQuestion','\x22\x20ให้เป็นคำถามประเภท\x20\x22','Invalid\x20response\x20structure\x20from\x20AI.','ฟังก์ชันสัมพัทธ์\x20(rational)','onSecondChance','confidence','Error\x20saving\x20file\x20shortcut\x20config:','text-green-600','bg-emerald-100','tooltipTarget','กำลังอ่านและเตรียมไฟล์...','blueprint-project-list','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','<button\x20id=\x22use-powerup-fiftyFifty\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>🌗\x2050:50\x20(','\x22...','image-to-crop','สลับไปโหมดผู้ควบคุม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20p-2\x20rounded-md\x20hover:bg-gray-200\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22team_player\x22\x20value=\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการประมวลผลไฟล์:\x20','กำลังอัปเดตแบบทดสอบ\x20','correctStreak','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','bg-gray-100\x20opacity-70','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','Group\x20Mode','black-market-modal','ส่งคำตอบ','ไอติมทอด','กรุณาเลือกไฟล์ก่อน','additional-file-shortcuts-list','trim','dragend','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22color-palette-btn\x20','stop','bg-gradient-to-br\x20from-indigo-600\x20to-purple-700','fiftyFifty','แก้ไขปุ่มลัดข้อสอบต้นฉบับ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','bg-yellow-50','\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','confirm-join-game-btn','</button>','ไฟล์ทั้งหมด','save-parallel-shortcut-btn','Fatal:\x20Could\x20not\x20fetch\x20global\x20quizzes.','Error\x20rendering\x20student\x20progress:','ภูเขา','\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างเฉลยแบบทดสอบ\x0aภารกิจ:\x20จากไฟล์ที่แนบมาซึ่งมี\x20\x22เฉพาะคำถาม\x22\x20จงสร้าง\x20\x22เฉลย\x22\x20และข้อมูลที่จำเป็นสำหรับแต่ละข้อ\x0a\x0aคำสั่ง:\x0a1.\x20\x20วิเคราะห์ประเภทของคำถามแต่ละข้อในไฟล์\x20ว่าเป็นปรนัย\x20(multiple_choice),\x20เติมคำ\x20(short_answer),\x20ใช่/ไม่ใช่\x20(true_false),\x20หรือจับคู่\x20(matching_item)\x0a2.\x20\x20ใช้\x20\x22ข้อความคำถาม\x22\x20และ\x20\x22ตัวเลือก\x22\x20(ถ้ามี)\x20จากไฟล์ต้นฉบับแบบตรงตัว\x20ห้ามดัดแปลง\x0a3.\x20\x20สำหรับคำถามแต่ละข้อ\x20ให้คุณ\x20\x22สร้างเฉลยที่ถูกต้อง\x22\x20ขึ้นมาเอง\x20พร้อมทั้ง\x20\x22คำอธิบาย\x22\x20เหตุผลประกอบ\x0a4.\x20\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27เติมคำ\x27\x20(short_answer)\x20คำตอบที่ถูกต้อง\x20(idealAnswer)\x20ที่คุณสร้างขึ้นต้องเป็นตัวเลขระหว่าง\x200-999\x20เท่านั้น**\x0a5.\x20\x20สร้างผลลัพธ์เป็น\x20JSON\x20object\x20ที่สมบูรณ์\x20โดยใช้\x20Schema\x20สำหรับคำถาม\x20\x22แบบผสม\x20(mixed)\x22\x0a\x0a','groups.','after','game-start-quiz-id','question-analytics-container','\x20ตัวเลือก.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fill_in_with_choices','attempts','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','reveal_at_end','leq','อสมการค่าสัมบูรณ์','การลบเศษส่วน','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกู้คืนข้อมูล...','\x20<span\x20class=\x22text-xs\x20text-gray-300\x22>(','\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','Error\x20starting\x20game:','modal-confidence-mode-container','approx','ตลาดมืด\x20(','blur','\x20ตัวเลือก.\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27short_answer\x27,\x20\x27idealAnswer\x27\x20ต้องเป็นตัวเลขจำนวนเต็มระหว่าง\x200-999\x20เท่านั้น**.\x20','bp-modal-num-choices','ไม่ใช่','transition-all','สมการยกกำลัง','\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','additional-shortcuts-modal','-9999px','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20saving\x20parallel\x20shortcut:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20','postScore','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','start-game-btn','focus','load-quiz-btn','confirm-passcode-btn','ไม่สามารถโหลดข้อมูลอันดับได้','wasForced','เกิดข้อผิดพลาดในการนำแบบทดสอบออก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20bg-green-50\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','\x22\x20มาเป็นฐาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**กฎการสกัด:**\x20ให้ดึงเฉพาะ\x20\x22ข้อความ\x22\x20ของโจทย์และตัวเลือกเท่านั้น\x20**ห้ามนำรูปภาพต้นฉบับมาด้วย**\x20และ\x20**ห้ามใส่ข้อความอ้างอิงรูปภาพ**\x20(เช่น\x20\x22image_from_original_source_...\x22)\x20ลงในโจทย์โดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**[ขั้นตอนสร้างใหม่]**\x20สร้างคำถาม\x20\x22ใหม่\x22\x20เพิ่มเติม\x20เพื่อให้ได้จำนวนข้อสอบครบ\x20','blueprint-settings-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','ondragover','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','ใช้\x20\x22คำสาป\x22\x20กับ\x20','powerup','scratchpad-clear-btn','quizId','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','เพิ่มปุ่มลัดจากไฟล์ใหม่','พบ\x20Team\x20Quiz!','ondragstart','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการวิเคราะห์หัวข้อ</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>',')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>','file-topics-list-container','ไม่มี','sum','</span></p><p\x20class=\x22text-xs\x22>ตอบถูก\x20','ปิดใช้งาน','Error\x20generating\x20easy\x20version\x20quiz:','<li>','backgroundColor','fa-crown\x20text-yellow-500','.pdf','toggle','check-answer-btn','unshift','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20loading\x20blueprint\x20projects:','admin-try-quiz-btn','เปลี่ยนโจทย์เติมคำ\x20ให้กลายเป็นแบบเลือกตอบ\x20(เฉพาะข้อที่มีตัวเลือกซ่อนอยู่)','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','bg-red-200\x20text-red-800','1106nLZUnO','incorrect','สร้างคำถามแบบเติมคำในช่องว่าง','<a\x20href=\x22#\x22\x20class=\x22move-file-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','คำถามถัดไป','<div\x20class=\x22md:col-span-2\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20sm:grid-cols-3\x20lg:grid-cols-4\x20gap-2\x22>','empty','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','เรขาคณิต','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20','table','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','ยินดีต้อนรับกลับ\x20','</div><div\x20class=\x22flex\x20flex-wrap\x20gap-1\x20items-center\x20justify-center\x20mt-1\x22>','border-gray-300','\x22\x20data-mode=\x22sync\x22\x20class=\x22bp-game-btn\x20text-white\x20bg-indigo-600\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22Sync\x20Mode\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x22></i>\x20Sync\x0a</button>\x0a\x0a<button\x20data-topic-id=\x22','pin-entry-modal','div[data-question-index=\x22','close','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-pink-500\x20to-rose-600\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-eye\x20fa-lg\x22></i>\x20<span>เผยตัวเลือก!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20opacity-90\x22>แสดงตัวเลือกที่ซ่อนอยู่เรียบร้อย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<div\x20class=\x22mt-4\x20pt-4\x20border-t\x20border-white/20\x22>','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20text-center\x22>','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีกลุ่มเข้าร่วม...</p>','<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>','พิซซ่าหน้าทุเรียน','Error\x20pairing\x20quizzes:','wagerMultiplier','webkitRequestFullscreen','จิงโจ้สโลว์ไลฟ์','per-q-countdown','highlighter-tool-btn','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','circle','.file-shortcut-btn[data-id=\x22','แฟนทิพย์','การแจกแจงทวินาม\x20(พื้นฐาน)','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','studentName','แผนภาพกล่อง\x20(box\x20plot)','ไฮเพอร์โบลา','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22>','disabled','ai-quiz-app-aefee','text-input-area','bg-red-700\x20text-white\x20font-bold','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ชาไข่มุก','Error\x20updating\x20quiz\x20status:','open-sync-scratchpad-btn','manual-bp-project-name','timed','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','<button\x20class=\x22toggle-hidden-options-btn\x20text-purple-600\x20hover:text-purple-800\x20p-1\x20rounded-full\x20hover:bg-purple-100\x22\x20title=\x22กลับคืนเป็นแบบตัวเลือก\x20(Multiple\x20Choice)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','release','Error\x20joining\x20team\x20quiz:','กรุณาเลือกสถานะ','โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22','bg-red-100\x20text-red-900','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','ชื่อหัวข้อห้ามว่าง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','อัตราการเปลี่ยนแปลงทันที','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','bg-green-200\x20text-green-900','scan-text-image-input','file-shortcut-name-input','bg-blue-500\x20hover:bg-blue-600\x20text-white','.draggable-text','#open-additional-shortcuts-btn','/players','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','quiz-start-time','ต้นฉบับทั้งหมด','\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x20text-base\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.isScored','Error\x20saving\x20shortcut:','short_answer','cancel-bulk-quiz-settings-btn','camera-crop-btn','dropdown-list-','lowerGroupNames','ยอดเยี่ยม!','p-2\x20bg-black/10\x20rounded-md','move','\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','lesson-sections-container','postTScore','AI\x20แก้ไขคำถามสำเร็จ!','padding','matching_item','scores-tab-content','.file-shortcut-btn','<div\x20class=\x22space-y-2\x22>','100px','file.pdf','.answeredCurrentQuestion','selected-topics-count','promptFeedback','</div></div>','Error\x20updating\x20points:','bg-green-100\x20text-green-800','both','onblur','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','เกิดข้อผิดพลาดในการปักหมุด','เลือกโปรเจคเพื่อบันทึก','.delete-quiz-btn','<button\x20data-value=\x220\x22\x20data-index=\x220\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ใช่\x20/\x20ถูก</button>','cancel-admin-login-btn','parallel-test-tab','cancel-team-selection-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','results-tab','topic-quiz-bank-modal','\x20|\x20ID:\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','อัปเดตสถานะสำเร็จ','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','retake-quiz-loop-btn','ไม่สามารถโหลดไฟล์จากลิงก์ได้\x20(Status:\x20','\x22\x20class=\x22delete-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20rounded-full\x20bg-white\x20text-lg\x20w-5\x20h-5\x20flex\x20items-center\x20justify-center\x22\x20title=\x22ลบแท็บนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20&times;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20toggling\x20star\x20status:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clock\x20fa-3x\x20text-yellow-300\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>หมดเวลา!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุม...\x20(คำตอบของคุณไม่ถูกบันทึก)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการดึงข้อมูลบทเรียน','parent','.edit-hidden-file-shortcut-btn','border-indigo-400\x20ring-2\x20ring-indigo-200','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>','quiz-results','คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?','use-powerup-revealOptions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม','ไม่พบข้อมูลโปรเจค','มังกรกินจุ','กลุ่มของคุณ','link-topic-input','topic-bank-subtopic-name','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20border-2\x20border-purple-300\x20shadow-md\x20transform\x20transition-transform\x20hover:scale-105\x22>','itemId','sync-timer-enable-checkbox','quiz-search-input','<div\x20class=\x22my-6\x22>','hint','fontWeight','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','text-red-300\x20hover:text-red-100','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20flex\x20justify-center\x20mt-8\x20pb-8\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22bg-red-600\x20hover:bg-red-700\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-full\x20text-xl\x20shadow-lg\x20transition-transform\x20transform\x20hover:scale-105\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sign-out-alt\x22></i>\x20จบเกมและกลับหน้าหลัก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ทศนิยม\x20(ค่าประจำหลัก)','<p\x20class=\x22text-gray-500\x22>โปรเจคนี้ยังไม่มีนักเรียน</p>','rows','.ai-content\x20td','<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>','market-item-list','ควรปรับปรุง','.remove-file-shortcut-from-tab-btn','ทำคะแนนได้เกินครึ่ง','เกี่ยวกับหัวข้อ\x20\x22','currentMode','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','linkedQuizIds','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-file\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-file-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-file-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>','</strong></p>','bg-green-500\x20hover:bg-green-600\x20text-white','\x20/\x20','cursor','color','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20title=\x22แก้ไข\x20Points\x20ด้วยมือ\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pen\x20text-xs\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.generate-lesson-btn','display','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-current-points=\x22','ปล่อยพลัง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','back-to-dashboard-from-bp-btn','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','Error\x20saving\x20to\x20question\x20bank:','close-market-btn','removeChild','<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>','overflow','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x20mb-2\x22>คุณมั่นใจในคำตอบข้อนี้แค่ไหน?:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20id=\x22confidence-input-','Error\x20listening\x20for\x20starred\x20quizzes:','COMEBACK_KING','upperGroupNames','<span\x20class=\x22font-bold\x20','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>','เกิดข้อผิดพลาดในการอัปเดต:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x20ไม่ใช่การท่องจำ\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20ไม่ใช่โจทย์ความจำหรือการคำนวณในขั้นตอนเดียว\x20โดยต้องมีลักษณะอย่างน้อยหนึ่งข้อต่อไปนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20ผู้เรียนต้องใช้ความรู้มากกว่าหนึ่งเรื่องหรือแก้ปัญหามากกว่าหนึ่งสเต็ปเพื่อหาคำตอบ\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไรมา\x20แล้วถามหาราคาทุน)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20สร้างโจทย์ที่ต้องอ่านและตีความข้อมูลจากสถานการณ์,\x20ตาราง,\x20หรือแผนภูมิที่สมมติขึ้น\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20สร้างข้อความสรุปอย่างมาก\x201\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a','strength-weakness-analysis-container','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','#FCE7F3','<span\x20class=\x22text-orange-400\x20font-bold\x20ml-2\x20text-sm\x20animate-pulse\x22>🔥\x20x','</div><span\x20class=\x22text-xs\x20bg-white/20\x20px-2\x20py-0.5\x20rounded-full\x20whitespace-nowrap\x22>คุณ</span></div>','<i\x20class=\x22fas\x20fa-pen\x22></i>','เกิดข้อผิดพลาด:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','latestSubmittedAt','\x22\x20id=\x22input-','next-question-btn','⏳\x20ซื้อเวลา','.bp-unlink-quiz-btn','currentTarget','bp-add-topic-btn','bulk-confidence-scoring-checkbox','student-project-leaderboard-table-body','specialist','cancel-delete-btn','ความน่าจะเป็นแบบมีเงื่อนไข','blueprint-topics-list','set','color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2','<p\x20class=\x22text-center\x20text-red-500\x22>ขออภัย,\x20ไม่สามารถสร้างเนื้อหาได้ในขณะนี้:\x20','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','manual-blueprint-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x22\x20class=\x22shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20','textarea[name=\x22question_single\x22]','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','question','ไม่สามารถโหลดรายการโปรเจคได้','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','จับคู่แบบทดสอบสำเร็จ!','comparison-individual-content','practice-topic-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','shadowColor','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','moveTo','ล้างการเชื่อมโยงทั้งหมดสำเร็จ','ผู้เล่น\x20','\x20(p=','ceil','><i\x20class=\x22fas\x20fa-store\x20mr-2\x22></i>\x20','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt','\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','answering','cancel-export-pdf-btn','\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)','Error\x20saving\x20manual\x20blueprint\x20project:','center','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>กลุ่ม:\x20','className','\x20ชุด)','bold','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','random','</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20**กฎสำคัญ:\x20คำตอบที่เหมาะสม\x20(idealAnswer)\x20ต้องเป็นตัวเลขจำนวนเต็มที่มีค่าตั้งแต่\x200\x20ถึง\x20999\x20เท่านั้น**.\x20','คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ','\x22>สร้าง\x20(เนื้อหา)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-onet-quiz-btn\x20text-white\x20bg-indigo-600\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบประยุกต์\x20(O-NET)\x20จากชื่อหัวข้อ\x22>สร้าง\x20(O-NET)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','join','afterend','ค่าคลาดเคลื่อนของการวัด','ความเท่ากันทุกประการของสามเหลี่ยม','worksheet-input-area','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x20transform\x20transition\x20hover:scale-105\x20z-10\x22><i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x20animate-bounce\x22></i><p\x20class=\x22font-bold\x20text-3xl\x20truncate\x22>','.question-editor-item','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x20transform\x20transition\x20hover:scale-105\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i><p\x20class=\x22font-bold\x20text-2xl\x20truncate\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-parallel\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-parallel-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-parallel-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-save\x22></i>','\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>ส่งคำตอบครบแล้ว!</h2><p>รอผู้เล่นคนอื่นสักครู่...</p></div>','แบบทดสอบนี้หมดเวลาแล้ว','show-leaderboard-btn','gamePin','fa-shield-alt\x20text-gray-600','.move-parallel-shortcut-dropdown','กำลังวิเคราะห์ไฟล์อ้างอิงและสร้างแบบทดสอบ...','parallel-shortcut-container','<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','คำตอบผิด!\x20คุณได้โอกาสแก้ตัว\x201\x20ครั้ง','originalTopic','autoTable','rgba(255,\x20255,\x200,\x200.5)','ห้ามสร้างรูปภาพหรือโค้ด\x20SVG\x20ใดๆ','AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20','NEGATIVE_INFINITY','\x22\x20name=\x22confidence','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>','ลำดับการดำเนินการ\x20(PEMDAS)','\x0a\x20\x20\x20-\x20ตัวเลือก:\x20','clientX','passing-score-input','bulk-quiz-settings-btn','<div\x20class=\x22w-full\x20text-center\x20mb-4\x22><span\x20class=\x22text-xs\x20font-bold\x20text-orange-400\x20bg-black/20\x20px-2\x20py-1\x20rounded-full\x22>🔥\x20Combo:\x20','analytics-tab-content','เกิดข้อผิดพลาดในการอัปเดตสถานะ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-wrap\x20items-center\x20gap-1\x20min-w-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-lg\x20truncate\x20break-words\x20max-w-[180px]\x20sm:max-w-xs\x20leading-tight\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>ไม่ใช่</p>','.quiz-bank-checkbox:checked','fa-user-astronaut\x20text-blue-700','กฎของโคไซน์','<span\x20class=\x22ml-1\x20text-orange-500\x20animate-pulse\x20font-bold\x20text-sm\x22>🔥\x20x','list','scrollY','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20data-quiz-id=\x22','baseVal','update','\x22\x20โดยมี\x20**จำนวนข้อสอบรวม\x20','parallel-test-input-area','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','idealAnswer','<span\x20class=\x22font-bold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200/50\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar\x22\x20class=\x22bg-yellow-400\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%;\x20transition:\x20width\x200.5s\x20linear\x200s;\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-yellow-300\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22sync-timer-countdown\x22\x20class=\x22font-bold\x22>','gameData','ไม่พบไฟล์\x20Test\x20Blueprint','\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20','\x22\x20x','pointermove','game-pin-input','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>','presentation-scratchpad-btn','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','แท็บใหม่','Original\x20quiz\x20not\x20found','PROMPT_PLACEHOLDER','Error\x20processing\x20shortcut\x20click:','100%','ขออภัย,\x20ไม่สามารถสร้างบทเรียนสำหรับหัวข้อนี้ได้','sin','Content\x20was\x20blocked\x20by\x20safety\x20filters.\x20Reason:\x20','presentation-modal','topic-tab','.question-editor-item:last-of-type','คัดลอกไม่สำเร็จ','manual_release','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','Error\x20submitting\x20team\x20answer:','p-2\x20rounded-md\x20bg-yellow-400\x20text-black\x20ring-2\x20ring-yellow-200\x20shadow-lg','\x20mb-2\x22>','กำลังกลับเข้าสู่เกม\x20(Player)\x20(ID:\x20','Error\x20during\x20blueprint\x20link\x20cleanup:','กำลังสร้างแบบทดสอบ:\x20','separate-by-content-checkbox','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mt-8\x20flex\x20items-center\x20justify-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20','referenceUrl','#ffffff','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x20relative\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>','player-list-lobby','คะแนนเต็ม!','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','คำอธิบาย...','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','total','toBlob','พื้นที่ใต้กราฟ/ระหว่างกราฟ','\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','shortcut-id-input','shortcuts-loading-msg','justification','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<button\x20id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','file-shortcut-container','warn','mandatory','\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','use-powerup-wagerMultiplier-instant','file-topics-list','submit-group-answer-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence_single\x22\x20name=\x22confidence_single\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence_single\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Error\x20fetching\x20quizzes\x20for\x20bulk\x20update:','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','MathJax\x20re-render\x20failed:','กรุณาเลือกคำตอบของกลุ่ม','.csv','.use-hidden-shortcut-btn','src','---\x20[คำถามใหม่]\x20---','close-comparison-modal-footer-btn','\x20py-1\x20px-3\x20rounded-lg\x20font-bold\x20transition-all\x20flex\x20flex-col\x20items-center\x20justify-center\x20min-h-[54px]\x22\x20','\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','copy','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','complexityValue','lesson-view-modal','[data-topic-id]','timestamp','\x22\x20และข้อมูลที่เชื่อมโยงทั้งหมดสำเร็จ!','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>เตรียมตัวสำหรับข้อต่อไป...</p>','project-name-input','ไม่พบข้อมูลแบบทดสอบต้นฉบับ','หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20saving\x20lesson\x20to\x20project:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','deltaY','button[type=\x22submit\x22]','questions','การบวกทศนิยม','\x22\x20class=\x22edit-file-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','behavior-log-container','_opt1\x22>ไม่ใช่</label></div>','submission','<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-white\x22\x20data-topic-id=\x22','resume','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','</textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x20border-b-2\x20border-red-200\x20pb-2\x22>⚠️\x20จุดที่นักเรียนมักผิดพลาด</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','<button\x20class=\x22view-bp-lesson-btn\x20text-white\x20bg-blue-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>ดูบทเรียน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-purple-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างใหม่</button>','\x22\x20class=\x22bp-present-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำเสนอ\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i></button>\x0a<button\x20data-quiz-id=\x22','พิมพ์ตอบ','\x27)\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20</div>\x0a','.quiz-bank-settings-btn','student-initial-view','QUICK_THINKER','min','toLocaleDateString','<span\x20title=\x22โดนคำสาป\x22>😈</span>','bg-red-50','ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้','\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด','querySelector','ไม่สามารถวิเคราะห์โครงสร้างจากข้อความที่ป้อนได้','checked','text-emerald-800','ดาบพิฆาตอสูร','หัวข้อหลักใหม่','ลิมิต','All\x20groups\x20have\x20finished.\x20Ending\x20game.','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','ความเป็นอิสระของเหตุการณ์','points','export-leaderboard-image-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','numQuestions','project-dashboard-view','bg-gray-400\x20text-gray-600\x20cursor-not-allowed\x20border-b-4\x20border-gray-500\x20opacity-70','playerNicknames','Team\x20Quiz','\x22,\x20','use-powerup-wagerMultiplier','<button\x20data-tab-id=\x22','highlighter-size-slider','บันทึกผลการเรียนเรียบร้อยแล้ว!\x20(โหมดประหยัดทรัพยากร)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.delete-bp-project-btn','duration-300','ย้ายแบบทดสอบสำเร็จ','onkeydown','ยังไม่มีข้อมูลบทเรียนที่สร้างไว้,\x20กรุณากด\x20\x27สร้างใหม่\x27','suspended','สร้างคำถามใหม่\x201\x20ข้อ\x20','<p\x20class=\x22text-gray-500\x20italic\x22>AI\x20กำลังวิเคราะห์หัวข้อจาก\x20Blueprint...</p>','projectId','team-quiz-topic','file-default-2','open-global-live-btn','opacity','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อนี้?','undo-btn','save-visibility-settings-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22','อัปเดตการตั้งค่าของแบบทดสอบ\x20','frequency','<p\x20class=\x22text-gray-500\x20text-center\x22>ไม่พบหัวข้อที่ชัดเจนในไฟล์นี้</p>','ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22','ซื้อ\x20(','แอบชอบ','student-passcode-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-quiz-id=\x22','เวกเตอร์และเมทริกซ์\x20(เสริม)','Error\x20saving\x20shortcut\x20config:','explanation','createElement','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20gap-4\x20mt-4\x22>','ไม่สามารถบันทึกการตั้งค่าได้','Error\x20linking\x20quizzes:','เกิดข้อผิดพลาดในการลบผลสอบ','<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','\x0a\x20\x20\x20\x20<div\x20id=\x22cropper-modal\x22\x20class=\x22fixed\x20inset-0\x20bg-black\x20bg-opacity-90\x20z-[70]\x20hidden\x20flex\x20flex-col\x20items-center\x20justify-center\x20p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20w-full\x20max-w-4xl\x20h-[70vh]\x20bg-black\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20id=\x22image-to-crop\x22\x20src=\x22\x22\x20class=\x22max-w-full\x20max-h-full\x20block\x22\x20style=\x22display:\x20block;\x20max-width:\x20100%;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20gap-4\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22cancel-crop-btn\x22\x20class=\x22bg-gray-500\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-gray-600\x20font-bold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x22></i>\x20ยกเลิก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22confirm-crop-btn\x22\x20class=\x22bg-green-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-green-700\x20font-bold\x20shadow-lg\x20transform\x20transition\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-crop-alt\x22></i>\x20ตัดส่วนนี้\x20&\x20สแกน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>','.ideal-answer-input,\x20.correct-response-input','live-submit-short-answer-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20','earned-badges-container','pdf','leaderboard-quiz-tab-btn','strategyScan','transition','.project-card-container','block','teacherTips','questionText','.quiz-bank-item','.pin-project-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20border-gray-100\x20hover:bg-indigo-50\x20cursor-pointer\x20transition-colors\x20text-sm\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22window.selectMathOption(','show_results_only','\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22leading-snug\x22>','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>ตาของ:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-edit-topic-btn\x20text-gray-500\x20hover:text-blue-600\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-edit\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-delete-topic-btn\x20text-gray-500\x20hover:text-red-600\x22\x20title=\x22ลบ\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','80cnOavb','<div\x20class=\x22loader\x20mx-auto\x20my-3\x22></div><p\x20class=\x22text-center\x20text-gray-500\x22>AI\x20กำลังอ่านและวิเคราะห์หัวข้อจากไฟล์สแกน...</p>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</p></div>','ตอบถูก\x203\x20ข้อติดต่อกัน','API\x20Error\x20Response:','getTime','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>','cancel-quiz-bank-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-gray-700\x20to-gray-900\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-gray-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-ghost\x22></i>\x20<span>ถูกบังคับมั่นใจ!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20opacity-80\x22>ต้องเดิมพันด้วยความมั่นใจสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','สแกนข้อความเรียบร้อยแล้ว!\x20คุณสามารถตรวจสอบและแก้ไขได้ก่อนสร้างแบบทดสอบ','ondrop','confirm-not-confident','qIndex','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','separate-by-content-from-file-checkbox','student-quiz-topic','createdAt','getElementsByTagName','<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>','<div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x20shadow-xl\x20border-t-4\x20border-yellow-300\x22>','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','remove','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','transform','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','confirm-manual-bp-btn','pen','input[name=\x22syncVariant\x22]','กำลังดึงไฟล์อ้างอิงจากลิงก์...','\x20ข้อในคลังสำหรับหัวข้อ\x20\x22','admin','questionDisplayedAt','behavior-log-tab-btn','ฮิสโตแกรม','answer-counter','text-blue-700','#confidence-input-','modal-timer-duration-container','cropper-modal','select-all-topics-btn','AI\x20กำลังวิเคราะห์\x20Blueprint\x20และสร้างแบบทดสอบ...','.ideal-answer-input','<button\x20data-value=\x221\x22\x20data-index=\x221\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ไม่ใช่\x20/\x20ผิด</button>','file-topic-input','input[name=\x22team_player\x22]:checked','appendChild','เพิ่มรายการที่เลือก','การจัดกลุ่มข้อมูล','bank-input-area','rgba(79,\x2070,\x20229,\x201)','\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22number\x22\x20id=\x22buy-time-quantity-input\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-16\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x20text-sm\x20text-center\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20value=\x221\x22\x20min=\x221\x22\x20max=\x22','position','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','fill_in_no_choices','wasConfident','ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x20p-3\x20rounded-lg\x20transition-all\x20duration-300\x20','eraser-tool-btn','Error\x20deleting\x20shortcut:','\x22\x20data-mode=\x22live-race\x22\x20class=\x22game-start-btn\x20bg-orange-100\x20text-orange-800\x20hover:bg-orange-200\x20font-semibold\x20py-2\x20px-3\x20rounded-lg\x20text-sm\x22\x20title=\x22แข่งขันสด\x20(Live\x20Race)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-flag-checkered\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','bulk-quiz-settings-modal','เกิดข้อผิดพลาดขณะกำลังบันทึกข้อมูลแบบกลุ่ม','projectView','API\x20call\x20failed\x20with\x20status:\x20','\x22\x20class=\x22delete-hidden-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว','ยืนยันการกระทำ','preventDefault','touch','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ผ่าน','.delete-shortcut-btn','.move-parallel-shortcut-item','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','scratchpad-question','\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20ในลักษณะใด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาที่ตรงจุด\x20(POINT,\x20MEMORY):**\x20เนื้อหาต้องสอนและสรุปเฉพาะประเด็นที่จำเป็นต่อการทำโจทย์สไตล์นั้นๆ\x20**เท่านั้น**\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ตัวอย่างต้องสอดคล้อง\x20(blockquote):**\x20ตัวอย่างประกอบต้องมีลักษณะใกล้เคียงกับโจทย์ในไฟล์อ้างอิง\x20แต่ต้องเป็นโจทย์ที่สร้างขึ้นใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**แบบฝึกหัด\x20(APPLICATION)\x20ต้องสมมูล:**\x20โจทย์ในส่วน\x20APPLICATION\x20ต้องวัดความเข้าใจในเรื่องเดียวกันและมีความยากใกล้เคียงกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20','fill_in_the_blank','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','textAlign','กรุณาตั้งชื่อโปรเจคสำหรับ\x20Blueprint\x20นี้:','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22','อยู่ในสาระการเรียนรู้ใด:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','hint-btn','ดูผลสรุปสุดท้าย','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20sm:w-1/2\x20relative\x20custom-math-dropdown\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20name=\x22question','fullscreenchange','\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22','handleGenerateQuizFromBlueprintTopic','powerupUsed','entries','contentEditable','Error\x20saving\x20blueprint\x20project:','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','verify-answers-btn','lesson-view-title','\x22\x20class=\x22kick-player-btn-sync\x20text-red-300\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ','bg-amber-100\x20text-amber-800','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','close-game-final-btn','!\x20Restoring\x20stats...','#retake-for-improvement-btn','\x22\x20class=\x22delete-hidden-file-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','numPages','ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:','pointsToAdd','การนับ','leaderboard-table-body','link-url-input','div','normal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','student-team-selection-view','includes','right','confirm-crop-btn','/public/data/syncGames/','เกิดข้อผิดพลาดในการลบ','.toggle-actions-btn','\x22><p\x20class=\x22font-semibold\x22>','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','results','next-sync-question-btn','ข้อต่อไป','topic-bank-list','แก้ไขหัวข้อสำเร็จ','ผ่านฉลุย','typesetPromise','กรุณาป้อนรหัสแบบทดสอบ','</span>:\x20','student-rankings-modal','Error\x20saving\x20project\x20order:','blueprint-topics-list-container','กำลังสร้างคำถามข้อ\x20','presentation-ai-result','solution','market-timer-bar','<p\x20class=\x22text-center\x20text-gray-500\x20p-8\x22>คลังนี้ยังว่างอยู่<br>คลิก\x20\x22เลือกจากคลังรวม\x22\x20เพื่อเพิ่มแบบทดสอบ</p>','.live-summary-tooltip.visible','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/lessons','NUMBER','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20','👁️\x20เผยตัวเลือก','.parallel-quiz-btn','bp-topic-list-container','คะแนนเต็ม','sync-matching-select','difficultyValue','bp-modal-num-questions','isDefault','groups','Could\x20not\x20fetch\x20reference\x20file,\x20proceeding\x20without\x20it.','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','แคลคูลัสเบื้องต้น','<span\x20class=\x22text-yellow-300\x20ml-1\x22\x20title=\x22เจ้าพ่อตลาดมืด\x22>👑</span>','\x5cpm','/studentProfiles','index','shortcutTabs','perseverance','รอเปิด','pow','กรุณาสร้างบทเรียนก่อน','touches','\x22\x20data-target-tab-id=\x22','Failed\x20to\x20auto-link\x20quiz\x20to\x20blueprint\x20topic:','ARRAY','ไม่พบข้อมูลบทเรียนที่บันทึกไว้\x20(อาจถูกลบไปแล้ว)','totalPoints','sync-short-answer-input','<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','text-gray-200','numChoices','<div\x20class=\x22w-full\x20text-center\x20py-2\x20px-3\x20rounded-lg\x20bg-yellow-500\x20text-black\x20font-bold\x20mb-3\x20animate-pulse\x20shadow-md\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-green-400\x20to-emerald-600\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-cut\x20fa-lg\x22></i>\x20<span>ตัดตัวเลือกทำงาน!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20opacity-90\x22>ตัวเลือกที่ผิด\x201\x20ข้อถูกตัดออกแล้ว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','topic-input','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','Error\x20calling\x20Gemini\x20API:','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','reference-pdf-upload','<div\x20id=\x22q-image-container-','<div>','กำลังดึงไฟล์\x20O-NET\x20อ้างอิงจากลิงก์...','ใช่','บันทึกแบบทดสอบสำเร็จแล้ว!','correctResponse','\x20\x20\x20-\x20คำตอบ:\x20','bank-quiz-list','ตัดตัวเลือกที่\x20\x22ผิด\x22\x20ออก\x202\x20ข้อ\x20(เหลือ\x201\x20ถูก\x201\x20ผิด)','toDataURL','select[name=\x22question_single\x22]','show_pass_fail_only','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','confirm-quiz-settings-btn','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-ban\x22></i>\x20ใช้ไม่ได้','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20','getDocument','ไม่สามารถเพิ่มนักเรียนได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-blue-100','\x20to\x20','Failed\x20to\x20generate\x20lesson:','isPasscodeEnabled','\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>','difficulty-level-select','mousedown','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','ไม่พบข้อมูลแบบทดสอบ','หลังเรียน','original-mode-checkbox','<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','\x27\x20ในหน้าเดียวอย่างกระชับสำหรับส่วน\x20\x27ONE-PAGE\x20SUMMARY\x27.\x20','dblclick','เกิดข้อผิดพลาดในการสร้างห้อง\x20Sync\x20Game','#FEF3C7','back-to-student-home-btn','input-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>','บันทึกคำถามใหม่\x20','258912GHuqou','subTopics','AI\x20กำลังสร้างบทเรียนเรื่อง\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20','ครูใหญ่','live-game-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','numeric','confidence-mode-container','.move-file-shortcut-item','สมมาตร\x20(แกน/จุด)','คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20','finishReason','ฟังก์ชันยกกำลัง','เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร','เนื้อหาที่สร้างขึ้นถูกบล็อกเนื่องจากนโยบายความปลอดภัย','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22pointer-events-none\x20flex\x20flex-col\x20items-center\x20justify-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-2xl\x22>','\x20วินาที','.option-input','<button\x20data-shortcut-id=\x22','คุณใช้ตัวช่วย\x20\x22','add-student-btn','modal-adaptive-quiz-checkbox','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22','maxHeight','.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อมี\x20','pre-test','สมการเชิงเส้นตัวแปรเดียว','/public/data/practiceBank','add-parallel-shortcut-tab-btn','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ดู\x20Podium\x20<i\x20class=\x22fas\x20fa-trophy\x22></i></button>','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก','bg-gray-500','visible','reduce','ยังไม่มีนักเรียนส่งงาน','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>','ผู้พิชิตดาว','<div\x20class=\x22loader\x20mx-auto\x22></div>','generate-from-topic-btn','projectSort','ระบบสมการเชิงเส้นสองตัวแปร'];_0x4d61=function(){return _0x28e945;};return _0x4d61();}function showTop5LeaderboardView(_0x2c6615){const _0xe771e1=_0x2bcb18,_0x4f39e8=Object[_0xe771e1(0x282)](_0x2c6615[_0xe771e1(0x18b)]||{})[_0xe771e1(0x9a7)](_0x5d1cc8=>_0x5d1cc8[_0xe771e1(0x1f8)]==='active');_0x4f39e8[_0xe771e1(0x41f)]((_0x1e38c7,_0x501a3f)=>_0x501a3f['score']-_0x1e38c7['score']);const _0x337148=_0x4f39e8[_0xe771e1(0x9b9)](0x0,0x5),_0x275101=_0xe771e1(0x3eb)+_0x337148['map']((_0x5f2c83,_0xe5240d)=>_0xe771e1(0x5fe)+(_0xe5240d+0x1)+'.\x20'+(_0x5f2c83[_0xe771e1(0x34a)]||Object['keys'](_0x2c6615[_0xe771e1(0x18b)])[_0xe771e1(0x7a3)](_0x5899de=>_0x2c6615[_0xe771e1(0x18b)][_0x5899de]===_0x5f2c83))+_0xe771e1(0xb98)+_0x5f2c83['score']+_0xe771e1(0x969))[_0xe771e1(0xbb2)]('')+_0xe771e1(0xea6)+(_0x2c6615[_0xe771e1(0x907)]+0x1===currentQuizData[_0xe771e1(0xc46)][_0xe771e1(0x752)]?_0xe771e1(0x629):_0xe771e1(0xd39))+_0xe771e1(0x265);liveGameView[_0xe771e1(0xa16)]=_0x275101,document[_0xe771e1(0x932)]('goto-next-question-btn')[_0xe771e1(0x639)](_0xe771e1(0x164),async()=>{const _0x4950f7=_0xe771e1,_0x5da1d3=doc(db,_0x4950f7(0x6e6)+appId+_0x4950f7(0x903),currentLiveGameId),_0x256ac0=_0x2c6615[_0x4950f7(0x907)]+0x1;if(_0x256ac0<currentQuizData[_0x4950f7(0xc46)][_0x4950f7(0x752)]){const _0x4efdb2={'currentQuestionIndex':_0x256ac0,'questionDisplayedAt':serverTimestamp(),'questionStatus':_0x4950f7(0xba3)};Object[_0x4950f7(0x338)](_0x2c6615[_0x4950f7(0x18b)])[_0x4950f7(0x39f)](_0x222cf0=>{const _0x4ea02a=_0x4950f7;_0x4efdb2[_0x4ea02a(0x40a)+_0x222cf0+_0x4ea02a(0xb0e)]=![];}),await updateDoc(_0x5da1d3,_0x4efdb2);}else await updateDoc(_0x5da1d3,{'status':_0x4950f7(0x844)});});}function setupAuthListener(){onAuthStateChanged(auth,async _0x12a1e7=>{const _0x5650fe=_0x63b3;if(_0x12a1e7){userId=_0x12a1e7['uid'],userIdDisplay['textContent']=userId;const _0x17cf9a=await loadUserPreferences();_0x17cf9a['projectSortOrder']&&(document[_0x5650fe(0x932)](_0x5650fe(0x6db))[_0x5650fe(0x99c)]=_0x17cf9a[_0x5650fe(0x369)]);globalDashboardSettings[_0x5650fe(0xcf5)]=_0x17cf9a[_0x5650fe(0xcf5)]||_0x5650fe(0x391);if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics(),listenForBlueprintShortcuts();}else await authenticateUser();});}async function saveUserPreference(_0x526e49,_0x568053){const _0x140ece=_0x2bcb18;if(!userId)return;try{const _0x18db3f=doc(db,'artifacts/'+appId+_0x140ece(0x9fe)+userId+_0x140ece(0x428)),_0x1a80dd={};_0x1a80dd[_0x526e49]=_0x568053,await setDoc(_0x18db3f,_0x1a80dd,{'merge':!![]});}catch(_0x157da3){console['error'](_0x140ece(0x759),_0x157da3);}}async function loadUserPreferences(){const _0x54f7d5=_0x2bcb18;if(!userId)return{};try{const _0xaefb59=doc(db,'artifacts/'+appId+'/users/'+userId+'/preferences/main'),_0x1e0125=await getDoc(_0xaefb59);if(_0x1e0125[_0x54f7d5(0x7d2)]())return _0x1e0125[_0x54f7d5(0x13f)]();return{};}catch(_0x1f0fa4){return console[_0x54f7d5(0x1ac)](_0x54f7d5(0x306),_0x1f0fa4),{};}}function parseIndentedBlueprint(_0xfcff65){const _0x5f49f9=_0x2bcb18,_0x268380=_0xfcff65[_0x5f49f9(0x664)]('\x0a')['filter'](_0x23057a=>_0x23057a[_0x5f49f9(0xa4d)]()!==''),_0x16da52=[];let _0x33e209=null,_0x5e8c3f=null;return _0x268380['forEach'](_0x5c94ca=>{const _0x3492f7=_0x5f49f9,_0x12de89=_0x5c94ca[_0x3492f7(0x783)](/^\s*/)[0x0][_0x3492f7(0x752)],_0x3aa654=_0x5c94ca[_0x3492f7(0xa4d)]();if(_0x12de89===0x0)_0x33e209={'sara':_0x3aa654,'mainTopics':[]},_0x16da52[_0x3492f7(0xe86)](_0x33e209),_0x5e8c3f=null;else{if(_0x12de89>0x0&&_0x12de89<0x8&&_0x33e209)_0x5e8c3f={'topicName':_0x3aa654,'subTopics':[]},_0x33e209[_0x3492f7(0xa02)][_0x3492f7(0xe86)](_0x5e8c3f);else _0x12de89>=0x8&&_0x5e8c3f&&_0x5e8c3f[_0x3492f7(0xd9d)][_0x3492f7(0xe86)](_0x3aa654);}}),{'curriculum':_0x16da52};}async function handleManualBlueprintSave(){const _0x1fec1b=_0x2bcb18,_0x3e8f20=document[_0x1fec1b(0x932)]('manual-bp-project-name')['value'][_0x1fec1b(0xa4d)](),_0x21e7fa=document['getElementById'](_0x1fec1b(0x37f))[_0x1fec1b(0x99c)][_0x1fec1b(0xa4d)](),_0x27e366=document[_0x1fec1b(0x932)](_0x1fec1b(0x627))[_0x1fec1b(0x99c)];if(!_0x3e8f20||!_0x21e7fa||!_0x27e366){showMessage(_0x1fec1b(0x7bc));return;}const _0x45d39=parseIndentedBlueprint(_0x27e366);if(!_0x45d39[_0x1fec1b(0xdcf)]||_0x45d39['curriculum']['length']===0x0){showMessage(_0x1fec1b(0xc61));return;}const _0x5dbddd={};let _0x45df54=0x0;_0x45d39[_0x1fec1b(0xdcf)]['forEach'](_0x212bac=>{const _0x50674e=_0x1fec1b;_0x212bac[_0x50674e(0xa02)][_0x50674e(0x39f)](_0x153ff4=>{const _0x3a45b4=_0x50674e;_0x153ff4[_0x3a45b4(0xd9d)][_0x3a45b4(0x39f)](_0x468311=>{const _0xc2eecb=_0x3a45b4,_0x10abdf=_0xc2eecb(0x8f3)+Date['now']()+Math[_0xc2eecb(0xbad)]()[_0xc2eecb(0xdcb)](0x24)[_0xc2eecb(0x266)](0x2,0x9);_0x5dbddd[_0x10abdf]={'sara':_0x212bac[_0xc2eecb(0x2e8)],'mainTopic':_0x153ff4[_0xc2eecb(0x9fc)],'subTopic':_0x468311,'status':_0xc2eecb(0x7c6),'lessonContent':null,'order':_0x45df54++};});});});try{const _0x5a02b9=collection(db,_0x1fec1b(0x6e6)+appId+_0x1fec1b(0x8a5));await addDoc(_0x5a02b9,{'projectName':_0x3e8f20,'gradeLevel':_0x21e7fa,'topics':_0x5dbddd,'createdAt':serverTimestamp()}),showMessage('บันทึกโปรเจค\x20\x22'+_0x3e8f20+_0x1fec1b(0xa18)),document[_0x1fec1b(0x932)](_0x1fec1b(0xb89))[_0x1fec1b(0x360)][_0x1fec1b(0x4a6)](_0x1fec1b(0x2f2));}catch(_0x445d95){console['error'](_0x1fec1b(0xba6),_0x445d95),showMessage(_0x1fec1b(0xdd3));}}function handleClearAllLinksForTopic(_0x2a0d69){const _0x25e15d=_0x2bcb18;showConfirmation(_0x25e15d(0x87a),async()=>{const _0x6be8e1=_0x25e15d;try{const _0x1dc9df=doc(db,'artifacts/'+appId+_0x6be8e1(0x8a5),currentBlueprintProjectId);await updateDoc(_0x1dc9df,{[_0x6be8e1(0x405)+_0x2a0d69+_0x6be8e1(0x663)]:[]}),showMessage(_0x6be8e1(0xb9a)),openTopicQuizBank(_0x2a0d69),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0xb16545){console[_0x6be8e1(0x1ac)]('Error\x20clearing\x20all\x20links:',_0xb16545),showMessage(_0x6be8e1(0x5ab));}});}function showPodiumView(_0x3ae871,_0x2a8594=_0x2bcb18(0x69d),_0x122719=null){const _0x20343e=_0x2bcb18,_0x2f9463=_0x122719?.['isBlackMarketEnabled']===!![],_0x335c13=Object[_0x20343e(0xd16)](_0x3ae871)[_0x20343e(0xe49)](([_0x2a0ec6,_0x1a89b9])=>({'name':_0x2a0ec6,'realScore':_0x1a89b9[_0x20343e(0x971)]||_0x1a89b9[_0x20343e(0x853)]||0x0,'totalPoints':_0x1a89b9[_0x20343e(0xd68)]||0x0,'badges':_0x1a89b9['badges']||[],'hasPerfectScoreBonus':_0x1a89b9[_0x20343e(0x226)]||![],'correctStreak':_0x1a89b9[_0x20343e(0xa43)]||0x0})),_0x46fdda=Math[_0x20343e(0x824)](..._0x335c13['map'](_0x52f441=>_0x52f441[_0x20343e(0xd68)]),-Infinity),_0x37d351=Math[_0x20343e(0x824)](..._0x335c13[_0x20343e(0xe49)](_0x221131=>_0x221131['realScore']),-Infinity);_0x335c13['sort']((_0x17c51e,_0x14dd20)=>{const _0x290f65=_0x20343e;if(_0x2f9463){const _0x2389e3=_0x14dd20[_0x290f65(0xd68)]-_0x17c51e[_0x290f65(0xd68)];if(_0x2389e3!==0x0)return _0x2389e3;const _0x4ef9f5=_0x14dd20[_0x290f65(0x971)]-_0x17c51e[_0x290f65(0x971)];if(_0x4ef9f5!==0x0)return _0x4ef9f5;return _0x17c51e[_0x290f65(0x34a)][_0x290f65(0x1bf)](_0x14dd20['name'],'th');}else{const _0x35b3d3=_0x14dd20['totalPoints']-_0x17c51e[_0x290f65(0xd68)];if(_0x35b3d3!==0x0)return _0x35b3d3;const _0x40cd66=_0x14dd20[_0x290f65(0x971)]-_0x17c51e[_0x290f65(0x971)];if(_0x40cd66!==0x0)return _0x40cd66;return _0x17c51e['name'][_0x290f65(0x1bf)](_0x14dd20[_0x290f65(0x34a)],'th');}});let _0x30dcdc=0x1;for(let _0x4a092a=0x0;_0x4a092a<_0x335c13['length'];_0x4a092a++){if(_0x4a092a>0x0){const _0x5ee575=_0x335c13[_0x4a092a-0x1],_0x25b18d=_0x335c13[_0x4a092a],_0x5cb802=_0x25b18d[_0x20343e(0xd68)]===_0x5ee575[_0x20343e(0xd68)]&&_0x25b18d['realScore']===_0x5ee575[_0x20343e(0x971)];!_0x5cb802&&(_0x30dcdc=_0x4a092a+0x1);}_0x335c13[_0x4a092a]['displayRank']=_0x30dcdc;}const _0x48e286=_0x2505ca=>{const _0x4bc80b=_0x20343e;if(!_0x2505ca||_0x2505ca[_0x4bc80b(0x752)]===0x0)return'';const _0x3b45a2={'quick_thinker':'⚡️','on_fire':'🔥'};return _0x4bc80b(0x397)+_0x2505ca[_0x4bc80b(0xe49)](_0x2ac2ae=>_0x3b45a2[_0x2ac2ae]||'')[_0x4bc80b(0xbb2)]('')+_0x4bc80b(0x1f5);},_0x2cfb26=_0x100cb3=>{const _0x185e8b=_0x20343e;let _0x4e92ed='';if(_0x2f9463){if(_0x100cb3[_0x185e8b(0xd68)]===_0x46fdda&&_0x46fdda>0x0)_0x4e92ed+=_0x185e8b(0x740);if(_0x100cb3[_0x185e8b(0x971)]===_0x37d351&&_0x37d351>0x0)_0x4e92ed+=_0x185e8b(0x606);}else{if(_0x100cb3[_0x185e8b(0x226)])_0x4e92ed=_0x185e8b(0x3fb);}let _0x586481='';_0x100cb3[_0x185e8b(0xa43)]>=0x3&&(_0x586481='\x20<span\x20class=\x22text-orange-400\x20font-bold\x20animate-pulse\x20ml-1\x20text-lg\x20drop-shadow-sm\x22>🔥\x20x'+_0x100cb3['correctStreak']+'</span>');if(_0x2f9463){const _0x59e88b=_0x100cb3[_0x185e8b(0xd68)]>=0x0?'(+'+_0x100cb3[_0x185e8b(0xd68)][_0x185e8b(0x6ee)]()+')':'('+_0x100cb3[_0x185e8b(0xd68)][_0x185e8b(0x6ee)]()+')';return _0x185e8b(0xcb9)+_0x100cb3[_0x185e8b(0x971)]+_0x185e8b(0x3c2)+_0x59e88b+_0x185e8b(0xad5)+_0x4e92ed+_0x586481+_0x185e8b(0x59d);}else return _0x185e8b(0xcb9)+_0x100cb3[_0x185e8b(0xd68)]['toLocaleString']()+_0x185e8b(0x31a)+_0x4e92ed+_0x586481+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';},_0x5bbb5b=_0x27e8dc=>{const _0x32ef19=_0x20343e;if(_0x27e8dc>=0x3)return _0x32ef19(0xb72)+_0x27e8dc+'</span>';return'';},_0x577418=_0x335c13[_0x20343e(0x9b9)](0x3),_0x4c5237=_0x577418['length']>0x0?_0x20343e(0x913)+_0x577418[_0x20343e(0xe49)]((_0x332417,_0x445ca3)=>{const _0x32125b=_0x20343e;let _0x5ddc7f='';if(_0x2f9463){if(_0x332417[_0x32125b(0xd68)]===_0x46fdda&&_0x46fdda>0x0)_0x5ddc7f+=_0x32125b(0x9b5);if(_0x332417[_0x32125b(0x971)]===_0x37d351&&_0x37d351>0x0)_0x5ddc7f+=_0x32125b(0xe70);}let _0x2e22e4='';return _0x2f9463?_0x2e22e4=_0x332417[_0x32125b(0x971)]+_0x32125b(0x46b)+_0x332417['totalPoints'][_0x32125b(0x6ee)]()+')':_0x2e22e4=_0x332417[_0x32125b(0xd68)][_0x32125b(0x6ee)]()+_0x32125b(0x87e),_0x32125b(0x822)+_0x332417['displayRank']+_0x32125b(0x83e)+_0x332417[_0x32125b(0x34a)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5bbb5b(_0x332417[_0x32125b(0xa43)])+_0x32125b(0xaf8)+_0x2e22e4+'\x20'+_0x5ddc7f+_0x32125b(0xc41);})[_0x20343e(0xbb2)]('')+_0x20343e(0x21c):'',_0x203441='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x335c13[0x1]?_0x20343e(0xbb9)+_0x335c13[0x1]['name']+_0x20343e(0x463)+_0x2cfb26(_0x335c13[0x1])+'<div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x20shadow-lg\x20border-t-4\x20border-gray-300\x22>'+_0x335c13[0x1]['displayRank']+_0x20343e(0xb11):_0x20343e(0x18d))+_0x20343e(0x889)+(_0x335c13[0x0]?_0x20343e(0xbb7)+_0x335c13[0x0]['name']+'</p>'+_0x2cfb26(_0x335c13[0x0])+_0x20343e(0xcc6)+_0x335c13[0x0]['displayRank']+_0x20343e(0xb11):_0x20343e(0x18d))+_0x20343e(0x889)+(_0x335c13[0x2]?_0x20343e(0x80e)+_0x335c13[0x2][_0x20343e(0x34a)]+_0x20343e(0x463)+_0x2cfb26(_0x335c13[0x2])+_0x20343e(0x868)+_0x335c13[0x2][_0x20343e(0xdfa)]+'</div></div>':'<div\x20class=\x22flex-1\x22></div>')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4c5237+_0x20343e(0xd4a)+(currentMode===_0x20343e(0xcd1)?'<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>':_0x20343e(0x3b2))+_0x20343e(0x4be);liveGameView['innerHTML']=_0x203441,currentMode===_0x20343e(0xcd1)?document[_0x20343e(0x932)](_0x20343e(0xd20))[_0x20343e(0x639)]('click',async()=>{const _0x5fddc2=_0x20343e;let _0x328d1a;_0x2a8594==='sync'?_0x328d1a=doc(db,'artifacts/'+appId+_0x5fddc2(0x2ef),currentLiveGameId):_0x328d1a=doc(db,_0x5fddc2(0x6e6)+appId+'/public/data/liveGames',currentLiveGameId),await deleteDoc(_0x328d1a);}):document[_0x20343e(0x932)](_0x20343e(0x897))?.['addEventListener'](_0x20343e(0x164),()=>{const _0x4bfb99=_0x20343e;showView(_0x4bfb99(0x18c));});}function renderSyncSummaryView(_0x371340,_0x5915aa,_0x3e022e){const _0x4a8d52=_0x2bcb18,_0x18a234=_0x371340[_0x4a8d52(0x35a)]||_0x4a8d52(0x4e6),_0x198ca6=(_0x18a234===_0x4a8d52(0x7a4)||_0x18a234===_0x4a8d52(0x895))&&_0x371340[_0x4a8d52(0x979)]===![],_0x9fdc2b=_0x18a234===_0x4a8d52(0xa68)||_0x18a234===_0x4a8d52(0x895),_0x313f3e=_0x371340[_0x4a8d52(0x450)][_0x4a8d52(0xc46)],_0x2769b9=_0x5915aa[_0x4a8d52(0x2ed)]||_0x371340[_0x4a8d52(0x450)][_0x4a8d52(0x2de)],_0x320654=_0x2769b9==='short_answer'||_0x2769b9==='fill_in_no_choices';let _0x5767d1='';if(_0x320654){let _0x303d76=0x0,_0x257a95=0x0;const _0x1921c9=[],_0x2fb2c6=[];Object[_0x4a8d52(0xd16)](_0x371340['players']||{})[_0x4a8d52(0x39f)](([_0x39bd63,_0x30509e])=>{const _0xbfe232=_0x4a8d52,_0x48ea20=(_0x30509e['answers']||[])[_0xbfe232(0x7a3)](_0x4a6a88=>_0x4a6a88[_0xbfe232(0xa22)]===_0x371340[_0xbfe232(0x907)]);if(_0x30509e['status']!==_0xbfe232(0x410)&&_0x48ea20){const _0x7d6b3c=_0x48ea20['answerText'],_0xbd05a0=_0x198ca6?_0x371340[_0xbfe232(0xc70)][_0x39bd63]||'???':_0x39bd63;_0x48ea20[_0xbfe232(0x129)]?(_0x303d76++,_0x1921c9[_0xbfe232(0xe86)](_0xbd05a0)):(_0x257a95++,_0x2fb2c6[_0xbfe232(0xe86)](_0xbfe232(0x333)+_0xbd05a0+_0xbfe232(0xd3f)+(_0x7d6b3c||'(ไม่ตอบ)')));}}),_0x5767d1='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-center\x20items-end\x20gap-8\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/3\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>'+_0x303d76+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-4\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x20shadow-lg\x20border-2\x20border-green-400\x20transition-transform\x20hover:scale-105\x22\x20style=\x22min-height:\x20120px;\x20background-color:\x20#22c55e;\x22\x20data-tooltip-target=\x22tooltip-hidden-correct\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-4xl\x20mb-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20pointer-events-none\x22>ตอบถูก</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-hidden-correct\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-xl\x20p-3\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-2\x20border-b\x20border-gray-600\x20pb-1\x20text-green-400\x22>รายชื่อคนเก่ง:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-40\x20overflow-y-auto\x22>'+(_0x1921c9['length']>0x0?_0x1921c9[_0x4a8d52(0xbb2)](',\x20'):'-')+_0x4a8d52(0x351)+_0x257a95+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-4\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x20shadow-lg\x20border-2\x20border-red-400\x20transition-transform\x20hover:scale-105\x22\x20style=\x22min-height:\x20120px;\x20background-color:\x20#ef4444;\x22\x20data-tooltip-target=\x22tooltip-hidden-incorrect\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20text-4xl\x20mb-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20pointer-events-none\x22>ตอบผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-hidden-incorrect\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-xl\x20p-3\x20z-20\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-2\x20border-b\x20border-gray-600\x20pb-1\x20text-red-400\x22>รายละเอียดคนตอบผิด:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-48\x20overflow-y-auto\x20space-y-1\x22>'+(_0x2fb2c6[_0x4a8d52(0x752)]>0x0?_0x2fb2c6['join']('<br>'):'-')+_0x4a8d52(0x29c);}else{let _0x4de3ba=[];_0x2769b9==='true_false'?_0x4de3ba=[_0x4a8d52(0x1fa),'ไม่ใช่\x20/\x20ผิด']:_0x4de3ba=_0x5915aa[_0x4a8d52(0x3e2)]||[];const _0x1f53b5=new Array(_0x4de3ba[_0x4a8d52(0x752)])[_0x4a8d52(0x864)](0x0),_0x1b147c={};_0x4de3ba[_0x4a8d52(0x39f)]((_0x8a5733,_0x433ed2)=>{_0x1b147c[_0x433ed2]=[];}),Object[_0x4a8d52(0xd16)](_0x371340[_0x4a8d52(0x18b)]||{})[_0x4a8d52(0x39f)](([_0x3ef54d,_0x4d9691])=>{const _0x5f0b71=_0x4a8d52,_0x10f38e=(_0x4d9691['answers']||[])['find'](_0x40b2bf=>_0x40b2bf[_0x5f0b71(0xa22)]===_0x371340[_0x5f0b71(0x907)]);if(_0x4d9691[_0x5f0b71(0x1f8)]!==_0x5f0b71(0x410)&&_0x10f38e&&_0x10f38e[_0x5f0b71(0x328)]!==null){const _0xbc1f38=parseInt(_0x10f38e[_0x5f0b71(0x328)]);if(!isNaN(_0xbc1f38)&&_0x1b147c[_0xbc1f38]!==undefined){const _0x301f34=_0x198ca6?_0x371340[_0x5f0b71(0xc70)][_0x3ef54d]||'???':_0x3ef54d;_0x1b147c[_0xbc1f38][_0x5f0b71(0xe86)](_0x301f34),_0x1f53b5[_0xbc1f38]++;}}}),_0x5767d1=_0x4a8d52(0x753)+_0x1f53b5[_0x4a8d52(0xe49)]((_0x5d6455,_0x268c92)=>{const _0x31c788=_0x4a8d52,_0x26ccf4=_0x1b147c[_0x268c92]['length']>0x0?_0x1b147c[_0x268c92][_0x31c788(0xbb2)](',\x20'):_0x31c788(0x180),_0x301fdc='#6366F1';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>'+_0x5d6455+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x20style=\x22min-height:\x2060px;\x20background-color:\x20'+_0x301fdc+_0x31c788(0x531)+_0x268c92+_0x31c788(0x50d)+_0x4de3ba[_0x268c92]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-'+_0x268c92+_0x31c788(0x27d)+_0x26ccf4+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x4a8d52(0xbb2)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';}let _0x5b6147='';const _0x4938eb=_0x371340[_0x4a8d52(0x907)]>=_0x313f3e[_0x4a8d52(0x752)]-0x1;_0x3e022e?_0x9fdc2b?_0x4938eb?_0x5b6147=_0x4a8d52(0x62c):_0x5b6147=_0x4a8d52(0x616):_0x5b6147=_0x4a8d52(0x803):_0x9fdc2b?_0x5b6147=_0x4a8d52(0xeb2):_0x5b6147=_0x4a8d52(0xe2a);const _0x2f0009=_0x3e022e?_0x4a8d52(0x31f)+_0x371340[_0x4a8d52(0x365)]+_0x4a8d52(0x99b):'',_0xf3fe16=_0x4a8d52(0xc0c)+_0x2f0009+_0x4a8d52(0xac2)+(_0x5915aa[_0x4a8d52(0xca8)]||_0x5915aa[_0x4a8d52(0x58b)]||'')+_0x4a8d52(0x3bb)+_0x5767d1+_0x4a8d52(0xc97)+_0x5b6147+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x4a8d52(0xa16)]=_0xf3fe16;if(window[_0x4a8d52(0x7f9)])MathJax['typesetPromise']();if(_0x3e022e){const _0x3aa178=doc(db,_0x4a8d52(0x6e6)+appId+_0x4a8d52(0x2ef),currentLiveGameId);document[_0x4a8d52(0x932)](_0x4a8d52(0x6e2))?.['addEventListener'](_0x4a8d52(0x164),async()=>{const _0xfb9a6f=_0x4a8d52,_0x232f53=Object['values'](_0x371340[_0xfb9a6f(0x18b)]||{})[_0xfb9a6f(0xe49)](_0x15085d=>({'name':_0x15085d['name'],'score':_0x15085d[_0xfb9a6f(0x853)]||0x0,'totalPoints':_0x15085d[_0xfb9a6f(0xd68)]||0x0,'pointsLastRound':_0x15085d['pointsLastRound']||0x0,'answers':_0x15085d[_0xfb9a6f(0x8c5)]||[],'correctStreak':_0x15085d['correctStreak']||0x0}));await updateDoc(_0x3aa178,{'status':_0xfb9a6f(0xd37),'publicLeaderboard':_0x232f53});}),document[_0x4a8d52(0x932)](_0x4a8d52(0xadd))?.['addEventListener'](_0x4a8d52(0x164),()=>{openScratchpad(_0x5915aa,_0x5915aa['options']||[]);}),document[_0x4a8d52(0x932)](_0x4a8d52(0xd38))?.[_0x4a8d52(0x639)](_0x4a8d52(0x164),async()=>{const _0x4cc86b=_0x4a8d52,_0x54b661=_0x371340['currentQuestionIndex']+0x1;await updateDoc(_0x3aa178,{'status':_0x4cc86b(0xb8f),'currentQuestionIndex':_0x54b661,'questionDisplayedAt':serverTimestamp(),'scoresCalculated':![]});}),document[_0x4a8d52(0x932)](_0x4a8d52(0x297))?.[_0x4a8d52(0x639)](_0x4a8d52(0x164),async()=>{const _0x15aae9=_0x4a8d52,_0x14bda8=Object[_0x15aae9(0x282)](_0x371340['players']||{})['map'](_0x34dfd3=>({'name':_0x34dfd3[_0x15aae9(0x34a)],'score':_0x34dfd3[_0x15aae9(0x853)]||0x0,'totalPoints':_0x34dfd3[_0x15aae9(0xd68)]||0x0,'pointsLastRound':_0x34dfd3[_0x15aae9(0x3e8)]||0x0,'answers':_0x34dfd3['answers']||[],'correctStreak':_0x34dfd3[_0x15aae9(0xa43)]||0x0}));await updateDoc(_0x3aa178,{'status':'results','reviewQuestionIndex':0x0,'publicLeaderboard':_0x14bda8});});}}function renderAnonymousStudentResultsView(_0x7cfd40){const _0x52a0e4=_0x2bcb18,_0x57299d=_0x7cfd40[_0x52a0e4(0x907)]>=_0x7cfd40[_0x52a0e4(0x450)]['questions'][_0x52a0e4(0x752)]-0x1;let _0x322216='';if(_0x7cfd40[_0x52a0e4(0x979)]===!![]){const _0x1b223f=_0x7cfd40['players'][localTeamPlayers[0x0]],_0x2e2087=_0x1b223f['name'],_0x40d8ea=_0x1b223f['score'];_0x322216='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-white\x20mt-4\x22>'+_0x2e2087+_0x52a0e4(0x409)+_0x40d8ea+'\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}else _0x322216=_0x52a0e4(0xce9)+(_0x57299d?_0x52a0e4(0xddf):'รอผู้ควบคุมไปข้อต่อไป...')+_0x52a0e4(0x6e5);const _0x16b928=_0x52a0e4(0xda2)+_0x322216+_0x52a0e4(0x8bf);liveGameView[_0x52a0e4(0xa16)]=_0x16b928;}async function handleShowStudentRankings(){const _0x31322a=_0x2bcb18,_0x2e9e5f=document[_0x31322a(0xc60)]('#student-quiz-leaderboard-content\x20thead');_0x2e9e5f&&(_0x2e9e5f[_0x31322a(0xa16)]=_0x31322a(0x714));const _0x2ac097=document[_0x31322a(0xc60)](_0x31322a(0x1b1));_0x2ac097&&(_0x2ac097[_0x31322a(0xa16)]=_0x31322a(0x802));const _0x48d7dc=document[_0x31322a(0x932)](_0x31322a(0xd40));_0x48d7dc[_0x31322a(0x360)][_0x31322a(0xcc8)](_0x31322a(0x2f2)),document['getElementById'](_0x31322a(0x5ff))[_0x31322a(0xe1b)]=()=>_0x48d7dc[_0x31322a(0x360)][_0x31322a(0x4a6)]('hidden');const _0x43df39=document['getElementById'](_0x31322a(0x4ab)),_0x517d7f=document['getElementById'](_0x31322a(0x443)),_0x4949ea=document[_0x31322a(0x932)](_0x31322a(0x48e)),_0x1ee087=document[_0x31322a(0x932)](_0x31322a(0x6d7));_0x43df39['onclick']=()=>{const _0x3bfc16=_0x31322a;_0x43df39[_0x3bfc16(0x360)][_0x3bfc16(0x4a6)]('active'),_0x517d7f[_0x3bfc16(0x360)]['remove']('active'),_0x4949ea[_0x3bfc16(0x360)]['remove'](_0x3bfc16(0x2f2)),_0x1ee087[_0x3bfc16(0x360)][_0x3bfc16(0x4a6)](_0x3bfc16(0x2f2));},_0x517d7f[_0x31322a(0xe1b)]=()=>{const _0x55de0a=_0x31322a;_0x517d7f[_0x55de0a(0x360)]['add'](_0x55de0a(0x76a)),_0x43df39[_0x55de0a(0x360)][_0x55de0a(0xcc8)](_0x55de0a(0x76a)),_0x1ee087[_0x55de0a(0x360)]['remove'](_0x55de0a(0x2f2)),_0x4949ea['classList'][_0x55de0a(0x4a6)](_0x55de0a(0x2f2));};try{const _0x5e1106=collection(db,_0x31322a(0x6e6)+appId+'/public/data/quizzes/'+currentQuizData['id']+_0x31322a(0x2f0)),_0x1055e8=await getDocs(_0x5e1106),_0x5d2458=_0x1055e8[_0x31322a(0x9ef)][_0x31322a(0xe49)](_0xff51c8=>_0xff51c8['data']());renderQuizLeaderboard(_0x5d2458,currentQuizData,_0x31322a(0x45d));const _0xc54fc4=collection(db,_0x31322a(0x6e6)+appId+_0x31322a(0x3c5)+currentQuizData[_0x31322a(0xc80)]+_0x31322a(0xd5c)),_0x3cb802=await getDocs(_0xc54fc4),_0x4cd17b=_0x3cb802['docs'][_0x31322a(0xe49)](_0x124cb6=>_0x124cb6[_0x31322a(0x13f)]());renderLeaderboard(_0x4cd17b,_0x31322a(0xb7f));}catch(_0x1c12d4){console['error'](_0x31322a(0x3d3),_0x1c12d4),showMessage(_0x31322a(0xa85));}}async function handleSaveToBank(_0x17b339){const _0x431b45=_0x2bcb18,_0x5cf770=_0x17b339['currentTarget'],_0x4c10b6=_0x5cf770[_0x431b45(0x134)][_0x431b45(0xd5d)],_0x432c25=currentQuizData[_0x431b45(0xc46)][_0x4c10b6];if(!userId){showMessage(_0x431b45(0x61e));return;}try{const _0x336b07={..._0x432c25,'originalTopic':currentQuizData[_0x431b45(0x79c)],'savedAt':serverTimestamp()},_0x5bb350=collection(db,_0x431b45(0x6e6)+appId+_0x431b45(0x9fe)+userId+_0x431b45(0x6d2));await addDoc(_0x5bb350,_0x336b07),showMessage(_0x431b45(0x981)),_0x5cf770[_0x431b45(0x360)][_0x431b45(0xcc8)](_0x431b45(0x8a4)),_0x5cf770[_0x431b45(0x360)]['add'](_0x431b45(0xa35)),_0x5cf770[_0x431b45(0xad6)]=!![];}catch(_0x5a7737){console[_0x431b45(0x1ac)](_0x431b45(0xb61),_0x5a7737),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}async function selectProjectAndGenerateBlueprintQuiz(_0x314b7b,_0x47a756=null,_0x5b7dc1=null,_0x244cee=![]){const _0x4e6c97=_0x2bcb18;cameFromBlueprint=!![];const _0x3b1e98=document['getElementById'](_0x4e6c97(0x1ad))?.[_0x4e6c97(0x99c)][_0x4e6c97(0xa4d)]();let _0x8aa65b=null;if(_0x3b1e98){showMessage(_0x4e6c97(0xd76));try{const _0x31d13e=await fetchFileFromUrl(_0x3b1e98,_0x4e6c97(0x6f3)),_0x2676db=await new Promise((_0x5716e4,_0x30fb08)=>{const _0x225b00=_0x4e6c97,_0x850041=new FileReader();_0x850041[_0x225b00(0x96a)](_0x31d13e),_0x850041['onload']=()=>_0x5716e4(_0x850041[_0x225b00(0x72b)][_0x225b00(0x664)](',')[0x1]),_0x850041['onerror']=_0x30fb08;});_0x8aa65b=[{'inlineData':{'mimeType':_0x31d13e['type'],'data':_0x2676db}}],messageModal[_0x4e6c97(0x360)][_0x4e6c97(0x4a6)](_0x4e6c97(0x2f2));}catch(_0x4f14ce){console['error'](_0x4e6c97(0xe05),_0x4f14ce),showMessage(_0x4e6c97(0xde4));}}const _0x18a8ac=document[_0x4e6c97(0x932)](_0x4e6c97(0x3a5)),_0x265177=document[_0x4e6c97(0x932)](_0x4e6c97(0x2d2)),_0x141c6b=_0x18a8ac[_0x4e6c97(0xc60)]('h3'),_0x5d7852=document[_0x4e6c97(0x932)]('confirm-move-quiz-btn'),_0x57f0b7=document['getElementById'](_0x4e6c97(0xe23));_0x141c6b[_0x4e6c97(0xdec)]=_0x4e6c97(0x633),_0x5d7852['textContent']=_0x4e6c97(0x82a),_0x5d7852[_0x4e6c97(0xad6)]=!![];allProjects[_0x4e6c97(0x752)]===0x0?_0x265177[_0x4e6c97(0xa16)]=_0x4e6c97(0x10e):(_0x265177[_0x4e6c97(0xa16)]='<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>'+allProjects[_0x4e6c97(0xe49)](_0x53a41e=>'<option\x20value=\x22'+_0x53a41e['id']+'\x22>'+_0x53a41e[_0x4e6c97(0x1cc)]+_0x4e6c97(0x194))[_0x4e6c97(0xbb2)](''),_0x5d7852['disabled']=![]);_0x18a8ac[_0x4e6c97(0x360)][_0x4e6c97(0xcc8)](_0x4e6c97(0x2f2));const _0xd3f531=async()=>{const _0x53bf19=_0x4e6c97,_0x405cc8=_0x265177[_0x53bf19(0x99c)];if(!_0x405cc8){showMessage('กรุณาเลือกโปรเจคก่อน');return;}_0x18a8ac[_0x53bf19(0x360)][_0x53bf19(0x4a6)](_0x53bf19(0x2f2)),document[_0x53bf19(0x932)](_0x53bf19(0x9e4))[_0x53bf19(0x360)]['add']('hidden'),await loadProjectDetails(_0x405cc8),showView('project-detail'),handleGenerateQuizFromBlueprintTopic(_0x314b7b,_0x47a756,_0x405cc8,_0x5b7dc1,_0x244cee,_0x8aa65b),_0x16536c();},_0x16536c=()=>{const _0x2ad570=_0x4e6c97;_0x141c6b['textContent']=_0x2ad570(0x554),_0x5d7852[_0x2ad570(0xdec)]='ย้าย',_0x5d7852[_0x2ad570(0x9c9)](_0x2ad570(0x164),_0xd3f531),_0x57f0b7[_0x2ad570(0x9c9)](_0x2ad570(0x164),_0x16536c),_0x5d7852[_0x2ad570(0x639)](_0x2ad570(0x164),confirmMoveQuiz);};_0x5d7852['removeEventListener']('click',confirmMoveQuiz),_0x5d7852[_0x4e6c97(0x639)](_0x4e6c97(0x164),_0xd3f531),_0x57f0b7[_0x4e6c97(0x639)]('click',_0x16536c);}function listenForStarredQuizzes(){const _0x22338f=_0x2bcb18;if(!userId)return;const _0x86e2fa=collection(db,_0x22338f(0x6e6)+appId+'/public/data/quizzes'),_0x459dae=query(_0x86e2fa,where(_0x22338f(0x610),'==',!![]));onSnapshot(_0x459dae,_0x59af62=>{const _0x2034d4=_0x22338f;starredQuizzes=_0x59af62[_0x2034d4(0x9ef)][_0x2034d4(0xe49)](_0x484b35=>({'id':_0x484b35['id'],..._0x484b35[_0x2034d4(0x13f)]()})),currentProjectId===_0x2034d4(0x483)?renderQuizzes():renderProjects();},_0x20a537=>{const _0x578b07=_0x22338f;console['error'](_0x578b07(0xb67),_0x20a537);});}function listenForFileShortcuts(){const _0x4c2e3e=_0x2bcb18,_0xc93ed0=doc(db,_0x4c2e3e(0x4db),_0x4c2e3e(0x128));onSnapshot(_0xc93ed0,_0x20e78b=>{const _0x5ad010=_0x4c2e3e;let _0x118067=[],_0x94b5f3=[],_0x5936e6={};if(_0x20e78b[_0x5ad010(0x7d2)]()){const _0x48ad2a=_0x20e78b[_0x5ad010(0x13f)]();_0x118067=_0x48ad2a[_0x5ad010(0x79b)]||[],_0x94b5f3=_0x48ad2a[_0x5ad010(0x411)]||[],_0x5936e6=_0x48ad2a[_0x5ad010(0x8fa)]||{};}!_0x94b5f3[_0x5ad010(0x7a3)](_0x11d31b=>_0x11d31b['id']===_0x5ad010(0x6b3))&&_0x94b5f3[_0x5ad010(0xaa5)]({'id':_0x5ad010(0x6b3),'name':_0x5ad010(0xa5a),'isDefault':!![]}),!_0x118067[_0x5ad010(0x7a3)](_0x26d38a=>_0x26d38a['id']===_0x5ad010(0x91c))&&_0x118067[_0x5ad010(0xaa5)]({'id':_0x5ad010(0x91c),'name':_0x5ad010(0xa19),'url':'','isDefault':!![]}),!_0x118067[_0x5ad010(0x7a3)](_0x80c3ed=>_0x80c3ed['id']===_0x5ad010(0xc82))&&_0x118067['unshift']({'id':'file-default-2','name':'ไฟล์ลัด\x202','url':'','isDefault':!![]}),fileShortcuts=_0x118067,fileShortcutTabs=_0x94b5f3,fileShortcutOrder=_0x5936e6,renderFileShortcuts(),!document['getElementById'](_0x5ad010(0x835))['classList'][_0x5ad010(0x3fa)]('hidden')&&renderAdditionalFileShortcutsModal();});}async function saveFileShortcutConfig(){const _0x362f75=_0x2bcb18,_0x1b7733=doc(db,'globalSettings',_0x362f75(0x128));try{await setDoc(_0x1b7733,{'fileShortcutTabs':fileShortcutTabs,'fileShortcutOrder':fileShortcutOrder},{'merge':!![]});}catch(_0x13ee2e){console[_0x362f75(0x1ac)](_0x362f75(0xa34),_0x13ee2e);}}function renderAdditionalFileShortcutsModal(){const _0x5de4c=_0x2bcb18,_0x503bb3=document['getElementById'](_0x5de4c(0x963)),_0x4a7521=document[_0x5de4c(0x932)](_0x5de4c(0xa4c));if(!_0x503bb3||!_0x4a7521)return;_0x503bb3[_0x5de4c(0xa16)]=fileShortcutTabs['map'](_0xe7d85f=>{const _0x3421fc=_0x5de4c,_0x13fae0=_0xe7d85f['id']===activeFileShortcutTabId;return _0x3421fc(0x97e)+_0xe7d85f['id']+_0x3421fc(0x50a)+(_0x13fae0?_0x3421fc(0x8ae):_0x3421fc(0x5b0))+_0x3421fc(0x5c0)+_0xe7d85f['name']+_0x3421fc(0x929)+_0xe7d85f[_0x3421fc(0x34a)]+_0x3421fc(0xc17)+(!_0xe7d85f['isDefault']?_0x3421fc(0xc74)+_0xe7d85f['id']+'\x22\x20class=\x22delete-file-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>':'')+_0x3421fc(0xc20);})[_0x5de4c(0xbb2)]('');const _0x45045c=fileShortcutTabs[_0x5de4c(0x7a3)](_0x5b06c8=>_0x5b06c8['id']===activeFileShortcutTabId);let _0x117b72=_0x45045c?.[_0x5de4c(0xd55)]?[...fileShortcuts]:fileShortcuts[_0x5de4c(0x9a7)](_0x5087e5=>(_0x45045c?.[_0x5de4c(0x165)]||[])[_0x5de4c(0xd2e)](_0x5087e5['id']));const _0x27392f=fileShortcutOrder[activeFileShortcutTabId]||[];_0x117b72[_0x5de4c(0x41f)]((_0x5cab1e,_0x158c22)=>{const _0x5dc26c=_0x5de4c,_0x4f983f=_0x27392f[_0x5dc26c(0x2bc)](_0x5cab1e['id']),_0x2b9bad=_0x27392f[_0x5dc26c(0x2bc)](_0x158c22['id']);return(_0x4f983f===-0x1?Infinity:_0x4f983f)-(_0x2b9bad===-0x1?Infinity:_0x2b9bad);}),_0x4a7521['innerHTML']=_0x117b72[_0x5de4c(0xe49)](_0x2fe60f=>{const _0x42bba3=_0x5de4c,_0x1f723e=_0x2fe60f[_0x42bba3(0x3ae)]?'📄':'🔗',_0x1304ee=fileShortcutTabs['filter'](_0x3cac1e=>!_0x3cac1e[_0x42bba3(0xd55)]),_0x3f6abf=_0x45045c[_0x42bba3(0xd55)]&&_0x1304ee['length']>0x0?_0x42bba3(0xb50)+_0x1304ee[_0x42bba3(0xe49)](_0x105cbf=>_0x42bba3(0xaaf)+_0x2fe60f['id']+_0x42bba3(0xd64)+_0x105cbf['id']+'\x22>'+_0x105cbf[_0x42bba3(0x34a)]+_0x42bba3(0x717))['join']('')+_0x42bba3(0x15b):'';return _0x42bba3(0xc9b)+_0x2fe60f['id']+'\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-blue-700\x22>'+_0x1f723e+'\x20'+_0x2fe60f[_0x42bba3(0x34a)]+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x2fe60f['id']+_0x42bba3(0x7d6)+_0x2fe60f['id']+_0x42bba3(0xb03)+(!_0x2fe60f[_0x42bba3(0xd55)]?_0x42bba3(0x25e)+_0x2fe60f['id']+_0x42bba3(0xd23):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x45045c[_0x42bba3(0xd55)]?_0x42bba3(0xdaf)+_0x2fe60f['id']+_0x42bba3(0x16d):'')+_0x42bba3(0xc77)+_0x3f6abf+_0x42bba3(0xc6c);})[_0x5de4c(0xbb2)]('')||_0x5de4c(0x1e2),setupFileShortcutModalEventListeners();}function setupFileShortcutModalEventListeners(){const _0x50523d=_0x2bcb18;document[_0x50523d(0x38e)](_0x50523d(0x5ef))[_0x50523d(0x39f)](_0x3b7260=>{const _0x29f962=_0x50523d;_0x3b7260[_0x29f962(0xe1b)]=_0xaa0bb5=>{const _0x2debe6=_0x29f962;activeFileShortcutTabId=_0xaa0bb5[_0x2debe6(0xb7c)][_0x2debe6(0x134)]['tabId'],renderAdditionalFileShortcutsModal();},_0x3b7260[_0x29f962(0x996)]=_0x311d83=>{const _0x1531b0=_0x29f962,_0x2eb8cf=_0x311d83['currentTarget']['querySelector']('.tab-name-input');_0x311d83['currentTarget'][_0x1531b0(0xc60)](_0x1531b0(0x6c2))[_0x1531b0(0x360)][_0x1531b0(0x4a6)]('hidden'),_0x2eb8cf[_0x1531b0(0x360)][_0x1531b0(0xcc8)](_0x1531b0(0x2f2)),_0x2eb8cf[_0x1531b0(0xa82)](),_0x2eb8cf[_0x1531b0(0x2fd)]();};}),document[_0x50523d(0x38e)]('#file-shortcut-tabs-nav\x20.tab-name-input')[_0x50523d(0x39f)](_0x33c7ff=>{const _0x581f4c=_0x50523d,_0x4ea0c4=()=>{const _0x1f633b=_0x63b3,_0x1a8cef=_0x33c7ff[_0x1f633b(0x1d0)]('.file-shortcut-tab-btn')[_0x1f633b(0x134)]['tabId'],_0x52b904=fileShortcutTabs[_0x1f633b(0x7a3)](_0x475633=>_0x475633['id']===_0x1a8cef);_0x52b904&&(_0x52b904[_0x1f633b(0x34a)]=_0x33c7ff[_0x1f633b(0x99c)][_0x1f633b(0xa4d)]()||_0x52b904[_0x1f633b(0x34a)],saveFileShortcutConfig());};_0x33c7ff[_0x581f4c(0xb15)]=_0x4ea0c4,_0x33c7ff[_0x581f4c(0xc7b)]=_0x2140f9=>{const _0x26d7c9=_0x581f4c;if(_0x2140f9[_0x26d7c9(0x420)]===_0x26d7c9(0xa2b))_0x33c7ff[_0x26d7c9(0xa73)]();};}),document[_0x50523d(0x38e)](_0x50523d(0x561))[_0x50523d(0x39f)](_0x1162f8=>_0x1162f8['onclick']=_0x3a138c=>{const _0x23e35b=_0x50523d,_0x672cfe=_0x3a138c[_0x23e35b(0xb7c)][_0x23e35b(0x134)][_0x23e35b(0x654)];showConfirmation(_0x23e35b(0x8d2),()=>{const _0xd4944d=_0x23e35b;fileShortcutTabs=fileShortcutTabs[_0xd4944d(0x9a7)](_0x183aac=>_0x183aac['id']!==_0x672cfe),delete fileShortcutOrder[_0x672cfe];if(activeFileShortcutTabId===_0x672cfe)activeFileShortcutTabId=_0xd4944d(0x6b3);saveFileShortcutConfig();});}),document[_0x50523d(0x38e)](_0x50523d(0xda5))[_0x50523d(0x39f)](_0x17e175=>_0x17e175[_0x50523d(0xe1b)]=_0x126ada=>{const _0x989fb1=_0x50523d;_0x126ada[_0x989fb1(0xcfb)]();const {shortcutId:_0xdeb7ca,targetTabId:_0x5e579a}=_0x126ada[_0x989fb1(0xb7c)]['dataset'],_0x2d31a2=fileShortcutTabs['find'](_0x4dac63=>_0x4dac63['id']===_0x5e579a);_0x2d31a2&&!_0x2d31a2[_0x989fb1(0x165)]['includes'](_0xdeb7ca)&&(_0x2d31a2[_0x989fb1(0x165)][_0x989fb1(0xe86)](_0xdeb7ca),saveFileShortcutConfig());}),document[_0x50523d(0x38e)](_0x50523d(0xb4a))[_0x50523d(0x39f)](_0x39c072=>_0x39c072[_0x50523d(0xe1b)]=_0x3dfc28=>{const _0x565d7d=_0x50523d,_0x4f8dd2=_0x3dfc28[_0x565d7d(0xb7c)]['dataset']['shortcutId'],_0x356422=fileShortcutTabs[_0x565d7d(0x7a3)](_0x59ba13=>_0x59ba13['id']===activeFileShortcutTabId);_0x356422&&!_0x356422['isDefault']&&(_0x356422[_0x565d7d(0x165)]=_0x356422[_0x565d7d(0x165)][_0x565d7d(0x9a7)](_0xfc764=>_0xfc764!==_0x4f8dd2),saveFileShortcutConfig());}),document[_0x50523d(0x38e)](_0x50523d(0x2d4))['forEach'](_0x447d29=>_0x447d29[_0x50523d(0xe1b)]=_0x1b9654=>{const _0x436e7d=_0x50523d;_0x1b9654[_0x436e7d(0x17c)]();const _0x16483f=_0x1b9654['currentTarget']['nextElementSibling'];document['querySelectorAll'](_0x436e7d(0x676))[_0x436e7d(0x39f)](_0x413c4b=>_0x413c4b[_0x436e7d(0x360)]['add'](_0x436e7d(0x2f2))),_0x16483f[_0x436e7d(0x360)]['remove'](_0x436e7d(0x2f2));});const _0x52141d=document[_0x50523d(0x932)](_0x50523d(0xa4c));let _0x4c6a96=null;_0x52141d['ondragstart']=_0x3359ea=>{const _0x6b65b7=_0x50523d;_0x4c6a96=_0x3359ea[_0x6b65b7(0x5f8)][_0x6b65b7(0x1d0)](_0x6b65b7(0x30a));if(_0x4c6a96)setTimeout(()=>_0x4c6a96[_0x6b65b7(0x360)]['add']('opacity-50'),0x0);},_0x52141d[_0x50523d(0x699)]=()=>{const _0x4b3bbd=_0x50523d;_0x4c6a96&&(_0x4c6a96[_0x4b3bbd(0x360)]['remove'](_0x4b3bbd(0x4d3)),_0x4c6a96=null);},_0x52141d[_0x50523d(0xa8c)]=_0x126320=>{_0x126320['preventDefault']();},_0x52141d['ondrop']=_0x553832=>{const _0x44dd06=_0x50523d;_0x553832[_0x44dd06(0xcfb)]();if(_0x4c6a96){const _0x33a892=[..._0x52141d[_0x44dd06(0x38e)](_0x44dd06(0x335))][_0x44dd06(0xdbf)]((_0x292136,_0x2dbeff)=>{const _0x230f5b=_0x44dd06,_0x3879f5=_0x2dbeff[_0x230f5b(0xe1c)](),_0x2f8a6b=_0x553832[_0x230f5b(0x345)]-_0x3879f5[_0x230f5b(0x424)]-_0x3879f5[_0x230f5b(0x539)]/0x2;return _0x2f8a6b<0x0&&_0x2f8a6b>_0x292136[_0x230f5b(0x329)]?{'offset':_0x2f8a6b,'element':_0x2dbeff}:_0x292136;},{'offset':Number[_0x44dd06(0xbcd)]})[_0x44dd06(0x16a)];_0x33a892==null?_0x52141d[_0x44dd06(0xce0)](_0x4c6a96):_0x52141d['insertBefore'](_0x4c6a96,_0x33a892);const _0x2bfa95=[..._0x52141d[_0x44dd06(0x38e)](_0x44dd06(0x30a))][_0x44dd06(0xe49)](_0xc6ffe8=>_0xc6ffe8[_0x44dd06(0x134)]['shortcutId']);fileShortcutOrder[activeFileShortcutTabId]=_0x2bfa95,saveFileShortcutConfig();}};}async function handleAddFileShortcutTab(){const _0xfad36c=_0x2bcb18,_0xf70947=prompt(_0xfad36c(0x3f4),_0xfad36c(0xbf4));_0xf70947&&_0xf70947[_0xfad36c(0xa4d)]()&&(fileShortcutTabs[_0xfad36c(0xe86)]({'id':'tab_'+Date[_0xfad36c(0x18f)](),'name':_0xf70947[_0xfad36c(0xa4d)](),'shortcutIds':[]}),await saveFileShortcutConfig());}function renderFileShortcuts(){const _0x51ce11=_0x2bcb18,_0x1ff055=document[_0x51ce11(0x932)](_0x51ce11(0xc22)),_0x34210a=document[_0x51ce11(0x932)](_0x51ce11(0xa4c)),_0x3a5916=document[_0x51ce11(0x932)](_0x51ce11(0x55c));if(_0x3a5916)_0x3a5916[_0x51ce11(0x360)][_0x51ce11(0x4a6)]('hidden');if(!_0x1ff055||!_0x34210a)return;const _0x52d272=fileShortcuts[_0x51ce11(0x9b9)](0x0,0x4),_0x197f65=fileShortcuts[_0x51ce11(0x9b9)](0x4);_0x1ff055['innerHTML']=_0x52d272[_0x51ce11(0xe49)](_0x53c1a5=>{const _0x62dd97=_0x51ce11,_0x46a889=_0x53c1a5[_0x62dd97(0x3ae)]&&_0x53c1a5[_0x62dd97(0x3ae)][_0x62dd97(0xa4d)]()!=='',_0x6023bf=selectedFile&&selectedFile['shortcutId']===_0x53c1a5['id'];let _0x3e112f='bg-gray-200\x20hover:bg-gray-300\x20text-gray-700',_0x4dd039='🔗';if(_0x6023bf)_0x3e112f=_0x62dd97(0x47b),_0x4dd039=_0x62dd97(0x220);else _0x46a889&&(_0x3e112f=_0x62dd97(0xaf1),_0x4dd039='📄');const _0x4428b1=!_0x53c1a5['isDefault']?'<button\x20data-id=\x22'+_0x53c1a5['id']+'\x22\x20class=\x22delete-file-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>':'';return _0x62dd97(0x1b3)+_0x53c1a5['id']+_0x62dd97(0x739)+_0x3e112f+_0x62dd97(0xdac)+_0x4dd039+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x22>'+_0x53c1a5[_0x62dd97(0x34a)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x53c1a5['id']+_0x62dd97(0xc48)+_0x4428b1+_0x62dd97(0x8d3);})[_0x51ce11(0xbb2)](''),_0x197f65['length']>0x0&&(_0x1ff055[_0x51ce11(0xa16)]+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-file-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'),_0x197f65[_0x51ce11(0x752)]>0x0?_0x34210a['innerHTML']=_0x197f65[_0x51ce11(0xe49)](_0x3569c6=>_0x51ce11(0x271)+(_0x3569c6['url']?'📄':'🔗')+'\x20'+_0x3569c6['name']+_0x51ce11(0xe3f)+_0x3569c6['id']+_0x51ce11(0x4ff)+_0x3569c6['id']+'\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x3569c6[_0x51ce11(0xd55)]?_0x51ce11(0x25e)+_0x3569c6['id']+_0x51ce11(0xd23):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x51ce11(0xbb2)](''):_0x34210a[_0x51ce11(0xa16)]='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>';}function openFileShortcutEditor(_0x2acf69=null){const _0x1f451b=_0x2bcb18,_0x3edc36=document[_0x1f451b(0x932)](_0x1f451b(0xe13)),_0x432390=document['getElementById'](_0x1f451b(0x551)),_0x16e956=document[_0x1f451b(0x932)]('file-shortcut-id-input'),_0x53aab0=document[_0x1f451b(0x932)](_0x1f451b(0xaf0)),_0x4431d0=document[_0x1f451b(0x932)](_0x1f451b(0x49b));if(_0x2acf69){const _0x1fe9fb=fileShortcuts['find'](_0x365b9d=>_0x365b9d['id']===_0x2acf69);if(!_0x1fe9fb)return;_0x432390[_0x1f451b(0xdec)]=_0x1f451b(0x8ff),_0x16e956['value']=_0x1fe9fb['id'],_0x53aab0[_0x1f451b(0x99c)]=_0x1fe9fb[_0x1f451b(0x34a)],_0x4431d0[_0x1f451b(0x99c)]=_0x1fe9fb['url']||'';}else _0x432390[_0x1f451b(0xdec)]=_0x1f451b(0xa93),_0x16e956[_0x1f451b(0x99c)]='',_0x53aab0[_0x1f451b(0x99c)]='',_0x4431d0[_0x1f451b(0x99c)]='';_0x3edc36[_0x1f451b(0x360)]['remove']('hidden');}async function saveFileShortcutChanges(){const _0x153f9e=_0x2bcb18,_0x4d6529=document[_0x153f9e(0x932)](_0x153f9e(0x1b4))['value'],_0x4673f8=document[_0x153f9e(0x932)](_0x153f9e(0xaf0))[_0x153f9e(0x99c)][_0x153f9e(0xa4d)](),_0x14e79d=document[_0x153f9e(0x932)](_0x153f9e(0x49b))[_0x153f9e(0x99c)][_0x153f9e(0xa4d)]();if(!_0x4673f8){showMessage('กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27');return;}const _0xfa0fc={'id':_0x4d6529||_0x153f9e(0x604)+Date['now'](),'name':_0x4673f8,'url':_0x14e79d,'isDefault':_0x4d6529[_0x153f9e(0x646)](_0x153f9e(0x5c1))};let _0x18bada;_0x4d6529?_0x18bada=fileShortcuts[_0x153f9e(0xe49)](_0x523c11=>_0x523c11['id']===_0x4d6529?_0xfa0fc:_0x523c11):_0x18bada=[...fileShortcuts,_0xfa0fc];try{const _0x43e587=doc(db,'globalSettings',_0x153f9e(0x128));await setDoc(_0x43e587,{'shortcuts':_0x18bada},{'merge':!![]}),document[_0x153f9e(0x932)](_0x153f9e(0xe13))[_0x153f9e(0x360)][_0x153f9e(0x4a6)]('hidden');}catch(_0x5c3574){console[_0x153f9e(0x1ac)]('Error\x20saving\x20file\x20shortcut:',_0x5c3574),showMessage(_0x153f9e(0x5ae));}}async function handleFileShortcutClick(_0x95f06f){const _0x54ad79=_0x2bcb18,_0x5c00f6=fileShortcuts['find'](_0x581645=>_0x581645['id']===_0x95f06f);if(!_0x5c00f6)return;if(!_0x5c00f6[_0x54ad79(0x3ae)]||_0x5c00f6['url'][_0x54ad79(0xa4d)]()===''){openFileShortcutEditor(_0x95f06f);return;}const _0x15f3b2=document[_0x54ad79(0xc60)](_0x54ad79(0xace)+_0x95f06f+'\x22]');if(_0x15f3b2){const _0x41f773=_0x15f3b2['innerHTML'];_0x15f3b2['innerHTML']=_0x54ad79(0xa03),_0x15f3b2[_0x54ad79(0xad6)]=!![];}document[_0x54ad79(0x38e)](_0x54ad79(0xb0a))['forEach'](_0x5cb477=>{const _0x296b9f=_0x54ad79;if(_0x5cb477[_0x296b9f(0x134)]['id']!==_0x95f06f)_0x5cb477[_0x296b9f(0x360)][_0x296b9f(0x4a6)](_0x296b9f(0x4d3),'pointer-events-none');});try{const _0x3ce59e=new URL(_0x5c00f6[_0x54ad79(0x3ae)])[_0x54ad79(0x143)],_0x3b0e50=_0x3ce59e['substring'](_0x3ce59e[_0x54ad79(0x30d)]('/')+0x1)||(_0x5c00f6['url'][_0x54ad79(0xd2e)](_0x54ad79(0x354))?_0x54ad79(0x484):_0x54ad79(0xb0d)),_0x1c35d0=await fetchFileFromUrl(_0x5c00f6[_0x54ad79(0x3ae)],_0x3b0e50);_0x1c35d0[_0x54ad79(0x2b3)]=_0x95f06f,selectedFile=_0x1c35d0,renderFileShortcuts(),activateFileInputAreaWithLoadedFile(),document['getElementById']('file-input-area')[_0x54ad79(0x3a9)]({'behavior':'smooth','block':_0x54ad79(0xba7)});}catch(_0x5e8ba3){console['error']('Error\x20processing\x20file\x20shortcut\x20click:',_0x5e8ba3),showMessage(_0x54ad79(0x74c)+_0x5e8ba3['message']),renderFileShortcuts();}finally{document[_0x54ad79(0x38e)](_0x54ad79(0xb0a))['forEach'](_0x161be6=>{const _0x11c553=_0x54ad79;_0x161be6['classList']['remove'](_0x11c553(0x4d3),_0x11c553(0x82c)),_0x161be6[_0x11c553(0xad6)]=![];});}}async function ensureGlobalQuizzesLoaded(){const _0x338c5c=_0x2bcb18;if(allQuizzesGlobal[_0x338c5c(0x752)]>0x0)return;console[_0x338c5c(0x273)](_0x338c5c(0x9f7)),showMessage(_0x338c5c(0x26a));try{const _0x5148b1=await getDocs(collection(db,'artifacts/'+appId+_0x338c5c(0x993)));allQuizzesGlobal=_0x5148b1[_0x338c5c(0x9ef)][_0x338c5c(0xe49)](_0x2e0347=>({'id':_0x2e0347['id'],..._0x2e0347[_0x338c5c(0x13f)]()})),console[_0x338c5c(0x273)]('Loaded\x20'+allQuizzesGlobal[_0x338c5c(0x752)]+_0x338c5c(0x9bb)),messageModal[_0x338c5c(0x360)][_0x338c5c(0x4a6)](_0x338c5c(0x2f2));}catch(_0x1ab1e9){console['error'](_0x338c5c(0xa5c),_0x1ab1e9),messageModal[_0x338c5c(0x360)]['add'](_0x338c5c(0x2f2));throw new Error(_0x338c5c(0x2c6));}}function exportQuizAsWorksheetPDF(){const _0x2c3718=_0x2bcb18;if(!currentQuizData||!currentQuizData[_0x2c3718(0xc46)]){showMessage(_0x2c3718(0xa3a));return;}const _0x184e5f=currentQuizData,_0xc1763c=window['open']('',_0x2c3718(0x394)),_0x38900e=_0x262ea0=>String[_0x2c3718(0x4b4)](0x41+_0x262ea0),_0x5b7819='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20'+_0x184e5f[_0x2c3718(0x79c)]+_0x2c3718(0x84f)+_0x184e5f[_0x2c3718(0x79c)]+_0x2c3718(0xe95)+_0x184e5f[_0x2c3718(0xc46)]['map']((_0xd6324c,_0xb89d1)=>{const _0x19c7fc=_0x2c3718;let _0x525ec2='';const _0x52b60c=_0xd6324c['questionType']||_0x184e5f['quizType'];switch(_0x52b60c){case _0x19c7fc(0x47e):case'fill_in_with_choices':_0x525ec2='<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>'+_0xd6324c[_0x19c7fc(0x3e2)][_0x19c7fc(0xe49)]((_0x4ec5e8,_0x5e2d34)=>_0x19c7fc(0x998)+_0x38900e(_0x5e2d34)+'.\x20'+_0x4ec5e8+_0x19c7fc(0x408))[_0x19c7fc(0xbb2)](_0x19c7fc(0x5e9))+_0x19c7fc(0x1f5);break;case _0x19c7fc(0x827):_0x525ec2=_0x19c7fc(0x22f);break;default:_0x525ec2=_0x19c7fc(0x168);break;}return _0x19c7fc(0xe2c)+(_0xb89d1+0x1)+_0x19c7fc(0x447)+(_0xd6324c[_0x19c7fc(0x58b)]||_0xd6324c[_0x19c7fc(0xca8)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0xd6324c[_0x19c7fc(0xe40)]?_0x19c7fc(0x718)+_0xd6324c[_0x19c7fc(0xe40)]+_0x19c7fc(0x1f5):'')+_0x19c7fc(0x3a6)+_0x525ec2+_0x19c7fc(0x924);})[_0x2c3718(0xbb2)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x09\x09\x09\x0a\x09\x09\x09<div\x20id=\x22cropper-modal\x22\x20class=\x22fixed\x20inset-0\x20bg-black\x20bg-opacity-90\x20z-[70]\x20hidden\x20flex\x20flex-col\x20items-center\x20justify-center\x20p-4\x22>\x0a\x20\x20\x20\x20<div\x20class=\x22relative\x20w-full\x20max-w-4xl\x20h-[70vh]\x20bg-black\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<img\x20id=\x22image-to-crop\x22\x20src=\x22\x22\x20class=\x22max-w-full\x20max-h-full\x20block\x22>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20<div\x20class=\x22flex\x20gap-4\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22cancel-crop-btn\x22\x20class=\x22bg-gray-500\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-gray-600\x20font-bold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x22></i>\x20ยกเลิก\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22confirm-crop-btn\x22\x20class=\x22bg-green-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-green-700\x20font-bold\x20shadow-lg\x20transform\x20transition\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-crop-alt\x22></i>\x20ตัดส่วนนี้\x20&\x20สแกน\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a</div>\x0a\x09\x09\x09\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0xc1763c[_0x2c3718(0x1f0)][_0x2c3718(0x171)](_0x5b7819),_0xc1763c['document']['close'](),_0xc1763c[_0x2c3718(0x905)]=function(){setTimeout(()=>{_0xc1763c['print']();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x5cb7bb=_0x2bcb18;if(!currentQuizData||!currentQuizData['questions']){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน');return;}const _0x40954f=currentQuizData,_0x1628a5=window[_0x5cb7bb(0x1dd)]('',_0x5cb7bb(0x394)),_0x5a0b12=_0x3f221a=>String[_0x5cb7bb(0x4b4)](0x41+_0x3f221a),_0x5e7360=_0x5cb7bb(0x4a0)+_0x40954f[_0x5cb7bb(0x79c)]+_0x5cb7bb(0x9db)+_0x40954f[_0x5cb7bb(0xc46)][_0x5cb7bb(0xe49)]((_0x3e038f,_0x5159c9)=>{const _0x23fa0d=_0x5cb7bb;let _0x5ded56='';const _0x190b49=_0x3e038f['questionType']||_0x40954f[_0x23fa0d(0x2de)];switch(_0x190b49){case'multiple_choice':case _0x23fa0d(0xa65):_0x5ded56=_0x23fa0d(0x767)+_0x3e038f[_0x23fa0d(0x3e2)][_0x23fa0d(0xe49)]((_0x4de730,_0x15a376)=>_0x23fa0d(0xc50)+_0x5a0b12(_0x15a376)+'.\x20'+_0x4de730+_0x23fa0d(0x990))['join'](_0x23fa0d(0x5e9))+_0x23fa0d(0x86b);break;case'true_false':_0x5ded56=_0x23fa0d(0x234);break;default:_0x5ded56='';break;}return _0x23fa0d(0x43d)+_0x40954f[_0x23fa0d(0x79c)]+_0x23fa0d(0x6c1)+(_0x5159c9+0x1)+_0x23fa0d(0x28c)+(_0x3e038f[_0x23fa0d(0x58b)]||_0x3e038f[_0x23fa0d(0xca8)])+_0x23fa0d(0xc3c)+(_0x3e038f[_0x23fa0d(0xe40)]?_0x23fa0d(0xb3d)+_0x3e038f[_0x23fa0d(0xe40)]+_0x23fa0d(0x1f5):'')+_0x23fa0d(0x3a6)+_0x5ded56+_0x23fa0d(0xd87);})[_0x5cb7bb(0xbb2)]('')+_0x5cb7bb(0x471);_0x1628a5[_0x5cb7bb(0x1f0)][_0x5cb7bb(0x171)](_0x5e7360),_0x1628a5[_0x5cb7bb(0x1f0)][_0x5cb7bb(0xabf)](),_0x1628a5[_0x5cb7bb(0x905)]=function(){setTimeout(()=>{const _0x2410f1=_0x63b3;_0x1628a5[_0x2410f1(0x9e6)]();},0x5dc);};}async function handleToggleStarQuiz(_0x519dc3){const _0x3c5886=_0x2bcb18,_0x411ad7=doc(db,_0x3c5886(0x6e6)+appId+'/public/data/quizzes',_0x519dc3);try{const _0x1c7842=await getDoc(_0x411ad7);if(_0x1c7842[_0x3c5886(0x7d2)]()){const _0x57ccb0=_0x1c7842[_0x3c5886(0x13f)]()['isStarred']||![];await updateDoc(_0x411ad7,{'isStarred':!_0x57ccb0});}}catch(_0x3d405e){console[_0x3c5886(0x1ac)](_0x3c5886(0xb28),_0x3d405e),showMessage('เกิดข้อผิดพลาดในการติดดาว');}}async function displayQuestionBank(){const _0x262d8b=_0x2bcb18,_0x455036=document[_0x262d8b(0x932)](_0x262d8b(0xce3));_0x455036['innerHTML']='<div\x20class=\x22loader\x20mx-auto\x22></div>';try{const _0x54b480=collection(db,_0x262d8b(0x6e6)+appId+_0x262d8b(0x9fe)+userId+_0x262d8b(0x6d2)),_0x365c84=query(_0x54b480),_0x570243=await getDocs(_0x365c84);if(_0x570243[_0x262d8b(0xab2)]){_0x455036[_0x262d8b(0xa16)]=_0x262d8b(0x6a1);return;}let _0x42a25a=_0x570243[_0x262d8b(0x9ef)][_0x262d8b(0xe49)](_0x2e7ba5=>{const _0x1fa02f=_0x262d8b,_0x420890=_0x2e7ba5[_0x1fa02f(0x13f)](),_0x12a3f1=_0x2e7ba5['id'];return _0x1fa02f(0xa00)+JSON[_0x1fa02f(0x692)](_0x420890)+_0x1fa02f(0x4c8)+(_0x420890[_0x1fa02f(0xca8)]||_0x420890[_0x1fa02f(0x58b)])+_0x1fa02f(0x485)+_0x420890[_0x1fa02f(0xbc8)]+_0x1fa02f(0x348);})['join']('');_0x455036[_0x262d8b(0xa16)]=_0x262d8b(0xa55)+_0x42a25a+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',document['getElementById']('create-from-bank-btn')[_0x262d8b(0x639)]('click',createQuizFromBank);}catch(_0x667959){console['error']('Error\x20displaying\x20question\x20bank:',_0x667959),_0x455036['innerHTML']=_0x262d8b(0x46f);}}async function handleExportLessonToPDF(){const _0x248806=_0x2bcb18,_0x558632=document[_0x248806(0x932)](_0x248806(0xb04)),_0x2e3260=document[_0x248806(0x932)]('lesson-view-title')[_0x248806(0xdec)]||'บทเรียน';if(!_0x558632){showMessage(_0x248806(0xde6));return;}const _0x912e21=window[_0x248806(0x1dd)]('',_0x248806(0x394)),_0x5d13f1='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>'+_0x2e3260+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20rel=\x22stylesheet\x22\x20href=\x22https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20คัดลอก\x20Style\x20ที่จำเป็นมาจากหน้าหลักเพื่อให้\x20PDF\x20สวยงาม\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20h1,\x20.ai-content\x20h2,\x20.ai-content\x20h3,\x20.ai-content\x20h4\x20{\x20font-weight:\x20700;\x20color:\x20#1e3a8a;\x20margin-top:\x201.5rem;\x20margin-bottom:\x200.75rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20blockquote\x20{\x20background-color:\x20#eff6ff;\x20border-left:\x204px\x20solid\x20#3b82f6;\x20padding:\x200.75rem\x201rem;\x20margin:\x201rem\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20table\x20{\x20width:\x20100%;\x20border-collapse:\x20collapse;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th,\x20.ai-content\x20td\x20{\x20border:\x201px\x20solid\x20#e2e8f0;\x20padding:\x200.5rem\x201rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th\x20{\x20background-color:\x20#fefce8;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20svg\x20{\x20max-width:\x20100%;\x20height:\x20auto;\x20display:\x20block;\x20margin:\x201rem\x20auto;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20{\x20display:\x20flex;\x20align-items:\x20center;\x20font-size:\x201.5rem;\x20font-weight:\x20700;\x20margin-bottom:\x201rem;\x20color:\x20#1e3a8a;\x20border-bottom:\x202px\x20solid\x20#dbeafe;\x20padding-bottom:\x200.5rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20i\x20{\x20margin-right:\x200.75rem;\x20color:\x20#3b82f6;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x20text-center\x20mb-8\x22>'+_0x2e3260+_0x248806(0x344)+_0x558632[_0x248806(0xa16)]+_0x248806(0x565);_0x912e21[_0x248806(0x1f0)][_0x248806(0x171)](_0x5d13f1),_0x912e21[_0x248806(0x1f0)]['close'](),_0x912e21[_0x248806(0x905)]=function(){setTimeout(()=>{const _0x39ed3f=_0x63b3;_0x912e21[_0x39ed3f(0x9e6)]();},0x7d0);};}function showAdminLiveQuestionView(_0x498fee,_0x4c004b,_0x5efa58){const _0x3506ed=_0x2bcb18,_0x2e4db0=_0x498fee[_0x3506ed(0x2ed)]||currentQuizData[_0x3506ed(0x2de)];let _0x10c738='';if(_0x2e4db0===_0x3506ed(0x47e)||_0x2e4db0==='true_false'){const _0x2b3c16=_0x2e4db0===_0x3506ed(0x827)?[_0x3506ed(0xd77),_0x3506ed(0xa76)]:_0x498fee[_0x3506ed(0x3e2)],_0x16ae34=_0x2e4db0===_0x3506ed(0x827)?_0x498fee['correctAnswer']?0x0:0x1:_0x498fee['correctAnswerIndex'];_0x10c738=_0x2b3c16['map']((_0x3943fe,_0x2c8085)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22'+(_0x2c8085===_0x16ae34)+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3943fe+_0x3506ed(0x8d3))['join']('');}else{if(_0x2e4db0===_0x3506ed(0xb08)){const _0x5c24d4=_0x498fee[_0x3506ed(0x66a)]||[];_0x10c738=_0x5c24d4['map'](_0x30098=>_0x3506ed(0xc1a)+(_0x30098===_0x498fee['correctResponse'])+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x30098+_0x3506ed(0x8d3))[_0x3506ed(0xbb2)]('');}}const _0x3e61d8=_0x498fee[_0x3506ed(0x58b)]||_0x498fee[_0x3506ed(0xca8)],_0x55f213=_0x3506ed(0x1fd)+(_0x4c004b+0x1)+'\x20/\x20'+_0x5efa58+_0x3506ed(0xc96)+currentLiveGamePin+_0x3506ed(0x9ed)+_0x3e61d8+_0x3506ed(0x126)+_0x10c738+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x3506ed(0xa16)]=_0x55f213,window[_0x3506ed(0x7f9)]&&MathJax[_0x3506ed(0xd3d)]&&MathJax[_0x3506ed(0xd3d)]([liveGameView]),document[_0x3506ed(0x932)]('reveal-answer-btn')[_0x3506ed(0x639)](_0x3506ed(0x164),()=>revealAnswerForAdmin(_0x4c004b,_0x5efa58)),document['getElementById'](_0x3506ed(0x6a8))[_0x3506ed(0x639)](_0x3506ed(0x164),async()=>{const _0x5ea858=_0x3506ed;showConfirmation(_0x5ea858(0xe7e),async()=>{const _0x3eae42=_0x5ea858,_0x382d45=doc(db,_0x3eae42(0x6e6)+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x382d45,{'status':_0x3eae42(0x844)});});}),document[_0x3506ed(0x932)](_0x3506ed(0x823))[_0x3506ed(0x639)]('click',()=>{const _0x5eacb6=_0x3506ed;document[_0x5eacb6(0x932)](_0x5eacb6(0x5c5))[_0x5eacb6(0x360)][_0x5eacb6(0xaa3)](_0x5eacb6(0x2f2));});}function promptForProjectBeforeGenerating(_0x3a7019){const _0xbb218d=_0x2bcb18,_0x5785ee=document['getElementById'](_0xbb218d(0x3a5)),_0xd716d8=document[_0xbb218d(0x932)]('move-quiz-project-select'),_0x4c862d=_0x5785ee['querySelector']('h3'),_0x1d2fdb=document['getElementById'](_0xbb218d(0x83a)),_0xdc7b21=document[_0xbb218d(0x932)](_0xbb218d(0xe23));_0x4c862d[_0xbb218d(0xdec)]='เลือกโปรเจคที่จะบันทึกแบบทดสอบ',_0x1d2fdb[_0xbb218d(0xdec)]=_0xbb218d(0x82a),_0x1d2fdb[_0xbb218d(0xad6)]=!![];allProjects['length']===0x0?_0xd716d8[_0xbb218d(0xa16)]=_0xbb218d(0x10e):(_0xd716d8[_0xbb218d(0xa16)]='<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>'+allProjects[_0xbb218d(0xe49)](_0x396a25=>_0xbb218d(0x1bd)+_0x396a25['id']+'\x22>'+_0x396a25[_0xbb218d(0x1cc)]+_0xbb218d(0x194))['join'](''),_0x1d2fdb[_0xbb218d(0xad6)]=![]);_0x5785ee[_0xbb218d(0x360)][_0xbb218d(0xcc8)](_0xbb218d(0x2f2));const _0x5487ec=async()=>{const _0x1df03d=_0xbb218d,_0x50305c=_0xd716d8[_0x1df03d(0x99c)];if(!_0x50305c){showMessage(_0x1df03d(0x4ac));return;}_0x5785ee['classList'][_0x1df03d(0x4a6)](_0x1df03d(0x2f2)),await loadProjectDetails(_0x50305c),showView(_0x1df03d(0xde7)),handleGenerateQuizFromBlueprintTopic(_0x3a7019),_0x12667f();},_0x12667f=()=>{const _0x241ef4=_0xbb218d;_0x4c862d[_0x241ef4(0xdec)]=_0x241ef4(0x554),_0x1d2fdb[_0x241ef4(0xdec)]='ย้าย',_0x1d2fdb[_0x241ef4(0x9c9)](_0x241ef4(0x164),_0x5487ec),_0xdc7b21[_0x241ef4(0x9c9)]('click',_0x12667f),_0x1d2fdb[_0x241ef4(0x639)]('click',confirmMoveQuiz);};_0x1d2fdb[_0xbb218d(0x9c9)](_0xbb218d(0x164),confirmMoveQuiz),_0x1d2fdb['addEventListener'](_0xbb218d(0x164),_0x5487ec),_0xdc7b21[_0xbb218d(0x639)]('click',_0x12667f);}function showStudentLiveQuestionView(_0x15a967,_0x27dc80,_0x28a256){const _0x555da8=_0x2bcb18,_0x3f2e59=_0x15a967['questionType']||currentQuizData['quizType'];let _0x5368f1='';if(_0x3f2e59===_0x555da8(0x47e)||_0x3f2e59===_0x555da8(0x827)){const _0x2a5025=_0x3f2e59===_0x555da8(0x827)?[_0x555da8(0xd77),_0x555da8(0xa76)]:_0x15a967[_0x555da8(0x3e2)];_0x5368f1=_0x2a5025['map']((_0x124eac,_0x4b6185)=>_0x555da8(0x2ba)+_0x4b6185+_0x555da8(0x34b)+_0x124eac+_0x555da8(0xa4f))['join']('');}else{if(_0x3f2e59==='matching_item'){const _0x4fa9e4=_0x15a967[_0x555da8(0x66a)]||[];_0x5368f1=_0x4fa9e4[_0x555da8(0xe49)]((_0xaa09fc,_0x18b10e)=>_0x555da8(0x2ba)+_0x18b10e+_0x555da8(0x34b)+_0xaa09fc+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x555da8(0xbb2)]('');}else _0x3f2e59==='short_answer'&&(_0x5368f1=_0x555da8(0x781));}const _0x453f66=_0x15a967[_0x555da8(0x58b)]||_0x15a967[_0x555da8(0xca8)],_0x5bdaf8=_0x555da8(0xc21)+(_0x27dc80+0x1)+_0x555da8(0xb54)+_0x28a256+_0x555da8(0x466)+_0x453f66+_0x555da8(0x497)+_0x5368f1+_0x555da8(0x7b1);liveGameView['innerHTML']=_0x5bdaf8;window['MathJax']&&MathJax[_0x555da8(0xd3d)]&&MathJax[_0x555da8(0xd3d)]([liveGameView]);const _0xf88e82=document[_0x555da8(0x932)](_0x555da8(0xc9e));_0xf88e82&&_0xf88e82[_0x555da8(0x639)](_0x555da8(0x164),()=>{const _0x5ef3ce=_0x555da8,_0x44bbcf=document[_0x5ef3ce(0x932)](_0x5ef3ce(0x50c))['value'];handleLiveAnswer(_0x44bbcf,_0x15a967);}),document[_0x555da8(0x932)]('live-options-container')['addEventListener']('click',_0x324d32=>{const _0x6c2e17=_0x555da8,_0x16ef14=_0x324d32[_0x6c2e17(0x5f8)][_0x6c2e17(0x1d0)](_0x6c2e17(0x433));if(_0x16ef14){const _0x28947f=parseInt(_0x16ef14[_0x6c2e17(0x134)][_0x6c2e17(0xd5d)]);handleLiveAnswer(_0x28947f,_0x15a967);}});}function listenForBlueprintShortcuts(){const _0x5358c8=doc(db,'globalSettings','dashboardConfig');onSnapshot(_0x5358c8,_0x56a539=>{const _0xcb4bdb=_0x63b3;let _0x291219=[],_0x57f9c6=[],_0x4dd1cc={};if(_0x56a539[_0xcb4bdb(0x7d2)]()){const _0x270054=_0x56a539[_0xcb4bdb(0x13f)]();_0x291219=_0x270054[_0xcb4bdb(0x441)]||[],_0x57f9c6=_0x270054[_0xcb4bdb(0xd5e)]||[],_0x4dd1cc=_0x270054[_0xcb4bdb(0xdff)]||{};}!_0x57f9c6[_0xcb4bdb(0x7a3)](_0x4c7d7f=>_0x4c7d7f['id']===_0xcb4bdb(0x6b3))&&_0x57f9c6['unshift']({'id':_0xcb4bdb(0x6b3),'name':_0xcb4bdb(0x730),'isDefault':!![]}),!_0x291219['find'](_0x1ebc42=>_0x1ebc42['id']===_0xcb4bdb(0xe5a))&&_0x291219[_0xcb4bdb(0xaa5)]({'id':_0xcb4bdb(0xe5a),'name':'Blueprint\x201','blueprintUrl':'','referenceUrl':'','isDefault':!![]}),!_0x291219['find'](_0x1cf97b=>_0x1cf97b['id']===_0xcb4bdb(0xa2d))&&_0x291219['unshift']({'id':'default-2','name':_0xcb4bdb(0x7ca),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),blueprintShortcuts=_0x291219,shortcutTabs=_0x57f9c6,shortcutOrder=_0x4dd1cc,renderBlueprintShortcuts(),!document[_0xcb4bdb(0x932)](_0xcb4bdb(0xa7a))[_0xcb4bdb(0x360)][_0xcb4bdb(0x3fa)]('hidden')&&renderAdditionalShortcutsModal();});}function renderAdditionalShortcutsModal(){const _0x2f5e8e=_0x2bcb18,_0x39a9cf=document[_0x2f5e8e(0x932)](_0x2f5e8e(0x641)),_0xbf42b6=document[_0x2f5e8e(0x932)](_0x2f5e8e(0x292));if(!_0x39a9cf||!_0xbf42b6)return;_0x39a9cf[_0x2f5e8e(0xa16)]=shortcutTabs[_0x2f5e8e(0xe49)](_0x252753=>{const _0x4861a1=_0x2f5e8e,_0x2703e3=_0x252753['id']===activeShortcutTabId,_0x2042dc=_0x4861a1(0x8ae),_0x452965=_0x4861a1(0x5b0);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22'+_0x252753['id']+_0x4861a1(0x4ec)+(_0x2703e3?_0x2042dc:_0x452965)+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>'+_0x252753[_0x4861a1(0x34a)]+_0x4861a1(0x7ff)+_0x252753[_0x4861a1(0x34a)]+_0x4861a1(0x838)+(!_0x252753[_0x4861a1(0xd55)]?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22'+_0x252753['id']+_0x4861a1(0xb27):'')+_0x4861a1(0x8d3);})['join']('');const _0x317607=shortcutTabs[_0x2f5e8e(0x7a3)](_0x253082=>_0x253082['id']===activeShortcutTabId);let _0x2266cd=[];if(_0x317607){if(_0x317607['isDefault'])_0x2266cd=[...blueprintShortcuts];else{const _0x473a46=_0x317607[_0x2f5e8e(0x165)]||[];_0x2266cd=blueprintShortcuts[_0x2f5e8e(0x9a7)](_0x3c22b0=>_0x473a46['includes'](_0x3c22b0['id']));}}const _0x4e642a=shortcutOrder[activeShortcutTabId]||[];_0x2266cd[_0x2f5e8e(0x41f)]((_0x2a7c13,_0x31e7cb)=>{const _0x41e87e=_0x2f5e8e,_0x4f222c=_0x4e642a[_0x41e87e(0x2bc)](_0x2a7c13['id']),_0xf11cf0=_0x4e642a[_0x41e87e(0x2bc)](_0x31e7cb['id']);if(_0x4f222c===-0x1)return 0x1;if(_0xf11cf0===-0x1)return-0x1;return _0x4f222c-_0xf11cf0;}),_0xbf42b6[_0x2f5e8e(0xa16)]=_0x2266cd['length']>0x0?_0x2266cd[_0x2f5e8e(0xe49)](_0x3f5b79=>{const _0x3f2c4c=_0x2f5e8e;let _0x3464b5='🧩';if(_0x3f5b79[_0x3f2c4c(0x6c5)]&&_0x3f5b79[_0x3f2c4c(0xc0a)])_0x3464b5='📗';else{if(_0x3f5b79[_0x3f2c4c(0x6c5)])_0x3464b5='📘';}const _0x50a0c2=shortcutTabs[_0x3f2c4c(0x9a7)](_0x1aa8b0=>!_0x1aa8b0['isDefault']),_0x571d91=_0x317607[_0x3f2c4c(0xd55)]&&_0x50a0c2[_0x3f2c4c(0x752)]>0x0?'\x0a\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22\x20role=\x22menu\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x50a0c2[_0x3f2c4c(0xe49)](_0x556b3d=>_0x3f2c4c(0x724)+_0x3f5b79['id']+_0x3f2c4c(0xd64)+_0x556b3d['id']+'\x22>'+_0x556b3d['name']+_0x3f2c4c(0x439))[_0x3f2c4c(0xbb2)]('')+_0x3f2c4c(0x240):'';return _0x3f2c4c(0x442)+_0x3f5b79['id']+_0x3f2c4c(0x8ec)+_0x3464b5+'\x20'+_0x3f5b79['name']+_0x3f2c4c(0xcb4)+_0x3f5b79['id']+_0x3f2c4c(0x386)+_0x3f5b79['id']+_0x3f2c4c(0xdfc)+(!_0x3f5b79[_0x3f2c4c(0xd55)]?_0x3f2c4c(0x25e)+_0x3f5b79['id']+_0x3f2c4c(0xcf7):'')+_0x3f2c4c(0xb1e)+(!_0x317607[_0x3f2c4c(0xd55)]?'<button\x20data-shortcut-id=\x22'+_0x3f5b79['id']+_0x3f2c4c(0xa29):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x571d91+_0x3f2c4c(0xb5b);})[_0x2f5e8e(0xbb2)](''):_0x2f5e8e(0x1e2),setupShortcutModalEventListeners();}function setupShortcutModalEventListeners(){const _0xaa6697=_0x2bcb18;document[_0xaa6697(0x38e)](_0xaa6697(0x6b2))[_0xaa6697(0x39f)](_0x292e6e=>{const _0x14dec9=_0xaa6697;_0x292e6e[_0x14dec9(0x639)](_0x14dec9(0x164),_0x20bcd5=>{const _0x61cf2a=_0x14dec9;activeShortcutTabId=_0x20bcd5[_0x61cf2a(0xb7c)][_0x61cf2a(0x134)][_0x61cf2a(0x654)],renderAdditionalShortcutsModal();}),_0x292e6e['addEventListener'](_0x14dec9(0xd95),_0x377de7=>{const _0x38a047=_0x14dec9,_0x3c7b80=_0x377de7[_0x38a047(0xb7c)];_0x3c7b80[_0x38a047(0xc60)](_0x38a047(0x6c2))[_0x38a047(0x360)]['add'](_0x38a047(0x2f2));const _0x573d48=_0x3c7b80[_0x38a047(0xc60)](_0x38a047(0x63d));_0x573d48['classList']['remove'](_0x38a047(0x2f2)),_0x573d48[_0x38a047(0xa82)](),_0x573d48[_0x38a047(0x2fd)]();});}),document[_0xaa6697(0x38e)](_0xaa6697(0x63d))[_0xaa6697(0x39f)](_0x495b04=>{const _0xa3e966=_0xaa6697,_0x28dad9=()=>{const _0x240160=_0x63b3,_0x3111a8=_0x495b04[_0x240160(0x1d0)](_0x240160(0x6b2))['dataset']['tabId'];handleRenameShortcutTab(_0x3111a8,_0x495b04[_0x240160(0x99c)]);};_0x495b04[_0xa3e966(0x639)]('blur',_0x28dad9),_0x495b04[_0xa3e966(0x639)](_0xa3e966(0x78b),_0x3e8a3b=>{const _0x4bae21=_0xa3e966;if(_0x3e8a3b[_0x4bae21(0x420)]===_0x4bae21(0xa2b))_0x495b04[_0x4bae21(0xa73)]();});}),document[_0xaa6697(0x38e)](_0xaa6697(0x2a4))[_0xaa6697(0x39f)](_0x200ad4=>{const _0x904fba=_0xaa6697;_0x200ad4[_0x904fba(0x639)](_0x904fba(0x164),_0x228770=>handleDeleteShortcutTab(_0x228770[_0x904fba(0xb7c)][_0x904fba(0x134)]['tabId']));}),document[_0xaa6697(0x38e)]('.move-shortcut-item')['forEach'](_0x256136=>{const _0x1087dc=_0xaa6697;_0x256136['addEventListener'](_0x1087dc(0x164),_0x3188ca=>{const _0x3899a3=_0x1087dc;_0x3188ca[_0x3899a3(0xcfb)]();const {shortcutId:_0x1626bd,targetTabId:_0x3a1c3d}=_0x3188ca[_0x3899a3(0xb7c)]['dataset'];handleMoveShortcutToTab(_0x1626bd,_0x3a1c3d);});}),document[_0xaa6697(0x38e)](_0xaa6697(0x6e1))[_0xaa6697(0x39f)](_0x40df7e=>{const _0x919681=_0xaa6697;_0x40df7e[_0x919681(0x639)](_0x919681(0x164),_0xd54e48=>{const _0x4e5ba5=_0x919681;handleRemoveShortcutFromTab(_0xd54e48[_0x4e5ba5(0xb7c)][_0x4e5ba5(0x134)][_0x4e5ba5(0x2b3)],activeShortcutTabId);});});const _0x56f718=document['getElementById'](_0xaa6697(0x292));_0x56f718['querySelectorAll'](_0xaa6697(0xc2f))[_0xaa6697(0x39f)](_0x2dd6ce=>{const _0x3c8174=_0xaa6697;_0x2dd6ce['addEventListener'](_0x3c8174(0x164),()=>{const _0x4920f1=_0x3c8174;document[_0x4920f1(0x932)](_0x4920f1(0xa7a))[_0x4920f1(0x360)]['add'](_0x4920f1(0x2f2)),handleShortcutClick(_0x2dd6ce[_0x4920f1(0x134)]['id']);});});let _0x36b729=null;_0x56f718['addEventListener'](_0xaa6697(0x26f),_0x589d4a=>{const _0x46b3dd=_0xaa6697;_0x36b729=_0x589d4a[_0x46b3dd(0x5f8)][_0x46b3dd(0x1d0)](_0x46b3dd(0x30a)),_0x36b729&&setTimeout(()=>_0x36b729[_0x46b3dd(0x360)]['add'](_0x46b3dd(0x4d3)),0x0);}),_0x56f718[_0xaa6697(0x639)](_0xaa6697(0xa4e),()=>{const _0x324701=_0xaa6697;_0x36b729&&(_0x36b729['classList'][_0x324701(0xcc8)](_0x324701(0x4d3)),_0x36b729=null);}),_0x56f718[_0xaa6697(0x639)](_0xaa6697(0x2e5),_0x5612ac=>{const _0x169dbf=_0xaa6697;_0x5612ac['preventDefault']();const _0x4ee2ca=[..._0x56f718[_0x169dbf(0x38e)](_0x169dbf(0x335))]['reduce']((_0x48f54d,_0x337def)=>{const _0x2197a2=_0x169dbf,_0x17d091=_0x337def[_0x2197a2(0xe1c)](),_0xbea1fc=_0x5612ac[_0x2197a2(0x345)]-_0x17d091['top']-_0x17d091['height']/0x2;return _0xbea1fc<0x0&&_0xbea1fc>_0x48f54d[_0x2197a2(0x329)]?{'offset':_0xbea1fc,'element':_0x337def}:_0x48f54d;},{'offset':Number[_0x169dbf(0xbcd)]})[_0x169dbf(0x16a)];_0x4ee2ca==null?_0x56f718[_0x169dbf(0xce0)](_0x36b729):_0x56f718[_0x169dbf(0x82b)](_0x36b729,_0x4ee2ca);}),_0x56f718[_0xaa6697(0x639)]('drop',_0x579673=>{const _0x44bbf2=_0xaa6697;_0x579673['preventDefault']();if(_0x36b729){const _0x7f71aa=[..._0x56f718['querySelectorAll']('.shortcut-list-item')][_0x44bbf2(0xe49)](_0x5a7bcd=>_0x5a7bcd['dataset'][_0x44bbf2(0x2b3)]);handleShortcutOrderChange(activeShortcutTabId,_0x7f71aa);}}),document['querySelectorAll'](_0xaa6697(0x406))[_0xaa6697(0x39f)](_0x1bfe89=>{const _0x2b2467=_0xaa6697;_0x1bfe89[_0x2b2467(0x639)](_0x2b2467(0x164),_0x1d15f3=>{const _0x464f69=_0x2b2467;_0x1d15f3[_0x464f69(0x17c)]();const _0x4f7a82=_0x1d15f3[_0x464f69(0xb7c)][_0x464f69(0x12d)],_0x4f2771=_0x4f7a82[_0x464f69(0x360)][_0x464f69(0x3fa)](_0x464f69(0x2f2));document[_0x464f69(0x38e)]('.move-shortcut-dropdown')[_0x464f69(0x39f)](_0x3f29b9=>_0x3f29b9[_0x464f69(0x360)][_0x464f69(0x4a6)](_0x464f69(0x2f2))),_0x4f2771&&_0x4f7a82[_0x464f69(0x360)][_0x464f69(0xcc8)](_0x464f69(0x2f2));});});}document[_0x2bcb18(0x639)](_0x2bcb18(0x164),_0x135266=>{const _0x523363=_0x2bcb18;!_0x135266[_0x523363(0x5f8)][_0x523363(0x1d0)](_0x523363(0x795))&&document['querySelectorAll'](_0x523363(0x5b7))[_0x523363(0x39f)](_0x12efa5=>_0x12efa5[_0x523363(0x360)][_0x523363(0x4a6)]('hidden'));});async function saveShortcutConfig(){const _0x5f5c28=_0x2bcb18,_0x5740b6=doc(db,_0x5f5c28(0x4db),_0x5f5c28(0x93e));try{await setDoc(_0x5740b6,{'shortcutTabs':shortcutTabs,'shortcutOrder':shortcutOrder},{'merge':!![]});}catch(_0x526d1b){console[_0x5f5c28(0x1ac)](_0x5f5c28(0xc93),_0x526d1b);}}async function handleAddShortcutTab(){const _0x180178=_0x2bcb18,_0x4eccf4=prompt('กรุณาตั้งชื่อแท็บใหม่:','แท็บใหม่');if(!_0x4eccf4||_0x4eccf4[_0x180178(0xa4d)]()==='')return;shortcutTabs[_0x180178(0xe86)]({'id':_0x180178(0x22c)+Date[_0x180178(0x18f)](),'name':_0x4eccf4[_0x180178(0xa4d)](),'shortcutIds':[]}),await saveShortcutConfig();}async function handleRenameShortcutTab(_0x4fbe88,_0x8461a2){const _0x11eaaa=_0x2bcb18,_0x54606c=shortcutTabs[_0x11eaaa(0x7a3)](_0x298608=>_0x298608['id']===_0x4fbe88);_0x54606c&&_0x8461a2['trim']()!==''&&(_0x54606c[_0x11eaaa(0x34a)]=_0x8461a2[_0x11eaaa(0xa4d)](),await saveShortcutConfig());}async function handleDeleteShortcutTab(_0x3e1a25){const _0x3800d4=_0x2bcb18,_0xb5b527=shortcutTabs[_0x3800d4(0x7a3)](_0x5ba1b7=>_0x5ba1b7['id']===_0x3e1a25);_0xb5b527&&!_0xb5b527[_0x3800d4(0xd55)]&&showConfirmation(_0x3800d4(0x19e)+_0xb5b527['name']+'\x22?\x20(ปุ่มลัดจะไม่ถูกลบ)',async()=>{const _0x32dec8=_0x3800d4;shortcutTabs=shortcutTabs[_0x32dec8(0x9a7)](_0x412cd9=>_0x412cd9['id']!==_0x3e1a25),delete shortcutOrder[_0x3e1a25];if(activeShortcutTabId===_0x3e1a25)activeShortcutTabId=_0x32dec8(0x6b3);await saveShortcutConfig();});}async function handleMoveShortcutToTab(_0xeb7912,_0x19977d){const _0x3bf903=_0x2bcb18,_0x15d12c=shortcutTabs[_0x3bf903(0x7a3)](_0x650d38=>_0x650d38['id']===_0x19977d);_0x15d12c&&!_0x15d12c[_0x3bf903(0x165)]['includes'](_0xeb7912)&&(_0x15d12c[_0x3bf903(0x165)][_0x3bf903(0xe86)](_0xeb7912),await saveShortcutConfig());}async function handleRemoveShortcutFromTab(_0x1cce47,_0x4b65b1){const _0x83adee=_0x2bcb18,_0x65f641=shortcutTabs['find'](_0x113dae=>_0x113dae['id']===_0x4b65b1);_0x65f641&&!_0x65f641[_0x83adee(0xd55)]&&(_0x65f641[_0x83adee(0x165)]=_0x65f641[_0x83adee(0x165)][_0x83adee(0x9a7)](_0x1accb3=>_0x1accb3!==_0x1cce47),await saveShortcutConfig());}async function handleShortcutOrderChange(_0x3cd935,_0x6b372e){shortcutOrder[_0x3cd935]=_0x6b372e,await saveShortcutConfig();}function renderBlueprintShortcuts(){const _0x152cbb=_0x2bcb18,_0x14046b=document[_0x152cbb(0x932)](_0x152cbb(0x1fb)),_0x21a0ac=document[_0x152cbb(0x932)](_0x152cbb(0x292)),_0x2bac7d=document['getElementById'](_0x152cbb(0xc1c));_0x2bac7d&&_0x2bac7d[_0x152cbb(0x360)][_0x152cbb(0x4a6)](_0x152cbb(0x2f2));if(!_0x14046b||!_0x21a0ac)return;const _0x15a639=blueprintShortcuts[_0x152cbb(0x9b9)](0x0,0x4),_0xaa7940=blueprintShortcuts['slice'](0x4);_0x14046b[_0x152cbb(0xa16)]=_0x15a639[_0x152cbb(0xe49)](_0x34d620=>{const _0x255888=_0x152cbb;let _0x3368da=_0x255888(0xe71),_0x125931='🧩';if(_0x34d620[_0x255888(0x6c5)]&&_0x34d620[_0x255888(0xc0a)])_0x3368da=_0x255888(0xb53),_0x125931='📗';else _0x34d620[_0x255888(0x6c5)]&&(_0x3368da='bg-blue-500\x20hover:bg-blue-600\x20text-white',_0x125931='📘');const _0x3e2422=!_0x34d620[_0x255888(0xd55)]?_0x255888(0x25e)+_0x34d620['id']+_0x255888(0x1f7):'';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22'+_0x34d620['id']+_0x255888(0xb8b)+_0x3368da+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22pointer-events-none\x22>'+_0x125931+'\x20'+_0x34d620[_0x255888(0x34a)]+_0x255888(0xc36)+_0x34d620['id']+'\x22\x20class=\x22edit-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3e2422+_0x255888(0x8d3);})[_0x152cbb(0xbb2)](''),_0xaa7940[_0x152cbb(0x752)]>0x0&&(_0x14046b[_0x152cbb(0xa16)]+=_0x152cbb(0x851)),_0xaa7940[_0x152cbb(0x752)]>0x0?_0x21a0ac[_0x152cbb(0xa16)]=_0xaa7940[_0x152cbb(0xe49)](_0x4808a5=>{const _0x37a9f0=_0x152cbb;let _0x5b3936='🧩';if(_0x4808a5[_0x37a9f0(0x6c5)]&&_0x4808a5[_0x37a9f0(0xc0a)])_0x5b3936='📗';else _0x4808a5[_0x37a9f0(0x6c5)]&&(_0x5b3936='📘');return _0x37a9f0(0x9c8)+_0x5b3936+'\x20'+_0x4808a5[_0x37a9f0(0x34a)]+_0x37a9f0(0xcb4)+_0x4808a5['id']+_0x37a9f0(0x386)+_0x4808a5['id']+_0x37a9f0(0xdfc)+(!_0x4808a5[_0x37a9f0(0xd55)]?_0x37a9f0(0x25e)+_0x4808a5['id']+_0x37a9f0(0xcf7):'')+_0x37a9f0(0xc43);})[_0x152cbb(0xbb2)](''):_0x21a0ac[_0x152cbb(0xa16)]=_0x152cbb(0x324);}function getMimeTypeFromFilename(_0xc6a92){const _0x5162e4=_0x2bcb18,_0x5ea4d5=_0xc6a92['split']('.')[_0x5162e4(0xdf2)]()['toLowerCase']();switch(_0x5ea4d5){case _0x5162e4(0xca1):return _0x5162e4(0x834);case'txt':return _0x5162e4(0x725);default:return'application/pdf';}}function openShortcutEditor(_0x5953cc=null){const _0x22f28c=_0x2bcb18,_0x4fed85=document[_0x22f28c(0x932)](_0x22f28c(0x387)),_0x4cda83=document['getElementById'](_0x22f28c(0x674)),_0x4db4e2=document[_0x22f28c(0x932)]('shortcut-id-input'),_0x1820b1=document['getElementById'](_0x22f28c(0x4d8)),_0x45ac8f=document[_0x22f28c(0x932)]('shortcut-blueprint-url-input'),_0x25cd2d=document[_0x22f28c(0x932)]('shortcut-reference-url-input');if(_0x5953cc){const _0x53e519=blueprintShortcuts[_0x22f28c(0x7a3)](_0x28299f=>_0x28299f['id']===_0x5953cc);if(!_0x53e519)return;_0x4cda83[_0x22f28c(0xdec)]=_0x22f28c(0x71d),_0x4db4e2[_0x22f28c(0x99c)]=_0x53e519['id'],_0x1820b1[_0x22f28c(0x99c)]=_0x53e519[_0x22f28c(0x34a)],_0x45ac8f[_0x22f28c(0x99c)]=_0x53e519[_0x22f28c(0x6c5)]||'',_0x25cd2d[_0x22f28c(0x99c)]=_0x53e519[_0x22f28c(0xc0a)]||'';}else _0x4cda83[_0x22f28c(0xdec)]='เพิ่มปุ่มลัดใหม่',_0x4db4e2[_0x22f28c(0x99c)]='',_0x1820b1[_0x22f28c(0x99c)]='',_0x45ac8f[_0x22f28c(0x99c)]='',_0x25cd2d[_0x22f28c(0x99c)]='';_0x4fed85[_0x22f28c(0x360)][_0x22f28c(0xcc8)](_0x22f28c(0x2f2));}async function saveShortcutChanges(){const _0x3aa524=_0x2bcb18,_0x3f907e=document[_0x3aa524(0x932)](_0x3aa524(0xc1b))[_0x3aa524(0x99c)],_0x7edfe3=document[_0x3aa524(0x932)](_0x3aa524(0x4d8))[_0x3aa524(0x99c)][_0x3aa524(0xa4d)](),_0x79b6c8=document[_0x3aa524(0x932)](_0x3aa524(0x8d6))[_0x3aa524(0x99c)]['trim']();if(!_0x7edfe3||!_0x79b6c8){showMessage(_0x3aa524(0xe6b));return;}const _0x3445f4={'id':_0x3f907e||_0x3aa524(0x440)+Date[_0x3aa524(0x18f)](),'name':_0x7edfe3,'blueprintUrl':_0x79b6c8,'referenceUrl':document[_0x3aa524(0x932)](_0x3aa524(0x8cd))[_0x3aa524(0x99c)][_0x3aa524(0xa4d)](),'isDefault':_0x3f907e[_0x3aa524(0x646)](_0x3aa524(0x76b))};let _0x1688cb;_0x3f907e?_0x1688cb=blueprintShortcuts['map'](_0x5960cd=>_0x5960cd['id']===_0x3f907e?_0x3445f4:_0x5960cd):_0x1688cb=[...blueprintShortcuts,_0x3445f4];try{const _0x3acedb=doc(db,_0x3aa524(0x4db),'dashboardConfig');await setDoc(_0x3acedb,{'blueprintShortcuts':_0x1688cb},{'merge':!![]}),document[_0x3aa524(0x932)]('shortcut-editor-modal')[_0x3aa524(0x360)][_0x3aa524(0x4a6)](_0x3aa524(0x2f2));}catch(_0x5d4e8b){console['error'](_0x3aa524(0xafa),_0x5d4e8b),showMessage(_0x3aa524(0x5ae));}}async function handleShortcutClick(_0x2e9e96){const _0xcef4bf=_0x2bcb18,_0x1d77b8=blueprintShortcuts[_0xcef4bf(0x7a3)](_0x28f463=>_0x28f463['id']===_0x2e9e96);if(!_0x1d77b8||!_0x1d77b8[_0xcef4bf(0x6c5)])return;document[_0xcef4bf(0x932)]('blueprint-options-container')[_0xcef4bf(0x360)]['add'](_0xcef4bf(0x2f2)),document[_0xcef4bf(0x932)]('generate-from-blueprint-btn')[_0xcef4bf(0xad6)]=!![];const _0x26d1ae=document[_0xcef4bf(0x932)]('loader'),_0x4b521f=document[_0xcef4bf(0x932)](_0xcef4bf(0x231));document[_0xcef4bf(0x932)](_0xcef4bf(0xa17))[_0xcef4bf(0x360)][_0xcef4bf(0xcc8)](_0xcef4bf(0x2f2)),document[_0xcef4bf(0x932)]('generated-quiz-container')[_0xcef4bf(0xa16)]='',_0x26d1ae[_0xcef4bf(0x360)][_0xcef4bf(0xcc8)](_0xcef4bf(0x2f2));try{_0x4b521f['textContent']='กำลังดึงไฟล์\x20Blueprint\x20จากลิงก์...';const _0x5213bf=await fetchFileFromUrl(_0x1d77b8[_0xcef4bf(0x6c5)],_0xcef4bf(0x64f));let _0x5a7058=null;if(_0x1d77b8['referenceUrl']){_0x4b521f['textContent']=_0xcef4bf(0xccf);const _0x57b152=_0x1d77b8['referenceUrl'][_0xcef4bf(0x4ea)]()['endsWith'](_0xcef4bf(0x354))?'reference.txt':_0xcef4bf(0x504);_0x5a7058=await fetchFileFromUrl(_0x1d77b8['referenceUrl'],_0x57b152);}await handleGenerateFromBlueprintWithFiles(_0x5213bf,_0x5a7058);}catch(_0x5eca64){console['error'](_0xcef4bf(0xbf7),_0x5eca64),showMessage(_0xcef4bf(0xb75)+_0x5eca64['message']),_0x26d1ae[_0xcef4bf(0x360)][_0xcef4bf(0x4a6)](_0xcef4bf(0x2f2));}}function getDirectDownloadUrl(_0x433c32){const _0x2b9421=_0x2bcb18,_0xc15666=_0x433c32[_0x2b9421(0x783)](/file\/d\/([a-zA-Z0-9_-]+)/);if(_0xc15666&&_0xc15666[0x1])return'https://drive.google.com/uc?export=download&id='+_0xc15666[0x1];return _0x433c32;}async function fetchFileFromUrl(_0x4a7ad9,_0x33feea){const _0x123092=_0x2bcb18,_0x522206=getDirectDownloadUrl(_0x4a7ad9),_0x1a8bd6='https://corsproxy.io/?'+encodeURIComponent(_0x522206),_0x338822=await fetch(_0x1a8bd6);if(!_0x338822['ok'])throw new Error(_0x123092(0xb26)+_0x338822['status']+')');const _0x19c799=await _0x338822['blob'](),_0x5af7ab=await new Promise((_0xd9701c,_0x1ba145)=>{const _0x11b06e=_0x123092,_0x11af52=new FileReader();_0x11af52[_0x11b06e(0x46e)]=()=>_0xd9701c(new Uint8Array(_0x11af52[_0x11b06e(0x72b)])),_0x11af52['onerror']=_0x1ba145,_0x11af52['readAsArrayBuffer'](_0x19c799[_0x11b06e(0x9b9)](0x0,0x4));});let _0x41da32='';const _0x264b7f=new TextDecoder()[_0x123092(0x588)](_0x5af7ab);return _0x264b7f===_0x123092(0x330)?(_0x41da32=_0x123092(0x834),console[_0x123092(0x273)](_0x123092(0x113))):(_0x41da32=_0x123092(0x725),console[_0x123092(0x273)]('File\x20content\x20is\x20not\x20a\x20PDF,\x20assuming\x20text/plain.')),new File([_0x19c799],_0x33feea,{'type':_0x41da32});}async function handleGenerateFromBlueprintWithFiles(_0x43a635,_0x4a24b1=null){const _0x10604e=_0x2bcb18;if(!_0x43a635){showMessage(_0x10604e(0xbeb));return;}const _0x4fc50c=document[_0x10604e(0x932)](_0x10604e(0xe0d)),_0x489fd7=document[_0x10604e(0x932)]('loader-text');_0x4fc50c[_0x10604e(0x360)][_0x10604e(0xcc8)](_0x10604e(0x2f2)),document['getElementById'](_0x10604e(0xa17))[_0x10604e(0x360)][_0x10604e(0xcc8)](_0x10604e(0x2f2)),document[_0x10604e(0x932)](_0x10604e(0x277))[_0x10604e(0xa16)]='';try{_0x489fd7[_0x10604e(0xdec)]='กำลังอ่านไฟล์\x20Test\x20Blueprint...';const _0x174d34=await new Promise((_0x44c5de,_0x2ea3ee)=>{const _0x69fee7=_0x10604e,_0x2c16e6=new FileReader();_0x2c16e6[_0x69fee7(0x96a)](_0x43a635),_0x2c16e6[_0x69fee7(0x905)]=()=>_0x44c5de(_0x2c16e6[_0x69fee7(0x72b)][_0x69fee7(0x664)](',')[0x1]),_0x2c16e6[_0x69fee7(0x13e)]=_0x2ea3ee;}),_0x2b0907=[];if(_0x4a24b1){_0x489fd7[_0x10604e(0xdec)]=_0x10604e(0x423);const _0x998380=await _0x4a24b1['text']();_0x2b0907[_0x10604e(0xe86)]({'text':_0x10604e(0x209)+_0x998380});}const _0x2d2f60=[{'text':'...'},{'inlineData':{'mimeType':_0x43a635[_0x10604e(0x587)],'data':_0x174d34}},..._0x2b0907];await handleGenerateFromBlueprint(_0x2d2f60);}catch(_0x56c6d4){console[_0x10604e(0x1ac)]('Error\x20in\x20generating\x20from\x20files:',_0x56c6d4),showMessage(_0x10604e(0xb75)+_0x56c6d4['message']),_0x4fc50c[_0x10604e(0x360)]['add'](_0x10604e(0x2f2));}}async function handleLiveAnswer(_0x417ea1,_0x4c782b){const _0x118f85=_0x2bcb18;document[_0x118f85(0x38e)](_0x118f85(0x5bd))[_0x118f85(0x39f)](_0x527d04=>_0x527d04[_0x118f85(0xad6)]=!![]);const _0x268ecf=_0x4c782b[_0x118f85(0x2ed)]||currentQuizData[_0x118f85(0x2de)];let _0x2ed66c=![],_0x14d0bc=_0x417ea1;if(_0x268ecf===_0x118f85(0xafb)){const _0x36b78c=(_0x417ea1||'')[_0x118f85(0xdcb)]();_0x2ed66c=await gradeShortAnswer(_0x36b78c,_0x4c782b);}else{if(_0x268ecf===_0x118f85(0x47e))_0x2ed66c=_0x417ea1===_0x4c782b[_0x118f85(0x52a)];else{if(_0x268ecf===_0x118f85(0x827)){const _0x5b5eab=_0x4c782b[_0x118f85(0x8f4)];_0x2ed66c=_0x417ea1===0x0&&_0x5b5eab||_0x417ea1===0x1&&!_0x5b5eab;}else{if(_0x268ecf==='matching_item'){const _0x358e44=_0x4c782b[_0x118f85(0x66a)][_0x417ea1];_0x2ed66c=_0x358e44===_0x4c782b['correctResponse'],_0x14d0bc=_0x358e44;}}}}const _0x1e293c=doc(db,_0x118f85(0x6e6)+appId+_0x118f85(0x903),currentLiveGameId),_0x17e095={};_0x17e095[_0x118f85(0x40a)+currentStudentName+'.answeredCurrentQuestion']=!![],_0x17e095['players.'+currentStudentName+_0x118f85(0x58a)]=_0x2ed66c,_0x17e095[_0x118f85(0x40a)+currentStudentName+_0x118f85(0x7a8)]=_0x268ecf===_0x118f85(0xafb)||_0x268ecf===_0x118f85(0xb08)?null:_0x417ea1,_0x17e095[_0x118f85(0x40a)+currentStudentName+'.lastAnswerValue']=_0x14d0bc,_0x17e095['players.'+currentStudentName+_0x118f85(0x5df)]=serverTimestamp(),_0x17e095[_0x118f85(0x40a)+currentStudentName+_0x118f85(0xaf9)]=![],await updateDoc(_0x1e293c,_0x17e095),liveGameView[_0x118f85(0xa16)]=_0x118f85(0xdeb);}function showAdminSummaryView(_0x475e09,_0xa9fe7f){const _0x163348=_0x2bcb18,_0x340655=Object[_0x163348(0x282)](_0x475e09[_0x163348(0x18b)]||{}),_0x571e43=_0xa9fe7f[_0x163348(0x2ed)]||currentQuizData[_0x163348(0x2de)],_0x1d89c0=_0x571e43==='true_false'?['ใช่',_0x163348(0xa76)]:_0xa9fe7f[_0x163348(0x3e2)]||_0xa9fe7f['allResponses']||[],_0xad807c={},_0x4b9ab5=new Array(_0x1d89c0[_0x163348(0x752)])[_0x163348(0x864)](0x0);_0x1d89c0[_0x163348(0x39f)]((_0x33d14f,_0x5869c4)=>{_0xad807c[_0x5869c4]=[];}),Object['entries'](_0x475e09[_0x163348(0x18b)]||{})[_0x163348(0x39f)](([_0x25dd49,_0x232c19])=>{const _0x4b3429=_0x163348;if(_0x232c19[_0x4b3429(0x1f8)]==='active'&&_0x232c19['lastAnswerIndex']!==undefined){const _0x1797d5=_0x232c19['lastAnswerIndex'];_0xad807c[_0x1797d5]&&(_0xad807c[_0x1797d5][_0x4b3429(0xe86)](_0x25dd49),_0x4b9ab5[_0x1797d5]++);}});const _0x3d4ade=Math[_0x163348(0x824)](..._0x4b9ab5,0x1),_0x1add8c=_0x163348(0x9a9)+(_0xa9fe7f[_0x163348(0x58b)]||_0xa9fe7f[_0x163348(0xca8)])+_0x163348(0xe0f)+_0x4b9ab5['map']((_0x3d5550,_0x13a0fc)=>{const _0x121136=_0x163348,_0x386dc3=_0xad807c[_0x13a0fc]['length']>0x0?_0xad807c[_0x13a0fc]['join'](',\x20'):_0x121136(0x180);let _0x21c29a=![];if(_0x571e43===_0x121136(0x47e))_0x21c29a=_0x13a0fc===_0xa9fe7f[_0x121136(0x52a)];else{if(_0x571e43==='true_false'){const _0x566a32=_0xa9fe7f[_0x121136(0x8f4)];_0x21c29a=_0x566a32&&_0x13a0fc===0x0||!_0x566a32&&_0x13a0fc===0x1;}else _0x571e43===_0x121136(0xb08)&&(_0x21c29a=_0x1d89c0[_0x13a0fc]===_0xa9fe7f[_0x121136(0xd79)]);}const _0x53f644=_0x21c29a?_0x121136(0x315):_0x121136(0x7ed);return _0x121136(0xa97)+_0x3d5550+'</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20'+_0x53f644+_0x121136(0x9e5)+_0x13a0fc+_0x121136(0x5d6)+_0x1d89c0[_0x13a0fc]+_0x121136(0xb70)+_0x13a0fc+_0x121136(0x2ad)+_0x386dc3+_0x121136(0x39b);})[_0x163348(0xbb2)]('')+_0x163348(0x5cd);liveGameView[_0x163348(0xa16)]=_0x1add8c;if(window[_0x163348(0x7f9)])MathJax['typesetPromise']();document['getElementById'](_0x163348(0xbbf))['addEventListener'](_0x163348(0x164),async()=>{const _0x2777c5=_0x163348,_0x48ff8f=doc(db,_0x2777c5(0x6e6)+appId+_0x2777c5(0x903),currentLiveGameId);await updateDoc(_0x48ff8f,{'questionStatus':_0x2777c5(0x3b7)});}),document[_0x163348(0x932)]('open-scratchpad-btn')[_0x163348(0x639)](_0x163348(0x164),()=>{openScratchpad(_0xa9fe7f,_0x1d89c0);});}function showPlayerSummaryView(_0x2c2e0d,_0x1906f3){const _0x30221b=_0x2bcb18,_0x3404db=Object[_0x30221b(0x282)](_0x2c2e0d[_0x30221b(0x18b)]||{}),_0x1f2cf9=_0x2c2e0d['players'][_0x1906f3],_0x35d4d6=_0x3404db[_0x30221b(0x9a7)](_0x1189b3=>_0x1189b3['status']===_0x30221b(0x76a))[_0x30221b(0x41f)]((_0x503275,_0x687faa)=>_0x687faa[_0x30221b(0x853)]-_0x503275['score']),_0x35c560=_0x35d4d6[_0x30221b(0x2b7)](_0x26ee8d=>_0x26ee8d===_0x1f2cf9)+0x1,_0x37c7ec=_0x1f2cf9[_0x30221b(0x281)]?_0x30221b(0x521):'ผิด',_0x8eb6c3=_0x1f2cf9[_0x30221b(0x281)]?_0x30221b(0xe1a):_0x30221b(0x190),_0x52a048=_0x1f2cf9[_0x30221b(0xa2e)]||0x0,_0x48f542=_0x30221b(0xa52),_0x59f9d1='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20'+_0x48f542+_0x30221b(0x578)+_0x8eb6c3+_0x30221b(0xbf1)+_0x37c7ec+_0x30221b(0x576)+_0x52a048+_0x30221b(0x513)+(_0x35c560>0x0?_0x35c560:'-')+_0x30221b(0x710);liveGameView[_0x30221b(0xa16)]=_0x59f9d1;}function createQuizFromBank(){const _0x10f179=_0x2bcb18,_0xee8b3f=document['querySelectorAll'](_0x10f179(0xc13));if(_0xee8b3f[_0x10f179(0x752)]===0x0){showMessage('กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ');return;}const _0x211b9d=[];_0xee8b3f['forEach'](_0x419196=>{const _0x257727=_0x10f179;_0x211b9d[_0x257727(0xe86)](JSON[_0x257727(0x4bd)](_0x419196[_0x257727(0x99c)]));});const _0x278583={'topic':_0x10f179(0x2b4),'questions':_0x211b9d};displayGeneratedQuiz(_0x278583);}function showAdminLobbyView(_0x43274b,_0x39297b){const _0x3d3416=_0x2bcb18;showView(_0x3d3416(0x1e5));const _0x38d678=_0x3d3416(0x2d0)+_0x39297b+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>'+_0x43274b+_0x3d3416(0x915);liveGameView[_0x3d3416(0xa16)]=_0x38d678,document[_0x3d3416(0x932)](_0x3d3416(0xa81))[_0x3d3416(0x639)](_0x3d3416(0x164),async()=>{const _0x50df42=_0x3d3416;if(!currentQuizData||!currentQuizData[_0x50df42(0xc46)]||currentQuizData[_0x50df42(0xc46)][_0x50df42(0x752)]===0x0){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้');return;}try{const _0x4ac46d=doc(db,_0x50df42(0x6e6)+appId+_0x50df42(0x903),currentLiveGameId);await updateDoc(_0x4ac46d,{'status':'question','currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x454f96=currentQuizData[_0x50df42(0xc46)][0x0],_0x50717b=currentQuizData[_0x50df42(0xc46)][_0x50df42(0x752)];showAdminLiveQuestionView(_0x454f96,0x0,_0x50717b);}catch(_0x345c16){console[_0x50df42(0x1ac)](_0x50df42(0xa6f),_0x345c16),showMessage(_0x50df42(0x7cb));}});}async function openQuizBankModal(){const _0x559356=_0x2bcb18;if(allQuizzesGlobal['length']===0x0){const _0x2711cb=await getDocs(collection(db,_0x559356(0x6e6)+appId+_0x559356(0x993)));allQuizzesGlobal=_0x2711cb['docs'][_0x559356(0xe49)](_0x23c584=>({'id':_0x23c584['id'],..._0x23c584[_0x559356(0x13f)]()}));}renderQuizBankList(''),document[_0x559356(0x932)]('quiz-bank-modal')[_0x559356(0x360)][_0x559356(0xcc8)]('hidden');}function renderQuizBankList(_0x3111be='',_0x8a6d83=![]){const _0x55e9c6=_0x2bcb18,_0x3acb80=document[_0x55e9c6(0x932)](_0x55e9c6(0xd7b)),_0x9a6256=_0x3111be['toLowerCase']()['trim'](),_0x230658=allQuizzesGlobal[_0x55e9c6(0xe49)](_0x5d9d8d=>({..._0x5d9d8d,'projectName':allProjects[_0x55e9c6(0x7a3)](_0x5abf1c=>_0x5abf1c['id']===_0x5d9d8d[_0x55e9c6(0xc80)])?.[_0x55e9c6(0x1cc)]||_0x55e9c6(0x9ff)}))['filter'](_0x409271=>(_0x409271[_0x55e9c6(0x79c)]||'')[_0x55e9c6(0x4ea)]()[_0x55e9c6(0xd2e)](_0x9a6256)||(_0x409271[_0x55e9c6(0x1cc)]||'')[_0x55e9c6(0x4ea)]()[_0x55e9c6(0xd2e)](_0x9a6256)||_0x409271['id'][_0x55e9c6(0xdcb)]()['includes'](_0x9a6256));document['getElementById'](_0x55e9c6(0x3c7))[_0x55e9c6(0xdec)]='('+_0x230658[_0x55e9c6(0x752)]+_0x55e9c6(0xbaa),_0x3acb80[_0x55e9c6(0xa16)]=_0x230658[_0x55e9c6(0x752)]?_0x230658[_0x55e9c6(0xe49)](_0x2a364f=>{const _0x237fa7=_0x55e9c6,_0x73419d=!_0x8a6d83?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x2a364f['id']+_0x237fa7(0xe42)+_0x2a364f['id']+'\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x2a364f['id']+_0x237fa7(0x891)+_0x2a364f['id']+'\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x2a364f['id']+'\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x2a364f['id']+'\x22\x20data-topic=\x22'+_0x2a364f[_0x237fa7(0x79c)]+_0x237fa7(0x267):'';return'\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22'+_0x2a364f['id']+_0x237fa7(0x886)+(_0x2a364f[_0x237fa7(0x79c)]||_0x237fa7(0x4ed))+_0x237fa7(0xa1a)+(_0x2a364f[_0x237fa7(0xc46)]?.[_0x237fa7(0x752)]||0x0)+_0x237fa7(0xb96)+_0x2a364f[_0x237fa7(0x1cc)]+_0x237fa7(0xb6d)+_0x2a364f['id']+_0x237fa7(0x685)+_0x73419d+'\x0a\x20\x20\x20\x20\x20\x20</div>';})[_0x55e9c6(0xbb2)](''):_0x55e9c6(0xe96),!_0x8a6d83&&(_0x3acb80[_0x55e9c6(0x38e)](_0x55e9c6(0xca9))[_0x55e9c6(0x39f)](_0x62466b=>{const _0x361da1=_0x55e9c6;_0x62466b[_0x361da1(0x639)](_0x361da1(0x164),()=>{const _0x16856b=_0x361da1,_0x49348c=_0x62466b[_0x16856b(0x134)]['id'];document[_0x16856b(0x932)](_0x16856b(0x595))[_0x16856b(0x360)][_0x16856b(0x4a6)]('hidden'),showQuizDetailView(_0x49348c);});}),_0x3acb80['querySelectorAll'](_0x55e9c6(0x12b))['forEach'](_0x4efb39=>{const _0x2ce5f6=_0x55e9c6;_0x4efb39['addEventListener'](_0x2ce5f6(0x164),_0x2dbe2d=>{const _0x52c185=_0x2ce5f6;_0x2dbe2d['stopPropagation']();const _0x3593c9=_0x4efb39[_0x52c185(0x134)]['id'],_0x4af45a=allQuizzesGlobal[_0x52c185(0x7a3)](_0x6fadde=>_0x6fadde['id']===_0x3593c9);_0x4af45a?(currentQuizData=_0x4af45a,document[_0x52c185(0x932)](_0x52c185(0x595))['classList']['add'](_0x52c185(0x2f2)),startAdminTest()):showMessage(_0x52c185(0xd90));});}),_0x3acb80[_0x55e9c6(0x38e)]('.quiz-bank-parallel-btn')[_0x55e9c6(0x39f)](_0x424dc4=>{const _0x463fa7=_0x55e9c6;_0x424dc4[_0x463fa7(0x639)](_0x463fa7(0x164),_0x3a48ea=>{const _0x20156c=_0x463fa7;_0x3a48ea['stopPropagation']();const _0x1cfba6=_0x424dc4[_0x20156c(0x134)]['id'],_0x141b19=allQuizzesGlobal['find'](_0xc771ae=>_0xc771ae['id']===_0x1cfba6);_0x141b19?(document[_0x20156c(0x932)](_0x20156c(0x595))['classList'][_0x20156c(0x4a6)](_0x20156c(0x2f2)),handleGenerateParallelFromBank(_0x141b19)):showMessage(_0x20156c(0xd90));});}),_0x3acb80[_0x55e9c6(0x38e)](_0x55e9c6(0x124))[_0x55e9c6(0x39f)](_0x152eee=>{const _0x404d02=_0x55e9c6;_0x152eee[_0x404d02(0x639)](_0x404d02(0x164),_0xb67709=>{const _0x2ed0f4=_0x404d02;_0xb67709[_0x2ed0f4(0x17c)]();const _0x1e1916=_0x152eee[_0x2ed0f4(0x134)]['id'],_0x13a49d=allQuizzesGlobal[_0x2ed0f4(0x7a3)](_0x9408d3=>_0x9408d3['id']===_0x1e1916);_0x13a49d?(document['getElementById'](_0x2ed0f4(0x595))[_0x2ed0f4(0x360)][_0x2ed0f4(0x4a6)](_0x2ed0f4(0x2f2)),startPresentation(_0x13a49d)):showMessage(_0x2ed0f4(0xd90));});}),_0x3acb80[_0x55e9c6(0x38e)](_0x55e9c6(0x804))[_0x55e9c6(0x39f)](_0x234970=>{const _0x5d041a=_0x55e9c6;_0x234970['addEventListener'](_0x5d041a(0x164),_0x543e44=>{const _0x5cbb7f=_0x5d041a;_0x543e44[_0x5cbb7f(0x17c)]();const _0x3f2924=_0x234970[_0x5cbb7f(0x134)]['id'];document[_0x5cbb7f(0x932)](_0x5cbb7f(0x595))[_0x5cbb7f(0x360)][_0x5cbb7f(0x4a6)](_0x5cbb7f(0x2f2)),handleMoveQuiz(_0x3f2924);});}),_0x3acb80['querySelectorAll'](_0x55e9c6(0xc57))['forEach'](_0x4399bc=>{const _0x2bd7ab=_0x55e9c6;_0x4399bc[_0x2bd7ab(0x639)](_0x2bd7ab(0x164),_0x50c09c=>{const _0x4c1fef=_0x2bd7ab;_0x50c09c[_0x4c1fef(0x17c)]();const _0x2a06d2=_0x4399bc[_0x4c1fef(0x134)]['id'];document[_0x4c1fef(0x932)](_0x4c1fef(0x595))['classList'][_0x4c1fef(0x4a6)]('hidden'),handleQuizSettings(_0x2a06d2);});}),_0x3acb80[_0x55e9c6(0x38e)](_0x55e9c6(0x987))['forEach'](_0x3c07e4=>{const _0x124e67=_0x55e9c6;_0x3c07e4[_0x124e67(0x639)](_0x124e67(0x164),_0x4c5283=>{const _0x6f049e=_0x124e67;_0x4c5283['stopPropagation']();const _0x420e44=_0x3c07e4['dataset']['id'],_0x8b6b96=_0x3c07e4['dataset'][_0x6f049e(0x79c)];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22'+_0x8b6b96+'\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้',()=>handleDeleteQuiz(_0x420e44));});}));}async function handleCompareResults(_0x1a5968,_0x4b0baf){const _0x4c7971=_0x2bcb18,_0x414633=document[_0x4c7971(0x932)]('comparison-modal'),_0x5089ae=document[_0x4c7971(0x932)](_0x4c7971(0x7df)),_0x505a2c=document[_0x4c7971(0x932)](_0x4c7971(0xb93));document[_0x4c7971(0x932)](_0x4c7971(0x27a))['classList']['add'](_0x4c7971(0x76a)),document['getElementById'](_0x4c7971(0x956))[_0x4c7971(0x360)][_0x4c7971(0xcc8)](_0x4c7971(0x76a)),_0x5089ae['classList'][_0x4c7971(0xcc8)](_0x4c7971(0x2f2)),_0x505a2c[_0x4c7971(0x360)][_0x4c7971(0x4a6)](_0x4c7971(0x2f2)),_0x5089ae[_0x4c7971(0xa16)]=_0x4c7971(0xdc3),_0x505a2c['innerHTML']='',_0x414633[_0x4c7971(0x360)][_0x4c7971(0xcc8)]('hidden');try{const _0x629018=doc(db,_0x4c7971(0x6e6)+appId+'/public/data/quizzes',_0x1a5968),_0x4c97f4=await getDoc(_0x629018);if(!_0x4c97f4[_0x4c7971(0x7d2)]())throw new Error(_0x4c7971(0x302));const _0x4f9533=_0x4c97f4[_0x4c7971(0x13f)](),_0xff8f26=_0x4f9533[_0x4c7971(0xc46)][_0x4c7971(0x752)],_0x7ac2ee=collection(db,_0x4c7971(0x6e6)+appId+_0x4c7971(0x133)+_0x4b0baf+'/submissions'),_0x2246bc=collection(db,'artifacts/'+appId+_0x4c7971(0x133)+_0x1a5968+_0x4c7971(0x2f0)),[_0x32b75c,_0x32483e]=await Promise[_0x4c7971(0x6b3)]([getDocs(_0x7ac2ee),getDocs(_0x2246bc)]),_0xd1c3d3=_0x32b75c[_0x4c7971(0x9ef)]['map'](_0x28c6a1=>_0x28c6a1[_0x4c7971(0x13f)]()),_0x222be1=_0x32483e[_0x4c7971(0x9ef)][_0x4c7971(0xe49)](_0x2b6f5d=>_0x2b6f5d[_0x4c7971(0x13f)]()),_0x1eb579=_0xd1c3d3[_0x4c7971(0xe49)](_0x53767b=>_0x53767b[_0x4c7971(0x5a7)]),_0x670712=_0x222be1['map'](_0x36f0bb=>_0x36f0bb['latestScore']),_0x96e4de=calculateMeanAndStdDev(_0x1eb579),_0xf61c9c=calculateMeanAndStdDev(_0x670712),_0x33b4b8=_0x96e4de[_0x4c7971(0x2e7)],_0x31e3d5=_0xf61c9c[_0x4c7971(0x2e7)],_0x5b17ee=_0x31e3d5-_0x33b4b8;let _0x6eadce=_0x4c7971(0x9b6)+_0x33b4b8[_0x4c7971(0x46c)](0x2)+_0x4c7971(0x819)+_0x31e3d5['toFixed'](0x2)+_0x4c7971(0x19b)+(_0x5b17ee>=0x0?_0x4c7971(0xa36):'bg-red-100')+'\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20'+(_0x5b17ee>=0x0?_0x4c7971(0xc63):_0x4c7971(0x938))+'\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20'+(_0x5b17ee>=0x0?_0x4c7971(0x8b7):_0x4c7971(0x189))+'\x22>'+(_0x5b17ee>=0x0?'+':'')+_0x5b17ee[_0x4c7971(0x46c)](0x2)+_0x4c7971(0x3df);_0x5089ae[_0x4c7971(0xa16)]=_0x6eadce;const _0x386e52=document[_0x4c7971(0x932)]('comparison-chart')[_0x4c7971(0x6ec)]('2d');if(chartInstances[_0x4c7971(0x615)])chartInstances[_0x4c7971(0x615)][_0x4c7971(0x6f1)]();chartInstances['comparison']=new Chart(_0x386e52,{'type':_0x4c7971(0x5da),'data':{'labels':['คะแนนเฉลี่ย'],'datasets':[{'label':_0x4c7971(0x434),'data':[_0x33b4b8],'backgroundColor':'rgba(59,\x20130,\x20246,\x200.7)'},{'label':_0x4c7971(0xd91),'data':[_0x31e3d5],'backgroundColor':_0x4c7971(0x78f)}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0xff8f26}}}});const _0x2a36ba=currentProjectData[_0x4c7971(0x950)]||[],_0x4f02d4=_0x2a36ba[_0x4c7971(0xe49)](_0x1f888e=>{const _0x1d7a25=_0x4c7971,_0x4736e4=_0xd1c3d3[_0x1d7a25(0x7a3)](_0x414716=>_0x414716[_0x1d7a25(0xad2)]===_0x1f888e),_0x19f52d=_0x222be1[_0x1d7a25(0x7a3)](_0x2237c4=>_0x2237c4[_0x1d7a25(0xad2)]===_0x1f888e),_0xd5b02e=_0x4736e4?_0x4736e4[_0x1d7a25(0x5a7)]:null,_0x2f9c74=_0x19f52d?_0x19f52d[_0x1d7a25(0x5a7)]:null,_0x1fc60d=_0xd5b02e!==null&&_0x2f9c74!==null?_0x2f9c74-_0xd5b02e:null,_0x535ab0=_0xd5b02e!==null?calculateZScore(_0xd5b02e,_0x96e4de['mean'],_0x96e4de[_0x1d7a25(0xddd)]):null,_0x3c089a=_0x2f9c74!==null?calculateZScore(_0x2f9c74,_0xf61c9c['mean'],_0xf61c9c[_0x1d7a25(0xddd)]):null,_0x2be60a=_0x535ab0!==null?calculateTScore(_0x535ab0):null,_0x558cf6=_0x3c089a!==null?calculateTScore(_0x3c089a):null,_0x53a75a=_0x2be60a!==null&&_0x558cf6!==null?_0x558cf6-_0x2be60a:null;return{'name':_0x1f888e,'preScore':_0xd5b02e,'postScore':_0x2f9c74,'gain':_0x1fc60d,'preTScore':_0x2be60a,'postTScore':_0x558cf6,'tGain':_0x53a75a};});renderIndividualComparisonTable(_0x4f02d4,_0x505a2c);}catch(_0x2111e6){console[_0x4c7971(0x1ac)]('Error\x20comparing\x20results:',_0x2111e6),_0x5089ae['innerHTML']=_0x4c7971(0x244);}}async function saveBlueprintProject(){const _0xa05bd1=_0x2bcb18;if(!extractedBlueprintData||!extractedBlueprintData[_0xa05bd1(0xdcf)]){showMessage(_0xa05bd1(0x47f));return;}const _0x139ac4=prompt(_0xa05bd1(0xd0b),_0xa05bd1(0x459));if(!_0x139ac4||_0x139ac4['trim']()==='')return;const _0x3f7fcc={};extractedBlueprintData[_0xa05bd1(0xdcf)][_0xa05bd1(0x39f)](_0x344d10=>{const _0x4bcda4=_0xa05bd1;_0x344d10[_0x4bcda4(0xa02)][_0x4bcda4(0x39f)](_0x163f8c=>{_0x163f8c['subTopics']['forEach'](_0x317861=>{const _0xae0e95=_0x63b3,_0x1d4dc5=_0xae0e95(0x8f3)+Date[_0xae0e95(0x18f)]()+Math['random']()['toString'](0x24)[_0xae0e95(0x266)](0x2,0x9);_0x3f7fcc[_0x1d4dc5]={'sara':_0x344d10['sara'],'mainTopic':_0x163f8c[_0xae0e95(0x9fc)],'subTopic':_0x317861,'status':_0xae0e95(0x7c6),'lessonContent':null};});});});try{const _0x16db54=collection(db,_0xa05bd1(0x6e6)+appId+_0xa05bd1(0x8a5));await addDoc(_0x16db54,{'projectName':_0x139ac4[_0xa05bd1(0xa4d)](),'gradeLevel':extractedBlueprintData[_0xa05bd1(0x637)],'topics':_0x3f7fcc,'createdAt':serverTimestamp()}),showMessage(_0xa05bd1(0x3bf)+_0x139ac4['trim']()+_0xa05bd1(0xa18)),document[_0xa05bd1(0x932)](_0xa05bd1(0x2f9))[_0xa05bd1(0x360)][_0xa05bd1(0x4a6)](_0xa05bd1(0x2f2));}catch(_0x28a943){console[_0xa05bd1(0x1ac)](_0xa05bd1(0xd18),_0x28a943),showMessage(_0xa05bd1(0xdd3));}}async function showBlueprintProjects(){const _0x122934=_0x2bcb18,_0x5b72a2=document[_0x122934(0x932)]('blueprint-projects-modal'),_0x52635e=document['getElementById'](_0x122934(0xa39));_0x52635e['innerHTML']=_0x122934(0x7c4),_0x5b72a2[_0x122934(0x360)][_0x122934(0xcc8)](_0x122934(0x2f2));try{const _0x5e8353=collection(db,'artifacts/'+appId+_0x122934(0x8a5)),_0x114bb0=await getDocs(_0x5e8353);if(_0x114bb0[_0x122934(0xab2)]){_0x52635e[_0x122934(0xa16)]='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีโปรเจคที่บันทึกไว้</p>';return;}const _0x5a11b2=_0x114bb0[_0x122934(0x9ef)]['map'](_0x51aa9e=>({'id':_0x51aa9e['id'],..._0x51aa9e['data']()}));_0x5a11b2[_0x122934(0x41f)]((_0x5692a8,_0x3b507f)=>_0x5692a8[_0x122934(0x1cc)]['localeCompare'](_0x3b507f['projectName'],'th')),_0x52635e[_0x122934(0xa16)]=_0x5a11b2[_0x122934(0xe49)](_0x43ffcf=>_0x122934(0x97b)+_0x43ffcf[_0x122934(0x1cc)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>'+_0x43ffcf['gradeLevel']+'\x20|\x20'+Object[_0x122934(0x338)](_0x43ffcf[_0x122934(0x945)])['length']+_0x122934(0x8c2)+_0x43ffcf['id']+_0x122934(0x5f3)+_0x43ffcf['id']+_0x122934(0x33a))[_0x122934(0xbb2)]('');}catch(_0x4744f9){console['error'](_0x122934(0xaa7),_0x4744f9),_0x52635e[_0x122934(0xa16)]=_0x122934(0x142);}}async function displayBlueprintProjectManager(_0x415cdd){const _0x170a67=_0x2bcb18;currentBlueprintProjectId=_0x415cdd,document[_0x170a67(0x932)](_0x170a67(0x37e))[_0x170a67(0x360)][_0x170a67(0x4a6)](_0x170a67(0x2f2)),showView(_0x170a67(0x6e3)),projectDashboardView[_0x170a67(0x360)][_0x170a67(0x4a6)](_0x170a67(0x2f2));const _0x19f0ca=document[_0x170a67(0x932)](_0x170a67(0x9e4));_0x19f0ca[_0x170a67(0x360)][_0x170a67(0xcc8)](_0x170a67(0x2f2)),document['getElementById'](_0x170a67(0xd50))[_0x170a67(0xa16)]=_0x170a67(0xdc3);try{const _0x4cee3f=doc(db,_0x170a67(0x6e6)+appId+_0x170a67(0x8a5),_0x415cdd),_0x122052=await getDoc(_0x4cee3f);if(!_0x122052[_0x170a67(0x7d2)]())throw new Error(_0x170a67(0xe29));const _0x1fa2a2={'id':_0x122052['id'],..._0x122052[_0x170a67(0x13f)]()};document[_0x170a67(0x932)](_0x170a67(0x860))[_0x170a67(0xdec)]=_0x1fa2a2[_0x170a67(0x1cc)],document[_0x170a67(0x932)](_0x170a67(0x1ad))[_0x170a67(0x99c)]=_0x1fa2a2[_0x170a67(0x157)]||'',renderBlueprintTopicManager(_0x1fa2a2);}catch(_0x342932){console[_0x170a67(0x1ac)]('Error\x20displaying\x20blueprint\x20project:',_0x342932),showMessage(_0x342932[_0x170a67(0x523)]),showView(_0x170a67(0x6e3));}}function renderBlueprintTopicManager(_0x572b8d){const _0x3c50c2=_0x2bcb18,_0x39ea0a=document[_0x3c50c2(0x932)](_0x3c50c2(0xd50)),_0x11be03=_0x572b8d[_0x3c50c2(0x945)]||{};if(Object[_0x3c50c2(0x338)](_0x11be03)[_0x3c50c2(0x752)]===0x0){_0x39ea0a[_0x3c50c2(0xa16)]='<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่มีหัวข้อในโปรเจคนี้</p>';return;}const _0x3b4aba=Object[_0x3c50c2(0xd16)](_0x11be03)[_0x3c50c2(0xe49)](([_0x323965,_0xe3c690])=>({'id':_0x323965,..._0xe3c690}))[_0x3c50c2(0x41f)]((_0x2c521c,_0x35b858)=>(_0x2c521c[_0x3c50c2(0x49a)]??Infinity)-(_0x35b858['order']??Infinity)),_0x471da3={};_0x3b4aba[_0x3c50c2(0x39f)](_0x114f2b=>{const {sara:_0x16a0b2,mainTopic:_0x1baa4b}=_0x114f2b;!_0x471da3[_0x16a0b2]&&(_0x471da3[_0x16a0b2]={}),!_0x471da3[_0x16a0b2][_0x1baa4b]&&(_0x471da3[_0x16a0b2][_0x1baa4b]=[]),_0x471da3[_0x16a0b2][_0x1baa4b]['push'](_0x114f2b);});let _0x3ceda0='';for(const _0x302308 in _0x471da3){_0x3ceda0+=_0x3c50c2(0x311)+_0x302308+_0x3c50c2(0x69b);for(const _0x3e6341 in _0x471da3[_0x302308]){_0x3ceda0+=_0x3c50c2(0x6bc)+_0x3e6341+_0x3c50c2(0x349),_0x471da3[_0x302308][_0x3e6341][_0x3c50c2(0x39f)](_0x296c6a=>{const _0x2bc1ce=_0x3c50c2,_0x242bb8=_0x296c6a['id'],_0x2631e0=_0x296c6a[_0x2bc1ce(0xb4f)]||[],_0x39e3fc=_0x2631e0[_0x2bc1ce(0x752)]>0x0,_0x405ea9=_0x296c6a[_0x2bc1ce(0x1f8)]===_0x2bc1ce(0x645);let _0x5995ca='';_0x39e3fc?_0x5995ca=_0x2bc1ce(0x74d)+_0x2631e0[_0x2bc1ce(0x752)]+'\x20ชุด)</span>':_0x5995ca=_0x2bc1ce(0x268)+(_0x405ea9?'bg-green-200\x20text-green-800':_0x2bc1ce(0x8fc))+'\x22>'+(_0x405ea9?'สร้างแล้ว':'ยังไม่สร้าง')+'</span>';const _0x23ccf8=!_0x405ea9?_0x2bc1ce(0x325):'',_0x473208=!_0x405ea9?_0x2bc1ce(0xd62):'';let _0x11e2f8=_0x405ea9?_0x2bc1ce(0xc53):_0x2bc1ce(0x313);_0x3ceda0+=_0x2bc1ce(0xc4e)+_0x242bb8+_0x2bc1ce(0x5e2)+_0x296c6a[_0x2bc1ce(0xe10)]+_0x2bc1ce(0x943)+_0x5995ca+_0x2bc1ce(0x4e1)+_0x23ccf8+_0x2bc1ce(0x8f8)+_0x473208+_0x2bc1ce(0xbb1)+_0x11e2f8+_0x2bc1ce(0xcb1);}),_0x3ceda0+=_0x3c50c2(0xb11);}_0x3ceda0+=_0x3c50c2(0x1f5);}_0x39ea0a[_0x3c50c2(0xa16)]=_0x3ceda0;}async function handleDeepDeleteBlueprintProject(_0x198ea6){const _0x48bd6f=_0x2bcb18,_0x21e5a8=doc(db,_0x48bd6f(0x6e6)+appId+_0x48bd6f(0x8a5),_0x198ea6),_0x58d7fd=await getDoc(_0x21e5a8);if(!_0x58d7fd[_0x48bd6f(0x7d2)]()){showMessage(_0x48bd6f(0xa24));return;}const _0x5e75a5=_0x58d7fd['data']()['projectName'];showConfirmation('คุณแน่ใจ\x20100%\x20หรือไม่ว่าต้องการลบโปรเจค\x20\x22'+_0x5e75a5+_0x48bd6f(0x2ee),async()=>{const _0x5931c8=_0x48bd6f;showMessage(_0x5931c8(0x9ce));try{const _0x213805=writeBatch(db),_0x3f93ed=_0x58d7fd[_0x5931c8(0x13f)](),_0x43c867=_0x3f93ed[_0x5931c8(0x945)]||{};for(const _0x742dd9 in _0x43c867){const _0x16fadf=doc(db,_0x5931c8(0x6e6)+appId+'/public/data/blueprintProjects/'+_0x198ea6+_0x5931c8(0xd4b),_0x742dd9);_0x213805['delete'](_0x16fadf);}const _0x12a6a5=new Set();for(const _0x58ae0d in _0x43c867){_0x43c867[_0x58ae0d][_0x5931c8(0xb4f)]&&_0x43c867[_0x58ae0d][_0x5931c8(0xb4f)]['forEach'](_0x1ea17f=>_0x12a6a5[_0x5931c8(0x4a6)](_0x1ea17f));}for(const _0x566fe0 of _0x12a6a5){await handleDeleteQuiz(_0x566fe0,![]);}_0x213805[_0x5931c8(0x242)](_0x21e5a8),await _0x213805['commit'](),showMessage(_0x5931c8(0x98d)+_0x5e75a5+_0x5931c8(0xc3b)),showBlueprintProjects();}catch(_0x3019c3){console['error'](_0x5931c8(0x511),_0x3019c3),showMessage('เกิดข้อผิดพลาดร้ายแรงระหว่างการลบข้อมูล');}});}async function openTopicQuizBank(_0x4c3eaa){const _0x201df9=_0x2bcb18,_0x4c6043=document[_0x201df9(0x932)](_0x201df9(0xb20)),_0x31d619=document['getElementById'](_0x201df9(0xd3a)),_0x338482=document[_0x201df9(0x932)](_0x201df9(0x413));try{await ensureGlobalQuizzesLoaded();const _0x3bd42f=doc(db,_0x201df9(0x6e6)+appId+_0x201df9(0x8a5),currentBlueprintProjectId),_0x5b7e73=await getDoc(_0x3bd42f);if(!_0x5b7e73[_0x201df9(0x7d2)]())return;const _0x3ae6f7=_0x5b7e73['data'](),_0x214eeb=_0x3ae6f7[_0x201df9(0x945)][_0x4c3eaa];document[_0x201df9(0x932)](_0x201df9(0xb38))[_0x201df9(0xdec)]=_0x214eeb[_0x201df9(0xe10)];const _0x4273c9=_0x214eeb['linkedQuizIds']||[];_0x338482[_0x201df9(0x360)][_0x201df9(0xaa3)](_0x201df9(0x2f2),_0x4273c9[_0x201df9(0x752)]===0x0),_0x338482[_0x201df9(0xe1b)]=()=>handleClearAllLinksForTopic(_0x4c3eaa);if(_0x4273c9[_0x201df9(0x752)]===0x0)_0x31d619[_0x201df9(0xa16)]=_0x201df9(0xd47);else{const _0x3845b0=allQuizzesGlobal[_0x201df9(0x9a7)](_0x54fa27=>_0x4273c9[_0x201df9(0xd2e)](_0x54fa27['id']));_0x31d619[_0x201df9(0xa16)]=_0x3845b0['map'](_0x3869cf=>_0x201df9(0xc91)+_0x3869cf['id']+_0x201df9(0x813)+_0x3869cf[_0x201df9(0x79c)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20font-mono\x20pointer-events-none\x22>ID:\x20'+_0x3869cf['id']+_0x201df9(0x77c)+_0x3869cf[_0x201df9(0xc46)]['length']+_0x201df9(0x55d)+_0x3869cf['id']+_0x201df9(0xc54)+_0x3869cf['id']+'\x22\x20class=\x22bp-try-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22ทดลอง\x22><i\x20class=\x22fas\x20fa-vial\x22></i></button>\x0a<button\x20data-quiz-id=\x22'+_0x3869cf['id']+'\x22\x20class=\x22bp-live-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22แข่งขันสด\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i></button>\x0a\x0a<button\x20data-quiz-id=\x22'+_0x3869cf['id']+_0x201df9(0xabc)+_0x4c3eaa+_0x201df9(0xbe1)+_0x3869cf['id']+_0x201df9(0x34c))['join']('');}document[_0x201df9(0x932)](_0x201df9(0x80b))[_0x201df9(0xe1b)]=()=>{openQuizSelectorForBlueprint(_0x4c3eaa);},document['getElementById'](_0x201df9(0x402))[_0x201df9(0xe1b)]=()=>_0x4c6043['classList'][_0x201df9(0x4a6)](_0x201df9(0x2f2)),_0x4c6043[_0x201df9(0x360)][_0x201df9(0xcc8)]('hidden');}catch(_0x24303a){showMessage(_0x24303a['message']);}}async function openQuizSelectorForBlueprint(_0x23228b){const _0x806cc8=_0x2bcb18,_0x434d8f=document[_0x806cc8(0x932)](_0x806cc8(0x595)),_0x59f851=document[_0x806cc8(0x932)](_0x806cc8(0xb20));_0x59f851[_0x806cc8(0x360)][_0x806cc8(0x4a6)](_0x806cc8(0x2f2)),document[_0x806cc8(0x932)](_0x806cc8(0x820))?.[_0x806cc8(0xcc8)]();const _0x3f0b1e=document['createElement'](_0x806cc8(0x7a2));_0x3f0b1e['id']=_0x806cc8(0x820),_0x3f0b1e[_0x806cc8(0xba9)]='bg-purple-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20disabled:bg-gray-400',_0x3f0b1e[_0x806cc8(0xdec)]=_0x806cc8(0xce1),_0x3f0b1e[_0x806cc8(0xad6)]=!![];try{await ensureGlobalQuizzesLoaded(),_0x434d8f['classList'][_0x806cc8(0xcc8)](_0x806cc8(0x2f2)),renderQuizBankListForMultiSelect(''),document[_0x806cc8(0x932)](_0x806cc8(0xbd4))['style'][_0x806cc8(0xb59)]=_0x806cc8(0x7dc),_0x434d8f[_0x806cc8(0xc60)]('.flex.justify-between.items-center')[_0x806cc8(0xce0)](_0x3f0b1e);const _0x24131c=(_0x2ef16c=![])=>{const _0x296343=_0x806cc8;_0x434d8f[_0x296343(0x360)]['add'](_0x296343(0x2f2)),document[_0x296343(0x932)](_0x296343(0xbd4))[_0x296343(0x6dc)][_0x296343(0xb59)]=_0x296343(0x5b2),_0x3f0b1e['remove'](),_0x2ef16c&&openTopicQuizBank(_0x23228b);};_0x3f0b1e[_0x806cc8(0xe1b)]=async()=>{const _0x45d0d4=_0x806cc8,_0xc38cf6=Array[_0x45d0d4(0x337)](document[_0x45d0d4(0x38e)]('.quiz-bank-checkbox:checked'))[_0x45d0d4(0xe49)](_0x1d8720=>_0x1d8720[_0x45d0d4(0x99c)]);if(_0xc38cf6[_0x45d0d4(0x752)]===0x0)return;try{const _0x54d53f=doc(db,_0x45d0d4(0x6e6)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId),_0x21792e=(await getDoc(_0x54d53f))['data'](),_0xb4616e=_0x21792e[_0x45d0d4(0x945)][_0x23228b]['linkedQuizIds']||[],_0x391015=[...new Set([..._0xb4616e,..._0xc38cf6])];await updateDoc(_0x54d53f,{[_0x45d0d4(0x405)+_0x23228b+_0x45d0d4(0x663)]:_0x391015}),showMessage(_0x45d0d4(0x30b)+_0xc38cf6[_0x45d0d4(0x752)]+_0x45d0d4(0x9c1)),_0x24131c(!![]),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x1b64e2){console[_0x45d0d4(0x1ac)](_0x45d0d4(0xc99),_0x1b64e2);}},document['getElementById']('cancel-quiz-bank-btn')[_0x806cc8(0xe1b)]=()=>_0x24131c(!![]);}catch(_0x306885){showMessage(_0x306885[_0x806cc8(0x523)]),_0x59f851[_0x806cc8(0x360)][_0x806cc8(0xcc8)](_0x806cc8(0x2f2));}}function handleClearLinkedQuiz(_0x516446){showConfirmation('คุณต้องการยกเลิกการเชื่อมโยงแบบทดสอบนี้ใช่หรือไม่?',async()=>{const _0x260a19=_0x63b3;try{const _0x213ac9=doc(db,_0x260a19(0x6e6)+appId+_0x260a19(0x8a5),currentBlueprintProjectId);await updateDoc(_0x213ac9,{[_0x260a19(0x405)+_0x516446+'.linkedQuizId']:deleteField()}),showMessage(_0x260a19(0x3cc)),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x177447){console['error'](_0x260a19(0x415),_0x177447),showMessage(_0x260a19(0x36c));}});}async function addTopicToProject(){const _0x42a999=_0x2bcb18,_0x1488e5=prompt(_0x42a999(0x4dc));if(!_0x1488e5||_0x1488e5[_0x42a999(0xa4d)]()==='')return;const _0x1c66bf=prompt(_0x42a999(0xd0d),_0x42a999(0x5d3)),_0x39f872=prompt('อยู่ในหัวข้อหลักใด:',_0x42a999(0xc65)),_0x2394af=_0x42a999(0x8f3)+Date[_0x42a999(0x18f)]()+Math['random']()[_0x42a999(0xdcb)](0x24)[_0x42a999(0x266)](0x2,0x9),_0x266367={'sara':_0x1c66bf,'mainTopic':_0x39f872,'subTopic':_0x1488e5[_0x42a999(0xa4d)](),'status':_0x42a999(0x7c6),'lessonContent':null};try{const _0x1b5d5b=doc(db,_0x42a999(0x6e6)+appId+_0x42a999(0x8a5),currentBlueprintProjectId);await updateDoc(_0x1b5d5b,{[_0x42a999(0x405)+_0x2394af]:_0x266367}),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x5d5529){console[_0x42a999(0x1ac)](_0x42a999(0x2a7),_0x5d5529),showMessage(_0x42a999(0x399));}}async function editTopicInProject(_0x1c6ba6){const _0x4d2c2f=_0x2bcb18,_0x21d157=document[_0x4d2c2f(0xc60)]('[data-topic-id=\x22'+_0x1c6ba6+'\x22]'),_0x444a3d=_0x21d157[_0x4d2c2f(0xc60)]('[data-field=\x22subTopic\x22]'),_0x24cf15=_0x444a3d[_0x4d2c2f(0xdec)],_0x4d0250=prompt(_0x4d2c2f(0x8b3),_0x24cf15);if(!_0x4d0250||_0x4d0250[_0x4d2c2f(0xa4d)]()===''||_0x4d0250[_0x4d2c2f(0xa4d)]()===_0x24cf15)return;try{const _0x2a0c76=doc(db,'artifacts/'+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0x2a0c76,{['topics.'+_0x1c6ba6+'.subTopic']:_0x4d0250[_0x4d2c2f(0xa4d)]()}),_0x444a3d[_0x4d2c2f(0xdec)]=_0x4d0250[_0x4d2c2f(0xa4d)](),showMessage(_0x4d2c2f(0xd3b));}catch(_0x30a7f8){console['error'](_0x4d2c2f(0x972),_0x30a7f8),showMessage(_0x4d2c2f(0x5dc));}}async function deleteTopicFromProject(_0x2fcb72){const _0x496dad=_0x2bcb18;if(!confirm(_0x496dad(0xc85)))return;try{const _0x5385e6=doc(db,_0x496dad(0x6e6)+appId+_0x496dad(0x8a5),currentBlueprintProjectId);await updateDoc(_0x5385e6,{[_0x496dad(0x405)+_0x2fcb72]:deleteField()}),document[_0x496dad(0xc60)](_0x496dad(0x6f4)+_0x2fcb72+'\x22]')[_0x496dad(0xcc8)](),showMessage(_0x496dad(0x10f));}catch(_0x31e9d9){console[_0x496dad(0x1ac)](_0x496dad(0x51b),_0x31e9d9),showMessage(_0x496dad(0xd32));}}async function generateAndSaveLessonForBlueprint(_0x5253b0,_0x4866c4,_0x3c9065){handleGenerateAndShowLesson(_0x4866c4,_0x3c9065);const _0x22f69e=setInterval(async()=>{const _0x46e080=_0x63b3,_0x4ae595=document['getElementById'](_0x46e080(0xc38)),_0x147aa3=_0x4ae595[_0x46e080(0x360)]['contains']('hidden');if(_0x147aa3){clearInterval(_0x22f69e);if(currentApplicationData&&currentApplicationData['length']>0x0){const _0x1ca3ec={'point':document['getElementById']('pointContent')[_0x46e080(0xa16)],'memory':document[_0x46e080(0x932)](_0x46e080(0x7db))[_0x46e080(0xa16)],'applicationHTML':getCleanApplicationHTML(),'applicationData':currentApplicationData,'summary':document[_0x46e080(0x932)](_0x46e080(0x6a9))['innerHTML']};try{const _0xb53993=doc(db,_0x46e080(0x6e6)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId),_0x450215=doc(db,_0x46e080(0x6e6)+appId+_0x46e080(0x418)+currentBlueprintProjectId+_0x46e080(0xd4b),_0x5253b0),_0x2b99cc=writeBatch(db);_0x2b99cc['set'](_0x450215,{'content':_0x1ca3ec}),_0x2b99cc[_0x46e080(0xbe3)](_0xb53993,{[_0x46e080(0x405)+_0x5253b0+_0x46e080(0xe9d)]:_0x46e080(0x645)}),await _0x2b99cc[_0x46e080(0x6fc)](),console[_0x46e080(0x273)](_0x46e080(0xa0b)+_0x5253b0+_0x46e080(0x8c7)),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x369027){console[_0x46e080(0x1ac)](_0x46e080(0xc42),_0x369027);}}}},0x3e8);}function displayHalfMarkResult(_0x2b5054,_0x583e3d){const _0x5defd5=_0x2bcb18,_0x470a7a=_0x2b5054>=_0x583e3d/0x2,_0x1119a0=_0x470a7a?_0x5defd5(0x96f):_0x5defd5(0x20e),_0x963f98=_0x470a7a?_0x5defd5(0x533):_0x5defd5(0x16f),_0x10d495=_0x470a7a?_0x5defd5(0x224):_0x5defd5(0x938),_0x7bc90b=_0x470a7a?_0x5defd5(0xb4b):_0x5defd5(0x478),_0x2ec59c=_0x470a7a?_0x5defd5(0xb00):'สู้ๆ\x20ลองอีกครั้งนะ';let _0x48817a='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20'+_0x1119a0+'\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x963f98+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20'+_0x10d495+_0x5defd5(0xc04)+_0x7bc90b+_0x5defd5(0xa09)+_0x2ec59c+_0x5defd5(0x5a1);studentResultArea[_0x5defd5(0xa16)]=_0x48817a,studentResultArea['classList'][_0x5defd5(0xcc8)](_0x5defd5(0x2f2)),studentQuizArea['classList'][_0x5defd5(0x4a6)]('hidden'),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x470a7a});}function displayPerfectScoreResult(_0xd28a0d,_0x4a8a09){const _0x43e0b8=_0x2bcb18,_0x1751cc=_0xd28a0d===_0x4a8a09,_0x5d254a=_0x1751cc?_0x43e0b8(0x54e):_0x43e0b8(0xd88),_0x310e16=_0x1751cc?_0x43e0b8(0x22d):_0x43e0b8(0x628),_0x508589=_0x1751cc?_0x43e0b8(0xe93):_0x43e0b8(0x97c),_0x2ecac5=_0x1751cc?_0x43e0b8(0xc0f):_0x43e0b8(0x3f9),_0x302229=_0x1751cc?'สุดยอด!\x20ตอบถูกทุกข้อ':_0x43e0b8(0x6df);let _0x33da5f=_0x43e0b8(0x445)+_0x5d254a+'\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x310e16+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20'+_0x508589+_0x43e0b8(0xc04)+_0x2ecac5+_0x43e0b8(0xa09)+_0x302229+_0x43e0b8(0x5a1);studentResultArea['innerHTML']=_0x33da5f,studentResultArea[_0x43e0b8(0x360)][_0x43e0b8(0xcc8)](_0x43e0b8(0x2f2)),studentQuizArea['classList'][_0x43e0b8(0x4a6)](_0x43e0b8(0x2f2)),setupResultScreenBackButton({'showRankings':![],'score':_0xd28a0d,'totalQuestions':_0x4a8a09});}function renderIndividualComparisonTable(_0x3fce08,_0x238f46){const _0x51b120=_0x2bcb18;_0x3fce08[_0x51b120(0x41f)]((_0x1be2e3,_0x159209)=>(_0x159209[_0x51b120(0x9de)]??-Infinity)-(_0x1be2e3['tGain']??-Infinity));let _0x9ba31b=_0x51b120(0xce6);_0x3fce08[_0x51b120(0x752)]===0x0?_0x9ba31b+=_0x51b120(0xb47):_0x3fce08[_0x51b120(0x39f)]((_0x17f126,_0x6b4ada)=>{const _0x1f8ee0=_0x51b120;let _0x38acbc='-',_0x5a0975='';if(_0x17f126['gain']!==null){const _0xc7aff=_0x17f126[_0x1f8ee0(0x7e0)]>0x0?_0x1f8ee0(0xa35):_0x17f126[_0x1f8ee0(0x7e0)]<0x0?_0x1f8ee0(0x4bc):'text-gray-500',_0x1777b8=_0x17f126[_0x1f8ee0(0x7e0)]>0x0?'+':'';_0x38acbc=_0x1f8ee0(0xb6a)+_0xc7aff+'\x22>'+_0x1777b8+_0x17f126[_0x1f8ee0(0x7e0)]+'</span>';if(_0x17f126['gain']>0x0)_0x5a0975=_0x1f8ee0(0x158);else _0x17f126['gain']<0x0?_0x5a0975=_0x1f8ee0(0xac4):_0x5a0975='<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>';}let _0x51cdb7='-';if(_0x17f126[_0x1f8ee0(0x9de)]!==null){const _0x3f7142=_0x17f126[_0x1f8ee0(0x9de)]>0x0?'text-green-600':_0x17f126[_0x1f8ee0(0x9de)]<0x0?_0x1f8ee0(0x4bc):_0x1f8ee0(0x177),_0x1f7bad=_0x17f126['tGain']>0x0?'+':'';_0x51cdb7=_0x1f8ee0(0xb6a)+_0x3f7142+'\x22>'+_0x1f7bad+_0x17f126['tGain']['toFixed'](0x2)+_0x1f8ee0(0x990);}_0x9ba31b+=_0x1f8ee0(0x4ef)+(_0x6b4ada+0x1)+_0x1f8ee0(0x826)+_0x17f126[_0x1f8ee0(0x34a)]+_0x1f8ee0(0xaaa)+(_0x17f126[_0x1f8ee0(0x748)]??'-')+_0x1f8ee0(0xa25)+(_0x17f126[_0x1f8ee0(0xa7f)]??'-')+_0x1f8ee0(0xaaa)+_0x38acbc+_0x1f8ee0(0xcee)+_0x5a0975+_0x1f8ee0(0xdc7)+(_0x17f126[_0x1f8ee0(0x14c)]?.[_0x1f8ee0(0x46c)](0x2)??'-')+_0x1f8ee0(0x295)+(_0x17f126[_0x1f8ee0(0xb05)]?.[_0x1f8ee0(0x46c)](0x2)??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>'+_0x51cdb7+_0x1f8ee0(0xa40);}),_0x9ba31b+=_0x51b120(0x7a1),_0x238f46[_0x51b120(0xa16)]=_0x9ba31b;}function handleRenameQuiz(_0x55d4fd,_0x22538d){const _0x726d4=_0x2bcb18;actionTargetId=_0x55d4fd,document[_0x726d4(0x932)](_0x726d4(0x584))[_0x726d4(0x99c)]=_0x22538d,renameQuizModal['classList']['remove'](_0x726d4(0x2f2));}function setupComparisonModalTabs(){const _0x41f7c2=_0x2bcb18,_0x183595=document['getElementById'](_0x41f7c2(0x27a)),_0x5d5624=document[_0x41f7c2(0x932)](_0x41f7c2(0x956)),_0x569283=document[_0x41f7c2(0x932)](_0x41f7c2(0x7df)),_0x26b88d=document[_0x41f7c2(0x932)]('comparison-individual-content');_0x183595[_0x41f7c2(0x639)](_0x41f7c2(0x164),()=>{const _0x1418b5=_0x41f7c2;_0x183595['classList']['add']('active'),_0x5d5624[_0x1418b5(0x360)][_0x1418b5(0xcc8)](_0x1418b5(0x76a)),_0x569283['classList'][_0x1418b5(0xcc8)]('hidden'),_0x26b88d['classList'][_0x1418b5(0x4a6)](_0x1418b5(0x2f2));}),_0x5d5624[_0x41f7c2(0x639)](_0x41f7c2(0x164),()=>{const _0x51bab5=_0x41f7c2;_0x5d5624[_0x51bab5(0x360)]['add'](_0x51bab5(0x76a)),_0x183595[_0x51bab5(0x360)][_0x51bab5(0xcc8)](_0x51bab5(0x76a)),_0x26b88d[_0x51bab5(0x360)][_0x51bab5(0xcc8)](_0x51bab5(0x2f2)),_0x569283[_0x51bab5(0x360)]['add']('hidden');});}setupComparisonModalTabs();function listenForLiveGameUpdates(){const _0x1305f3=_0x2bcb18;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x2b1001=doc(db,_0x1305f3(0x6e6)+appId+_0x1305f3(0x903),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x2b1001,_0x145ada=>{const _0x24ef50=_0x1305f3;if(!_0x145ada[_0x24ef50(0x7d2)]()){showMessage(_0x24ef50(0x751));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x24ef50(0xcd1)?showView('project-detail'):showView('student');return;}const _0x2670cd=_0x145ada['data']();_0x2670cd['shuffledQuiz']&&(currentQuizData=_0x2670cd[_0x24ef50(0x450)]);!currentQuizData&&_0x2670cd[_0x24ef50(0xa91)]&&((async()=>{const _0x25298=_0x24ef50;try{const _0x483c26=doc(db,_0x25298(0x6e6)+appId+_0x25298(0x993),_0x2670cd[_0x25298(0xa91)]),_0x207b08=await getDoc(_0x483c26);_0x207b08[_0x25298(0x7d2)]()&&(currentQuizData={'id':_0x207b08['id'],..._0x207b08['data']()});}catch(_0xd687f7){console[_0x25298(0x1ac)](_0x25298(0xd80),_0xd687f7);}})());switch(_0x2670cd['status']){case'lobby':if(currentMode==='admin'){const _0xd974e5=_0x2670cd['players']?Object[_0x24ef50(0xd16)](_0x2670cd[_0x24ef50(0x18b)]):[],_0x55e9ac=_0xd974e5[_0x24ef50(0x9a7)](([_0x2d104d,_0x5cd201])=>_0x5cd201['status']===_0x24ef50(0x76a)),_0xc4230d=document[_0x24ef50(0x932)](_0x24ef50(0xe6f));if(_0xc4230d)_0xc4230d[_0x24ef50(0xdec)]=_0x55e9ac[_0x24ef50(0x752)];const _0x27862b=document[_0x24ef50(0x932)](_0x24ef50(0xc0e));_0x27862b&&(_0x27862b[_0x24ef50(0xa16)]=_0x55e9ac[_0x24ef50(0xe49)](([_0x1651c1,_0x483717])=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x1651c1+_0x24ef50(0x1b9)+_0x1651c1+_0x24ef50(0x56c))[_0x24ef50(0xbb2)](''));const _0x40d3a1=document['getElementById'](_0x24ef50(0xa81));_0x40d3a1&&(_0x40d3a1[_0x24ef50(0xad6)]=_0x55e9ac[_0x24ef50(0x752)]===0x0);}else showView('live-game'),liveGameView[_0x24ef50(0xa16)]=_0x24ef50(0x567)+currentStudentName+_0x24ef50(0x2f6);break;case'question':const _0x570887=_0x2670cd[_0x24ef50(0x907)];if(currentQuizData&&currentQuizData[_0x24ef50(0xc46)][_0x570887]){const _0x19dd36=currentQuizData[_0x24ef50(0xc46)][_0x570887],_0x1c9a21=_0x2670cd[_0x24ef50(0x73a)]||_0x24ef50(0xba3);switch(_0x1c9a21){case _0x24ef50(0x5db):currentMode===_0x24ef50(0xcd1)?showAdminSummaryView(_0x2670cd,_0x19dd36):showPlayerSummaryView(_0x2670cd,currentStudentName);break;case'leaderboard':currentMode===_0x24ef50(0xcd1)&&showTop5LeaderboardView(_0x2670cd);break;case _0x24ef50(0xba3):default:if(currentMode==='admin'){const _0x39f39f=writeBatch(db);let _0x4d984d=![];Object[_0x24ef50(0xd16)](_0x2670cd[_0x24ef50(0x18b)])['forEach'](([_0x2a30a6,_0x493ac2])=>{const _0x21ca46=_0x24ef50;if(_0x493ac2[_0x21ca46(0x1f8)]===_0x21ca46(0x76a)&&_0x493ac2[_0x21ca46(0x3aa)]&&!_0x493ac2[_0x21ca46(0x1e6)]){_0x4d984d=!![];const _0x554fbc=_0x493ac2[_0x21ca46(0x3aa)][_0x21ca46(0x7c7)]()-_0x2670cd[_0x21ca46(0xcd2)]['toDate']();let _0x5b105d=0x0;if(_0x493ac2['lastAnswerCorrect']){const _0x1d2309=0x3e8,_0x37de23=0x1f4,_0x320258=0x4e20;let _0x33d0b8=_0x554fbc/_0x320258;if(_0x33d0b8>0x1)_0x33d0b8=0x1;const _0x5c25f1=Math[_0x21ca46(0x346)](_0x33d0b8*_0x37de23);_0x5b105d=_0x1d2309-_0x5c25f1;}const _0x347f99=doc(db,_0x21ca46(0x6e6)+appId+'/public/data/liveGames',currentLiveGameId);_0x39f39f['update'](_0x347f99,{[_0x21ca46(0x40a)+_0x2a30a6+_0x21ca46(0x495)]:increment(_0x5b105d),[_0x21ca46(0x40a)+_0x2a30a6+_0x21ca46(0x490)]:_0x5b105d,[_0x21ca46(0x40a)+_0x2a30a6+'.isScored']:!![]});}});_0x4d984d&&_0x39f39f[_0x24ef50(0x6fc)]()[_0x24ef50(0x4a3)](_0x35fa1b=>console[_0x24ef50(0x1ac)]('Error\x20committing\x20score\x20updates:',_0x35fa1b));lastRenderedAdminQuestionIndex!==_0x570887&&(showAdminLiveQuestionView(_0x19dd36,_0x570887,currentQuizData[_0x24ef50(0xc46)][_0x24ef50(0x752)]),lastRenderedAdminQuestionIndex=_0x570887);const _0x34463c=_0x2670cd[_0x24ef50(0x18b)]||{},_0x3600f9=Object['values'](_0x34463c)[_0x24ef50(0x9a7)](_0xc9e67a=>_0xc9e67a[_0x24ef50(0x1f8)]===_0x24ef50(0x76a)),_0x469b43=_0x3600f9['length'],_0x4f54ca=_0x3600f9[_0x24ef50(0x9a7)](_0x11deaf=>_0x11deaf[_0x24ef50(0x9b7)]===!![])[_0x24ef50(0x752)],_0x5bd685=document[_0x24ef50(0x932)]('answer-counter');if(_0x5bd685)_0x5bd685[_0x24ef50(0xdec)]=_0x4f54ca+'/'+_0x469b43;const _0x30eee3=document[_0x24ef50(0x932)](_0x24ef50(0x253));if(_0x30eee3){let _0xa71e05=Object[_0x24ef50(0xd16)](_0x34463c)[_0x24ef50(0x9a7)](([_0x196b73,_0x266bf2])=>_0x266bf2[_0x24ef50(0x1f8)]==='active')[_0x24ef50(0xe49)](([_0x4a49f7,_0x75b2f1])=>{const _0x37db8b=_0x24ef50,_0x43a9b5=_0x75b2f1[_0x37db8b(0x9b7)]===!![],_0x39848a=_0x43a9b5?_0x37db8b(0xe1a):_0x37db8b(0xdbd),_0x310a52=_0x43a9b5?'<i\x20class=\x22fas\x20fa-check-circle\x22></i>':_0x37db8b(0xb51);return _0x37db8b(0x6f5)+_0x39848a+_0x37db8b(0x5af)+_0x310a52+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x4a49f7+_0x37db8b(0x201)+_0x4a49f7+_0x37db8b(0x88e);})['join']('');_0x30eee3['innerHTML']=_0xa71e05||_0x24ef50(0x850);}_0x469b43>0x0&&_0x4f54ca===_0x469b43&&revealAnswerForAdmin(_0x570887,currentQuizData[_0x24ef50(0xc46)][_0x24ef50(0x752)]);}else{const _0x191999=_0x2670cd[_0x24ef50(0x18b)][currentStudentName];_0x191999&&!_0x191999['answeredCurrentQuestion']&&showStudentLiveQuestionView(_0x19dd36,_0x570887,currentQuizData[_0x24ef50(0xc46)]['length']);}break;}}break;case'podium':showPodiumView(_0x2670cd[_0x24ef50(0x18b)],_0x24ef50(0x69d));break;}});}async function openGlobalActivityModal(){const _0x50a0c0=_0x2bcb18;if(allQuizzesGlobal[_0x50a0c0(0x752)]===0x0){const _0x3160be=await getDocs(collection(db,_0x50a0c0(0x6e6)+appId+_0x50a0c0(0x993)));allQuizzesGlobal=_0x3160be[_0x50a0c0(0x9ef)][_0x50a0c0(0xe49)](_0x55a22e=>({'id':_0x55a22e['id'],..._0x55a22e[_0x50a0c0(0x13f)]()}));}renderGlobalActivityList(''),document[_0x50a0c0(0x932)]('global-activity-modal')[_0x50a0c0(0x360)]['remove'](_0x50a0c0(0x2f2));}function renderGlobalActivityList(_0x340dd0=''){const _0x4b91b1=_0x2bcb18,_0x2089ff=document[_0x4b91b1(0x932)](_0x4b91b1(0xdf4)),_0x5b5019=_0x340dd0['toLowerCase']()[_0x4b91b1(0xa4d)](),_0x5baebc=allQuizzesGlobal[_0x4b91b1(0xe49)](_0xbbd13b=>({..._0xbbd13b,'projectName':allProjects[_0x4b91b1(0x7a3)](_0x2d6a74=>_0x2d6a74['id']===_0xbbd13b[_0x4b91b1(0xc80)])?.[_0x4b91b1(0x1cc)]||_0x4b91b1(0x9ff)}))['filter'](_0x212485=>(_0x212485[_0x4b91b1(0x79c)]||'')['toLowerCase']()[_0x4b91b1(0xd2e)](_0x5b5019)||(_0x212485[_0x4b91b1(0x1cc)]||'')[_0x4b91b1(0x4ea)]()[_0x4b91b1(0xd2e)](_0x5b5019));document['getElementById']('global-quiz-count')[_0x4b91b1(0xdec)]='('+_0x5baebc[_0x4b91b1(0x752)]+_0x4b91b1(0xbaa),_0x2089ff[_0x4b91b1(0xa16)]=_0x5baebc[_0x4b91b1(0x752)]?_0x5baebc[_0x4b91b1(0xe49)](_0x4587bf=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-4\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>'+(_0x4587bf[_0x4b91b1(0x79c)]||_0x4b91b1(0x4ed))+_0x4b91b1(0x275)+(_0x4587bf[_0x4b91b1(0xc46)]?.[_0x4b91b1(0x752)]||0x0)+'\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20'+_0x4587bf[_0x4b91b1(0x1cc)]+_0x4b91b1(0x7e3)+_0x4587bf['id']+_0x4b91b1(0xcf2)+_0x4587bf['id']+'\x22\x20data-mode=\x22sync\x22\x20class=\x22game-start-btn\x20bg-indigo-600\x20text-white\x20hover:bg-indigo-700\x20font-semibold\x20py-2\x20px-3\x20rounded-lg\x20text-sm\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20pointer-events-none\x22></i>\x20Sync\x20Mode\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20')[_0x4b91b1(0xbb2)](''):_0x4b91b1(0xe96);}async function handleKickPlayer(_0x2eee2c){const _0xab3a67=_0x2bcb18;if(!currentLiveGameId||!_0x2eee2c)return;const _0x28a98c=doc(db,_0xab3a67(0x6e6)+appId+_0xab3a67(0x903),currentLiveGameId),_0x23bac1={};_0x23bac1[_0xab3a67(0x40a)+_0x2eee2c+_0xab3a67(0xe9d)]=_0xab3a67(0x410);try{await updateDoc(_0x28a98c,_0x23bac1);}catch(_0x3653b8){console[_0xab3a67(0x1ac)](_0xab3a67(0xe19)+_0x2eee2c+':',_0x3653b8),showMessage(_0xab3a67(0x75a));}}async function authenticateUser(){const _0x47e476=_0x2bcb18;try{typeof __initial_auth_token!==_0x47e476(0xdce)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x3c35df){console[_0x47e476(0x1ac)](_0x47e476(0x84a),_0x3c35df),showMessage('การยืนยันตัวตนล้มเหลว');}}function showView(_0x4b4934){const _0x38a3d2=_0x2bcb18;adminView[_0x38a3d2(0x360)]['add'](_0x38a3d2(0x2f2)),studentView[_0x38a3d2(0x360)]['add'](_0x38a3d2(0x2f2)),projectDashboardView[_0x38a3d2(0x360)][_0x38a3d2(0x4a6)](_0x38a3d2(0x2f2)),projectDetailView[_0x38a3d2(0x360)][_0x38a3d2(0x4a6)]('hidden'),quizResultsView[_0x38a3d2(0x360)][_0x38a3d2(0x4a6)](_0x38a3d2(0x2f2)),liveGameView[_0x38a3d2(0x360)][_0x38a3d2(0x4a6)](_0x38a3d2(0x2f2)),document['getElementById'](_0x38a3d2(0x9e4))[_0x38a3d2(0x360)]['add'](_0x38a3d2(0x2f2)),studentInitialView[_0x38a3d2(0x360)][_0x38a3d2(0x4a6)](_0x38a3d2(0x2f2)),studentJoinGameView[_0x38a3d2(0x360)][_0x38a3d2(0x4a6)](_0x38a3d2(0x2f2)),studentNameSelectionView[_0x38a3d2(0x360)]['add'](_0x38a3d2(0x2f2)),studentQuizArea[_0x38a3d2(0x360)][_0x38a3d2(0x4a6)](_0x38a3d2(0x2f2)),studentResultArea[_0x38a3d2(0x360)][_0x38a3d2(0x4a6)](_0x38a3d2(0x2f2)),studentReadingArea[_0x38a3d2(0x360)]['add'](_0x38a3d2(0x2f2));const _0x355427=document[_0x38a3d2(0x932)](_0x38a3d2(0xd2d)),_0x42506d=document[_0x38a3d2(0x932)](_0x38a3d2(0x683));if(_0x355427)_0x355427[_0x38a3d2(0x360)]['add']('hidden');if(_0x42506d)_0x42506d[_0x38a3d2(0x360)][_0x38a3d2(0x4a6)](_0x38a3d2(0x2f2));switch(_0x4b4934){case'admin-dashboard':adminView['classList'][_0x38a3d2(0xcc8)](_0x38a3d2(0x2f2)),projectDashboardView['classList'][_0x38a3d2(0xcc8)](_0x38a3d2(0x2f2));break;case _0x38a3d2(0xde7):adminView[_0x38a3d2(0x360)][_0x38a3d2(0xcc8)](_0x38a3d2(0x2f2)),projectDetailView['classList'][_0x38a3d2(0xcc8)](_0x38a3d2(0x2f2));break;case _0x38a3d2(0xb2f):adminView['classList'][_0x38a3d2(0xcc8)](_0x38a3d2(0x2f2)),quizResultsView['classList'][_0x38a3d2(0xcc8)]('hidden');break;case _0x38a3d2(0x18c):studentView[_0x38a3d2(0x360)]['remove']('hidden'),studentInitialView['classList'][_0x38a3d2(0xcc8)]('hidden');break;case _0x38a3d2(0x1e5):liveGameView[_0x38a3d2(0x360)]['remove'](_0x38a3d2(0x2f2));break;case'student-team-join':studentView['classList']['remove'](_0x38a3d2(0x2f2));if(_0x355427)_0x355427[_0x38a3d2(0x360)][_0x38a3d2(0xcc8)](_0x38a3d2(0x2f2));break;case _0x38a3d2(0x733):studentView[_0x38a3d2(0x360)][_0x38a3d2(0xcc8)](_0x38a3d2(0x2f2));if(_0x42506d)_0x42506d[_0x38a3d2(0x360)][_0x38a3d2(0xcc8)](_0x38a3d2(0x2f2));break;default:studentView[_0x38a3d2(0x360)][_0x38a3d2(0xcc8)](_0x38a3d2(0x2f2)),studentInitialView[_0x38a3d2(0x360)]['remove'](_0x38a3d2(0x2f2));break;}}function showJoinGameView(){const _0x523bc3=_0x2bcb18;studentInitialView[_0x523bc3(0x360)][_0x523bc3(0x4a6)]('hidden'),studentJoinGameView[_0x523bc3(0x360)][_0x523bc3(0xcc8)](_0x523bc3(0x2f2));}async function handleSaveVisibilitySettings(){const _0x24fdf7=_0x2bcb18;if(!currentProjectId)return;const _0x5aedb7=doc(db,_0x24fdf7(0x6e6)+appId+'/public/data/projects',currentProjectId);try{await updateDoc(_0x5aedb7,{'settings.showInStudentDashboard':document[_0x24fdf7(0x932)](_0x24fdf7(0x352))[_0x24fdf7(0xc62)],'settings.isPasscodeEnabled':document[_0x24fdf7(0x932)](_0x24fdf7(0x8fb))[_0x24fdf7(0xc62)],'settings.passcode':document[_0x24fdf7(0x932)]('project-passcode-input')[_0x24fdf7(0x99c)][_0x24fdf7(0xa4d)]()}),showMessage(_0x24fdf7(0x3cd));}catch(_0x393001){console[_0x24fdf7(0x1ac)]('Error\x20saving\x20visibility\x20settings:',_0x393001),showMessage(_0x24fdf7(0x5ae));}}function setupEventListeners(){const _0x39ca10=_0x2bcb18,_0x4e893c=document[_0x39ca10(0x932)](_0x39ca10(0xaef)),_0x1eaf99=document[_0x39ca10(0x932)](_0x39ca10(0x3de));_0x4e893c&&_0x1eaf99&&(_0x1eaf99[_0x39ca10(0x639)](_0x39ca10(0x164),()=>_0x4e893c['click']()),_0x4e893c[_0x39ca10(0x639)](_0x39ca10(0x62d),_0x5cbeef=>{const _0x4bcfbd=_0x39ca10;_0x5cbeef[_0x4bcfbd(0x5f8)][_0x4bcfbd(0x98b)][_0x4bcfbd(0x752)]>0x0&&handleScanImageForText(_0x5cbeef['target'][_0x4bcfbd(0x98b)][0x0]);}));const _0x403c8d=document[_0x39ca10(0x932)](_0x39ca10(0x72e));_0x403c8d&&_0x403c8d['addEventListener']('click',()=>{const _0x558da0=_0x39ca10,_0x21b3d5=document[_0x558da0(0x932)](_0x558da0(0x859)),_0x2649d7=document[_0x558da0(0x932)](_0x558da0(0x911));_0x21b3d5&&(_0x21b3d5['value']=_0x21b3d5[_0x558da0(0x824)],_0x2649d7&&(_0x2649d7[_0x558da0(0xdec)]=_0x21b3d5['value'],_0x2649d7['classList']['remove'](_0x558da0(0xe24)),void _0x2649d7['offsetWidth'],_0x2649d7[_0x558da0(0x360)]['add'](_0x558da0(0xcca),_0x558da0(0x5d9),_0x558da0(0xe24),_0x558da0(0x4bc)),setTimeout(()=>_0x2649d7[_0x558da0(0x360)][_0x558da0(0xcc8)]('scale-125',_0x558da0(0x4bc)),0xc8)));});document[_0x39ca10(0x932)](_0x39ca10(0x951))[_0x39ca10(0x639)](_0x39ca10(0x164),()=>{const _0x55f9ef=_0x39ca10;document['getElementById']('wager-modal')[_0x55f9ef(0x360)]['add'](_0x55f9ef(0x2f2));}),document[_0x39ca10(0x932)](_0x39ca10(0x68c))[_0x39ca10(0x639)]('click',()=>{const _0xeabed9=_0x39ca10,_0x1d016a=document[_0xeabed9(0x932)]('wager-modal'),_0x104eb5=document[_0xeabed9(0x932)]('selected-answer-index-hidden-wager'),_0x359b79=document[_0xeabed9(0x932)](_0xeabed9(0x859))[_0xeabed9(0x99c)],_0x5e7265=_0x104eb5['dataset'][_0xeabed9(0xe47)],_0x59c0e0=JSON[_0xeabed9(0x4bd)](_0x104eb5[_0xeabed9(0x134)]['question']),_0x42655c=JSON[_0xeabed9(0x4bd)](_0x104eb5[_0xeabed9(0x134)][_0xeabed9(0xbea)]),_0x1d18cd=_0x104eb5['dataset']['playerName'];_0x1d016a[_0xeabed9(0x360)][_0xeabed9(0x4a6)](_0xeabed9(0x2f2)),handleSyncAnswerSubmit(_0x5e7265,_0x59c0e0,_0x42655c,_0x1d18cd,![],_0x359b79);}),document[_0x39ca10(0x38e)](_0x39ca10(0xcce))['forEach'](_0x516205=>{const _0x4dffa4=_0x39ca10;_0x516205['addEventListener'](_0x4dffa4(0x62d),_0x1a40d7=>{const _0x53d85f=_0x4dffa4,_0x4186e4=document['getElementById'](_0x53d85f(0x66d));_0x1a40d7[_0x53d85f(0x5f8)][_0x53d85f(0x99c)]==='anonymous'?_0x4186e4[_0x53d85f(0x360)][_0x53d85f(0xcc8)](_0x53d85f(0x2f2)):_0x4186e4[_0x53d85f(0x360)][_0x53d85f(0x4a6)](_0x53d85f(0x2f2));});}),document[_0x39ca10(0x932)](_0x39ca10(0xb3b))[_0x39ca10(0x639)](_0x39ca10(0x62d),_0x21b385=>{const _0x172ccb=_0x39ca10;document[_0x172ccb(0x932)](_0x172ccb(0x5b8))['classList'][_0x172ccb(0xaa3)](_0x172ccb(0x2f2),!_0x21b385[_0x172ccb(0x5f8)]['checked']);});const _0x58f1d6=document['getElementById'](_0x39ca10(0x6a6)),_0x26ab5d=document[_0x39ca10(0x932)]('confidence-modal');_0x58f1d6&&_0x26ab5d&&_0x58f1d6[_0x39ca10(0x639)]('click',()=>{const _0x1e80c6=_0x39ca10;_0x26ab5d[_0x1e80c6(0x360)][_0x1e80c6(0x4a6)]('hidden'),_0x26ab5d['dataset'][_0x1e80c6(0xb4d)]='';});const _0x25c20e=document[_0x39ca10(0x932)](_0x39ca10(0x20b));_0x25c20e&&(_0x25c20e['addEventListener'](_0x39ca10(0xd8e),wakeUpScreen),_0x25c20e[_0x39ca10(0x639)](_0x39ca10(0x393),wakeUpScreen));document[_0x39ca10(0x932)]('save-bp-reference-btn')['addEventListener'](_0x39ca10(0x164),async()=>{const _0x3c1b51=_0x39ca10;if(!currentBlueprintProjectId)return;const _0x18c49b=document[_0x3c1b51(0x932)](_0x3c1b51(0x1ad))['value']['trim'](),_0xc7b1b7=doc(db,'artifacts/'+appId+_0x3c1b51(0x8a5),currentBlueprintProjectId);try{await updateDoc(_0xc7b1b7,{'referenceFileUrl':_0x18c49b}),showMessage(_0x3c1b51(0x70c));}catch(_0x26a5e9){console[_0x3c1b51(0x1ac)](_0x3c1b51(0xe8d),_0x26a5e9),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}),document[_0x39ca10(0x932)](_0x39ca10(0xdba))[_0x39ca10(0x639)]('click',handleAddParallelShortcutTab),document[_0x39ca10(0x932)](_0x39ca10(0xbe5))[_0x39ca10(0x639)](_0x39ca10(0x164),_0x51eaf5=>{const _0x6f35cb=_0x39ca10;_0x51eaf5[_0x6f35cb(0x5f8)][_0x6f35cb(0x1d0)](_0x6f35cb(0x923))&&(activeParallelShortcutTabId=_0x6f35cb(0x6b3),renderAdditionalParallelShortcutsModal(),document['getElementById'](_0x6f35cb(0x218))[_0x6f35cb(0x360)][_0x6f35cb(0xcc8)](_0x6f35cb(0x2f2)));}),document['getElementById'](_0x39ca10(0x66b))[_0x39ca10(0x639)](_0x39ca10(0x164),()=>{const _0x4dd267=_0x39ca10;document[_0x4dd267(0x932)]('additional-parallel-shortcuts-modal')[_0x4dd267(0x360)][_0x4dd267(0x4a6)](_0x4dd267(0x2f2));}),document[_0x39ca10(0x639)]('click',_0x1d04e3=>{const _0x847916=_0x39ca10;!_0x1d04e3[_0x847916(0x5f8)][_0x847916(0x1d0)](_0x847916(0x95d))&&document[_0x847916(0x38e)](_0x847916(0xbc2))[_0x847916(0x39f)](_0x463a5d=>_0x463a5d['classList']['add']('hidden'));}),document[_0x39ca10(0x932)]('add-file-shortcut-tab-btn')[_0x39ca10(0x639)]('click',handleAddFileShortcutTab),document['getElementById']('file-input-area')[_0x39ca10(0x639)]('click',_0x57d005=>{const _0x4c608d=_0x39ca10;_0x57d005[_0x4c608d(0x5f8)][_0x4c608d(0x1d0)](_0x4c608d(0x32d))&&(activeFileShortcutTabId=_0x4c608d(0x6b3),renderAdditionalFileShortcutsModal(),document['getElementById'](_0x4c608d(0x835))[_0x4c608d(0x360)][_0x4c608d(0xcc8)](_0x4c608d(0x2f2)));}),document[_0x39ca10(0x932)](_0x39ca10(0xe8b))['addEventListener'](_0x39ca10(0x164),()=>{const _0x301a80=_0x39ca10;document[_0x301a80(0x932)]('additional-file-shortcuts-modal')[_0x301a80(0x360)][_0x301a80(0x4a6)](_0x301a80(0x2f2));}),document[_0x39ca10(0x639)]('click',_0x8bf2a7=>{const _0x86399b=_0x39ca10;!_0x8bf2a7[_0x86399b(0x5f8)]['closest']('.group\x5c/dropdown-file')&&document['querySelectorAll']('.move-file-shortcut-dropdown')[_0x86399b(0x39f)](_0x4eb4ae=>_0x4eb4ae[_0x86399b(0x360)]['add'](_0x86399b(0x2f2)));}),document[_0x39ca10(0x932)]('add-shortcut-tab-btn')['addEventListener'](_0x39ca10(0x164),handleAddShortcutTab),document[_0x39ca10(0x932)](_0x39ca10(0xbc4))[_0x39ca10(0x639)]('click',_0x20641d=>{const _0x452f4d=_0x39ca10,_0xda80c4=_0x20641d['target'][_0x452f4d(0x1d0)](_0x452f4d(0xe92)),_0x49df41=_0x20641d[_0x452f4d(0x5f8)]['closest'](_0x452f4d(0x756)),_0x53b87a=_0x20641d[_0x452f4d(0x5f8)]['closest'](_0x452f4d(0x45c));if(_0x49df41)openParallelTestShortcutEditor(_0x49df41['dataset']['id']);else{if(_0x53b87a){const _0x33372f=_0x53b87a[_0x452f4d(0x134)]['id'];showConfirmation(_0x452f4d(0xc18),async()=>{const _0x5b6ab0=_0x452f4d,_0x5b2777=parallelTestShortcuts[_0x5b6ab0(0x9a7)](_0x57b5ec=>_0x57b5ec['id']!==_0x33372f),_0x34428f=doc(db,'globalSettings','parallelTestShortcutsConfig');await setDoc(_0x34428f,{'shortcuts':_0x5b2777},{'merge':!![]});});}else _0xda80c4&&handleParallelTestShortcutClick(_0xda80c4['dataset']['id']);}}),document[_0x39ca10(0x932)](_0x39ca10(0x6e4))[_0x39ca10(0x639)](_0x39ca10(0x164),()=>openParallelTestShortcutEditor(null)),document[_0x39ca10(0x932)](_0x39ca10(0x376))['addEventListener'](_0x39ca10(0x164),()=>{const _0x57a124=_0x39ca10;document[_0x57a124(0x932)](_0x57a124(0x419))[_0x57a124(0x360)][_0x57a124(0x4a6)](_0x57a124(0x2f2));}),document[_0x39ca10(0x932)](_0x39ca10(0xa5b))[_0x39ca10(0x639)]('click',saveParallelTestShortcutChanges),document[_0x39ca10(0x932)](_0x39ca10(0xbe5))[_0x39ca10(0x639)](_0x39ca10(0x164),_0x446601=>{const _0x536af6=_0x39ca10;_0x446601['target'][_0x536af6(0x1d0)](_0x536af6(0x923))&&document[_0x536af6(0x932)](_0x536af6(0x218))['classList']['remove'](_0x536af6(0x2f2));}),document[_0x39ca10(0x932)]('close-additional-parallel-shortcuts-btn')[_0x39ca10(0x639)]('click',()=>{const _0x2556e4=_0x39ca10;document[_0x2556e4(0x932)](_0x2556e4(0x218))['classList'][_0x2556e4(0x4a6)](_0x2556e4(0x2f2));}),document[_0x39ca10(0x932)](_0x39ca10(0x6c8))['addEventListener'](_0x39ca10(0x164),_0x4bc02b=>{const _0x52a5fd=_0x39ca10,_0x172b8e=document[_0x52a5fd(0x932)](_0x52a5fd(0x218)),_0x2aaba5=_0x4bc02b['target'][_0x52a5fd(0x1d0)](_0x52a5fd(0x291)),_0xeb0dd5=_0x4bc02b[_0x52a5fd(0x5f8)][_0x52a5fd(0x1d0)]('.edit-hidden-parallel-shortcut-btn'),_0x3397d4=_0x4bc02b[_0x52a5fd(0x5f8)][_0x52a5fd(0x1d0)](_0x52a5fd(0x558));if(_0x2aaba5)_0x172b8e[_0x52a5fd(0x360)][_0x52a5fd(0x4a6)](_0x52a5fd(0x2f2)),handleParallelTestShortcutClick(_0x2aaba5[_0x52a5fd(0x134)]['id']);else{if(_0xeb0dd5)_0x172b8e[_0x52a5fd(0x360)][_0x52a5fd(0x4a6)](_0x52a5fd(0x2f2)),openParallelTestShortcutEditor(_0xeb0dd5['dataset']['id']);else{if(_0x3397d4){const _0x342d93=_0x3397d4[_0x52a5fd(0x134)]['id'];showConfirmation('คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?',async()=>{const _0x390ff6=_0x52a5fd,_0x558162=parallelTestShortcuts['filter'](_0x59cbe2=>_0x59cbe2['id']!==_0x342d93),_0x2b42d4=doc(db,_0x390ff6(0x4db),'parallelTestShortcutsConfig');await setDoc(_0x2b42d4,{'shortcuts':_0x558162},{'merge':!![]});});}}}}),document['getElementById'](_0x39ca10(0xc22))[_0x39ca10(0x639)](_0x39ca10(0x164),_0x55e38a=>{const _0x4c7810=_0x39ca10,_0x3281b5=_0x55e38a[_0x4c7810(0x5f8)][_0x4c7810(0x1d0)]('.file-shortcut-btn'),_0x9c7075=_0x55e38a['target']['closest']('.edit-file-shortcut-btn'),_0x358f59=_0x55e38a[_0x4c7810(0x5f8)]['closest']('.delete-file-shortcut-btn');if(_0x9c7075)openFileShortcutEditor(_0x9c7075['dataset']['id']);else{if(_0x358f59){const _0x563b9c=_0x358f59['dataset']['id'];showConfirmation(_0x4c7810(0xc18),async()=>{const _0x43c1ba=_0x4c7810,_0x2e21ee=fileShortcuts[_0x43c1ba(0x9a7)](_0x362c54=>_0x362c54['id']!==_0x563b9c),_0x115286=doc(db,_0x43c1ba(0x4db),_0x43c1ba(0x128));await setDoc(_0x115286,{'shortcuts':_0x2e21ee},{'merge':!![]});});}else _0x3281b5&&handleFileShortcutClick(_0x3281b5['dataset']['id']);}}),document[_0x39ca10(0x932)](_0x39ca10(0x937))[_0x39ca10(0x639)](_0x39ca10(0x164),()=>openFileShortcutEditor(null)),document[_0x39ca10(0x932)](_0x39ca10(0xe09))[_0x39ca10(0x639)](_0x39ca10(0x164),()=>{const _0x376663=_0x39ca10;document[_0x376663(0x932)](_0x376663(0xe13))[_0x376663(0x360)][_0x376663(0x4a6)](_0x376663(0x2f2));}),document[_0x39ca10(0x932)]('save-file-shortcut-btn')[_0x39ca10(0x639)]('click',saveFileShortcutChanges),document['getElementById'](_0x39ca10(0x5d1))[_0x39ca10(0x639)]('click',_0xe52035=>{const _0x2b387a=_0x39ca10;_0xe52035[_0x2b387a(0x5f8)]['closest'](_0x2b387a(0x32d))&&document[_0x2b387a(0x932)](_0x2b387a(0x835))[_0x2b387a(0x360)][_0x2b387a(0xcc8)](_0x2b387a(0x2f2));}),document[_0x39ca10(0x932)]('close-additional-file-shortcuts-btn')[_0x39ca10(0x639)](_0x39ca10(0x164),()=>{const _0x5839cf=_0x39ca10;document[_0x5839cf(0x932)]('additional-file-shortcuts-modal')['classList'][_0x5839cf(0x4a6)](_0x5839cf(0x2f2));}),document[_0x39ca10(0x932)](_0x39ca10(0xa4c))[_0x39ca10(0x639)](_0x39ca10(0x164),_0x2d18ef=>{const _0x29458b=_0x39ca10,_0x5a588f=document['getElementById'](_0x29458b(0x835)),_0x2f0638=_0x2d18ef[_0x29458b(0x5f8)]['closest'](_0x29458b(0x6a7)),_0x37e7ce=_0x2d18ef[_0x29458b(0x5f8)]['closest'](_0x29458b(0xb2c)),_0x3fa2d7=_0x2d18ef[_0x29458b(0x5f8)][_0x29458b(0x1d0)](_0x29458b(0x400));if(_0x2f0638)_0x5a588f['classList']['add'](_0x29458b(0x2f2)),handleFileShortcutClick(_0x2f0638[_0x29458b(0x134)]['id']);else{if(_0x37e7ce)_0x5a588f[_0x29458b(0x360)][_0x29458b(0x4a6)](_0x29458b(0x2f2)),openFileShortcutEditor(_0x37e7ce['dataset']['id']);else{if(_0x3fa2d7){const _0x2f02a9=_0x3fa2d7[_0x29458b(0x134)]['id'];showConfirmation(_0x29458b(0xc18),async()=>{const _0x26af08=_0x29458b,_0x21d5be=fileShortcuts[_0x26af08(0x9a7)](_0x70df0e=>_0x70df0e['id']!==_0x2f02a9),_0x388382=doc(db,'globalSettings',_0x26af08(0x128));await setDoc(_0x388382,{'shortcuts':_0x21d5be},{'merge':!![]});});}}}}),document['getElementById']('blueprint-input-area')[_0x39ca10(0x639)](_0x39ca10(0x164),_0x16ed6d=>{const _0x3f785a=_0x39ca10;_0x16ed6d[_0x3f785a(0x5f8)][_0x3f785a(0x1d0)](_0x3f785a(0xaf3))&&(activeShortcutTabId=_0x3f785a(0x6b3),renderAdditionalShortcutsModal(),document[_0x3f785a(0x932)](_0x3f785a(0xa7a))['classList']['remove'](_0x3f785a(0x2f2)));}),document['getElementById']('close-additional-shortcuts-btn')[_0x39ca10(0x639)]('click',()=>{const _0x33f474=_0x39ca10;document['getElementById'](_0x33f474(0xa7a))[_0x33f474(0x360)]['add'](_0x33f474(0x2f2));}),document[_0x39ca10(0x932)](_0x39ca10(0x292))[_0x39ca10(0x639)](_0x39ca10(0x164),_0x2301ed=>{const _0x193693=_0x39ca10,_0x144206=_0x2301ed[_0x193693(0x5f8)][_0x193693(0x1d0)](_0x193693(0xc2f)),_0x51d5d4=_0x2301ed[_0x193693(0x5f8)][_0x193693(0x1d0)](_0x193693(0x522)),_0x243884=_0x2301ed[_0x193693(0x5f8)][_0x193693(0x1d0)](_0x193693(0x429)),_0x46e351=document[_0x193693(0x932)]('additional-shortcuts-modal');if(_0x144206)_0x46e351[_0x193693(0x360)][_0x193693(0x4a6)](_0x193693(0x2f2)),handleShortcutClick(_0x144206[_0x193693(0x134)]['id']);else{if(_0x51d5d4)_0x46e351['classList'][_0x193693(0x4a6)](_0x193693(0x2f2)),openShortcutEditor(_0x51d5d4['dataset']['id']);else{if(_0x243884){const _0x43153c=_0x243884['dataset']['id'],_0x40c7f3=blueprintShortcuts['find'](_0x39feef=>_0x39feef['id']===_0x43153c)?.[_0x193693(0x34a)];showConfirmation(_0x193693(0x668)+_0x40c7f3+'\x22?',async()=>{const _0xf3cd5b=_0x193693,_0x377f9f=blueprintShortcuts[_0xf3cd5b(0x9a7)](_0x266655=>_0x266655['id']!==_0x43153c);try{const _0x25cb18=doc(db,_0xf3cd5b(0x4db),_0xf3cd5b(0x93e));await setDoc(_0x25cb18,{'blueprintShortcuts':_0x377f9f},{'merge':!![]});}catch(_0x32205e){console[_0xf3cd5b(0x1ac)](_0xf3cd5b(0xcf1),_0x32205e);}});}}}}),document['getElementById']('blueprint-shortcut-container')[_0x39ca10(0x639)](_0x39ca10(0x164),_0x5b61d8=>{const _0x383080=_0x39ca10,_0x6f7b56=_0x5b61d8['target']['closest'](_0x383080(0x1c9)),_0x5579cc=_0x5b61d8[_0x383080(0x5f8)][_0x383080(0x1d0)]('.edit-shortcut-btn'),_0x157bfd=_0x5b61d8[_0x383080(0x5f8)][_0x383080(0x1d0)](_0x383080(0xd00));if(_0x5579cc)openShortcutEditor(_0x5579cc[_0x383080(0x134)]['id']);else{if(_0x157bfd){const _0xb476c1=_0x157bfd[_0x383080(0x134)]['id'],_0x1b55a9=blueprintShortcuts[_0x383080(0x7a3)](_0x536e88=>_0x536e88['id']===_0xb476c1)?.['name'];showConfirmation(_0x383080(0x668)+_0x1b55a9+'\x22?',async()=>{const _0x6a8c01=_0x383080,_0x411840=blueprintShortcuts[_0x6a8c01(0x9a7)](_0x36147f=>_0x36147f['id']!==_0xb476c1);try{const _0x420cd3=doc(db,_0x6a8c01(0x4db),_0x6a8c01(0x93e));await setDoc(_0x420cd3,{'blueprintShortcuts':_0x411840},{'merge':!![]});}catch(_0x1e3a10){console[_0x6a8c01(0x1ac)]('Error\x20deleting\x20shortcut:',_0x1e3a10);}});}else _0x6f7b56&&handleShortcutClick(_0x6f7b56[_0x383080(0x134)]['id']);}}),document[_0x39ca10(0x932)](_0x39ca10(0x634))['addEventListener'](_0x39ca10(0x164),()=>openShortcutEditor(null)),document[_0x39ca10(0x932)](_0x39ca10(0x3dd))[_0x39ca10(0x639)](_0x39ca10(0x164),()=>{const _0x28b81f=_0x39ca10;document['getElementById'](_0x28b81f(0x387))['classList'][_0x28b81f(0x4a6)](_0x28b81f(0x2f2));}),document[_0x39ca10(0x932)](_0x39ca10(0x2c1))[_0x39ca10(0x639)](_0x39ca10(0x164),saveShortcutChanges),document[_0x39ca10(0x932)](_0x39ca10(0x17d))['addEventListener'](_0x39ca10(0x164),async()=>{const _0x4ee82e=_0x39ca10,_0x29178f=document[_0x4ee82e(0x932)](_0x4ee82e(0x23e)),_0x4f479b=document[_0x4ee82e(0x932)](_0x4ee82e(0xd73));_0x29178f[_0x4ee82e(0x98b)]['length']>0x0?await handleGenerateFromBlueprintWithFiles(_0x29178f[_0x4ee82e(0x98b)][0x0],_0x4f479b[_0x4ee82e(0x98b)][0x0]||null):showMessage(_0x4ee82e(0x3be));}),document[_0x39ca10(0x932)](_0x39ca10(0xb20))[_0x39ca10(0x639)](_0x39ca10(0x164),async _0x480fc9=>{const _0x1e73d1=_0x39ca10,_0x515396=document[_0x1e73d1(0x932)](_0x1e73d1(0xb20)),_0x213ea2=_0x480fc9[_0x1e73d1(0x5f8)][_0x1e73d1(0x1d0)]('.bp-view-analysis-btn'),_0x5c31a9=_0x480fc9[_0x1e73d1(0x5f8)][_0x1e73d1(0x1d0)](_0x1e73d1(0xb7b)),_0x3552f8=_0x480fc9[_0x1e73d1(0x5f8)][_0x1e73d1(0x1d0)](_0x1e73d1(0xe1e)),_0x459e32=_0x480fc9[_0x1e73d1(0x5f8)][_0x1e73d1(0x1d0)]('.bp-try-btn'),_0x88a525=_0x480fc9[_0x1e73d1(0x5f8)][_0x1e73d1(0x1d0)](_0x1e73d1(0x640)),_0x43f368=_0x480fc9[_0x1e73d1(0x5f8)][_0x1e73d1(0x1d0)](_0x1e73d1(0x8dd));if(_0x213ea2){cameFromBlueprint=!![];const _0x1d9a8e=_0x213ea2[_0x1e73d1(0x134)][_0x1e73d1(0xa91)];showQuizDetailView(_0x1d9a8e),_0x515396[_0x1e73d1(0x360)][_0x1e73d1(0x4a6)](_0x1e73d1(0x2f2));}else{if(_0x5c31a9){const _0x322e2c=_0x5c31a9[_0x1e73d1(0x134)][_0x1e73d1(0x81c)],_0x17c995=_0x5c31a9[_0x1e73d1(0x134)][_0x1e73d1(0xa91)],_0x45ca3c=allQuizzesGlobal['find'](_0x369784=>_0x369784['id']===_0x17c995),_0x2a7840=_0x45ca3c?_0x45ca3c['topic']:_0x1e73d1(0x25a);showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการนำแบบทดสอบ\x20\x22'+_0x2a7840+'\x22\x20ออกจากคลังนี้?',async()=>{const _0xd72001=_0x1e73d1;try{const _0x5d5fca=doc(db,_0xd72001(0x6e6)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0x5d5fca,{['topics.'+_0x322e2c+_0xd72001(0x663)]:arrayRemove(_0x17c995)}),showMessage(_0xd72001(0x38c)),openTopicQuizBank(_0x322e2c),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x36de03){console['error']('Error\x20unlinking\x20quiz:',_0x36de03),showMessage(_0xd72001(0xa87));}});}else{if(_0x3552f8){cameFromBlueprint=!![];const _0x1c846c=_0x3552f8['dataset'][_0x1e73d1(0xa91)],_0x457c4d=allQuizzesGlobal['find'](_0x3af2d7=>_0x3af2d7['id']===_0x1c846c);_0x457c4d&&(startPresentation(_0x457c4d),_0x515396[_0x1e73d1(0x360)][_0x1e73d1(0x4a6)]('hidden'));}else{if(_0x459e32){cameFromBlueprint=!![];const _0x1baad8=_0x459e32[_0x1e73d1(0x134)][_0x1e73d1(0xa91)],_0x2fd155=allQuizzesGlobal[_0x1e73d1(0x7a3)](_0x490075=>_0x490075['id']===_0x1baad8);_0x2fd155&&(currentQuizData=_0x2fd155,startAdminTest(),_0x515396[_0x1e73d1(0x360)][_0x1e73d1(0x4a6)](_0x1e73d1(0x2f2)));}else{if(_0x88a525)cameFromBlueprint=!![],handleStartLiveRace(_0x88a525[_0x1e73d1(0x134)]['quizId']),_0x515396['classList']['add'](_0x1e73d1(0x2f2));else{if(_0x43f368){cameFromBlueprint=!![];const _0x1d9fd7=_0x43f368[_0x1e73d1(0x134)][_0x1e73d1(0xa91)],_0x3f455a=_0x43f368[_0x1e73d1(0x134)][_0x1e73d1(0x251)],_0x17d2c8=allQuizzesGlobal[_0x1e73d1(0x7a3)](_0x4e9bfd=>_0x4e9bfd['id']===_0x1d9fd7);_0x17d2c8&&(showGameStartConfirmationModal(_0x1d9fd7,_0x3f455a,_0x17d2c8['topic']),_0x515396[_0x1e73d1(0x360)][_0x1e73d1(0x4a6)](_0x1e73d1(0x2f2)));}}}}}}}),document[_0x39ca10(0x932)](_0x39ca10(0x3ca))['addEventListener']('click',()=>{const _0x5844d6=_0x39ca10;document['getElementById'](_0x5844d6(0xb89))[_0x5844d6(0x360)][_0x5844d6(0xcc8)](_0x5844d6(0x2f2)),document[_0x5844d6(0x932)](_0x5844d6(0xade))[_0x5844d6(0x99c)]='',document[_0x5844d6(0x932)](_0x5844d6(0x37f))[_0x5844d6(0x99c)]='',document['getElementById'](_0x5844d6(0x627))[_0x5844d6(0x99c)]='';}),document['getElementById'](_0x39ca10(0x7e9))[_0x39ca10(0x639)](_0x39ca10(0x164),()=>{const _0x491687=_0x39ca10;document[_0x491687(0x932)](_0x491687(0xb89))[_0x491687(0x360)]['add'](_0x491687(0x2f2));}),document['getElementById'](_0x39ca10(0xccc))[_0x39ca10(0x639)]('click',handleManualBlueprintSave),document['getElementById']('cancel-bp-settings-btn')[_0x39ca10(0x639)](_0x39ca10(0x164),()=>document[_0x39ca10(0x932)](_0x39ca10(0xa8a))[_0x39ca10(0x360)][_0x39ca10(0x4a6)](_0x39ca10(0x2f2))),document[_0x39ca10(0x932)](_0x39ca10(0x32a))[_0x39ca10(0x639)](_0x39ca10(0x164),handleSaveBlueprintPageSettings),document[_0x39ca10(0x932)]('bp-quiz-settings-btn')[_0x39ca10(0x639)](_0x39ca10(0x164),openBlueprintQuizSettings),document['getElementById'](_0x39ca10(0x2f9))[_0x39ca10(0x639)](_0x39ca10(0x164),saveBlueprintProject),document[_0x39ca10(0x932)](_0x39ca10(0x86d))[_0x39ca10(0x639)]('click',showBlueprintProjects),document[_0x39ca10(0x932)](_0x39ca10(0x216))[_0x39ca10(0x639)](_0x39ca10(0x164),()=>{const _0x5d69f5=_0x39ca10;document[_0x5d69f5(0x932)]('blueprint-projects-modal')[_0x5d69f5(0x360)][_0x5d69f5(0x4a6)]('hidden');}),document[_0x39ca10(0x932)](_0x39ca10(0xa39))['addEventListener'](_0x39ca10(0x164),_0x158f83=>{const _0x40bbfa=_0x39ca10,_0x4c2b30=_0x158f83['target'][_0x40bbfa(0x1d0)](_0x40bbfa(0x40c)),_0x2689d7=_0x158f83['target'][_0x40bbfa(0x1d0)](_0x40bbfa(0xc78));if(_0x4c2b30)displayBlueprintProjectManager(_0x4c2b30['dataset']['id']);else _0x2689d7&&handleDeepDeleteBlueprintProject(_0x2689d7[_0x40bbfa(0x134)]['id']);}),document[_0x39ca10(0x932)](_0x39ca10(0xb5f))[_0x39ca10(0x639)](_0x39ca10(0x164),()=>{const _0xdb11ad=_0x39ca10;currentBlueprintProjectId=null,currentProjectId=null,document[_0xdb11ad(0x932)]('blueprint-project-manager-view')[_0xdb11ad(0x360)]['add']('hidden'),showView(_0xdb11ad(0x6e3));}),document[_0x39ca10(0x932)](_0x39ca10(0xb7d))[_0x39ca10(0x639)](_0x39ca10(0x164),addTopicToProject),document[_0x39ca10(0x932)]('bp-topic-list-container')['addEventListener'](_0x39ca10(0x164),async _0x50df58=>{const _0x5a4703=_0x39ca10,_0x3db4e8=_0x50df58[_0x5a4703(0x5f8)][_0x5a4703(0x1d0)](_0x5a4703(0xc39));if(!_0x3db4e8)return;const _0x28a726=_0x3db4e8[_0x5a4703(0x134)][_0x5a4703(0x81c)],_0x1b647c=_0x50df58[_0x5a4703(0x5f8)][_0x5a4703(0x1d0)](_0x5a4703(0x582)),_0x292377=_0x50df58[_0x5a4703(0x5f8)][_0x5a4703(0x1d0)]('.bp-create-content-quiz-btn'),_0x3f6c22=_0x50df58[_0x5a4703(0x5f8)][_0x5a4703(0x1d0)]('.bp-create-topic-quiz-btn'),_0xf68b23=_0x50df58['target'][_0x5a4703(0x1d0)](_0x5a4703(0x623)),_0xf0a6c0=_0x50df58[_0x5a4703(0x5f8)]['closest'](_0x5a4703(0x6dd)),_0x46d1ac=_0x50df58[_0x5a4703(0x5f8)][_0x5a4703(0x1d0)](_0x5a4703(0x948)),_0x2d95b0=_0x50df58[_0x5a4703(0x5f8)][_0x5a4703(0x1d0)](_0x5a4703(0xea3)),_0x190add=_0x50df58[_0x5a4703(0x5f8)][_0x5a4703(0x1d0)](_0x5a4703(0x5e1)),_0x13a313=_0x2c479e=>{const _0x3f7627=_0x5a4703,_0x42ec50=_0x2c479e['querySelector'](_0x3f7627(0x4c9))[_0x3f7627(0xdec)]['trim'](),_0x5edee3=_0x2c479e['closest']('.space-y-1.pl-4')[_0x3f7627(0x5cf)],_0x69e3ec=_0x5edee3?_0x5edee3[_0x3f7627(0xdec)][_0x3f7627(0xa4d)]():'';return _0x69e3ec+':\x20'+_0x42ec50;};if(_0xf68b23)openTopicQuizBank(_0x28a726);else{if(_0x1b647c){const _0x52e2f4=_0x13a313(_0x3db4e8);selectProjectAndGenerateBlueprintQuiz(_0x52e2f4,null,_0x28a726,!![]);}else{if(_0x292377){const _0x100712=_0x13a313(_0x3db4e8);try{const _0x226dcc=doc(db,'artifacts/'+appId+_0x5a4703(0x418)+currentBlueprintProjectId+_0x5a4703(0xd4b),_0x28a726),_0x42b72e=await getDoc(_0x226dcc);if(_0x42b72e[_0x5a4703(0x7d2)]()){const _0x13a802=_0x42b72e[_0x5a4703(0x13f)]()[_0x5a4703(0x780)],_0x272e76=document['createElement'](_0x5a4703(0xd2a)),_0x136393=_0xc29da6=>{const _0x130ac9=_0x5a4703;if(!_0xc29da6)return'';return _0x272e76[_0x130ac9(0xa16)]=_0xc29da6,_0x272e76[_0x130ac9(0xdec)]||_0x272e76['innerText']||'';},_0x481cef=(_0x136393(_0x13a802[_0x5a4703(0x9e7)])+'\x20'+_0x136393(_0x13a802['memory'])+'\x20'+_0x136393(_0x13a802[_0x5a4703(0x671)]))[_0x5a4703(0xa4d)]();selectProjectAndGenerateBlueprintQuiz(_0x100712,_0x481cef,_0x28a726,![]);}else showMessage(_0x5a4703(0x87c));}catch(_0xf9c3f6){console[_0x5a4703(0x1ac)](_0x5a4703(0x5d4),_0xf9c3f6),showMessage(_0x5a4703(0x371));}}else{if(_0x3f6c22){const _0x39d1ec=_0x13a313(_0x3db4e8);selectProjectAndGenerateBlueprintQuiz(_0x39d1ec,null,_0x28a726,![]);}else{if(_0xf0a6c0){const _0x1e3dfc=doc(db,_0x5a4703(0x6e6)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId),_0x19aa64=await getDoc(_0x1e3dfc);if(_0x19aa64['exists']()){const _0x24672d=_0x19aa64[_0x5a4703(0x13f)](),_0x15c09f=_0x24672d[_0x5a4703(0x945)][_0x28a726];if(_0x15c09f&&_0x15c09f[_0x5a4703(0x1f8)]===_0x5a4703(0x645))try{const _0x239d84=doc(db,_0x5a4703(0x6e6)+appId+_0x5a4703(0x418)+currentBlueprintProjectId+_0x5a4703(0xd4b),_0x28a726),_0x2b2eb9=await getDoc(_0x239d84);if(_0x2b2eb9[_0x5a4703(0x7d2)]()){const _0x2dd7a5=_0x2b2eb9[_0x5a4703(0x13f)]()[_0x5a4703(0x780)];document['getElementById'](_0x5a4703(0xd1b))[_0x5a4703(0xdec)]='บทเรียนเรื่อง:\x20'+_0x13a313(_0x3db4e8),document['getElementById'](_0x5a4703(0x388))[_0x5a4703(0xa16)]=_0x2dd7a5['point'],document[_0x5a4703(0x932)]('memoryContent')[_0x5a4703(0xa16)]=_0x2dd7a5['memory'],document['getElementById']('summaryContent')[_0x5a4703(0xa16)]=_0x2dd7a5['summary'];const _0x1f68d1=document[_0x5a4703(0x932)](_0x5a4703(0x9ac));_0x2dd7a5[_0x5a4703(0x2cd)]?(currentApplicationData=_0x2dd7a5[_0x5a4703(0x2cd)],_0x1f68d1[_0x5a4703(0xa16)]=currentApplicationData[_0x5a4703(0xe49)]((_0x3b3a10,_0x1f551a)=>'<div\x20class=\x22application-question\x20mb-4\x22><p\x20class=\x22font-semibold\x22>'+(_0x1f551a+0x1)+'.\x20'+marked[_0x5a4703(0x86e)](_0x3b3a10[_0x5a4703(0xb8f)])+_0x5a4703(0x2e1)+_0x1f551a+_0x5a4703(0x591)+_0x3b3a10[_0x5a4703(0x3e2)][_0x5a4703(0xe49)]((_0x2ba7fa,_0x2d1530)=>_0x5a4703(0x33d)+_0x1f551a+',\x20'+_0x2d1530+')\x22>'+String[_0x5a4703(0x4b4)](0x61+_0x2d1530)+'.\x20'+marked['parseInline'](_0x2ba7fa)+_0x5a4703(0xa59))[_0x5a4703(0xbb2)]('')+'</div></div>')['join']('')):(currentApplicationData=[],_0x1f68d1[_0x5a4703(0xa16)]=_0x2dd7a5[_0x5a4703(0x389)]||_0x2dd7a5['application']),document[_0x5a4703(0x932)](_0x5a4703(0x31e))[_0x5a4703(0x360)][_0x5a4703(0x4a6)](_0x5a4703(0x2f2)),document[_0x5a4703(0x932)](_0x5a4703(0xb04))[_0x5a4703(0x360)][_0x5a4703(0xcc8)](_0x5a4703(0x2f2)),document[_0x5a4703(0x932)]('lesson-view-modal')[_0x5a4703(0x360)][_0x5a4703(0xcc8)](_0x5a4703(0x2f2)),window[_0x5a4703(0x7f9)]&&MathJax['typesetPromise']([document[_0x5a4703(0x932)](_0x5a4703(0x1d2))]);}else showMessage(_0x5a4703(0xd67));}catch(_0x305549){console[_0x5a4703(0x1ac)]('Error\x20fetching\x20lesson\x20content:',_0x305549),showMessage(_0x5a4703(0xb2a));}else showMessage(_0x5a4703(0xc7c));}}else{if(_0x46d1ac){const _0x4d53fa=_0x13a313(_0x3db4e8),_0x2627c0=doc(db,_0x5a4703(0x6e6)+appId+_0x5a4703(0x8a5),currentBlueprintProjectId),_0x9f7ca6=await getDoc(_0x2627c0);if(_0x9f7ca6[_0x5a4703(0x7d2)]()){const _0xc0793c=_0x9f7ca6[_0x5a4703(0x13f)]();generateAndSaveLessonForBlueprint(_0x28a726,_0x4d53fa,_0xc0793c[_0x5a4703(0x637)]);}}else{if(_0x2d95b0)editTopicInProject(_0x28a726);else _0x190add&&deleteTopicFromProject(_0x28a726);}}}}}}}),document[_0x39ca10(0x932)](_0x39ca10(0xe5e))[_0x39ca10(0x639)](_0x39ca10(0x164),handleFixLessonLatex),document[_0x39ca10(0x932)](_0x39ca10(0x88a))[_0x39ca10(0x639)](_0x39ca10(0x164),handleExportLessonToPDF),document[_0x39ca10(0x932)](_0x39ca10(0x2c7))[_0x39ca10(0x639)]('click',()=>{const _0x1e1b9c=_0x39ca10;document[_0x1e1b9c(0x932)]('lesson-view-modal')[_0x1e1b9c(0x360)]['add'](_0x1e1b9c(0x2f2));});const _0x12c821=document[_0x39ca10(0x932)](_0x39ca10(0xb7e)),_0x46d764=document[_0x39ca10(0x932)](_0x39ca10(0x452));_0x12c821['addEventListener']('change',()=>{const _0x284ed6=_0x39ca10;_0x46d764[_0x284ed6(0x360)][_0x284ed6(0xaa3)](_0x284ed6(0x2f2),!_0x12c821['checked']);});const _0x1e366f=document[_0x39ca10(0x932)](_0x39ca10(0x975)),_0x16e8e4=document[_0x39ca10(0x932)](_0x39ca10(0xda4));_0x1e366f[_0x39ca10(0x639)]('change',()=>{const _0x430207=_0x39ca10;_0x16e8e4[_0x430207(0x360)][_0x430207(0xaa3)](_0x430207(0x2f2),!_0x1e366f[_0x430207(0xc62)]);});const _0x4751a6=document[_0x39ca10(0x932)](_0x39ca10(0x239)),_0x7aac97=document[_0x39ca10(0x932)](_0x39ca10(0xa70));_0x4751a6[_0x39ca10(0x639)](_0x39ca10(0x62d),()=>{const _0x48d32d=_0x39ca10;_0x7aac97[_0x48d32d(0x360)][_0x48d32d(0xaa3)](_0x48d32d(0x2f2),!_0x4751a6[_0x48d32d(0xc62)]);});const _0x10bc7a=document[_0x39ca10(0x932)](_0x39ca10(0xe78)),_0x2a928e=async _0x1a30f0=>{const _0x76e3c0=_0x39ca10,_0x3c4187=document[_0x76e3c0(0x932)](_0x76e3c0(0xe78)),_0x4776b4=_0x3c4187[_0x76e3c0(0x134)][_0x76e3c0(0xb4d)],_0xa22e2=document[_0x76e3c0(0x932)](_0x76e3c0(0x4b7));_0x3c4187['classList'][_0x76e3c0(0x4a6)](_0x76e3c0(0x2f2));if(_0x4776b4===_0x76e3c0(0xadf)){const _0x113cd8=_0xa22e2[_0x76e3c0(0x99c)],_0x147914={'answer':_0x113cd8,'wasConfident':_0x1a30f0};proceedToNextQuestion(_0x147914);}else{if(_0x4776b4===_0x76e3c0(0xe51)){const _0x2a0a90=_0xa22e2['dataset']['answerValue'],_0x3333a4=JSON[_0x76e3c0(0x4bd)](_0xa22e2[_0x76e3c0(0x134)][_0x76e3c0(0xb8f)]),_0x1c4c29=JSON[_0x76e3c0(0x4bd)](_0xa22e2[_0x76e3c0(0x134)][_0x76e3c0(0xbea)]),_0x5144c0=_0xa22e2[_0x76e3c0(0x134)]['playerName'];handleSyncAnswerSubmit(_0x2a0a90,_0x3333a4,_0x1c4c29,_0x5144c0,_0x1a30f0);}}_0x3c4187[_0x76e3c0(0x134)]['currentMode']='';};document[_0x39ca10(0x932)](_0x39ca10(0x93b))[_0x39ca10(0x639)](_0x39ca10(0x164),()=>_0x2a928e(!![])),document['getElementById'](_0x39ca10(0xcbe))[_0x39ca10(0x639)](_0x39ca10(0x164),()=>_0x2a928e(![])),liveGameView[_0x39ca10(0x639)](_0x39ca10(0x164),_0x3b1875=>{const _0x138e58=_0x39ca10,_0x215e5a=_0x3b1875[_0x138e58(0x5f8)][_0x138e58(0x1d0)](_0x138e58(0x19a));if(_0x215e5a){const _0x308b26=_0x215e5a[_0x138e58(0x134)]['playerName'];_0x308b26&&handleKickPlayerSync(_0x308b26);}});const _0x564293=document[_0x39ca10(0x932)]('confirm-game-start-btn'),_0x24b505=document['getElementById'](_0x39ca10(0x94a));_0x24b505[_0x39ca10(0x639)](_0x39ca10(0x164),()=>{const _0x3f5cd1=_0x39ca10;document[_0x3f5cd1(0x932)](_0x3f5cd1(0x9ae))[_0x3f5cd1(0x360)]['add'](_0x3f5cd1(0x2f2));}),_0x564293[_0x39ca10(0x639)](_0x39ca10(0x164),()=>{const _0xc00502=_0x39ca10,_0x17b43f=document[_0xc00502(0x932)](_0xc00502(0xa62))[_0xc00502(0x99c)],_0x2cd21e=document[_0xc00502(0x932)](_0xc00502(0x509))[_0xc00502(0x99c)],_0x4f60b3=document[_0xc00502(0x932)](_0xc00502(0xe90))[_0xc00502(0xc62)];document['getElementById'](_0xc00502(0x9ae))[_0xc00502(0x360)][_0xc00502(0x4a6)](_0xc00502(0x2f2));switch(_0x2cd21e){case _0xc00502(0x69d):handleStartLiveRace(_0x17b43f,_0x4f60b3);break;case _0xc00502(0x978):handleStartTeamQuiz(_0x17b43f,_0x4f60b3);break;case'group':handleStartGroupMode(_0x17b43f,_0x4f60b3);break;case _0xc00502(0xe51):const _0x5a5ef0=document[_0xc00502(0xc60)](_0xc00502(0x61b))[_0xc00502(0x99c)]||_0xc00502(0x4e6);handleStartSyncMode(_0x17b43f,_0x4f60b3,_0x5a5ef0);break;}}),document[_0x39ca10(0x932)]('join-group-activity-btn')[_0x39ca10(0x639)]('click',handleJoinGroupActivity),liveGameView['addEventListener'](_0x39ca10(0x164),_0x2e388e=>{const _0x31fe0d=_0x39ca10,_0x1545ed=_0x2e388e['target'][_0x31fe0d(0x1d0)](_0x31fe0d(0x726));document[_0x31fe0d(0x38e)](_0x31fe0d(0xd48))[_0x31fe0d(0x39f)](_0x450ce4=>{const _0x37b5d3=_0x31fe0d;(!_0x1545ed||_0x450ce4['id']!==_0x1545ed[_0x37b5d3(0x134)][_0x37b5d3(0xa37)])&&_0x450ce4[_0x37b5d3(0x360)]['remove']('visible');});if(!_0x1545ed)return;const _0x24a866=_0x1545ed[_0x31fe0d(0x134)][_0x31fe0d(0xa37)],_0x37b3bb=document['getElementById'](_0x24a866);_0x37b3bb&&_0x37b3bb[_0x31fe0d(0x360)][_0x31fe0d(0xaa3)]('visible');}),liveGameView['addEventListener'](_0x39ca10(0x164),_0x506450=>{const _0x4fac08=_0x39ca10;if(_0x506450[_0x4fac08(0x5f8)]['classList'][_0x4fac08(0x3fa)]('kick-player-btn')){const _0x1726b1=_0x506450[_0x4fac08(0x5f8)][_0x4fac08(0x134)][_0x4fac08(0x675)];_0x1726b1&&handleKickPlayer(_0x1726b1);}}),document[_0x39ca10(0x932)](_0x39ca10(0x71b))[_0x39ca10(0x639)](_0x39ca10(0xa82),()=>document[_0x39ca10(0x932)]('save-project-name-btn')[_0x39ca10(0x360)]['remove']('hidden')),document[_0x39ca10(0x932)](_0x39ca10(0x43a))[_0x39ca10(0x639)](_0x39ca10(0x164),handleSaveProjectName),document['getElementById'](_0x39ca10(0x71b))[_0x39ca10(0x639)](_0x39ca10(0x78b),_0x1ac2e4=>{const _0xe094fb=_0x39ca10;_0x1ac2e4[_0xe094fb(0x420)]===_0xe094fb(0xa2b)&&(_0x1ac2e4['preventDefault'](),_0x1ac2e4[_0xe094fb(0x5f8)][_0xe094fb(0xa73)](),handleSaveProjectName());}),document[_0x39ca10(0x932)](_0x39ca10(0xbd4))[_0x39ca10(0x639)]('click',()=>{const _0x5b4103=_0x39ca10;document[_0x5b4103(0x932)](_0x5b4103(0xcf3))[_0x5b4103(0x360)][_0x5b4103(0xcc8)](_0x5b4103(0x2f2));}),document[_0x39ca10(0x932)](_0x39ca10(0xafc))[_0x39ca10(0x639)](_0x39ca10(0x164),()=>{const _0x1f42a7=_0x39ca10;document[_0x1f42a7(0x932)](_0x1f42a7(0xcf3))['classList'][_0x1f42a7(0x4a6)](_0x1f42a7(0x2f2));}),document['getElementById'](_0x39ca10(0x796))[_0x39ca10(0x639)](_0x39ca10(0x164),handleBulkUpdateQuizSettings),document[_0x39ca10(0x932)]('mode-switcher-btn')[_0x39ca10(0x639)]('click',handleModeSwitch),document[_0x39ca10(0x932)](_0x39ca10(0x529))['addEventListener'](_0x39ca10(0x164),handleUpdateOldQuizzes),document[_0x39ca10(0x932)]('reset-project-order-btn')[_0x39ca10(0x639)](_0x39ca10(0x164),handleResetProjectOrder),document[_0x39ca10(0x932)](_0x39ca10(0xc87))[_0x39ca10(0x639)](_0x39ca10(0x164),handleSaveVisibilitySettings),document[_0x39ca10(0x932)]('add-custom-math-topic-btn')[_0x39ca10(0x639)]('click',handleAddCustomMathTopic),document['getElementById'](_0x39ca10(0xcda))['addEventListener']('click',handleSelectAllTopics),document['getElementById']('deselect-all-topics-btn')[_0x39ca10(0x639)](_0x39ca10(0x164),handleDeselectAllTopics),document[_0x39ca10(0x932)](_0x39ca10(0x755))[_0x39ca10(0x639)](_0x39ca10(0x164),()=>{const _0x7a4348=_0x39ca10;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0x7a4348(0x6e3));}}),document[_0x39ca10(0x932)]('back-to-project-btn')[_0x39ca10(0x639)](_0x39ca10(0x164),()=>{const _0x10ab2b=_0x39ca10;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0x10ab2b(0xde7));}}),document['getElementById'](_0x39ca10(0x92c))['addEventListener'](_0x39ca10(0x164),()=>{const _0x1006de=_0x39ca10;showView(_0x1006de(0x6e3));}),document[_0x39ca10(0x932)]('modal-close-btn')['addEventListener']('click',()=>{const _0x1af9cd=_0x39ca10;messageModal[_0x1af9cd(0x360)]['add'](_0x1af9cd(0x2f2)),typeof modalConfirmAction===_0x1af9cd(0x85b)&&(modalConfirmAction(),modalConfirmAction=null);}),document[_0x39ca10(0x932)](_0x39ca10(0x3ba))['addEventListener'](_0x39ca10(0x164),()=>createProjectModal[_0x39ca10(0x360)][_0x39ca10(0xcc8)]('hidden')),document[_0x39ca10(0x932)]('cancel-create-project-btn')[_0x39ca10(0x639)](_0x39ca10(0x164),()=>createProjectModal[_0x39ca10(0x360)][_0x39ca10(0x4a6)]('hidden')),document[_0x39ca10(0x932)](_0x39ca10(0xb1b))[_0x39ca10(0x639)]('click',()=>adminPasswordModal[_0x39ca10(0x360)][_0x39ca10(0x4a6)](_0x39ca10(0x2f2))),document[_0x39ca10(0x932)](_0x39ca10(0x217))[_0x39ca10(0x639)](_0x39ca10(0x164),handleAdminLogin),document[_0x39ca10(0x932)]('admin-password-input')[_0x39ca10(0x639)](_0x39ca10(0x84b),_0x3e3083=>{const _0x179925=_0x39ca10;if(_0x3e3083[_0x179925(0x420)]===_0x179925(0xa2b))handleAdminLogin();}),document[_0x39ca10(0x932)](_0x39ca10(0xb81))[_0x39ca10(0x639)](_0x39ca10(0x164),()=>{const _0x5a8bc0=_0x39ca10;confirmationModal['classList'][_0x5a8bc0(0x4a6)](_0x5a8bc0(0x2f2)),typeof cancelAction===_0x5a8bc0(0x85b)&&cancelAction(),confirmAction=null,cancelAction=null;}),document[_0x39ca10(0x932)](_0x39ca10(0x50b))['addEventListener'](_0x39ca10(0x164),()=>{const _0x453af9=_0x39ca10;confirmAction&&confirmAction(),confirmationModal[_0x453af9(0x360)][_0x453af9(0x4a6)](_0x453af9(0x2f2)),confirmAction=null,cancelAction=null;}),document[_0x39ca10(0x932)](_0x39ca10(0x2d9))[_0x39ca10(0x639)](_0x39ca10(0x164),()=>renameQuizModal[_0x39ca10(0x360)]['add']('hidden')),document[_0x39ca10(0x932)](_0x39ca10(0x858))[_0x39ca10(0x639)](_0x39ca10(0x164),confirmRenameQuiz),document[_0x39ca10(0x932)](_0x39ca10(0xe23))['addEventListener'](_0x39ca10(0x164),()=>moveQuizModal[_0x39ca10(0x360)][_0x39ca10(0x4a6)](_0x39ca10(0x2f2))),document[_0x39ca10(0x932)](_0x39ca10(0x83a))['addEventListener'](_0x39ca10(0x164),confirmMoveQuiz),document[_0x39ca10(0x932)]('cancel-quiz-settings-btn')[_0x39ca10(0x639)]('click',()=>quizSettingsModal[_0x39ca10(0x360)][_0x39ca10(0x4a6)](_0x39ca10(0x2f2))),document['getElementById'](_0x39ca10(0xd81))[_0x39ca10(0x639)]('click',confirmQuizSettings),document[_0x39ca10(0x932)](_0x39ca10(0x166))[_0x39ca10(0x639)](_0x39ca10(0x164),()=>quizStatusModal[_0x39ca10(0x360)][_0x39ca10(0x4a6)](_0x39ca10(0x2f2))),document[_0x39ca10(0x932)]('confirm-quiz-status-btn')[_0x39ca10(0x639)](_0x39ca10(0x164),confirmQuizStatus);const _0x3f1798=document[_0x39ca10(0x932)](_0x39ca10(0x919));document['getElementById'](_0x39ca10(0xba4))[_0x39ca10(0x639)]('click',()=>{const _0x3ea8e7=_0x39ca10;_0x3f1798[_0x3ea8e7(0x360)][_0x3ea8e7(0x4a6)](_0x3ea8e7(0x2f2));}),document[_0x39ca10(0x932)](_0x39ca10(0x65c))[_0x39ca10(0x639)](_0x39ca10(0x164),async()=>{const _0x148102=_0x39ca10,_0x4cec42=allQuizzes[_0x148102(0x7a3)](_0x28bba2=>_0x28bba2['id']===actionTargetId);_0x4cec42?(currentQuizData=_0x4cec42,exportQuizAsWorksheetPDF()):showMessage(_0x148102(0xd90)),_0x3f1798[_0x148102(0x360)][_0x148102(0x4a6)](_0x148102(0x2f2));}),document[_0x39ca10(0x932)](_0x39ca10(0xeb1))['addEventListener']('click',async()=>{const _0x1d263b=_0x39ca10,_0xe0b664=allQuizzes[_0x1d263b(0x7a3)](_0x203722=>_0x203722['id']===actionTargetId);_0xe0b664?(currentQuizData=_0xe0b664,exportQuizAsTutorPDF()):showMessage(_0x1d263b(0xd90)),_0x3f1798['classList'][_0x1d263b(0x4a6)](_0x1d263b(0x2f2));});const _0x1a03c8=document[_0x39ca10(0x932)](_0x39ca10(0xc83));_0x1a03c8[_0x39ca10(0xa16)]=_0x39ca10(0x9ab),_0x1a03c8[_0x39ca10(0x639)](_0x39ca10(0x164),openGlobalActivityModal),document[_0x39ca10(0x932)](_0x39ca10(0x2e6))[_0x39ca10(0x639)]('click',()=>{const _0x1fe78a=_0x39ca10;document[_0x1fe78a(0x932)]('global-activity-modal')[_0x1fe78a(0x360)][_0x1fe78a(0x4a6)](_0x1fe78a(0x2f2));}),document[_0x39ca10(0x932)](_0x39ca10(0x64e))[_0x39ca10(0x639)](_0x39ca10(0x41a),_0x3f8459=>{const _0x28195b=_0x39ca10;renderGlobalActivityList(_0x3f8459['target'][_0x28195b(0x99c)]);}),document[_0x39ca10(0x932)](_0x39ca10(0xdf4))[_0x39ca10(0x639)](_0x39ca10(0x164),_0x472d26=>{const _0x18a96d=_0x39ca10,_0x28cdae=_0x472d26[_0x18a96d(0x5f8)][_0x18a96d(0x1d0)](_0x18a96d(0xe7d));if(!_0x28cdae)return;const _0xefac02=_0x28cdae[_0x18a96d(0x134)]['id'],_0x3cc88d=_0x28cdae['dataset'][_0x18a96d(0x251)],_0x113fb0=allQuizzesGlobal['find'](_0x26a07b=>_0x26a07b['id']===_0xefac02);_0x113fb0&&(document[_0x18a96d(0x932)]('global-activity-modal')[_0x18a96d(0x360)][_0x18a96d(0x4a6)](_0x18a96d(0x2f2)),_0x3cc88d===_0x18a96d(0x69d)?handleStartLiveRace(_0xefac02):showGameStartConfirmationModal(_0xefac02,_0x3cc88d,_0x113fb0[_0x18a96d(0x79c)]));}),document[_0x39ca10(0x932)](_0x39ca10(0xe7b))['addEventListener'](_0x39ca10(0x41a),renderProjects),document[_0x39ca10(0x932)]('project-sort-select')['addEventListener'](_0x39ca10(0x62d),async()=>{const _0x5ad40d=_0x39ca10,_0x359856=document[_0x5ad40d(0x932)](_0x5ad40d(0x6db))[_0x5ad40d(0x99c)],_0x1a24bd=doc(db,_0x5ad40d(0x4db),'dashboardConfig');try{await setDoc(_0x1a24bd,{'projectSort':_0x359856},{'merge':!![]});}catch(_0x2d0116){console[_0x5ad40d(0x1ac)](_0x5ad40d(0x779),_0x2d0116),showMessage(_0x5ad40d(0xe0a));}}),document[_0x39ca10(0x932)](_0x39ca10(0xb3c))[_0x39ca10(0x639)]('input',renderQuizzes),document[_0x39ca10(0x932)](_0x39ca10(0x64d))['addEventListener'](_0x39ca10(0x164),()=>{const _0x5a6f5b=_0x39ca10;globalDashboardSettings[_0x5a6f5b(0xcf5)]='grid',saveUserPreference(_0x5a6f5b(0xcf5),_0x5a6f5b(0x391)),renderProjects();}),document[_0x39ca10(0x932)]('list-view-btn')[_0x39ca10(0x639)](_0x39ca10(0x164),()=>{const _0x2cc4fc=_0x39ca10;globalDashboardSettings['projectView']='list',saveUserPreference(_0x2cc4fc(0xcf5),'list'),renderProjects();}),manageTab['addEventListener'](_0x39ca10(0x164),()=>switchProjectTab(_0x39ca10(0x90e))),resultsTab['addEventListener'](_0x39ca10(0x164),()=>switchProjectTab(_0x39ca10(0xd37))),leaderboardTab['addEventListener'](_0x39ca10(0x164),()=>switchProjectTab(_0x39ca10(0x3b7))),document[_0x39ca10(0x932)](_0x39ca10(0x6bb))['addEventListener']('click',()=>switchQuizDetailTab(_0x39ca10(0x5a9))),document[_0x39ca10(0x932)](_0x39ca10(0x236))['addEventListener'](_0x39ca10(0x164),()=>switchQuizDetailTab(_0x39ca10(0x765))),document['getElementById']('leaderboard-quiz-tab-btn')[_0x39ca10(0x639)](_0x39ca10(0x164),()=>switchQuizDetailTab('leaderboard-quiz')),document[_0x39ca10(0x932)](_0x39ca10(0xcd3))[_0x39ca10(0x639)](_0x39ca10(0x164),()=>switchQuizDetailTab(_0x39ca10(0x3d7))),document[_0x39ca10(0x932)](_0x39ca10(0x2a2))[_0x39ca10(0x639)]('click',handleAnalyzeClass),generateWorksheetBtn[_0x39ca10(0x639)](_0x39ca10(0x164),generateWorksheet);const _0x12c5e0=document[_0x39ca10(0x932)]('link-tab'),_0x389c2e=document[_0x39ca10(0x932)](_0x39ca10(0x520)),_0x4aa4ff=document[_0x39ca10(0x932)]('blueprint-tab'),_0x8992c3=document[_0x39ca10(0x932)](_0x39ca10(0x5f0)),_0x2cb2f3=document[_0x39ca10(0x932)](_0x39ca10(0xb1c)),_0x254b56=document[_0x39ca10(0x932)](_0x39ca10(0xbe5));topicTab['addEventListener'](_0x39ca10(0x164),()=>{const _0x47d310=_0x39ca10;topicTab[_0x47d310(0x360)][_0x47d310(0x4a6)]('active'),textTab[_0x47d310(0x360)][_0x47d310(0xcc8)](_0x47d310(0x76a)),fileTab[_0x47d310(0x360)][_0x47d310(0xcc8)]('active'),worksheetTab[_0x47d310(0x360)][_0x47d310(0xcc8)](_0x47d310(0x76a));if(_0x12c5e0)_0x12c5e0[_0x47d310(0x360)][_0x47d310(0xcc8)]('active');if(_0x4aa4ff)_0x4aa4ff[_0x47d310(0x360)][_0x47d310(0xcc8)]('active');if(_0x2cb2f3)_0x2cb2f3[_0x47d310(0x360)]['remove'](_0x47d310(0x76a));topicInputArea['classList'][_0x47d310(0xcc8)]('hidden'),textInputArea['classList'][_0x47d310(0x4a6)](_0x47d310(0x2f2)),fileInputArea[_0x47d310(0x360)][_0x47d310(0x4a6)](_0x47d310(0x2f2)),worksheetInputArea[_0x47d310(0x360)][_0x47d310(0x4a6)](_0x47d310(0x2f2));if(_0x389c2e)_0x389c2e[_0x47d310(0x360)]['add'](_0x47d310(0x2f2));if(_0x8992c3)_0x8992c3['classList']['add'](_0x47d310(0x2f2));if(_0x254b56)_0x254b56[_0x47d310(0x360)][_0x47d310(0x4a6)](_0x47d310(0x2f2));}),textTab['addEventListener'](_0x39ca10(0x164),()=>{const _0x5f0288=_0x39ca10;textTab[_0x5f0288(0x360)][_0x5f0288(0x4a6)]('active'),topicTab[_0x5f0288(0x360)][_0x5f0288(0xcc8)](_0x5f0288(0x76a)),fileTab['classList'][_0x5f0288(0xcc8)](_0x5f0288(0x76a)),worksheetTab[_0x5f0288(0x360)][_0x5f0288(0xcc8)]('active');if(_0x12c5e0)_0x12c5e0[_0x5f0288(0x360)][_0x5f0288(0xcc8)](_0x5f0288(0x76a));if(_0x4aa4ff)_0x4aa4ff[_0x5f0288(0x360)]['remove'](_0x5f0288(0x76a));if(_0x2cb2f3)_0x2cb2f3['classList'][_0x5f0288(0xcc8)]('active');textInputArea[_0x5f0288(0x360)][_0x5f0288(0xcc8)](_0x5f0288(0x2f2)),topicInputArea[_0x5f0288(0x360)][_0x5f0288(0x4a6)](_0x5f0288(0x2f2)),fileInputArea[_0x5f0288(0x360)][_0x5f0288(0x4a6)](_0x5f0288(0x2f2)),worksheetInputArea[_0x5f0288(0x360)][_0x5f0288(0x4a6)](_0x5f0288(0x2f2));if(_0x389c2e)_0x389c2e[_0x5f0288(0x360)][_0x5f0288(0x4a6)]('hidden');if(_0x8992c3)_0x8992c3[_0x5f0288(0x360)]['add'](_0x5f0288(0x2f2));if(_0x254b56)_0x254b56[_0x5f0288(0x360)][_0x5f0288(0x4a6)](_0x5f0288(0x2f2));}),fileTab[_0x39ca10(0x639)]('click',()=>{const _0x462704=_0x39ca10;fileTab[_0x462704(0x360)][_0x462704(0x4a6)](_0x462704(0x76a)),topicTab[_0x462704(0x360)]['remove'](_0x462704(0x76a)),textTab['classList']['remove']('active'),worksheetTab[_0x462704(0x360)][_0x462704(0xcc8)](_0x462704(0x76a));if(_0x12c5e0)_0x12c5e0[_0x462704(0x360)][_0x462704(0xcc8)](_0x462704(0x76a));if(_0x4aa4ff)_0x4aa4ff[_0x462704(0x360)][_0x462704(0xcc8)](_0x462704(0x76a));if(_0x2cb2f3)_0x2cb2f3['classList']['remove'](_0x462704(0x76a));fileInputArea[_0x462704(0x360)][_0x462704(0xcc8)](_0x462704(0x2f2)),topicInputArea[_0x462704(0x360)]['add']('hidden'),textInputArea[_0x462704(0x360)]['add']('hidden'),worksheetInputArea[_0x462704(0x360)][_0x462704(0x4a6)](_0x462704(0x2f2));if(_0x389c2e)_0x389c2e[_0x462704(0x360)]['add']('hidden');if(_0x8992c3)_0x8992c3[_0x462704(0x360)]['add']('hidden');if(_0x254b56)_0x254b56[_0x462704(0x360)]['add'](_0x462704(0x2f2));}),worksheetTab[_0x39ca10(0x639)](_0x39ca10(0x164),()=>{const _0x274666=_0x39ca10;worksheetTab[_0x274666(0x360)][_0x274666(0x4a6)](_0x274666(0x76a)),topicTab[_0x274666(0x360)][_0x274666(0xcc8)](_0x274666(0x76a)),textTab['classList']['remove'](_0x274666(0x76a)),fileTab[_0x274666(0x360)]['remove'](_0x274666(0x76a));if(_0x12c5e0)_0x12c5e0[_0x274666(0x360)][_0x274666(0xcc8)](_0x274666(0x76a));if(_0x4aa4ff)_0x4aa4ff[_0x274666(0x360)][_0x274666(0xcc8)](_0x274666(0x76a));if(_0x2cb2f3)_0x2cb2f3['classList'][_0x274666(0xcc8)](_0x274666(0x76a));worksheetInputArea[_0x274666(0x360)][_0x274666(0xcc8)](_0x274666(0x2f2)),topicInputArea['classList'][_0x274666(0x4a6)](_0x274666(0x2f2)),textInputArea['classList'][_0x274666(0x4a6)](_0x274666(0x2f2)),fileInputArea[_0x274666(0x360)][_0x274666(0x4a6)]('hidden');if(_0x389c2e)_0x389c2e[_0x274666(0x360)][_0x274666(0x4a6)]('hidden');if(_0x8992c3)_0x8992c3['classList'][_0x274666(0x4a6)](_0x274666(0x2f2));if(_0x254b56)_0x254b56[_0x274666(0x360)][_0x274666(0x4a6)](_0x274666(0x2f2));});const _0x1afa13=document[_0x39ca10(0x932)](_0x39ca10(0x904)),_0x1b76dc=document[_0x39ca10(0x932)](_0x39ca10(0xce3));_0x1afa13&&_0x1afa13['addEventListener'](_0x39ca10(0x164),()=>{const _0x2220ae=_0x39ca10;topicTab[_0x2220ae(0x360)]['remove'](_0x2220ae(0x76a)),textTab[_0x2220ae(0x360)][_0x2220ae(0xcc8)](_0x2220ae(0x76a)),fileTab[_0x2220ae(0x360)]['remove'](_0x2220ae(0x76a)),worksheetTab[_0x2220ae(0x360)]['remove'](_0x2220ae(0x76a));if(_0x12c5e0)_0x12c5e0[_0x2220ae(0x360)][_0x2220ae(0xcc8)]('active');if(_0x4aa4ff)_0x4aa4ff[_0x2220ae(0x360)]['remove']('active');if(_0x2cb2f3)_0x2cb2f3['classList']['remove'](_0x2220ae(0x76a));_0x1afa13[_0x2220ae(0x360)]['add'](_0x2220ae(0x76a)),topicInputArea[_0x2220ae(0x360)]['add'](_0x2220ae(0x2f2)),textInputArea[_0x2220ae(0x360)][_0x2220ae(0x4a6)](_0x2220ae(0x2f2)),fileInputArea[_0x2220ae(0x360)]['add'](_0x2220ae(0x2f2)),worksheetInputArea[_0x2220ae(0x360)]['add'](_0x2220ae(0x2f2));if(_0x389c2e)_0x389c2e[_0x2220ae(0x360)][_0x2220ae(0x4a6)](_0x2220ae(0x2f2));if(_0x8992c3)_0x8992c3[_0x2220ae(0x360)][_0x2220ae(0x4a6)]('hidden');if(_0x254b56)_0x254b56['classList'][_0x2220ae(0x4a6)]('hidden');_0x1b76dc[_0x2220ae(0x360)][_0x2220ae(0xcc8)]('hidden'),displayQuestionBank();});_0x12c5e0&&(_0x12c5e0[_0x39ca10(0x639)]('click',()=>{const _0x5629fd=_0x39ca10;_0x12c5e0[_0x5629fd(0x360)][_0x5629fd(0x4a6)](_0x5629fd(0x76a)),topicTab[_0x5629fd(0x360)][_0x5629fd(0xcc8)](_0x5629fd(0x76a)),textTab[_0x5629fd(0x360)]['remove'](_0x5629fd(0x76a)),fileTab[_0x5629fd(0x360)][_0x5629fd(0xcc8)](_0x5629fd(0x76a)),worksheetTab[_0x5629fd(0x360)][_0x5629fd(0xcc8)](_0x5629fd(0x76a));if(_0x4aa4ff)_0x4aa4ff[_0x5629fd(0x360)][_0x5629fd(0xcc8)]('active');if(_0x2cb2f3)_0x2cb2f3[_0x5629fd(0x360)][_0x5629fd(0xcc8)](_0x5629fd(0x76a));_0x389c2e[_0x5629fd(0x360)]['remove'](_0x5629fd(0x2f2)),topicInputArea[_0x5629fd(0x360)]['add'](_0x5629fd(0x2f2)),textInputArea[_0x5629fd(0x360)][_0x5629fd(0x4a6)]('hidden'),fileInputArea[_0x5629fd(0x360)][_0x5629fd(0x4a6)](_0x5629fd(0x2f2)),worksheetInputArea[_0x5629fd(0x360)]['add'](_0x5629fd(0x2f2));if(_0x8992c3)_0x8992c3[_0x5629fd(0x360)][_0x5629fd(0x4a6)](_0x5629fd(0x2f2));if(_0x254b56)_0x254b56[_0x5629fd(0x360)]['add']('hidden');}),document[_0x39ca10(0x932)]('generate-from-link-btn')[_0x39ca10(0x639)](_0x39ca10(0x164),handleGenerateFromLink));_0x4aa4ff&&_0x4aa4ff[_0x39ca10(0x639)](_0x39ca10(0x164),()=>{const _0x7db8f=_0x39ca10;_0x4aa4ff[_0x7db8f(0x360)][_0x7db8f(0x4a6)](_0x7db8f(0x76a)),topicTab[_0x7db8f(0x360)][_0x7db8f(0xcc8)](_0x7db8f(0x76a)),textTab['classList'][_0x7db8f(0xcc8)]('active'),fileTab['classList'][_0x7db8f(0xcc8)](_0x7db8f(0x76a)),worksheetTab[_0x7db8f(0x360)][_0x7db8f(0xcc8)]('active');if(_0x12c5e0)_0x12c5e0[_0x7db8f(0x360)][_0x7db8f(0xcc8)](_0x7db8f(0x76a));if(_0x1afa13)_0x1afa13['classList'][_0x7db8f(0xcc8)]('active');if(_0x2cb2f3)_0x2cb2f3[_0x7db8f(0x360)][_0x7db8f(0xcc8)]('active');_0x8992c3['classList'][_0x7db8f(0xcc8)]('hidden'),topicInputArea[_0x7db8f(0x360)][_0x7db8f(0x4a6)](_0x7db8f(0x2f2)),textInputArea['classList']['add'](_0x7db8f(0x2f2)),fileInputArea[_0x7db8f(0x360)][_0x7db8f(0x4a6)](_0x7db8f(0x2f2)),worksheetInputArea['classList'][_0x7db8f(0x4a6)](_0x7db8f(0x2f2));if(_0x389c2e)_0x389c2e[_0x7db8f(0x360)][_0x7db8f(0x4a6)](_0x7db8f(0x2f2));if(_0x1b76dc)_0x1b76dc[_0x7db8f(0x360)][_0x7db8f(0x4a6)](_0x7db8f(0x2f2));if(_0x254b56)_0x254b56[_0x7db8f(0x360)][_0x7db8f(0x4a6)](_0x7db8f(0x2f2));});_0x2cb2f3&&_0x2cb2f3[_0x39ca10(0x639)]('click',()=>{const _0x1bf66b=_0x39ca10;_0x2cb2f3['classList'][_0x1bf66b(0x4a6)](_0x1bf66b(0x76a)),topicTab[_0x1bf66b(0x360)][_0x1bf66b(0xcc8)](_0x1bf66b(0x76a)),textTab[_0x1bf66b(0x360)]['remove'](_0x1bf66b(0x76a)),fileTab[_0x1bf66b(0x360)][_0x1bf66b(0xcc8)](_0x1bf66b(0x76a)),worksheetTab[_0x1bf66b(0x360)][_0x1bf66b(0xcc8)](_0x1bf66b(0x76a));if(_0x12c5e0)_0x12c5e0[_0x1bf66b(0x360)][_0x1bf66b(0xcc8)](_0x1bf66b(0x76a));if(_0x4aa4ff)_0x4aa4ff[_0x1bf66b(0x360)][_0x1bf66b(0xcc8)](_0x1bf66b(0x76a));if(_0x1afa13)_0x1afa13[_0x1bf66b(0x360)][_0x1bf66b(0xcc8)]('active');_0x254b56['classList']['remove'](_0x1bf66b(0x2f2)),topicInputArea[_0x1bf66b(0x360)]['add'](_0x1bf66b(0x2f2)),textInputArea[_0x1bf66b(0x360)]['add'](_0x1bf66b(0x2f2)),fileInputArea[_0x1bf66b(0x360)]['add'](_0x1bf66b(0x2f2)),worksheetInputArea['classList'][_0x1bf66b(0x4a6)]('hidden');if(_0x389c2e)_0x389c2e[_0x1bf66b(0x360)][_0x1bf66b(0x4a6)](_0x1bf66b(0x2f2));if(_0x8992c3)_0x8992c3[_0x1bf66b(0x360)][_0x1bf66b(0x4a6)](_0x1bf66b(0x2f2));if(_0x1b76dc)_0x1b76dc[_0x1bf66b(0x360)][_0x1bf66b(0x4a6)](_0x1bf66b(0x2f2));});const _0x549f04=document[_0x39ca10(0x932)](_0x39ca10(0x23e)),_0x32261c=document[_0x39ca10(0x932)](_0x39ca10(0x17d));if(_0x549f04){const _0xd7f6fc=document[_0x39ca10(0x932)](_0x39ca10(0x23e)),_0x11aff6=document[_0x39ca10(0x932)](_0x39ca10(0x17d)),_0x25ca3c=document[_0x39ca10(0x932)]('blueprint-options-container'),_0x56597a=document[_0x39ca10(0x932)](_0x39ca10(0xc08)),_0xd690be=document[_0x39ca10(0x932)](_0x39ca10(0xd42)),_0x4e7a5e=document[_0x39ca10(0x932)](_0x39ca10(0xb83));_0xd7f6fc&&_0xd7f6fc['addEventListener'](_0x39ca10(0x62d),async _0x96f9ec=>{const _0x3ca2ae=_0x39ca10;_0x25ca3c[_0x3ca2ae(0x360)][_0x3ca2ae(0x4a6)](_0x3ca2ae(0x2f2)),_0xd690be[_0x3ca2ae(0x360)]['add']('hidden'),_0x56597a[_0x3ca2ae(0xc62)]=![],_0x11aff6['disabled']=!![];const _0x4caca6=_0x96f9ec[_0x3ca2ae(0x5f8)][_0x3ca2ae(0x98b)][0x0];if(_0x4caca6){_0x11aff6[_0x3ca2ae(0xad6)]=![];try{const _0x47d39a=await extractTextFromPdf(_0x4caca6);await analyzeBlueprintForTopics(_0x47d39a);}catch(_0xc25289){showMessage('ไม่สามารถอ่านไฟล์\x20PDF\x20เพื่อวิเคราะห์หัวข้อได้'),_0x25ca3c[_0x3ca2ae(0x360)][_0x3ca2ae(0x4a6)]('hidden');}}}),_0x56597a&&_0x56597a['addEventListener']('change',_0x2c245b=>{const _0x531f12=_0x39ca10,_0x1ae378=_0x2c245b['target'][_0x531f12(0xc62)];_0xd690be['classList'][_0x531f12(0xaa3)](_0x531f12(0x2f2),!_0x1ae378),_0x11aff6[_0x531f12(0xad6)]=_0x1ae378;}),_0x4e7a5e&&(_0x4e7a5e&&_0x4e7a5e[_0x39ca10(0x639)]('click',_0x5bce85=>{const _0x5d361c=_0x39ca10,_0x5498dd=_0x5bce85[_0x5d361c(0x5f8)][_0x5d361c(0x1d0)](_0x5d361c(0x15a)),_0x58d12c=_0x5bce85['target'][_0x5d361c(0x1d0)]('.generate-content-btn');if(_0x5498dd){const _0x42ed82=unescape(_0x5498dd[_0x5d361c(0x134)][_0x5d361c(0x79c)]);generateQuizForSingleTopic(_0x42ed82);}else{if(_0x58d12c){const _0x2954e1=unescape(_0x58d12c[_0x5d361c(0x134)][_0x5d361c(0x79c)]);handleGenerateTeachingContent(_0x2954e1);}}}));}_0x32261c&&_0x32261c[_0x39ca10(0x639)]('click',handleGenerateFromBlueprint);const _0x22a855=document['getElementById'](_0x39ca10(0x290)),_0x21c75b=document[_0x39ca10(0x932)](_0x39ca10(0xdd5));_0x22a855&&_0x22a855[_0x39ca10(0x639)]('change',_0x3bbad5=>{const _0x512b9c=_0x39ca10;_0x21c75b[_0x512b9c(0xad6)]=_0x3bbad5[_0x512b9c(0x5f8)][_0x512b9c(0x98b)][_0x512b9c(0x752)]===0x0;});_0x21c75b&&_0x21c75b[_0x39ca10(0x639)](_0x39ca10(0x164),()=>{handleGenerateParallelTest();});loadQuizBtn['addEventListener'](_0x39ca10(0x164),handleLoadQuiz),startQuizBtn[_0x39ca10(0x639)](_0x39ca10(0x164),async()=>{const _0xa9006=_0x39ca10,_0x367a0d=document['getElementById'](_0xa9006(0x2ea));currentStudentName=_0x367a0d['value'];if(!currentStudentName){showMessage(_0xa9006(0x193));return;}try{const _0x1e4941=currentQuizData['id'],_0x5c6fd3=doc(db,_0xa9006(0x6e6)+appId+_0xa9006(0x133)+_0x1e4941+_0xa9006(0x2f0),currentStudentName),_0x8c28ac=await getDoc(_0x5c6fd3);!_0x8c28ac[_0xa9006(0x7d2)]()?await setDoc(_0x5c6fd3,{'studentName':currentStudentName,'startedAt':new Date()[_0xa9006(0x26e)](),'behaviorLog':[],'attempts':[]}):await updateDoc(_0x5c6fd3,{'startedAt':new Date()[_0xa9006(0x26e)]()});}catch(_0x38f967){console['error']('Failed\x20to\x20create/update\x20submission\x20record:',_0x38f967),showMessage(_0xa9006(0x4d1));return;}studentNameSelectionView[_0xa9006(0x360)]['add'](_0xa9006(0x2f2)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x39ca10(0x932)]('join-live-game-btn')[_0x39ca10(0x639)]('click',showJoinGameView),document[_0x39ca10(0x932)]('confirm-join-game-btn')[_0x39ca10(0x639)](_0x39ca10(0x164),handleJoinLiveGame),document[_0x39ca10(0x932)](_0x39ca10(0x11a))[_0x39ca10(0x639)](_0x39ca10(0x164),()=>showView(_0x39ca10(0x18c)));const _0x28363c=()=>{const _0x187f64=_0x39ca10,_0x1baafc=document[_0x187f64(0x932)](_0x187f64(0x18a))[_0x187f64(0xdec)]['replace'](/[^a-z0-9]/gi,'_')[_0x187f64(0x4ea)]();return _0x187f64(0x2ff)+(_0x1baafc||_0x187f64(0x598));},_0x573fcd=document['getElementById'](_0x39ca10(0x926));_0x573fcd&&_0x573fcd[_0x39ca10(0x639)]('input',_0x408821=>{const _0x24dd16=_0x39ca10,_0x347309=_0x408821[_0x24dd16(0x5f8)]['value']['toLowerCase']()[_0x24dd16(0xa4d)](),_0x183197=document[_0x24dd16(0x932)](_0x24dd16(0x830)),_0x5c3288=_0x183197['querySelectorAll']('.topic-category');_0x5c3288['forEach'](_0x5798c6=>{const _0x268026=_0x24dd16;let _0x2d1287=![];const _0x5e63d2=_0x5798c6[_0x268026(0x38e)]('.topic-row');_0x5e63d2['forEach'](_0x594381=>{const _0x513add=_0x268026,_0x5b7ad4=_0x594381['querySelector'](_0x513add(0x19d))['textContent'][_0x513add(0x4ea)]();_0x5b7ad4[_0x513add(0xd2e)](_0x347309)?(_0x594381[_0x513add(0x6dc)][_0x513add(0xb59)]=_0x513add(0x5b2),_0x2d1287=!![]):_0x594381[_0x513add(0x6dc)]['display']=_0x513add(0x7dc);}),_0x2d1287?_0x5798c6[_0x268026(0x6dc)][_0x268026(0xb59)]=_0x268026(0xca6):_0x5798c6[_0x268026(0x6dc)][_0x268026(0xb59)]=_0x268026(0x7dc);});});document['getElementById']('export-image-btn')[_0x39ca10(0x639)](_0x39ca10(0x164),()=>exportTableAsImage(_0x39ca10(0x2e3),_0x28363c())),document[_0x39ca10(0x932)]('export-pdf-btn')['addEventListener'](_0x39ca10(0x164),()=>exportTableAsPDF(_0x39ca10(0x655),_0x28363c())),document['getElementById']('export-word-btn')[_0x39ca10(0x639)]('click',()=>exportTableAsWord(_0x39ca10(0x2e3),_0x28363c())),document[_0x39ca10(0x932)](_0x39ca10(0x862))['addEventListener'](_0x39ca10(0x164),()=>exportTableAsExcel(_0x39ca10(0x655),_0x28363c()));const _0xc99568=()=>{const _0xe4cc9e=_0x39ca10,_0x444d4c=document[_0xe4cc9e(0x932)](_0xe4cc9e(0x18a))[_0xe4cc9e(0xdec)][_0xe4cc9e(0xdcc)](/[^a-z0-9]/gi,'_')[_0xe4cc9e(0x4ea)]();return'leaderboard_'+(_0x444d4c||_0xe4cc9e(0x598));};document[_0x39ca10(0x932)](_0x39ca10(0xc6b))['addEventListener'](_0x39ca10(0x164),()=>exportTableAsImage(_0x39ca10(0x50f),_0xc99568())),document['getElementById'](_0x39ca10(0x98a))['addEventListener']('click',()=>exportTableAsPDF(_0x39ca10(0xded),_0xc99568())),document[_0x39ca10(0x932)](_0x39ca10(0x326))[_0x39ca10(0x639)]('click',()=>exportTableAsWord(_0x39ca10(0x50f),_0xc99568())),document[_0x39ca10(0x932)](_0x39ca10(0x88d))[_0x39ca10(0x639)](_0x39ca10(0x164),()=>exportTableAsExcel('quiz-leaderboard-table',_0xc99568())),projectQuizzesList[_0x39ca10(0x639)](_0x39ca10(0x164),async _0x34acd3=>{const _0xa4f60c=_0x39ca10,_0xe809ee=_0x34acd3[_0xa4f60c(0x5f8)][_0xa4f60c(0x1d0)](_0xa4f60c(0x72a)),_0x543741=_0x34acd3[_0xa4f60c(0x5f8)][_0xa4f60c(0x1d0)](_0xa4f60c(0x786)),_0x243f51=_0x34acd3[_0xa4f60c(0x5f8)][_0xa4f60c(0x1d0)](_0xa4f60c(0x38d)),_0x198c7c=_0x34acd3[_0xa4f60c(0x5f8)][_0xa4f60c(0x1d0)](_0xa4f60c(0xb58)),_0x273899=_0x34acd3[_0xa4f60c(0x5f8)]['closest']('.star-quiz-btn'),_0x1bf3c4=_0x34acd3[_0xa4f60c(0x5f8)][_0xa4f60c(0x1d0)]('.copy-quiz-id-list-btn'),_0x300edf=_0x34acd3[_0xa4f60c(0x5f8)]['closest']('.edit-quiz-btn'),_0x4e880a=_0x34acd3[_0xa4f60c(0x5f8)][_0xa4f60c(0x1d0)](_0xa4f60c(0x9a6)),_0xb1e894=_0x34acd3[_0xa4f60c(0x5f8)][_0xa4f60c(0x1d0)](_0xa4f60c(0x965)),_0x5b7262=_0x34acd3[_0xa4f60c(0x5f8)][_0xa4f60c(0x1d0)]('.rename-quiz-btn'),_0x1cd9e5=_0x34acd3[_0xa4f60c(0x5f8)][_0xa4f60c(0x1d0)](_0xa4f60c(0xd4f)),_0x46420f=_0x34acd3[_0xa4f60c(0x5f8)][_0xa4f60c(0x1d0)](_0xa4f60c(0x7fa)),_0x3e7ea2=_0x34acd3[_0xa4f60c(0x5f8)][_0xa4f60c(0x1d0)](_0xa4f60c(0x75c)),_0x594d40=_0x34acd3[_0xa4f60c(0x5f8)][_0xa4f60c(0x1d0)](_0xa4f60c(0xe77)),_0x15fc14=_0x34acd3['target'][_0xa4f60c(0x1d0)](_0xa4f60c(0x225)),_0x36ae1c=_0x34acd3[_0xa4f60c(0x5f8)][_0xa4f60c(0x1d0)](_0xa4f60c(0x161)),_0x10c43c=_0x34acd3[_0xa4f60c(0x5f8)]['closest'](_0xa4f60c(0x723)),_0x483df5=_0x34acd3[_0xa4f60c(0x5f8)]['closest'](_0xa4f60c(0xb19)),_0x3c24e4=_0x34acd3['target'][_0xa4f60c(0x1d0)](_0xa4f60c(0x149)),_0x344e52=_0x34acd3[_0xa4f60c(0x5f8)][_0xa4f60c(0x1d0)](_0xa4f60c(0xd33)),_0x4a2985=_0x34acd3['target']['closest']('.generate-easy-version-btn'),_0x3dfe62=_0x34acd3[_0xa4f60c(0x5f8)][_0xa4f60c(0x1d0)]('.start-game-btn'),_0x1ea3d2=_0x34acd3['target'][_0xa4f60c(0x1d0)](_0xa4f60c(0x9a1));if(_0x3dfe62){const _0x29fddd=_0x3dfe62[_0xa4f60c(0x134)][_0xa4f60c(0xa91)],_0xda555e=_0x3dfe62[_0xa4f60c(0x134)][_0xa4f60c(0x251)],_0x358fbf=allQuizzes['find'](_0x529e96=>_0x529e96['id']===_0x29fddd);_0x358fbf&&showGameStartConfirmationModal(_0x29fddd,_0xda555e,_0x358fbf[_0xa4f60c(0x79c)]);}else{if(_0x1ea3d2){const _0x5e5b14=_0x1ea3d2[_0xa4f60c(0x134)][_0xa4f60c(0xa91)];handleStartLiveRace(_0x5e5b14);}else{if(_0x344e52){const _0x23f3bd=_0x344e52[_0xa4f60c(0x134)][_0xa4f60c(0xa91)],_0x4b182a=document[_0xa4f60c(0x932)]('actions-container-'+_0x23f3bd);_0x4b182a&&_0x4b182a[_0xa4f60c(0x360)]['toggle'](_0xa4f60c(0x2f2));}else{if(_0x543741){const _0xb7b7ca=_0x543741[_0xa4f60c(0x134)][_0xa4f60c(0xa91)],_0x124fa9=allQuizzes[_0xa4f60c(0x7a3)](_0x3e5f90=>_0x3e5f90['id']===_0xb7b7ca);_0x124fa9&&handleGenerateParallelPostTest(_0x124fa9);}else{if(_0x243f51)handleCompareResults(_0x243f51[_0xa4f60c(0x134)][_0xa4f60c(0xa91)],_0x243f51[_0xa4f60c(0x134)]['preTestId']);else{if(_0x198c7c){const _0x1811e4=_0x198c7c[_0xa4f60c(0x134)]['quizId'],_0x2fcaf4=allQuizzes[_0xa4f60c(0x7a3)](_0x1e66b7=>_0x1e66b7['id']===_0x1811e4);_0x2fcaf4&&_0x2fcaf4['lessonPlan']?(displayLessonPlan(_0x2fcaf4[_0xa4f60c(0x3ee)],_0x2fcaf4),showConfirmation(_0xa4f60c(0x23a),()=>handleGenerateLessonPlan(_0x1811e4)),document[_0xa4f60c(0x932)](_0xa4f60c(0x307))[_0xa4f60c(0xc60)]('h3')[_0xa4f60c(0xdec)]='แผนการสอน',document[_0xa4f60c(0x932)](_0xa4f60c(0x50b))[_0xa4f60c(0xdec)]='สร้างใหม่'):handleGenerateLessonPlan(_0x1811e4);}else{if(_0x273899)handleToggleStarQuiz(_0x273899[_0xa4f60c(0x134)][_0xa4f60c(0xa91)]);else{if(_0x1bf3c4)copyTextToClipboard(_0x1bf3c4[_0xa4f60c(0x134)][_0xa4f60c(0xa91)],_0xa4f60c(0x425));else{if(_0x300edf)handleOpenQuizEditor(_0x300edf['dataset'][_0xa4f60c(0xa91)]);else{if(_0x4e880a)handleQuizSettings(_0x4e880a[_0xa4f60c(0x134)][_0xa4f60c(0xa91)]);else{if(_0xb1e894)handleDuplicateQuiz(_0xb1e894['dataset'][_0xa4f60c(0xa91)]);else{if(_0x5b7262)handleRenameQuiz(_0x5b7262[_0xa4f60c(0x134)][_0xa4f60c(0xa91)],_0x5b7262[_0xa4f60c(0x134)][_0xa4f60c(0x79c)]);else{if(_0x1cd9e5){const _0x1e8da1=_0x1cd9e5[_0xa4f60c(0x134)][_0xa4f60c(0xa91)],_0x35f425=allQuizzes[_0xa4f60c(0x7a3)](_0x29887d=>_0x29887d['id']===_0x1e8da1);_0x35f425&&handleGenerateParallelFromBank(_0x35f425);}else{if(_0x46420f)handleMoveQuiz(_0x46420f[_0xa4f60c(0x134)]['quizId']);else{if(_0x3e7ea2)handleManualQuizPairing(_0x3e7ea2[_0xa4f60c(0x134)][_0xa4f60c(0xa91)]);else{if(_0x594d40)handleUnpairQuiz(_0x594d40['dataset'][_0xa4f60c(0xa91)]);else{if(_0x15fc14){const _0x21ebfa=_0x15fc14[_0xa4f60c(0x134)][_0xa4f60c(0xa91)],_0x31ef14=allQuizzes[_0xa4f60c(0x7a3)](_0x42e61d=>_0x42e61d['id']===_0x21ebfa);if(_0x31ef14)startPresentation(_0x31ef14);}else{if(_0x36ae1c){const _0x49dc6c=_0x36ae1c[_0xa4f60c(0x134)][_0xa4f60c(0xa91)],_0xe03404=allQuizzes[_0xa4f60c(0x7a3)](_0x3a03e7=>_0x3a03e7['id']===_0x49dc6c);_0xe03404&&(currentQuizData=_0xe03404,startAdminTest());}else{if(_0x10c43c)actionTargetId=_0x10c43c[_0xa4f60c(0x134)][_0xa4f60c(0xa91)],document[_0xa4f60c(0x932)]('export-pdf-modal')['classList'][_0xa4f60c(0xcc8)]('hidden');else{if(_0x483df5)showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22'+_0x483df5[_0xa4f60c(0x134)][_0xa4f60c(0x79c)]+_0xa4f60c(0x29d),()=>handleDeleteQuiz(_0x483df5[_0xa4f60c(0x134)][_0xa4f60c(0xa91)]));else{if(_0x3c24e4)handleQuizStatus(_0x3c24e4[_0xa4f60c(0x134)][_0xa4f60c(0xa91)]);else{if(_0x4a2985)handleGenerateEasyVersionQuiz(_0x4a2985['dataset'][_0xa4f60c(0xa91)]);else _0xe809ee&&showQuizDetailView(_0xe809ee['dataset']['quizId']);}}}}}}}}}}}}}}}}}}}}}}),document[_0x39ca10(0x932)](_0x39ca10(0xb1d))[_0x39ca10(0x639)](_0x39ca10(0x164),()=>showView(_0x39ca10(0x18c))),document[_0x39ca10(0x932)](_0x39ca10(0x9c3))[_0x39ca10(0x639)](_0x39ca10(0x164),confirmAndStartTeamQuiz),document[_0x39ca10(0x932)](_0x39ca10(0xded))[_0x39ca10(0xc60)](_0x39ca10(0x74e))[_0x39ca10(0x639)](_0x39ca10(0x164),_0x3eb456=>{const _0x245318=_0x39ca10,_0x44fe42=_0x3eb456[_0x245318(0x5f8)][_0x245318(0x1d0)](_0x245318(0x1c3));if(!_0x44fe42||!_0x44fe42['dataset']['sort'])return;const _0x3fd677=_0x44fe42[_0x245318(0x134)][_0x245318(0x41f)];if(quizLeaderboardSortBy===_0x3fd677)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0x245318(0x76c)?_0x245318(0xdf0):_0x245318(0x76c);else{quizLeaderboardSortBy=_0x3fd677;const _0x287d21=[_0x245318(0xad2)];quizLeaderboardSortOrder=_0x287d21['includes'](_0x3fd677)?_0x245318(0x76c):_0x245318(0xdf0);}renderQuizLeaderboard(currentSubmissions,currentQuizData,_0x245318(0x6cd));}),document['getElementById']('close-presentation-btn')[_0x39ca10(0x639)](_0x39ca10(0x164),closePresentation),document['getElementById'](_0x39ca10(0x414))[_0x39ca10(0x639)](_0x39ca10(0x164),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0x39ca10(0x932)](_0x39ca10(0xb79))['addEventListener'](_0x39ca10(0x164),()=>{const _0x1c6d1b=_0x39ca10;currentQuizData['questions']&&currentPresentationSlide<currentQuizData[_0x1c6d1b(0xc46)][_0x1c6d1b(0x752)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x39ca10(0x639)](_0x39ca10(0xd12),()=>{const _0x49a1b5=_0x39ca10;!document[_0x49a1b5(0x805)]&&(presentationModal[_0x49a1b5(0x6dc)][_0x49a1b5(0xb59)]='none');}),document['getElementById'](_0x39ca10(0x243))[_0x39ca10(0x639)](_0x39ca10(0x164),handleDeleteAllStudents),studentList['addEventListener'](_0x39ca10(0x164),_0x8b7203=>{const _0x1a0a98=_0x39ca10,_0x30c610=_0x8b7203['target'][_0x1a0a98(0x1d0)](_0x1a0a98(0x2fb));if(_0x30c610){const _0x46f310=_0x30c610[_0x1a0a98(0x134)][_0x1a0a98(0xad2)];handleDeleteStudent(_0x46f310);}}),document[_0x39ca10(0x932)](_0x39ca10(0x28d))[_0x39ca10(0x639)](_0x39ca10(0x164),handleGenerateFromFileClick),fileUploadInput[_0x39ca10(0x639)]('change',_0x1fd3bf=>{const _0x5b174a=_0x39ca10,_0x5d2227=_0x1fd3bf['target']['files'][0x0],_0x31ee93=document[_0x5b174a(0x932)](_0x5b174a(0x28d)),_0x44de92=document[_0x5b174a(0x932)](_0x5b174a(0xa99)),_0x4cc994=document[_0x5b174a(0x932)]('separate-by-content-from-file-checkbox');_0x5d2227?(selectedFile=_0x5d2227,_0x4cc994['checked']?(_0x31ee93[_0x5b174a(0xad6)]=!![],analyzeFileForTopics(_0x5d2227)):(_0x31ee93[_0x5b174a(0xad6)]=![],_0x44de92[_0x5b174a(0x360)][_0x5b174a(0x4a6)]('hidden'))):(selectedFile=null,_0x31ee93[_0x5b174a(0xad6)]=!![],_0x44de92[_0x5b174a(0x360)][_0x5b174a(0x4a6)](_0x5b174a(0x2f2)));}),document[_0x39ca10(0x932)]('separate-by-content-from-file-checkbox')[_0x39ca10(0x639)](_0x39ca10(0x62d),_0x156855=>{const _0x19f50c=_0x39ca10,_0x2a2d4a=_0x156855[_0x19f50c(0x5f8)]['checked'],_0x4688ac=document[_0x19f50c(0x932)](_0x19f50c(0x28d)),_0x13ee5a=document[_0x19f50c(0x932)](_0x19f50c(0xa99));_0x2a2d4a?(_0x4688ac['disabled']=!![],selectedFile?analyzeFileForTopics(selectedFile):(_0x13ee5a[_0x19f50c(0x360)][_0x19f50c(0xcc8)](_0x19f50c(0x2f2)),document[_0x19f50c(0x932)](_0x19f50c(0xc27))[_0x19f50c(0xa16)]='<p\x20class=\x22text-gray-400\x20text-center\x22>กรุณาอัปโหลดไฟล์เพื่อเริ่มการวิเคราะห์...</p>')):(_0x13ee5a[_0x19f50c(0x360)]['add'](_0x19f50c(0x2f2)),_0x4688ac[_0x19f50c(0xad6)]=!selectedFile);}),document[_0x39ca10(0x932)](_0x39ca10(0xa99))[_0x39ca10(0x639)]('click',_0x1847ef=>{const _0x4bd911=_0x39ca10,_0x5506c0=_0x1847ef[_0x4bd911(0x5f8)][_0x4bd911(0x1d0)]('.file-topic-selection-btn'),_0x30b1f5=_0x1847ef[_0x4bd911(0x5f8)][_0x4bd911(0x1d0)](_0x4bd911(0x8e5));if(_0x5506c0){const _0x43ca9b=unescape(_0x5506c0['dataset'][_0x4bd911(0x79c)]);generateHybridQuizForTopic(_0x43ca9b);}else{if(_0x30b1f5){const _0x226efa=unescape(_0x30b1f5[_0x4bd911(0x134)][_0x4bd911(0x79c)]),_0x460ce8=document[_0x4bd911(0x932)]('difficulty-level-select')[_0x4bd911(0x99c)];handleGenerateAndShowLesson(_0x226efa,_0x460ce8);}}}),document[_0x39ca10(0x932)](_0x39ca10(0x41b))[_0x39ca10(0x639)](_0x39ca10(0x62d),_0x585c85=>{const _0x5f35db=_0x39ca10,_0x1d96e9=document[_0x5f35db(0x932)](_0x5f35db(0x836)),_0xd2fa60=document[_0x5f35db(0x932)](_0x5f35db(0x4de)),_0x1c25fd=document[_0x5f35db(0x932)](_0x5f35db(0x760));_0x585c85[_0x5f35db(0x5f8)][_0x5f35db(0x99c)]===_0x5f35db(0x7dc)?_0x1d96e9[_0x5f35db(0x360)]['add'](_0x5f35db(0x2f2)):(_0x1d96e9[_0x5f35db(0x360)][_0x5f35db(0xcc8)]('hidden'),_0x585c85[_0x5f35db(0x5f8)][_0x5f35db(0x99c)]===_0x5f35db(0x9f3)?(_0xd2fa60[_0x5f35db(0xdec)]=_0x5f35db(0x7ea),_0x1c25fd[_0x5f35db(0x99c)]='10'):(_0xd2fa60[_0x5f35db(0xdec)]='ระยะเวลา\x20(วินาที):',_0x1c25fd[_0x5f35db(0x99c)]='30'));}),document[_0x39ca10(0x932)]('quiz-type-select')[_0x39ca10(0x639)](_0x39ca10(0x62d),_0x3a365d=>{const _0x1cb849=_0x39ca10,_0x4b1444=document[_0x1cb849(0x932)]('num-choices-container'),_0x2a290f=_0x3a365d[_0x1cb849(0x5f8)][_0x1cb849(0x99c)],_0x279a9a=document[_0x1cb849(0xc60)](_0x1cb849(0x32c)),_0x673df4=document[_0x1cb849(0x932)](_0x1cb849(0xbd3)),_0x2f28fb=document[_0x1cb849(0x932)](_0x1cb849(0x70e));_0x2a290f===_0x1cb849(0x2a8)?_0x279a9a[_0x1cb849(0xdec)]=_0x1cb849(0x4c7):_0x279a9a[_0x1cb849(0xdec)]=_0x1cb849(0x3f3),_0x2a290f===_0x1cb849(0x47e)||_0x2a290f===_0x1cb849(0xa65)||_0x2a290f==='mixed'?_0x4b1444[_0x1cb849(0x360)][_0x1cb849(0xcc8)](_0x1cb849(0x2f2)):_0x4b1444[_0x1cb849(0x360)][_0x1cb849(0x4a6)]('hidden'),_0x673df4[_0x1cb849(0x824)]=_0x2f28fb['value'];}),document[_0x39ca10(0x932)](_0x39ca10(0x70e))[_0x39ca10(0x639)](_0x39ca10(0x41a),_0x1dda65=>{const _0x151bb0=_0x39ca10;document[_0x151bb0(0x932)](_0x151bb0(0xbd3))[_0x151bb0(0x824)]=_0x1dda65[_0x151bb0(0x5f8)][_0x151bb0(0x99c)];}),document['getElementById'](_0x39ca10(0x797))[_0x39ca10(0x639)](_0x39ca10(0x62d),_0x392808=>{const _0x3a7b78=_0x39ca10,_0x83734f=document[_0x3a7b78(0x932)](_0x3a7b78(0xcd8)),_0x1ace78=document['getElementById'](_0x3a7b78(0x985)),_0x53d2c9=document[_0x3a7b78(0x932)]('modal-timer-duration-input');_0x392808[_0x3a7b78(0x5f8)][_0x3a7b78(0x99c)]==='none'?_0x83734f[_0x3a7b78(0x360)]['add'](_0x3a7b78(0x2f2)):(_0x83734f[_0x3a7b78(0x360)][_0x3a7b78(0xcc8)](_0x3a7b78(0x2f2)),_0x392808[_0x3a7b78(0x5f8)]['value']==='whole_quiz'?_0x1ace78[_0x3a7b78(0xdec)]=_0x3a7b78(0x7ea):_0x1ace78['textContent']=_0x3a7b78(0x9b2));}),document['getElementById']('cancel-quiz-edits-btn')[_0x39ca10(0x639)]('click',()=>{const _0x1849ab=_0x39ca10;document['getElementById'](_0x1849ab(0x546))[_0x1849ab(0x360)][_0x1849ab(0x4a6)](_0x1849ab(0x2f2));}),document[_0x39ca10(0x932)](_0x39ca10(0x320))['addEventListener'](_0x39ca10(0x164),()=>{const _0xf563ea=_0x39ca10;document[_0xf563ea(0x932)](_0xf563ea(0x546))[_0xf563ea(0x360)][_0xf563ea(0x4a6)](_0xf563ea(0x2f2));}),document[_0x39ca10(0x932)](_0x39ca10(0x163))[_0x39ca10(0x639)]('click',handleVerifyAnswersInEditor),document[_0x39ca10(0x932)](_0x39ca10(0xe8f))['addEventListener'](_0x39ca10(0x164),()=>{const _0x9620fe=_0x39ca10;document[_0x9620fe(0x932)](_0x9620fe(0x546))[_0x9620fe(0x360)][_0x9620fe(0x4a6)](_0x9620fe(0x2f2)),showConfirmation(_0x9620fe(0xe72),handleSaveChanges);}),document[_0x39ca10(0x932)]('auto-fix-latex-btn')['addEventListener'](_0x39ca10(0x164),handleAutoFixLatex);const _0x136cf6=document[_0x39ca10(0x932)]('quiz-editor-questions-container');_0x136cf6&&_0x136cf6[_0x39ca10(0x639)](_0x39ca10(0x164),_0x4e405e=>{const _0x5d0d8c=_0x39ca10,_0x2076b5=_0x4e405e[_0x5d0d8c(0x5f8)]['closest'](_0x5d0d8c(0x8a1));if(_0x2076b5){const _0x490a7d=_0x2076b5['closest'](_0x5d0d8c(0xbb8)),_0x2f5cea=parseInt(_0x490a7d[_0x5d0d8c(0x134)][_0x5d0d8c(0xcbf)],0xa);handleRegenerateQuestionInEditor(_0x2f5cea);return;}const _0x4aa1f4=_0x4e405e['target'][_0x5d0d8c(0x1d0)](_0x5d0d8c(0x557));if(_0x4aa1f4){const _0x5d80f0=_0x4aa1f4[_0x5d0d8c(0x1d0)](_0x5d0d8c(0xbb8)),_0x1f9a2a=parseInt(_0x5d80f0['dataset'][_0x5d0d8c(0xcbf)],0xa);handleDeleteQuestionInEditor(_0x1f9a2a);return;}const _0x3ebc2e=_0x4e405e['target'][_0x5d0d8c(0x1d0)](_0x5d0d8c(0x3ce));if(_0x3ebc2e){handleAddQuestionInEditor();return;}});document[_0x39ca10(0x932)]('open-quiz-bank-btn')['addEventListener'](_0x39ca10(0x164),openQuizBankModal),document[_0x39ca10(0x932)](_0x39ca10(0xcba))[_0x39ca10(0x639)](_0x39ca10(0x164),()=>{const _0x4d8769=_0x39ca10;document[_0x4d8769(0x932)]('quiz-bank-modal')[_0x4d8769(0x360)][_0x4d8769(0x4a6)](_0x4d8769(0x2f2));}),document['getElementById'](_0x39ca10(0x454))[_0x39ca10(0x639)](_0x39ca10(0x41a),_0x21f00b=>renderQuizBankList(_0x21f00b['target']['value']));const _0x2213ff=document[_0x39ca10(0x932)]('math-topics-checkbox-container');if(_0x2213ff){let _0x26d2da=null;_0x2213ff[_0x39ca10(0x639)]('click',_0x4727e1=>{const _0x247874=_0x39ca10,_0x36643d=_0x4727e1[_0x247874(0x5f8)],_0x335905=_0x36643d[_0x247874(0x1d0)]('.edit-custom-topic-btn'),_0x5ee2ed=_0x36643d[_0x247874(0x1d0)](_0x247874(0xdd8)),_0x2eda11=_0x36643d[_0x247874(0x1d0)]('.save-custom-topic-btn'),_0x2ecc90=_0x36643d[_0x247874(0x1d0)]('.cancel-edit-topic-btn');if(_0x5ee2ed){_0x4727e1[_0x247874(0xcfb)]();const _0x3c58a1=_0x5ee2ed[_0x247874(0x134)]['id'],_0x3409b0=_0x5ee2ed['closest']('.group')[_0x247874(0xc60)](_0x247874(0x19d))[_0x247874(0xdec)];showConfirmation(_0x247874(0x55e)+_0x3409b0+'\x22?',()=>handleDeleteCustomTopic(_0x3c58a1));}else{if(_0x335905){_0x4727e1[_0x247874(0xcfb)]();_0x26d2da&&toggleTopicEditMode(_0x26d2da,![]);const _0x118897=_0x335905[_0x247874(0x1d0)](_0x247874(0x7b8));_0x26d2da=_0x118897,toggleTopicEditMode(_0x118897,!![]);}else{if(_0x2eda11){_0x4727e1[_0x247874(0xcfb)]();const _0x476e27=_0x2eda11[_0x247874(0x134)]['id'],_0x1b0a43=_0x2eda11[_0x247874(0x1d0)]('[data-topic-container-id]'),_0x413e11=_0x1b0a43['querySelector'](_0x247874(0x8f5))[_0x247874(0x99c)];handleUpdateCustomTopic(_0x476e27,_0x413e11),_0x26d2da=null;}else{if(_0x2ecc90){_0x4727e1[_0x247874(0xcfb)]();const _0x23fa45=_0x2ecc90['closest'](_0x247874(0x7b8));toggleTopicEditMode(_0x23fa45,![]),_0x26d2da=null;}}}}}),document['getElementById'](_0x39ca10(0x7c8))[_0x39ca10(0x639)](_0x39ca10(0x164),()=>{const _0x201fb3=_0x39ca10;document[_0x201fb3(0x932)](_0x201fb3(0x309))[_0x201fb3(0x360)][_0x201fb3(0x4a6)](_0x201fb3(0x2f2));}),document['getElementById'](_0x39ca10(0x909))[_0x39ca10(0x639)](_0x39ca10(0x164),()=>{const _0x3a7925=_0x39ca10;document[_0x3a7925(0x932)](_0x3a7925(0x309))[_0x3a7925(0x360)][_0x3a7925(0x4a6)](_0x3a7925(0x2f2));}),document[_0x39ca10(0x932)](_0x39ca10(0xe76))[_0x39ca10(0x639)](_0x39ca10(0x164),handleExportLessonPDF);}document[_0x39ca10(0x932)](_0x39ca10(0x5a6))['addEventListener'](_0x39ca10(0x164),()=>{const _0x69fae=_0x39ca10;document[_0x69fae(0x932)]('comparison-modal')['classList']['add'](_0x69fae(0x2f2));}),document[_0x39ca10(0x932)](_0x39ca10(0xc32))[_0x39ca10(0x639)](_0x39ca10(0x164),()=>{const _0x3ce731=_0x39ca10;document['getElementById']('comparison-modal')['classList']['add'](_0x3ce731(0x2f2));}),setupComparisonModalTabs(),document[_0x39ca10(0x6ac)][_0x39ca10(0x639)](_0x39ca10(0x164),function(_0x813fe2){const _0x29a5aa=_0x39ca10;if(_0x813fe2['target']['classList'][_0x29a5aa(0x3fa)](_0x29a5aa(0xb94))){const _0x1bd73a=unescape(_0x813fe2[_0x29a5aa(0x5f8)][_0x29a5aa(0x134)][_0x29a5aa(0x79c)]);startSkillPractice(_0x1bd73a);}}),document[_0x39ca10(0x932)](_0x39ca10(0xb09))[_0x39ca10(0x639)](_0x39ca10(0x164),_0x87ac7d=>{const _0x4f2dcd=_0x39ca10,_0x294611=_0x87ac7d[_0x4f2dcd(0x5f8)][_0x4f2dcd(0x1d0)](_0x4f2dcd(0x583));if(_0x294611){const _0x2e39eb=_0x294611['dataset'][_0x4f2dcd(0xad2)];handleDeleteSubmission(_0x2e39eb);return;}const _0x455563=_0x87ac7d[_0x4f2dcd(0x5f8)][_0x4f2dcd(0x1d0)](_0x4f2dcd(0x5b6));if(_0x455563){const _0x3622fa=_0x455563[_0x4f2dcd(0x134)][_0x4f2dcd(0xad2)],_0x4b1eb4=_0x455563[_0x4f2dcd(0x134)][_0x4f2dcd(0x4cd)],_0x156b23=prompt(_0x4f2dcd(0x7d5)+_0x3622fa+_0x4f2dcd(0xe30),_0x4b1eb4);if(_0x156b23!==null&&_0x156b23[_0x4f2dcd(0xa4d)]()!==''){const _0x437ed2=parseInt(_0x156b23,0xa);!isNaN(_0x437ed2)?handleManualEditPoints(_0x3622fa,_0x437ed2):alert(_0x4f2dcd(0x42b));}}}),document[_0x39ca10(0x932)](_0x39ca10(0x331))?.[_0x39ca10(0x639)](_0x39ca10(0x164),()=>{const _0x5238d8=_0x39ca10;document[_0x5238d8(0x932)](_0x5238d8(0xabd))[_0x5238d8(0x360)][_0x5238d8(0x4a6)](_0x5238d8(0x2f2));}),document[_0x39ca10(0x38e)](_0x39ca10(0x3f2))[_0x39ca10(0x39f)](_0x21d1c1=>{const _0x5948d9=_0x39ca10;_0x21d1c1[_0x5948d9(0x639)](_0x5948d9(0x164),()=>{const _0x812a3c=_0x5948d9;handlePinKeyPress(_0x21d1c1[_0x812a3c(0x134)][_0x812a3c(0x1f9)]);});}),document[_0x39ca10(0x932)](_0x39ca10(0x982))?.[_0x39ca10(0x639)]('click',()=>{const _0x20b834=_0x39ca10;handlePinKeyPress(_0x20b834(0x614));});}async function handleStartGroupMode(_0x2041ec,_0x4d1c45=![]){const _0x46c9db=_0x2bcb18,_0x59580f=allQuizzes[_0x46c9db(0x7a3)](_0x22c2f1=>_0x22c2f1['id']===_0x2041ec)||allQuizzesGlobal[_0x46c9db(0x7a3)](_0x47870e=>_0x47870e['id']===_0x2041ec);if(!_0x59580f){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}currentQuizData=getShuffledQuiz(_0x59580f);const _0xf459d1=Math[_0x46c9db(0x4cf)](0x3e8+Math[_0x46c9db(0xbad)]()*0x2328)[_0x46c9db(0xdcb)]();try{const _0x3a08c3=await addDoc(collection(db,_0x46c9db(0x6e6)+appId+_0x46c9db(0x8de)),{'quizId':_0x59580f['id'],'projectId':_0x59580f[_0x46c9db(0xc80)],'status':_0x46c9db(0x182),'pin':_0xf459d1,'mode':_0x46c9db(0xe25),'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'groups':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x4d1c45});currentTeamQuizId=_0x3a08c3['id'],showView(_0x46c9db(0x1e5)),renderAdminTeamQuizDashboard(_0xf459d1,_0x59580f[_0x46c9db(0x79c)],'group'),listenForTeamQuizUpdates();}catch(_0xc798d5){console[_0x46c9db(0x1ac)](_0x46c9db(0x455),_0xc798d5),showMessage('เกิดข้อผิดพลาดในการสร้างห้อง\x20Group\x20Quiz');}}async function showStudentProgressView(){const _0x11a612=_0x2bcb18;studentInitialView[_0x11a612(0x360)]['add'](_0x11a612(0x2f2)),document['getElementById']('student-progress-view')[_0x11a612(0x360)][_0x11a612(0xcc8)](_0x11a612(0x2f2));const _0x13014e=document[_0x11a612(0x932)](_0x11a612(0x4a5)),_0x526331=document[_0x11a612(0x932)](_0x11a612(0x698)),_0x14be8e=document[_0x11a612(0x932)](_0x11a612(0x496));_0x14be8e['innerHTML']=_0x11a612(0x772),_0x526331[_0x11a612(0xa16)]=_0x11a612(0xe6d),_0x526331[_0x11a612(0xad6)]=!![],_0x13014e['innerHTML']='<option\x20value=\x22\x22>กำลังโหลด...</option>';if(allProjects[_0x11a612(0x752)]===0x0){const _0x30d62c=collection(db,_0x11a612(0x6e6)+appId+_0x11a612(0x53a)),_0x3f7ca9=await getDocs(_0x30d62c);allProjects=_0x3f7ca9[_0x11a612(0x9ef)]['map'](_0xbecfcf=>({'id':_0xbecfcf['id'],..._0xbecfcf[_0x11a612(0x13f)]()}));}const _0x3bd59a=allProjects['filter'](_0x5866ab=>_0x5866ab[_0x11a612(0x6ce)]?.['showInStudentDashboard']!==![]);_0x3bd59a[_0x11a612(0x41f)]((_0x30ecb0,_0x16b230)=>_0x30ecb0[_0x11a612(0x1cc)][_0x11a612(0x1bf)](_0x16b230[_0x11a612(0x1cc)],'th')),_0x13014e[_0x11a612(0xa16)]='<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>'+_0x3bd59a['map'](_0x239289=>_0x11a612(0x1bd)+_0x239289['id']+'\x22>'+_0x239289[_0x11a612(0x1cc)]+_0x11a612(0x194))[_0x11a612(0xbb2)](''),_0x13014e[_0x11a612(0x272)]=()=>{const _0x258684=_0x11a612,_0x1942d4=_0x526331[_0x258684(0x99c)],_0x2dc2d7=_0x13014e['value'];_0x526331[_0x258684(0xad6)]=!![],_0x526331[_0x258684(0xa16)]=_0x258684(0xe6d),_0x14be8e['innerHTML']=_0x258684(0x95e);if(!_0x2dc2d7)return;const _0x3fefc2=allProjects[_0x258684(0x7a3)](_0x2f823f=>_0x2f823f['id']===_0x2dc2d7);if(!_0x3fefc2||!_0x3fefc2['students'])return;const _0x47bf8c=()=>{const _0x57b77c=_0x258684;_0x526331[_0x57b77c(0xa16)]=_0x57b77c(0xe6d)+_0x3fefc2['students'][_0x57b77c(0xe49)](_0x4f927a=>'<option\x20value=\x22'+_0x4f927a+'\x22>'+_0x4f927a+_0x57b77c(0x194))[_0x57b77c(0xbb2)](''),_0x526331[_0x57b77c(0xad6)]=![];const _0x2c6296=Array[_0x57b77c(0x337)](_0x526331[_0x57b77c(0x3e2)])[_0x57b77c(0xe49)](_0x231f47=>_0x231f47[_0x57b77c(0x99c)]);if(_0x1942d4&&_0x2c6296[_0x57b77c(0xd2e)](_0x1942d4))_0x526331[_0x57b77c(0x99c)]=_0x1942d4,_0x526331[_0x57b77c(0x6fe)](new Event(_0x57b77c(0x62d)));else _0x3fefc2[_0x57b77c(0x950)][_0x57b77c(0x752)]===0x1&&(_0x526331[_0x57b77c(0x99c)]=_0x3fefc2[_0x57b77c(0x950)][0x0],_0x526331[_0x57b77c(0x6fe)](new Event(_0x57b77c(0x62d))));};if(_0x3fefc2[_0x258684(0x6ce)]?.[_0x258684(0xd8b)]){if(sessionStorage[_0x258684(0x577)](_0x258684(0x562)+_0x2dc2d7)===_0x258684(0x1b2)){_0x47bf8c();return;}const _0x1172a5=document[_0x258684(0x932)](_0x258684(0x8a6)),_0x5097d1=document[_0x258684(0x932)](_0x258684(0xa84)),_0x9674dd=document[_0x258684(0x932)](_0x258684(0x2f3)),_0x56bdbe=document[_0x258684(0x932)](_0x258684(0xc90)),_0x568347=document[_0x258684(0x932)](_0x258684(0xe80));document['getElementById'](_0x258684(0x701))[_0x258684(0xdec)]=_0x258684(0x9c0)+_0x3fefc2[_0x258684(0x1cc)],_0x56bdbe[_0x258684(0x99c)]='',_0x568347[_0x258684(0x360)][_0x258684(0x4a6)](_0x258684(0x2f2)),_0x1172a5[_0x258684(0x360)][_0x258684(0xcc8)](_0x258684(0x2f2));const _0x591873=()=>{const _0x1133af=_0x258684,_0xe88bc=_0x56bdbe['value'][_0x1133af(0xa4d)]();_0xe88bc===_0x3fefc2[_0x1133af(0x6ce)][_0x1133af(0x372)]?(sessionStorage[_0x1133af(0x798)]('authed_project_'+_0x2dc2d7,_0x1133af(0x1b2)),_0x1172a5['classList']['add'](_0x1133af(0x2f2)),_0x47bf8c(),_0x5097d1[_0x1133af(0x9c9)](_0x1133af(0x164),_0x591873)):_0x568347[_0x1133af(0x360)][_0x1133af(0xcc8)](_0x1133af(0x2f2));};_0x5097d1[_0x258684(0xe1b)]=_0x591873,_0x9674dd[_0x258684(0xe1b)]=()=>{const _0x2aaa96=_0x258684;_0x1172a5[_0x2aaa96(0x360)][_0x2aaa96(0x4a6)](_0x2aaa96(0x2f2)),_0x13014e[_0x2aaa96(0x99c)]='',_0x5097d1[_0x2aaa96(0x9c9)](_0x2aaa96(0x164),_0x591873);};}else _0x47bf8c();},_0x526331[_0x11a612(0x272)]=()=>{const _0x7ef1f4=_0x11a612,_0x31c05f=_0x13014e['value'],_0xb3b0b5=_0x526331[_0x7ef1f4(0x99c)];_0x31c05f&&_0xb3b0b5&&renderStudentProgressDashboard(_0x31c05f,_0xb3b0b5);};}async function confirmAndJoinSyncGame(){const _0x4144bd=_0x2bcb18;lastSeenQuestionIndex=-0x1,sessionStorage['removeItem'](_0x4144bd(0x72d)),sessionStorage['removeItem'](_0x4144bd(0xa32)),Object['keys'](sessionStorage)[_0x4144bd(0x39f)](_0x5d5459=>{const _0xa9b1f0=_0x4144bd;(_0x5d5459[_0xa9b1f0(0x646)](_0xa9b1f0(0x5ee))||_0x5d5459[_0xa9b1f0(0x646)](_0xa9b1f0(0x707))||_0x5d5459[_0xa9b1f0(0x646)](_0xa9b1f0(0x7b6)))&&sessionStorage[_0xa9b1f0(0x741)](_0x5d5459);});const _0x5a6930=Array[_0x4144bd(0x337)](document['querySelectorAll'](_0x4144bd(0xcdf)))['map'](_0x53454b=>_0x53454b[_0x4144bd(0x99c)]);if(_0x5a6930['length']===0x0){showMessage(_0x4144bd(0xe52));return;}localTeamPlayers=_0x5a6930,localPlayerTurnIndex=0x0,cachedPlayerData={};try{const _0xdd978b=writeBatch(db),_0x4cabe0=serverTimestamp();for(const _0x519b49 of _0x5a6930){const _0x16122e=doc(db,'artifacts/'+appId+'/public/data/syncGames/'+currentLiveGameId+_0x4144bd(0xaf4),_0x519b49),_0x2da635=await getDoc(_0x16122e);if(_0x2da635[_0x4144bd(0x7d2)]())_0xdd978b[_0x4144bd(0xbe3)](_0x16122e,{'status':_0x4144bd(0x76a)}),console[_0x4144bd(0x273)]('Welcome\x20back,\x20'+_0x519b49+_0x4144bd(0xd21));else{const _0x2c4563={'name':_0x519b49,'score':0x0,'totalPoints':0x0,'pointsLastRound':0x0,'powerups':{'fiftyFifty':0x0,'secondChance':0x0,'buyTime':0x0,'poll':0x0,'wagerMultiplier':0x0,'forceConfident':0x0,'cutOne':0x0,'insurance':0x0,'strategyScan':0x0,'jinx':0x0,'revealOptions':0x0},'answered':![],'status':'active','answers':[],'joinedAt':_0x4cabe0,'isJinxed':![],'isForcedConfident':![],'timeBonusThisQuestion':0x0};_0xdd978b[_0x4144bd(0xb84)](_0x16122e,_0x2c4563);}}await _0xdd978b[_0x4144bd(0x6fc)](),showView(_0x4144bd(0x1e5)),document[_0x4144bd(0x932)](_0x4144bd(0xd2d))[_0x4144bd(0x360)][_0x4144bd(0x4a6)](_0x4144bd(0x2f2)),currentStudentName=_0x5a6930[0x0],listenForSyncGameUpdates();const _0x52586c={'gameId':currentLiveGameId,'mode':'sync','players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x4144bd(0x798)](_0x4144bd(0x15d),JSON[_0x4144bd(0x692)](_0x52586c));}catch(_0x18eb37){console['error'](_0x4144bd(0x79a),_0x18eb37),showMessage(_0x4144bd(0x6a4)+_0x18eb37['message']);}}async function resumeActiveGameSession(){const _0x1858e1=_0x2bcb18,_0x422a62=sessionStorage[_0x1858e1(0x577)](_0x1858e1(0x15d));if(!_0x422a62)return;const _0x4d0158=JSON[_0x1858e1(0x4bd)](_0x422a62),{gameId:_0x16941e,mode:_0x161085,role:_0x237c71,players:_0x443fe1,turnIndex:_0x4e13ed}=_0x4d0158;try{if(_0x237c71===_0x1858e1(0xcd1)&&_0x161085===_0x1858e1(0xe51)){const _0x29b38b=doc(db,_0x1858e1(0x6e6)+appId+_0x1858e1(0x2ef),_0x16941e),_0x3287cb=await getDoc(_0x29b38b);if(!_0x3287cb[_0x1858e1(0x7d2)]()||_0x3287cb[_0x1858e1(0x13f)]()[_0x1858e1(0x1f8)]===_0x1858e1(0x844)||_0x3287cb[_0x1858e1(0x13f)]()[_0x1858e1(0x1f8)]===_0x1858e1(0x501)){sessionStorage[_0x1858e1(0x741)](_0x1858e1(0x15d));return;}console[_0x1858e1(0x273)](_0x1858e1(0x7c2)+_0x16941e+')'),currentMode=_0x1858e1(0xcd1),currentLiveGameId=_0x16941e,currentQuizData=_0x3287cb[_0x1858e1(0x13f)]()['shuffledQuiz'],showView(_0x1858e1(0x1e5)),listenForSyncGameUpdates();}else{if(_0x161085===_0x1858e1(0xe51)&&_0x443fe1){const _0x30d32f=doc(db,_0x1858e1(0x6e6)+appId+_0x1858e1(0x2ef),_0x16941e),_0x5b241d=await getDoc(_0x30d32f);if(!_0x5b241d[_0x1858e1(0x7d2)]()||_0x5b241d[_0x1858e1(0x13f)]()[_0x1858e1(0x1f8)]===_0x1858e1(0x844)||_0x5b241d[_0x1858e1(0x13f)]()[_0x1858e1(0x1f8)]===_0x1858e1(0x501)){sessionStorage[_0x1858e1(0x741)](_0x1858e1(0x15d));return;}console[_0x1858e1(0x273)](_0x1858e1(0xc05)+_0x16941e+')'),currentLiveGameId=_0x16941e,currentStudentName=_0x443fe1[0x0],localTeamPlayers=_0x443fe1,showView(_0x1858e1(0x1e5)),listenForSyncGameUpdates();}else{if((_0x161085===_0x1858e1(0x978)||_0x161085===_0x1858e1(0xe25))&&_0x443fe1){const _0x1f4e4e=doc(db,'artifacts/'+appId+_0x1858e1(0x8de),_0x16941e),_0x30efb6=await getDoc(_0x1f4e4e);if(!_0x30efb6[_0x1858e1(0x7d2)]()||_0x30efb6[_0x1858e1(0x13f)]()[_0x1858e1(0x1f8)]===_0x1858e1(0x844)||_0x30efb6[_0x1858e1(0x13f)]()[_0x1858e1(0x1f8)]===_0x1858e1(0x501)){sessionStorage[_0x1858e1(0x741)](_0x1858e1(0x15d));return;}console[_0x1858e1(0x273)](_0x1858e1(0x43f)+_0x161085+_0x1858e1(0x9e2)+_0x16941e+')'),currentTeamQuizId=_0x16941e,localTeamPlayers=_0x443fe1,localQuestionIndex=_0x4d0158['questionIndex']||0x0,localPlayerIndex=_0x4d0158[_0x1858e1(0xe2f)]||0x0;const _0x2e9a7d=_0x30efb6['data'](),_0xaf5346=doc(db,_0x1858e1(0x6e6)+appId+_0x1858e1(0x993),_0x2e9a7d[_0x1858e1(0xa91)]),_0x406b7c=await getDoc(_0xaf5346);_0x406b7c[_0x1858e1(0x7d2)]()&&(currentQuizData=getShuffledQuiz({'id':_0x406b7c['id'],..._0x406b7c[_0x1858e1(0x13f)]()}),showView('student'),studentInitialView[_0x1858e1(0x360)][_0x1858e1(0x4a6)](_0x1858e1(0x2f2)),_0x161085===_0x1858e1(0xe25)?renderGroupModeQuestion():renderTeamQuizQuestion(),listenForTeamQuizUpdates());}}}}catch(_0x402f1d){console[_0x1858e1(0x1ac)](_0x1858e1(0xe67),_0x402f1d),sessionStorage[_0x1858e1(0x741)](_0x1858e1(0x15d));}}async function handleUsePowerup(_0x4b426c,_0x2e30d2,_0x56e9fc,_0x1bc1f7,_0x3dfa1e){const _0x38aeaa=_0x2bcb18,_0x1ed212=_0x1bc1f7[_0x38aeaa(0x907)],_0x5d7bd3=_0x38aeaa(0x707)+_0x1ed212+'_p'+_0x4b426c,_0x5bcad1=sessionStorage[_0x38aeaa(0x577)](_0x5d7bd3);if(_0x5bcad1&&_0x2e30d2!==_0x38aeaa(0xe43)&&_0x2e30d2!==_0x38aeaa(0xca3)){showMessage('คุณสามารถใช้ตัวช่วยได้เพียง\x201\x20ครั้งต่อ\x201\x20ข้อครับ');const _0x4b3dfc=document[_0x38aeaa(0x932)]('use-powerup-'+_0x2e30d2);if(_0x4b3dfc)_0x4b3dfc['disabled']=![];return;}if(_0x2e30d2==='wagerMultiplier'){sessionStorage[_0x38aeaa(0x798)](_0x5d7bd3,_0x2e30d2),playSystemSound('powerup'),renderStudentSyncQuestionView(_0x1bc1f7);return;}const _0x220cc9=doc(db,_0x38aeaa(0x6e6)+appId+_0x38aeaa(0xd31)+currentLiveGameId+_0x38aeaa(0xaf4),_0x4b426c);try{await runTransaction(db,async _0x3fbf82=>{const _0x52342a=_0x38aeaa,_0x42aae3=await _0x3fbf82[_0x52342a(0x964)](_0x220cc9);if(!_0x42aae3[_0x52342a(0x7d2)]())throw'ไม่พบข้อมูลผู้เล่น';const _0x125def=_0x42aae3[_0x52342a(0x13f)](),_0x38e920=_0x125def['powerups']||{},_0x43659b=_0x38e920[_0x2e30d2]||0x0;if(_0x43659b<=0x0)throw _0x52342a(0xeac);const _0x197780={};_0x197780[_0x52342a(0x89f)+_0x2e30d2]=increment(-0x1);_0x2e30d2!==_0x52342a(0xac7)&&(_0x197780[_0x52342a(0xa43)]=0x0);if(_0x2e30d2===_0x52342a(0xe43)){const _0x1dce2f=(_0x1bc1f7['timerDuration']||0xf0)*0x3e8,_0x30662c=_0x1dce2f*0.25;_0x197780[_0x52342a(0x77e)]=increment(_0x30662c);}_0x3fbf82[_0x52342a(0xbe3)](_0x220cc9,_0x197780);}),_0x2e30d2==='poll'&&sessionStorage[_0x38aeaa(0x798)]('pollUsedThisTurn',_0x38aeaa(0x1b2)),_0x2e30d2!==_0x38aeaa(0xe43)&&_0x2e30d2!==_0x38aeaa(0xca3)&&sessionStorage[_0x38aeaa(0x798)](_0x5d7bd3,_0x2e30d2),playSystemSound(_0x38aeaa(0xa8f)),applyPowerupEffect(_0x4b426c,_0x2e30d2,_0x56e9fc,_0x1bc1f7,_0x3dfa1e),(_0x2e30d2===_0x38aeaa(0x7a5)||_0x2e30d2===_0x38aeaa(0xa53)||_0x2e30d2===_0x38aeaa(0x593)||_0x2e30d2===_0x38aeaa(0x37b))&&renderStudentSyncQuestionView(_0x1bc1f7),_0x2e30d2!==_0x38aeaa(0xac7)&&_0x3dfa1e[_0x38aeaa(0xa43)]>0x0&&showMessage(_0x38aeaa(0xdb0)+_0x2e30d2+_0x38aeaa(0x754));}catch(_0x28335c){console['error'](_0x38aeaa(0x380),_0x28335c),showMessage(typeof _0x28335c===_0x38aeaa(0x57a)?_0x28335c:_0x38aeaa(0x284));const _0x3bb52e=document[_0x38aeaa(0x932)]('use-powerup-'+_0x2e30d2);if(_0x3bb52e)_0x3bb52e[_0x38aeaa(0xad6)]=![];}}async function getCachedOtherPlayers(_0x2e5b3b,_0x2f2f08){const _0x43dfd9=_0x2bcb18,_0x1b240=_0x2e5b3b['currentQuestionIndex'];if(cachedOtherPlayersForQuestion&&cachedQuestionIndexForPlayers===_0x1b240)return console['log'](_0x43dfd9(0x60f)),cachedOtherPlayersForQuestion;console[_0x43dfd9(0x273)](_0x43dfd9(0x597));const _0x1622b1=collection(db,_0x43dfd9(0x6e6)+appId+_0x43dfd9(0xd31)+currentLiveGameId+_0x43dfd9(0xaf4)),_0x4a9552=query(_0x1622b1,where(_0x43dfd9(0x1f8),'==',_0x43dfd9(0x76a))),_0x447ff5=await getDocs(_0x4a9552),_0x5070f8=[];return _0x447ff5[_0x43dfd9(0x39f)](_0x5e3b5c=>{const _0x2fdc12=_0x43dfd9,_0x293f2e=_0x5e3b5c[_0x2fdc12(0x13f)]();_0x5070f8['push'](_0x293f2e);}),cachedOtherPlayersForQuestion=_0x5070f8,cachedQuestionIndexForPlayers=_0x1b240,_0x5070f8;}async function applyPowerupEffect(_0x13366a,_0x125ce8,_0x5ce085,_0x4a0471,_0x28cc0b){const _0x3b97e1=_0x2bcb18,_0x3d5bec=_0x5ce085,_0x7f48c7=_0x4a0471[_0x3b97e1(0x907)];switch(_0x125ce8){case _0x3b97e1(0xac7):showMessage(_0x3b97e1(0x622));break;case _0x3b97e1(0x4d5):showMessage(_0x3b97e1(0x85e));break;case'buyTime':const _0x5e38cc=(_0x4a0471[_0x3b97e1(0x460)]||0xf0)*0.25;showMessage('⏳\x20ซื้อเวลาสำเร็จ!\x20ได้เพิ่ม\x20'+_0x5e38cc+_0x3b97e1(0xdad));break;case'cutOne':case _0x3b97e1(0xa53):const _0x4c9af8=document[_0x3b97e1(0x38e)](_0x3b97e1(0x433));if(_0x4c9af8[_0x3b97e1(0x752)]===0x0){showMessage(_0x3b97e1(0x355));return;}const _0x31fde1='hiddenOptions_q'+_0x7f48c7+'_p'+_0x13366a,_0x156114=JSON[_0x3b97e1(0x4bd)](sessionStorage[_0x3b97e1(0x577)](_0x31fde1)||'[]');let _0x34baf3;const _0x48ad58=_0x3d5bec[_0x3b97e1(0x2ed)]||_0x4a0471['shuffledQuiz'][_0x3b97e1(0x2de)];_0x48ad58==='true_false'?_0x34baf3=String(_0x3d5bec[_0x3b97e1(0x8f4)])[_0x3b97e1(0x4ea)]()===_0x3b97e1(0x1b2)?0x0:0x1:_0x34baf3=_0x3d5bec[_0x3b97e1(0x52a)];const _0x36b880=Array[_0x3b97e1(0x337)](_0x4c9af8)[_0x3b97e1(0x9a7)](_0x134cf3=>parseInt(_0x134cf3[_0x3b97e1(0x134)][_0x3b97e1(0x99c)])!==_0x34baf3&&!_0x156114[_0x3b97e1(0xd2e)](_0x134cf3[_0x3b97e1(0x134)][_0x3b97e1(0x99c)]));if(_0x36b880[_0x3b97e1(0x752)]===0x0){showMessage(_0x3b97e1(0x51a));return;}shuffleArray(_0x36b880);const _0x47515f=_0x125ce8===_0x3b97e1(0x7a5)?0x1:0x2,_0x5ead53=[];for(let _0x3acc19=0x0;_0x3acc19<_0x47515f;_0x3acc19++){_0x36b880[_0x3acc19]&&(_0x36b880[_0x3acc19][_0x3b97e1(0x360)][_0x3b97e1(0x4a6)](_0x3b97e1(0x2f2)),_0x5ead53[_0x3b97e1(0xe86)](_0x36b880[_0x3acc19][_0x3b97e1(0x134)][_0x3b97e1(0x99c)]));}const _0x59dc34=[..._0x156114,..._0x5ead53];sessionStorage['setItem'](_0x31fde1,JSON['stringify'](_0x59dc34)),showMessage(_0x125ce8===_0x3b97e1(0x7a5)?_0x3b97e1(0x1ee):_0x3b97e1(0xe5c));break;default:showMessage(_0x3b97e1(0xe6c)+_0x125ce8+_0x3b97e1(0x585));}}async function handleForceConfident(_0x2f282c,_0x20eaaf){const _0x4418c9=_0x2bcb18;if(!currentLiveGameId||!_0x2f282c)return;const _0x37fd9f=doc(db,'artifacts/'+appId+'/public/data/syncGames/'+currentLiveGameId+_0x4418c9(0xaf4),_0x2f282c);try{await updateDoc(_0x37fd9f,{'isForcedConfident':!![]}),showMessage(_0x4418c9(0x245)+_0x20eaaf+_0x4418c9(0x508));}catch(_0xb788c4){console['error'](_0x4418c9(0xdef),_0xb788c4),showMessage(_0x4418c9(0x138));}}async function handleRefundPowerup(_0x501b19,_0x16a92c){const _0x44100b=_0x2bcb18,_0x8094e4=doc(db,'artifacts/'+appId+_0x44100b(0xd31)+currentLiveGameId+_0x44100b(0xaf4),_0x501b19);try{const _0x384f08={};_0x384f08['powerups.'+_0x16a92c]=increment(0x1),await updateDoc(_0x8094e4,_0x384f08),console[_0x44100b(0x273)]('Refunded\x20'+_0x16a92c+_0x44100b(0xd89)+_0x501b19);}catch(_0x1dcc37){console[_0x44100b(0x1ac)](_0x44100b(0x75b),_0x1dcc37);}}async function handleApplyJinx(_0x1507b0,_0x16d687){const _0x358690=_0x2bcb18;if(!currentLiveGameId||!_0x1507b0)return;const _0x2570d5=doc(db,'artifacts/'+appId+'/public/data/syncGames/'+currentLiveGameId+_0x358690(0xaf4),_0x1507b0);try{await updateDoc(_0x2570d5,{'isJinxed':!![]}),showMessage(_0x358690(0xa8e)+_0x16d687+_0x358690(0x508));}catch(_0x373b88){console[_0x358690(0x1ac)](_0x358690(0x2e4),_0x373b88),showMessage(_0x358690(0x138));}}function activateFileInputAreaWithLoadedFile(){const _0x302730=_0x2bcb18,_0x10c8ac=document[_0x302730(0x932)](_0x302730(0x28d)),_0x226253=document[_0x302730(0x932)]('file-topics-list-container'),_0x33339a=document[_0x302730(0x932)](_0x302730(0xcc1));selectedFile?_0x33339a[_0x302730(0xc62)]?(_0x10c8ac[_0x302730(0xad6)]=!![],analyzeFileForTopics(selectedFile)):(_0x10c8ac[_0x302730(0xad6)]=![],_0x226253[_0x302730(0x360)]['add']('hidden')):(_0x10c8ac[_0x302730(0xad6)]=!![],_0x226253[_0x302730(0x360)][_0x302730(0x4a6)]('hidden'));}async function handleKickPlayerSync(_0x1baba2){const _0x38164e=_0x2bcb18;if(!currentLiveGameId||!_0x1baba2)return;const _0x411e63=doc(db,'artifacts/'+appId+_0x38164e(0xd31)+currentLiveGameId+'/players',_0x1baba2);try{await updateDoc(_0x411e63,{'status':_0x38164e(0x410)});}catch(_0x11376a){console[_0x38164e(0x1ac)](_0x38164e(0xe19)+_0x1baba2+':',_0x11376a),showMessage(_0x38164e(0x75a));}}function _0x63b3(_0x8398be,_0x5434fc){const _0x4d610e=_0x4d61();return _0x63b3=function(_0x63b3b5,_0x4a4214){_0x63b3b5=_0x63b3b5-0x10e;let _0x35e3f4=_0x4d610e[_0x63b3b5];return _0x35e3f4;},_0x63b3(_0x8398be,_0x5434fc);}async function renderStudentProgressDashboard(_0x1af519,_0x35d50e){const _0x33ae26=_0x2bcb18,_0x1fe4fb=document['getElementById'](_0x33ae26(0x496));_0x1fe4fb[_0x33ae26(0xa16)]=_0x33ae26(0xdc3);try{const _0x53382b=collection(db,_0x33ae26(0x6e6)+appId+'/public/data/quizzes'),_0x179b69=query(_0x53382b,where('projectId','==',_0x1af519)),_0x3bf477=await getDocs(_0x179b69),_0x37d4d9=_0x3bf477['docs'][_0x33ae26(0xe49)](_0x1dfbd3=>({'id':_0x1dfbd3['id'],..._0x1dfbd3[_0x33ae26(0x13f)]()})),_0x2d0026=_0x37d4d9[_0x33ae26(0xe49)](_0x2ec1fb=>getDoc(doc(db,_0x33ae26(0x6e6)+appId+_0x33ae26(0x133)+_0x2ec1fb['id']+'/submissions',_0x35d50e))),_0x46e333=await Promise[_0x33ae26(0x6b3)](_0x2d0026),_0x535b48=_0x46e333['filter'](_0x12b6df=>_0x12b6df[_0x33ae26(0x7d2)]())[_0x33ae26(0xe49)](_0x44f0f3=>({'quizId':_0x44f0f3[_0x33ae26(0x285)][_0x33ae26(0xb2b)][_0x33ae26(0xb2b)]['id'],..._0x44f0f3[_0x33ae26(0x13f)]()}));if(_0x535b48['length']===0x0){_0x1fe4fb[_0x33ae26(0xa16)]=_0x33ae26(0x140);return;}let _0x3accdd=_0x33ae26(0x49e);_0x535b48[_0x33ae26(0x39f)](_0x455f4e=>{const _0x2217a6=_0x33ae26,_0x368092=_0x37d4d9[_0x2217a6(0x7a3)](_0x553272=>_0x553272['id']===_0x455f4e[_0x2217a6(0xa91)]),_0xead661=_0x368092[_0x2217a6(0x6ce)]?.[_0x2217a6(0xe08)]||'show_results_and_answers',_0x4e617f=_0x368092['settings']?.[_0x2217a6(0x24b)]??0x0,_0x4ab878=_0x455f4e[_0x2217a6(0x20f)]>=_0x4e617f;let _0xb64e07='',_0x33ec17=_0x2217a6(0x878);switch(_0xead661){case _0x2217a6(0x6d6):case _0x2217a6(0xcac):_0x33ec17=_0x4ab878?_0x2217a6(0xe38):_0x2217a6(0xc5d),_0xb64e07=_0x2217a6(0x9d9)+(_0x4ab878?'text-green-700':'text-red-700')+'\x22>'+_0x455f4e[_0x2217a6(0x20f)]+_0x2217a6(0xb54)+_0x455f4e[_0x2217a6(0x694)]+_0x2217a6(0xeb5)+(_0x4ab878?_0x2217a6(0x77d):'bg-red-200\x20text-red-800')+'\x22>'+(_0x4ab878?'ผ่าน':'ไม่ผ่าน')+_0x2217a6(0xc12);break;case _0x2217a6(0xd7f):_0x33ec17=_0x4ab878?_0x2217a6(0xe38):'bg-red-50',_0xb64e07=_0x2217a6(0x973)+(_0x4ab878?_0x2217a6(0x77d):_0x2217a6(0xaab))+'\x22>'+(_0x4ab878?_0x2217a6(0xcff):_0x2217a6(0x7f4))+_0x2217a6(0xc12);break;case _0x2217a6(0xc00):_0x33ec17=_0x2217a6(0xa56),_0xb64e07=_0x2217a6(0x7d1);break;}_0x3accdd+=_0x2217a6(0xab5)+_0x33ec17+_0x2217a6(0xad1)+_0x368092[_0x2217a6(0x79c)]+_0x2217a6(0xe8c)+_0x455f4e[_0x2217a6(0xa66)][_0x2217a6(0x752)]+_0x2217a6(0x3f6)+new Date(_0x455f4e[_0x2217a6(0xb77)])[_0x2217a6(0xc5b)](_0x2217a6(0x7c5))+_0x2217a6(0x60c)+_0xb64e07+_0x2217a6(0x3d6);}),_0x3accdd+=_0x33ae26(0x1f5),_0x1fe4fb[_0x33ae26(0xa16)]=_0x3accdd;}catch(_0x2cf8fd){console[_0x33ae26(0x1ac)](_0x33ae26(0xa5d),_0x2cf8fd),_0x1fe4fb[_0x33ae26(0xa16)]=_0x33ae26(0x259);}}function renderQuizBankListForMultiSelect(_0x53f553=''){const _0x57c5dc=_0x2bcb18,_0x39c2e0=document[_0x57c5dc(0x932)](_0x57c5dc(0xd7b)),_0x1ab8a9=_0x53f553[_0x57c5dc(0x4ea)]()[_0x57c5dc(0xa4d)](),_0x5c24e3=allQuizzesGlobal[_0x57c5dc(0xe49)](_0xcfd900=>({..._0xcfd900,'projectName':allProjects['find'](_0x37870b=>_0x37870b['id']===_0xcfd900[_0x57c5dc(0xc80)])?.[_0x57c5dc(0x1cc)]||_0x57c5dc(0x9ff)}))['filter'](_0x5222de=>(_0x5222de[_0x57c5dc(0x79c)]||'')[_0x57c5dc(0x4ea)]()[_0x57c5dc(0xd2e)](_0x1ab8a9)||(_0x5222de['projectName']||'')['toLowerCase']()[_0x57c5dc(0xd2e)](_0x1ab8a9)||_0x5222de['id']['toString']()[_0x57c5dc(0xd2e)](_0x1ab8a9));_0x39c2e0[_0x57c5dc(0xa16)]=_0x5c24e3[_0x57c5dc(0x752)]?_0x5c24e3[_0x57c5dc(0xe49)](_0x58f2a5=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20gap-4\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x22'+_0x58f2a5['id']+_0x57c5dc(0x3b8)+(_0x58f2a5[_0x57c5dc(0x79c)]||_0x57c5dc(0x4ed))+_0x57c5dc(0x45f)+_0x58f2a5[_0x57c5dc(0x1cc)]+_0x57c5dc(0xb21)+_0x58f2a5['id']+_0x57c5dc(0x8b6))[_0x57c5dc(0xbb2)](''):_0x57c5dc(0xe96),_0x39c2e0['onchange']=()=>{const _0x3d8f1a=_0x57c5dc,_0x18daa4=document[_0x3d8f1a(0xc60)](_0x3d8f1a(0xbda));document[_0x3d8f1a(0x932)]('confirm-link-quiz-btn')['disabled']=!_0x18daa4;};}function setupStudentProgressListeners(){const _0x5ee223=_0x2bcb18;document[_0x5ee223(0x932)](_0x5ee223(0x949))[_0x5ee223(0x639)](_0x5ee223(0x164),showStudentProgressView),document['getElementById'](_0x5ee223(0xd98))[_0x5ee223(0x639)](_0x5ee223(0x164),()=>{const _0x1000a5=_0x5ee223;document[_0x1000a5(0x932)](_0x1000a5(0x683))[_0x1000a5(0x360)]['add'](_0x1000a5(0x2f2)),document[_0x1000a5(0x932)](_0x1000a5(0xc58))[_0x1000a5(0x360)][_0x1000a5(0xcc8)]('hidden');});}async function startSkillPractice(_0xf1efc){const _0x11cf46=_0x2bcb18;studentResultArea[_0x11cf46(0x360)][_0x11cf46(0x4a6)]('hidden'),studentQuizArea[_0x11cf46(0xa16)]=_0x11cf46(0x84e),studentQuizArea[_0x11cf46(0x360)]['remove'](_0x11cf46(0x2f2));try{const _0x23c22f=await getStandardizedTopic(_0xf1efc);console[_0x11cf46(0x273)](_0x11cf46(0x58d)+_0xf1efc+_0x11cf46(0xce5)+_0x23c22f+'\x22'),studentQuizArea[_0x11cf46(0xc60)]('p')[_0x11cf46(0xdec)]='กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22'+_0x23c22f+_0x11cf46(0xa3c);const _0x52e223=collection(db,_0x11cf46(0x6e6)+appId+_0x11cf46(0xdb9)),_0x238de7=query(_0x52e223,where(_0x11cf46(0x79c),'==',_0x23c22f)),_0x2f53aa=await getDocs(_0x238de7);if(_0x2f53aa[_0x11cf46(0x9ef)][_0x11cf46(0x752)]>=0x3){console[_0x11cf46(0x273)]('พบข้อสอบ\x20'+_0x2f53aa[_0x11cf46(0x9ef)][_0x11cf46(0x752)]+_0x11cf46(0xcd0)+_0x23c22f+_0x11cf46(0x3fd));let _0x3b9252=_0x2f53aa[_0x11cf46(0x9ef)][_0x11cf46(0xe49)](_0x974300=>_0x974300[_0x11cf46(0x13f)]());shuffleArray(_0x3b9252);const _0x5bbcd7={'topic':_0x23c22f,'questions':_0x3b9252['slice'](0x0,0x3)};displaySkillPracticeDrill(_0x5bbcd7);}else{console[_0x11cf46(0x273)](_0x11cf46(0xc8d)+_0x23c22f+'\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...');const _0x24fb38=await generatePracticeQuestions(_0x23c22f);await saveDrillToPracticeBank(_0x24fb38,_0x23c22f),displaySkillPracticeDrill(_0x24fb38);}}catch(_0x36b80a){console[_0x11cf46(0x1ac)](_0x11cf46(0xd25),_0x36b80a),showMessage(_0x11cf46(0xe65)),studentQuizArea[_0x11cf46(0x360)]['add']('hidden'),studentResultArea[_0x11cf46(0x360)][_0x11cf46(0xcc8)](_0x11cf46(0x2f2));}}async function saveDrillToPracticeBank(_0x1d4472,_0x293e77){const _0x1ce4b3=_0x2bcb18,_0x1b86c1=collection(db,_0x1ce4b3(0x6e6)+appId+_0x1ce4b3(0xdb9)),_0x579505=writeBatch(db);_0x1d4472[_0x1ce4b3(0xc46)][_0x1ce4b3(0x39f)](_0x344fcb=>{const _0x3b98c5=_0x1ce4b3,_0xa11632=doc(_0x1b86c1);_0x579505[_0x3b98c5(0xb84)](_0xa11632,{'topic':_0x293e77,'questionText':_0x344fcb[_0x3b98c5(0xca8)],'options':_0x344fcb[_0x3b98c5(0x3e2)],'correctAnswerIndex':_0x344fcb[_0x3b98c5(0x52a)],'explanation':_0x344fcb[_0x3b98c5(0xc94)],'createdAt':serverTimestamp()});});try{await _0x579505[_0x1ce4b3(0x6fc)](),console['log'](_0x1ce4b3(0xd9b)+_0x1d4472[_0x1ce4b3(0xc46)][_0x1ce4b3(0x752)]+'\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ');}catch(_0x1d342f){console[_0x1ce4b3(0x1ac)]('Error\x20saving\x20questions\x20to\x20practice\x20bank:',_0x1d342f);}}async function getStandardizedTopic(_0x32a9f2){const _0x54abe2=_0x2bcb18,_0x6c7b91=_0x54abe2(0x2d1)+_0x32a9f2+_0x54abe2(0xc10),_0x30d70d={'type':_0x54abe2(0xde5),'properties':{'standardTopic':{'type':_0x54abe2(0x7d8)}},'required':[_0x54abe2(0x87b)]};try{const _0x55d687=await callAnalysisApi(_0x6c7b91,_0x30d70d);return _0x55d687[_0x54abe2(0x87b)];}catch(_0x2f901a){return console[_0x54abe2(0x1ac)](_0x54abe2(0x72c),_0x2f901a),_0x32a9f2;}}async function handleGenerateEasyVersionQuiz(_0x77b2e7){const _0x366077=_0x2bcb18,_0x3fa0d8=document[_0x366077(0x932)](_0x366077(0x8c9)),_0x7d109f=document['getElementById'](_0x366077(0xdd2));_0x7d109f[_0x366077(0x360)][_0x366077(0x4a6)]('hidden');const _0x488188=_0x366077(0xb5e);_0x3fa0d8[_0x366077(0x677)](_0x366077(0x764),_0x488188);try{const _0x44c047=allQuizzes[_0x366077(0x7a3)](_0x539a5c=>_0x539a5c['id']===_0x77b2e7);if(!_0x44c047)throw new Error(_0x366077(0xc3f));const _0x4959de='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20'+JSON[_0x366077(0x692)](_0x44c047[_0x366077(0xc46)])+_0x366077(0xc9f),_0xfef331={'type':_0x366077(0xde5),'properties':{'questionText':{'type':_0x366077(0x7d8)},'questionType':{'type':_0x366077(0x7d8)},'options':{'type':_0x366077(0xd66),'items':{'type':_0x366077(0x7d8)}},'correctAnswerIndex':{'type':_0x366077(0xd4c)},'idealAnswer':{'type':_0x366077(0x7d8)},'explanation':{'type':_0x366077(0x7d8)},'imageCode':{'type':_0x366077(0x7d8)}},'required':[_0x366077(0xca8),_0x366077(0x2ed),_0x366077(0xc94)]},_0x513e25={'type':_0x366077(0xde5),'properties':{'questions':{'type':_0x366077(0xd66),'items':_0xfef331}},'required':[_0x366077(0xc46)]},_0x20898f=await callAnalysisApi(_0x4959de,_0x513e25);_0x20898f&&_0x20898f['questions']&&_0x20898f[_0x366077(0xc46)]['forEach'](_0x4f3990=>{const _0x580c54=_0x366077;if(_0x4f3990[_0x580c54(0xe8a)](_0x580c54(0xe40))){const _0x3c8147=String(_0x4f3990['imageCode'])['trim']();(_0x3c8147===''||_0x3c8147['toLowerCase']()===_0x580c54(0x7bb)||!_0x3c8147[_0x580c54(0x646)]('<svg'))&&delete _0x4f3990['imageCode'];}});if(!_0x20898f||!_0x20898f['questions']||_0x20898f['questions'][_0x366077(0x752)]===0x0)throw new Error(_0x366077(0x20c));const _0xf0050b=_0x20898f[_0x366077(0xc46)][_0x366077(0xe49)]((_0x38cda6,_0x411266)=>({..._0x38cda6,'id':'q_'+Date[_0x366077(0x18f)]()+'_'+_0x411266})),_0x266b47={'projectId':_0x44c047[_0x366077(0xc80)],'quizType':_0x44c047[_0x366077(0x2de)],'settings':_0x44c047[_0x366077(0x6ce)],'createdBy':_0x44c047[_0x366077(0x42d)],'status':_0x366077(0x76a),'topic':_0x366077(0x605)+_0x44c047[_0x366077(0x79c)],'questions':_0xf0050b,'createdAt':new Date()[_0x366077(0x26e)](),'quizMode':_0x366077(0x7ee),'pairedQuizId':null};let _0x3ab6a1;while(!![]){_0x3ab6a1=Math[_0x366077(0x4cf)](0x3e8+Math['random']()*0x2328)[_0x366077(0xdcb)]();const _0x45f45b=await getDoc(doc(db,_0x366077(0x6e6)+appId+'/public/data/quizzes',_0x3ab6a1));if(!_0x45f45b['exists']())break;}await setDoc(doc(db,_0x366077(0x6e6)+appId+_0x366077(0x993),_0x3ab6a1),_0x266b47),showMessage(_0x366077(0x6d8));}catch(_0x59ec24){console[_0x366077(0x1ac)](_0x366077(0xa9e),_0x59ec24),showMessage('เกิดข้อผิดพลาด:\x20'+_0x59ec24[_0x366077(0x523)]);}finally{const _0x189d99=document[_0x366077(0x932)]('temp-loader-results');_0x189d99&&_0x189d99['remove'](),_0x7d109f['classList'][_0x366077(0xcc8)](_0x366077(0x2f2));}}async function generatePracticeQuestions(_0x104d85){const _0x5a136a=_0x2bcb18,_0x2a4237=_0x5a136a(0x53c)+_0x104d85+_0x5a136a(0x469)+simpleMathPrompt+_0x5a136a(0xbec),_0x57e908={'type':'OBJECT','properties':{'questionText':{'type':_0x5a136a(0x7d8)},'options':{'type':_0x5a136a(0xd66),'items':{'type':_0x5a136a(0x7d8)}},'correctAnswerIndex':{'type':_0x5a136a(0xd4c)},'explanation':{'type':_0x5a136a(0x7d8)}},'required':[_0x5a136a(0xca8),_0x5a136a(0x3e2),_0x5a136a(0x52a),_0x5a136a(0xc94)]},_0x523844={'type':'OBJECT','properties':{'topic':{'type':'STRING'},'questions':{'type':_0x5a136a(0xd66),'items':_0x57e908}},'required':[_0x5a136a(0x79c),_0x5a136a(0xc46)]};return await callAnalysisApi(_0x2a4237,_0x523844);}function displayLessonPlan(_0x2c32b8,_0x5cfdec){const _0x1e6e8b=_0x2bcb18,_0x3bbae6='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20'+_0x5cfdec[_0x1e6e8b(0x79c)]+_0x1e6e8b(0x874)+_0x2c32b8['learningGaps'][_0x1e6e8b(0xe49)](_0x2ec950=>_0x1e6e8b(0xa9f)+_0x2ec950+_0x1e6e8b(0x2bb))[_0x1e6e8b(0xbb2)]('')+_0x1e6e8b(0xd19)+_0x2c32b8[_0x1e6e8b(0x43e)]+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>'+_0x2c32b8[_0x1e6e8b(0x51e)]['map'](_0x1d0dae=>'<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20'+_0x1d0dae[_0x1e6e8b(0xb8f)]+'</p><p><strong>เฉลย:</strong>\x20'+_0x1d0dae[_0x1e6e8b(0xd45)]+_0x1e6e8b(0xcb5))[_0x1e6e8b(0xbb2)]('')+_0x1e6e8b(0x682);document[_0x1e6e8b(0x932)]('lesson-plan-title')[_0x1e6e8b(0xdec)]=_0x1e6e8b(0x808)+_0x5cfdec['topic'],document['getElementById']('lesson-plan-content')[_0x1e6e8b(0xa16)]=_0x3bbae6,document['getElementById']('lesson-plan-modal')['classList'][_0x1e6e8b(0xcc8)](_0x1e6e8b(0x2f2));if(window[_0x1e6e8b(0x7f9)])MathJax[_0x1e6e8b(0xd3d)]();}function displaySkillPracticeDrill(_0x4990e7){let _0x321124=0x0;const _0xc36fe1=_0x4990e7['questions'],_0x5dde53=()=>{const _0x121a45=_0x63b3,_0x1fa3e0=_0xc36fe1[_0x321124],_0x2bbea6=_0x121a45(0x67d)+(_0x321124+0x1)+_0x121a45(0xb54)+_0xc36fe1[_0x121a45(0x752)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>'+_0x1fa3e0[_0x121a45(0xca8)]+_0x121a45(0xea9)+_0x1fa3e0[_0x121a45(0x3e2)][_0x121a45(0xe49)]((_0x2b6f88,_0x4cf543)=>_0x121a45(0xa06)+_0x4cf543+_0x121a45(0x6c0)+_0x4cf543+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_'+_0x4cf543+'\x22>'+_0x2b6f88+_0x121a45(0x9a0))[_0x121a45(0xbb2)]('')+_0x121a45(0x64a);studentQuizArea[_0x121a45(0xa16)]=_0x2bbea6;if(window[_0x121a45(0x7f9)])MathJax[_0x121a45(0xd3d)]([studentQuizArea]);document[_0x121a45(0x932)](_0x121a45(0xd0f))[_0x121a45(0x639)](_0x121a45(0x164),async()=>{const _0x1828de=_0x121a45,_0x392460=await getHintForQuestion(_0x1fa3e0[_0x1828de(0xca8)]);showMessage(_0x392460);}),document[_0x121a45(0x932)](_0x121a45(0xaa4))[_0x121a45(0x639)]('click',()=>{const _0x255c54=_0x121a45,_0x26e81d=document[_0x255c54(0xc60)](_0x255c54(0xdfd));if(!_0x26e81d){showMessage('กรุณาเลือกคำตอบก่อนครับ');return;}const _0x31112a=document[_0x255c54(0x932)]('drill-feedback'),_0x3ae1b1=parseInt(_0x26e81d['value'])===_0x1fa3e0[_0x255c54(0x52a)];_0x3ae1b1?(_0x31112a['className']=_0x255c54(0x341),_0x31112a[_0x255c54(0xa16)]=_0x255c54(0x939)+_0x1fa3e0[_0x255c54(0xc94)]):(_0x31112a[_0x255c54(0xba9)]='my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800',_0x31112a['innerHTML']=_0x255c54(0xe02)+_0x1fa3e0[_0x255c54(0xc94)]);_0x31112a[_0x255c54(0x360)][_0x255c54(0xcc8)]('hidden');if(window[_0x255c54(0x7f9)])MathJax[_0x255c54(0xd3d)]([_0x31112a]);document[_0x255c54(0x932)](_0x255c54(0xaa4))[_0x255c54(0x360)][_0x255c54(0x4a6)](_0x255c54(0x2f2)),document[_0x255c54(0x932)]('hint-btn')[_0x255c54(0x360)][_0x255c54(0x4a6)]('hidden'),document['getElementById']('next-drill-btn')['classList']['remove'](_0x255c54(0x2f2));}),document[_0x121a45(0x932)]('next-drill-btn')[_0x121a45(0x639)](_0x121a45(0x164),()=>{const _0x3d3692=_0x121a45;_0x321124++,_0x321124<_0xc36fe1['length']?_0x5dde53():(studentQuizArea[_0x3d3692(0xa16)]=_0x3d3692(0x552),document[_0x3d3692(0x932)](_0x3d3692(0x652))[_0x3d3692(0x639)](_0x3d3692(0x164),()=>{const _0x41c68b=_0x3d3692;studentQuizArea[_0x41c68b(0x360)][_0x41c68b(0x4a6)](_0x41c68b(0x2f2)),studentResultArea[_0x41c68b(0x360)][_0x41c68b(0xcc8)]('hidden');}));});};_0x5dde53();}async function getHintForQuestion(_0x3a1a0c){const _0x1d7f77=_0x2bcb18,_0x93d09b=_0x1d7f77(0x39a)+_0x3a1a0c+_0x1d7f77(0xc5f),_0x17d98b={'type':_0x1d7f77(0xde5),'properties':{'hint':{'type':_0x1d7f77(0x7d8)}},'required':[_0x1d7f77(0xb3e)]};try{const _0x5b5f37=await callAnalysisApi(_0x93d09b,_0x17d98b);return _0x5b5f37[_0x1d7f77(0xb3e)];}catch(_0x46f276){return console['error'](_0x1d7f77(0x8e6),_0x46f276),'ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้';}}async function extractTextFromPdf(_0x3540f2){const _0x4b6bfa=_0x2bcb18;pdfjsLib[_0x4b6bfa(0xe21)][_0x4b6bfa(0x81a)]='https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js';const _0x312ea3=await _0x3540f2[_0x4b6bfa(0x2f5)](),_0x22a8a4=await pdfjsLib[_0x4b6bfa(0xd85)](_0x312ea3)[_0x4b6bfa(0x3e9)],_0xe1a903=_0x22a8a4[_0x4b6bfa(0xd24)];let _0x44ef22='';for(let _0x2c6f6b=0x1;_0x2c6f6b<=_0xe1a903;_0x2c6f6b++){const _0x16c4b3=await _0x22a8a4[_0x4b6bfa(0x1f2)](_0x2c6f6b),_0x8721a7=await _0x16c4b3[_0x4b6bfa(0x776)](),_0x28fffb=_0x8721a7[_0x4b6bfa(0x672)][_0x4b6bfa(0xe49)](_0x4e0d66=>_0x4e0d66[_0x4b6bfa(0x814)])[_0x4b6bfa(0xbb2)]('\x20');_0x44ef22+=_0x28fffb+'\x0a\x0a';}return _0x44ef22;}let extractedBlueprintTopics=[];async function analyzeBlueprintForTopics(_0x45a95e){const _0xe3e4c9=_0x2bcb18,_0x17c671=document[_0xe3e4c9(0x932)](_0xe3e4c9(0x6ae)),_0x3245d1=document[_0xe3e4c9(0x932)](_0xe3e4c9(0xb83)),_0x53f36d=document[_0xe3e4c9(0x932)](_0xe3e4c9(0x2f9));_0x17c671[_0xe3e4c9(0x360)][_0xe3e4c9(0xcc8)](_0xe3e4c9(0x2f2)),_0x3245d1[_0xe3e4c9(0xa16)]=_0xe3e4c9(0xc7f),_0x53f36d[_0xe3e4c9(0x360)][_0xe3e4c9(0x4a6)](_0xe3e4c9(0x2f2));try{const _0x5cf6c7=_0xe3e4c9(0xe17)+_0x45a95e+_0xe3e4c9(0x79f),_0x373ad2={'type':'OBJECT','properties':{'gradeLevel':{'type':_0xe3e4c9(0x7d8)},'curriculum':{'type':_0xe3e4c9(0xd66),'items':{'type':_0xe3e4c9(0xde5),'properties':{'sara':{'type':_0xe3e4c9(0x7d8)},'mainTopics':{'type':_0xe3e4c9(0xd66),'items':{'type':_0xe3e4c9(0xde5),'properties':{'topicName':{'type':_0xe3e4c9(0x7d8)},'subTopics':{'type':_0xe3e4c9(0xd66),'items':{'type':_0xe3e4c9(0x7d8)}}},'required':[_0xe3e4c9(0x9fc),_0xe3e4c9(0xd9d)]}}},'required':[_0xe3e4c9(0x2e8),_0xe3e4c9(0xa02)]}}},'required':[_0xe3e4c9(0x637),_0xe3e4c9(0xdcf)]},_0x1abd6a=await callAnalysisApi(_0x5cf6c7,_0x373ad2);if(_0x1abd6a&&_0x1abd6a['curriculum'])extractedBlueprintData=_0x1abd6a,renderBlueprintTopics(_0x1abd6a),_0x53f36d[_0xe3e4c9(0x360)][_0xe3e4c9(0xcc8)](_0xe3e4c9(0x2f2));else throw new Error('AI\x20ไม่สามารถแยกโครงสร้างหัวข้อได้');}catch(_0x5def34){console['error'](_0xe3e4c9(0x47d),_0x5def34),_0x3245d1['innerHTML']=_0xe3e4c9(0xa96);}}function renderBlueprintTopics(_0x5f168e){const _0x3a580b=_0x2bcb18,_0x5d181c=document[_0x3a580b(0x932)](_0x3a580b(0xb83)),_0x54e94a=_0x5f168e[_0x3a580b(0x637)],_0x50929f='<h3\x20class=\x22text-center\x20font-semibold\x20text-lg\x20text-gray-700\x20mb-4\x22>ระดับชั้นที่วิเคราะห์ได้:\x20'+_0x54e94a+_0x3a580b(0x36b);let _0x2899b8='';_0x5f168e[_0x3a580b(0xdcf)]['forEach'](_0x1c24d5=>{const _0x5e8ff5=_0x3a580b;_0x2899b8+=_0x5e8ff5(0xd49)+_0x1c24d5['sara']+'</h4>',_0x1c24d5['mainTopics'][_0x5e8ff5(0x39f)](_0x13b196=>{const _0x29aacb=_0x5e8ff5;_0x2899b8+=_0x29aacb(0x174)+_0x13b196[_0x29aacb(0x9fc)]+_0x29aacb(0x2c4),_0x13b196['subTopics'][_0x29aacb(0x39f)](_0x3bbb65=>{const _0x2682c8=_0x29aacb;_0x2899b8+=_0x2682c8(0x99f)+_0x3bbb65[_0x2682c8(0xdcc)](/'/g,'\x5c\x27')+'\x27,\x20\x27'+_0x54e94a[_0x2682c8(0xdcc)](/'/g,'\x5c\x27')+_0x2682c8(0x99a)+_0x3bbb65+_0x2682c8(0x5a0)+_0x3bbb65[_0x2682c8(0xdcc)](/'/g,'\x5c\x27')+_0x2682c8(0xc56);}),_0x2899b8+=_0x29aacb(0xb11);}),_0x2899b8+='</div>';}),_0x5d181c[_0x3a580b(0xa16)]=_0x50929f+_0x2899b8;}async function handleGenerateTeachingContent(_0x1a59a1){const _0x54611e=_0x2bcb18,_0x5ca08a=document['getElementById'](_0x54611e(0x309)),_0x915402=document[_0x54611e(0x932)]('lesson-plan-content');document[_0x54611e(0x932)](_0x54611e(0x52e))['textContent']=_0x54611e(0x96e)+_0x1a59a1,_0x915402[_0x54611e(0xa16)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังสรุปแนวคิดหลักและสร้างโจทย์ตัวอย่าง...\x20กรุณารอสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',_0x5ca08a['classList'][_0x54611e(0xcc8)]('hidden');try{const _0x5754d8='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20สำหรับวิชาคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จงสร้าง\x20\x22เอกสารสรุปเนื้อหาเพื่อเตรียมการสอน\x22\x20สำหรับครู\x20ในหัวข้อ\x20\x22'+_0x1a59a1+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เอกสารต้องประกอบด้วย\x204\x20ส่วนหลัก\x20และตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างตามที่กำหนดเท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20keyConcepts\x20(array\x20of\x20strings):\x20สรุปแนวคิดหลัก,\x20นิยาม,\x20หรือสูตรที่สำคัญที่สุดของหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20commonMistakes\x20(array\x20of\x20strings):\x20ระบุจุดที่นักเรียนมักเข้าใจผิดหรือทำพลาดบ่อยๆ\x20ในหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20stepByStepExamples\x20(array\x20of\x20objects):\x20สร้างโจทย์ตัวอย่างที่หลากหลาย\x202\x20ข้อ\x20พร้อมแสดงวิธีทำอย่างละเอียดเป็นขั้นตอน\x20โดยแต่ละ\x20object\x20ต้องมี\x20key:\x20\x22question\x22\x20(string)\x20และ\x20\x22solution\x22\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20teacherTips\x20(array\x20of\x20strings):\x20ให้คำแนะนำเชิงปฏิบัติสำหรับครู\x202\x20ข้อ\x20เพื่อช่วยให้นักเรียนเข้าใจหัวข้อนี้ได้ดียิ่งขึ้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่งเพิ่มเติม:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20เนื้อหาทั้งหมดต้องเป็นภาษาไทย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำอธิบายต้องกระชับ\x20ชัดเจน\x20และถูกต้องตามหลักคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และห่อหุ้มด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x4f5fe5={'type':_0x54611e(0xde5),'properties':{'keyConcepts':{'type':'ARRAY','items':{'type':_0x54611e(0x7d8)}},'commonMistakes':{'type':'ARRAY','items':{'type':_0x54611e(0x7d8)}},'stepByStepExamples':{'type':'ARRAY','items':{'type':_0x54611e(0xde5),'properties':{'question':{'type':_0x54611e(0x7d8)},'solution':{'type':'STRING'}},'required':[_0x54611e(0xb8f),_0x54611e(0xd45)]}},'teacherTips':{'type':_0x54611e(0xd66),'items':{'type':_0x54611e(0x7d8)}}},'required':['keyConcepts',_0x54611e(0x961),_0x54611e(0x532),'teacherTips']},_0x4fccb1=await callAnalysisApi(_0x5754d8,_0x4f5fe5);displayTeachingContent(_0x4fccb1,_0x1a59a1);}catch(_0x2ce737){console['error'](_0x54611e(0x9d8),_0x2ce737),_0x915402[_0x54611e(0xa16)]=_0x54611e(0xb86)+_0x2ce737['message']+_0x54611e(0x463);}}function displayTeachingContent(_0x1df84c,_0x13ac46){const _0x191baa=_0x2bcb18,_0x31677d=document[_0x191baa(0x932)]('lesson-plan-content');document['getElementById'](_0x191baa(0x52e))['textContent']='เนื้อหาสำหรับสอน:\x20'+_0x13ac46;const _0x2dfc97='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-indigo-800\x20mb-2\x20border-b-2\x20border-indigo-200\x20pb-2\x22>🎯\x20สรุปแนวคิดหลัก\x20(Key\x20Concepts)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>'+_0x1df84c[_0x191baa(0x2eb)][_0x191baa(0xe49)](_0x5db852=>'<li>'+_0x5db852+_0x191baa(0x2bb))[_0x191baa(0xbb2)]('')+_0x191baa(0xc52)+_0x1df84c[_0x191baa(0x961)][_0x191baa(0xe49)](_0x1bf929=>_0x191baa(0xa9f)+_0x1bf929+_0x191baa(0x2bb))[_0x191baa(0xbb2)]('')+'</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x20border-b-2\x20border-green-200\x20pb-2\x22>✍️\x20โจทย์ตัวอย่างพร้อมวิธีทำ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>'+_0x1df84c['stepByStepExamples'][_0x191baa(0xe49)](_0x1ada9c=>_0x191baa(0xa88)+_0x1ada9c[_0x191baa(0xb8f)]+_0x191baa(0x5c6)+_0x1ada9c[_0x191baa(0xd45)]+_0x191baa(0xd72))[_0x191baa(0xbb2)]('')+_0x191baa(0x38a)+_0x1df84c[_0x191baa(0xca7)][_0x191baa(0xe49)](_0x2b803a=>_0x191baa(0xa9f)+_0x2b803a+'</li>')[_0x191baa(0xbb2)]('')+_0x191baa(0x385);_0x31677d[_0x191baa(0xa16)]=_0x2dfc97;if(window[_0x191baa(0x7f9)])MathJax['typesetPromise']([_0x31677d]);}async function generateQuizForSingleTopic(_0x378ba3){const _0x128cb6=_0x2bcb18;console[_0x128cb6(0x273)]('กำลังสร้างแบบทดสอบสำหรับติวเฉพาะเรื่อง:\x20\x22'+_0x378ba3+'\x22');const _0x21831c=document[_0x128cb6(0x932)](_0x128cb6(0xd73)),_0x11b9fc=_0x21831c[_0x128cb6(0x98b)]['length']>0x0?_0x21831c['files'][0x0]:null;let _0x735fe4=null;if(_0x11b9fc)try{const _0x429f4e=new FileReader();_0x429f4e[_0x128cb6(0x96a)](_0x11b9fc);const _0x5dc9d1=await new Promise((_0x215501,_0x3ba5e1)=>{const _0x55ea5b=_0x128cb6;_0x429f4e[_0x55ea5b(0x905)]=()=>_0x215501(_0x429f4e[_0x55ea5b(0x72b)][_0x55ea5b(0x664)](',')[0x1]),_0x429f4e[_0x55ea5b(0x13e)]=_0x2c906d=>_0x3ba5e1(_0x2c906d);});_0x735fe4=[{'inlineData':{'mimeType':_0x11b9fc[_0x128cb6(0x587)],'data':_0x5dc9d1}}];}catch(_0x3a88bc){console[_0x128cb6(0x1ac)](_0x128cb6(0xa1d),_0x3a88bc),showMessage(_0x128cb6(0x70f));return;}generateQuiz(_0x378ba3,null,null,_0x735fe4,!![],null,null,!![]);}async function handleGenerateFromBlueprint(_0x420590=null){const _0x273052=_0x2bcb18,_0x47d990=document[_0x273052(0x932)](_0x273052(0xe0d)),_0x1a2140=document['getElementById'](_0x273052(0x231));let _0x4019a8,_0xeace75=[];if(_0x420590)_0x4019a8=_0x420590,_0xeace75=_0x4019a8['slice'](0x2);else{const _0x17c088=document['getElementById'](_0x273052(0x23e)),_0x1281c2=document[_0x273052(0x932)](_0x273052(0xd73)),_0xaa6270=_0x17c088[_0x273052(0x98b)][0x0];if(!_0xaa6270){showMessage(_0x273052(0x8aa));return;}_0x1a2140[_0x273052(0xdec)]='กำลังเตรียมไฟล์...';const _0x1e4d5f=await new Promise((_0x4d5e01,_0x2eb2ca)=>{const _0x4246bd=_0x273052,_0x5b5075=new FileReader();_0x5b5075[_0x4246bd(0x96a)](_0xaa6270),_0x5b5075[_0x4246bd(0x905)]=()=>_0x4d5e01(_0x5b5075[_0x4246bd(0x72b)]['split'](',')[0x1]),_0x5b5075['onerror']=_0x2eb2ca;});_0x4019a8=[{'text':_0x273052(0xbf6)},{'inlineData':{'mimeType':_0xaa6270[_0x273052(0x587)],'data':_0x1e4d5f}}];if(_0x1281c2[_0x273052(0x98b)][_0x273052(0x752)]>0x0){const _0x3af6f8=_0x1281c2['files'][0x0];_0x1a2140[_0x273052(0xdec)]=_0x273052(0x7d9);const _0x389996=await new Promise((_0x39f3d6,_0x489572)=>{const _0xe9cc88=_0x273052,_0x3e4138=new FileReader();_0x3e4138[_0xe9cc88(0x96a)](_0x3af6f8),_0x3e4138[_0xe9cc88(0x905)]=()=>_0x39f3d6(_0x3e4138[_0xe9cc88(0x72b)]['split'](',')[0x1]),_0x3e4138['onerror']=_0x489572;}),_0x377874={'inlineData':{'mimeType':_0x3af6f8['type'],'data':_0x389996}};_0x4019a8['push'](_0x377874),_0xeace75[_0x273052(0xe86)](_0x377874);}}const _0x2e089c=_0x273052(0x357),_0x34abe0=_0x273052(0x82d);let _0x356f18='';_0xeace75&&_0xeace75[_0x273052(0x752)]>0x0?_0x356f18=_0x2e089c:_0x356f18=_0x34abe0;const _0x5ed903=_0x273052(0x77b)+_0x356f18+_0x273052(0x362),_0x1c4dca={'type':_0x273052(0xde5),'properties':{'questionText':{'type':_0x273052(0x7d8)},'questionType':{'type':'STRING','enum':[_0x273052(0x47e),_0x273052(0xafb),_0x273052(0x827),_0x273052(0xb08)]},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x273052(0xd4c)},'idealAnswer':{'type':_0x273052(0x7d8)},'correctAnswer':{'type':_0x273052(0x339)},'explanation':{'type':_0x273052(0x7d8)},'imageCode':{'type':'STRING'}},'required':['questionType',_0x273052(0xc94)]},_0x4674d6={'type':_0x273052(0xde5),'properties':{'topic':{'type':_0x273052(0x7d8)},'questions':{'type':'ARRAY','items':_0x1c4dca}},'required':['topic',_0x273052(0xc46)]};_0x4019a8[0x0][_0x273052(0x13d)]=_0x5ed903,await handleApiCall(_0x4019a8,_0x273052(0xcdb),_0x4674d6);}function proceedToNextQuestion(_0x1d14b3){const _0xa0ae63=_0x2bcb18;studentAnswersPerQuestion['push'](_0x1d14b3),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz[_0xa0ae63(0xc46)][_0xa0ae63(0x752)]?finalizePerQuestionQuiz():renderPerQuestionView();}function renderAdminSyncDashboard(_0x50b898,_0x35d665,_0x2655db){const _0x36be36=_0x2bcb18,_0x208382=Object['values'](_0x50b898[_0x36be36(0x18b)]||{}),_0x28912b=_0x208382[_0x36be36(0x752)],_0x5764fa=_0x2655db,_0x1e5761=_0x50b898[_0x36be36(0x35a)]||_0x36be36(0x4e6),_0x1678fc=_0x1e5761===_0x36be36(0x7a4)||_0x1e5761===_0x36be36(0x895),_0x1c0125=_0x1e5761==='reveal_at_end'||_0x1e5761===_0x36be36(0x895),_0x455abc=_0x50b898[_0x36be36(0x979)]===!![],_0x5453d7=_0x1e5761===_0x36be36(0x959),_0x48d77e=_0x50b898[_0x36be36(0x450)]['questions'],_0x301ee3=_0x48d77e[_0x5764fa],_0x3198b9=_0xa4f0e=>String[_0x36be36(0x4b4)](0x41+_0xa4f0e),_0x44a5d9=_0x208382[_0x36be36(0xe49)](_0x276c7e=>{const _0x405830=_0x36be36,_0x5c4626=(_0x276c7e['answers']||[])[_0x405830(0x9a7)](_0x31ac20=>{const _0x74143f=_0x405830;if(_0x1c0125)return _0x31ac20[_0x74143f(0xa22)]<=_0x5764fa;return!![];});let _0x21a03a=0x0,_0x1b849a=0x0;_0x1c0125?(_0x21a03a=_0x5c4626[_0x405830(0x9a7)](_0x41867d=>_0x41867d[_0x405830(0x129)])[_0x405830(0x752)],_0x1b849a=_0x5c4626[_0x405830(0xdbf)]((_0x4e18bc,_0x1013e8)=>_0x4e18bc+(_0x1013e8[_0x405830(0xe35)]||0x0),0x0)):(_0x21a03a=_0x276c7e[_0x405830(0x853)]||0x0,_0x1b849a=_0x276c7e[_0x405830(0xd68)]||0x0);const _0x3f984b=[..._0x5c4626][_0x405830(0x41f)]((_0x522554,_0x3fb444)=>_0x522554[_0x405830(0xa22)]-_0x3fb444['questionIndex']);let _0x1ecdf1=0x0;return _0x3f984b['forEach'](_0x4246e7=>{const _0x47685b=_0x405830,_0x59571f=_0x4246e7[_0x47685b(0xd15)]&&_0x4246e7[_0x47685b(0xd15)]!==_0x47685b(0xac7)||_0x4246e7[_0x47685b(0x74a)];_0x4246e7['isCorrect']?_0x59571f?_0x1ecdf1=0x0:_0x1ecdf1++:_0x1ecdf1=0x0;}),{..._0x276c7e,'realScore':_0x21a03a,'totalPoints':_0x1b849a,'answers':_0x5c4626,'correctStreak':_0x1ecdf1};}),_0x315cb9=Math[_0x36be36(0x824)](..._0x44a5d9[_0x36be36(0xe49)](_0x514f1b=>_0x514f1b['totalPoints']),-Infinity),_0x23544b=Math[_0x36be36(0x824)](..._0x44a5d9[_0x36be36(0xe49)](_0x39393c=>_0x39393c[_0x36be36(0x971)]),-Infinity),_0x4e54c2=_0x50b898[_0x36be36(0x42f)]===!![],_0x6e2081=[..._0x44a5d9][_0x36be36(0x41f)]((_0x318071,_0x84b02d)=>{const _0x54b478=_0x36be36;if(_0x4e54c2){const _0x25f089=_0x84b02d[_0x54b478(0xd68)]-_0x318071[_0x54b478(0xd68)];if(_0x25f089!==0x0)return _0x25f089;const _0x4b261f=_0x84b02d['realScore']-_0x318071['realScore'];if(_0x4b261f!==0x0)return _0x4b261f;return(_0x318071['name']||'')[_0x54b478(0x1bf)](_0x84b02d[_0x54b478(0x34a)]||'','th');}else{const _0x131280=_0x84b02d[_0x54b478(0xd68)]-_0x318071['totalPoints'];if(_0x131280!==0x0)return _0x131280;const _0x32570c=_0x84b02d['realScore']-_0x318071[_0x54b478(0x971)];if(_0x32570c!==0x0)return _0x32570c;return(_0x318071[_0x54b478(0x34a)]||'')[_0x54b478(0x1bf)](_0x84b02d[_0x54b478(0x34a)]||'','th');}});let _0x3640e4=0x1;for(let _0x419549=0x0;_0x419549<_0x6e2081['length'];_0x419549++){if(_0x419549>0x0){const _0x528a74=_0x6e2081[_0x419549-0x1],_0xbd6a17=_0x6e2081[_0x419549];let _0x20bcdd=![];_0x4e54c2?_0x20bcdd=_0xbd6a17[_0x36be36(0xd68)]===_0x528a74[_0x36be36(0xd68)]&&_0xbd6a17['realScore']===_0x528a74[_0x36be36(0x971)]:_0x20bcdd=_0xbd6a17['totalPoints']===_0x528a74[_0x36be36(0xd68)]&&_0xbd6a17[_0x36be36(0x971)]===_0x528a74[_0x36be36(0x971)],!_0x20bcdd&&(_0x3640e4=_0x419549+0x1);}_0x6e2081[_0x419549][_0x36be36(0xdfa)]=_0x3640e4;}let _0x47acdd='';const _0x465537=!_0x5453d7&&!(_0x1678fc&&_0x50b898['showAnswerInAnonymous']===![]);if(_0x301ee3&&_0x465537){let _0x13b848='',_0x26edd1='';const _0x1c266e=_0x301ee3[_0x36be36(0x2ed)]||_0x50b898[_0x36be36(0x450)][_0x36be36(0x2de)];if(_0x1c266e===_0x36be36(0x47e)&&_0x301ee3[_0x36be36(0x3e2)]){const _0x205362=_0x301ee3['correctAnswerIndex'];_0x13b848=_0x301ee3[_0x36be36(0x3e2)][_0x205362],_0x26edd1=_0x3198b9(_0x205362)+'.';}else{if(_0x1c266e===_0x36be36(0x827)){const _0x2b9c9c=String(_0x301ee3[_0x36be36(0x8f4)])[_0x36be36(0x4ea)]()===_0x36be36(0x1b2);_0x13b848=_0x2b9c9c?_0x36be36(0x1fa):_0x36be36(0x29b),_0x26edd1=_0x2b9c9c?'ก.':'ข.';}else{if(_0x1c266e===_0x36be36(0xb08))_0x13b848=_0x301ee3[_0x36be36(0xd79)]||'-';else(_0x1c266e==='short_answer'||_0x1c266e===_0x36be36(0xceb))&&(_0x13b848=_0x301ee3[_0x36be36(0xbe7)]||'-');}}_0x13b848&&(_0x47acdd='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20my-4\x20py-4\x20bg-black/20\x20rounded-lg\x20shadow-inner\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20text-yellow-300\x20mt-3\x20font-semibold\x22>เฉลยคำตอบข้อที่\x20'+(_0x5764fa+0x1)+_0x36be36(0x6b7)+_0x26edd1+'\x20'+_0x13b848+_0x36be36(0x214));}const _0x5f349c=_0x6e2081[_0x36be36(0xe49)]((_0x12e758,_0x80d6c4)=>{const _0x2801f2=_0x36be36,_0x3f8c01=_0x12e758[_0x2801f2(0x971)],_0x588f10=_0x12e758['totalPoints'],_0x3adacc=(_0x12e758['answers']||[])[_0x2801f2(0x7a3)](_0x1893a5=>_0x1893a5[_0x2801f2(0xa22)]===_0x2655db),_0x30e2a5=_0x12e758[_0x2801f2(0x8c5)][_0x2801f2(0x752)];let _0x54f7dc='';if(_0x3adacc){if(_0x3adacc[_0x2801f2(0xa86)])_0x54f7dc+='<span\x20title=\x22โดนบังคับมั่นใจ\x22>👻</span>';if(_0x3adacc[_0x2801f2(0x1b7)])_0x54f7dc+=_0x2801f2(0xc5c);if(_0x3adacc['usedBuyTime'])_0x54f7dc+=_0x2801f2(0xe7c);const _0x32315f=_0x3adacc[_0x2801f2(0xd15)];if(_0x32315f){const _0x359950={'poll':'📊','cutOne':'✂️','insurance':_0x2801f2(0x712),'fiftyFifty':'🌗','wagerMultiplier':'💰','secondChance':'🔁','revealOptions':_0x2801f2(0x43c)};if(_0x359950[_0x32315f])_0x54f7dc+='<span\x20title=\x22ใช้ไอเทม\x22>'+_0x359950[_0x32315f]+_0x2801f2(0x990);}}let _0x10077e='';const _0x40acf8=_0x12e758[_0x2801f2(0xa43)]||0x0,_0x15f3a7=_0x3adacc&&_0x3adacc[_0x2801f2(0x74a)],_0x5606c0=_0x3adacc&&_0x3adacc[_0x2801f2(0xd15)]&&_0x3adacc[_0x2801f2(0xd15)]!=='wagerMultiplier';!_0x5453d7&&_0x40acf8>=0x3&&!_0x15f3a7&&!_0x5606c0&&(_0x10077e+=_0x2801f2(0x1c5)+_0x40acf8+_0x2801f2(0x990));if(!_0x5453d7&&_0x30e2a5>0x0){if(_0x4e54c2){if(_0x588f10===_0x315cb9&&_0x315cb9>0x0)_0x10077e+=_0x2801f2(0xd5a);if(_0x3f8c01===_0x23544b&&_0x23544b>0x0)_0x10077e+=_0x2801f2(0x648);}else{const _0x3db2bb=_0x12e758[_0x2801f2(0x971)]===_0x2655db+0x1;if(_0x3db2bb)_0x10077e+='<span\x20class=\x22text-yellow-300\x20ml-1\x22>⭐</span>';}if(_0x10077e===''&&_0x588f10<0x0)_0x10077e+='<span\x20class=\x22text-red-400\x20ml-1\x22>⚠️</span>';}let _0x1760fd=_0x2801f2(0xe5f),_0x551e9c=![],_0x24c3bb=![];if(!_0x5453d7){const _0x4c21c9=(_0x12e758[_0x2801f2(0x8c5)]||[])['find'](_0x2131c9=>_0x2131c9[_0x2801f2(0xa22)]===_0x5764fa);if(_0x4c21c9){const _0x3ba0fd=_0x4c21c9[_0x2801f2(0x129)],_0x4c0b46=_0x4c21c9['wasConfident']===!![]||_0x4c21c9[_0x2801f2(0xcec)]===_0x2801f2(0x8e9),_0x2a2dec=_0x4c21c9[_0x2801f2(0xd15)];if(_0x2a2dec===_0x2801f2(0xac7))_0x3ba0fd?(_0x1760fd=_0x2801f2(0x653),_0x551e9c=!![]):(_0x1760fd=_0x2801f2(0xad9),_0x24c3bb=!![]);else{if(_0x4c0b46)_0x1760fd=_0x3ba0fd?'bg-[#4ADE80]\x20text-green-900\x20font-bold':_0x2801f2(0xa05);else _0x3ba0fd&&(_0x1760fd='bg-[#DCFCE7]\x20text-green-900');}}}let _0x1603f='';const _0x2d83ab=_0x12e758[_0x2801f2(0x34a)],_0x2288bf=_0x50b898[_0x2801f2(0xc70)][_0x12e758[_0x2801f2(0x34a)]]||_0x2801f2(0x98f),_0x11ca87=_0x2801f2(0x350),_0x202a6f='word-break:\x20break-all;',_0x1caef3=_0x551e9c?_0x2801f2(0xe93):_0x2801f2(0x8d5);let _0x39869c='';const _0x8b4b19=_0x588f10>=0x0?'(+'+_0x588f10[_0x2801f2(0x6ee)]()+')':'('+_0x588f10['toLocaleString']()+')',_0xc0f67d=_0x2801f2(0x5b9)+_0x3f8c01+_0x2801f2(0x3c2)+_0x8b4b19+_0x2801f2(0x990);if(_0x35d665){if(_0x1678fc&&!_0x455abc)_0x24c3bb?_0x1603f=_0x2801f2(0x977)+_0x11ca87+'\x22\x20title=\x22'+_0x2d83ab+'\x20('+_0x2288bf+_0x2801f2(0x3d9)+_0x202a6f+'\x22>'+_0x2d83ab+'</span>\x20'+_0x54f7dc+'\x20'+_0x10077e+_0x2801f2(0x2c8)+_0x1caef3+_0x2801f2(0x170)+_0x202a6f+_0x2801f2(0x3a8)+_0x2288bf+')</span></div>':_0x1603f='<div\x20style=\x22'+_0x11ca87+_0x2801f2(0x23f)+_0x2288bf+_0x2801f2(0x892)+_0x202a6f+'\x22>'+_0x2288bf+_0x2801f2(0x2c0)+_0x54f7dc+'\x20'+_0x10077e+_0x2801f2(0x1f5),_0x39869c=_0xc0f67d;else{if(_0x1678fc&&_0x455abc)_0x1603f=_0x2801f2(0x977)+_0x11ca87+'\x22\x20title=\x22'+_0x2d83ab+_0x2801f2(0x892)+_0x202a6f+'\x22>'+_0x2d83ab+_0x2801f2(0x2c0)+_0x54f7dc+'\x20'+_0x10077e+_0x2801f2(0x2c8)+_0x1caef3+_0x2801f2(0x170)+_0x202a6f+_0x2801f2(0x3a8)+_0x2288bf+_0x2801f2(0x1c1),_0x39869c=_0xc0f67d;else _0x5453d7?(_0x1603f=_0x2801f2(0x977)+_0x11ca87+_0x2801f2(0x23f)+_0x2d83ab+_0x2801f2(0x892)+_0x202a6f+'\x22>'+_0x2d83ab+_0x2801f2(0x2c0)+_0x54f7dc+'\x20'+_0x10077e+_0x2801f2(0x1f5),_0x39869c=''):(_0x1603f=_0x2801f2(0x977)+_0x11ca87+_0x2801f2(0x23f)+_0x2d83ab+'\x22><span\x20style=\x22'+_0x202a6f+'\x22>'+_0x2d83ab+_0x2801f2(0x2c0)+_0x54f7dc+'\x20'+_0x10077e+'</div>',_0x39869c=_0xc0f67d);}}return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x20p-2\x20rounded-md\x20transition-all\x20duration-300\x20'+_0x1760fd+'\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20w-6\x20text-center\x22>'+_0x12e758[_0x2801f2(0xdfa)]+_0x2801f2(0x3cf)+_0x1603f+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x39869c+_0x2801f2(0xe99);})[_0x36be36(0xbb2)](''),_0x2b7776=_0x48d77e[_0x36be36(0xe49)]((_0x254009,_0x4895a1)=>{const _0x21c8bd=_0x36be36;if(_0x1c0125&&_0x4895a1>_0x5764fa||_0x5453d7)return'';const _0x45d298=_0x44a5d9[_0x21c8bd(0x9a7)](_0x27dcba=>_0x27dcba[_0x21c8bd(0x8c5)]&&_0x27dcba[_0x21c8bd(0x8c5)][_0x21c8bd(0x7a3)](_0x2a6530=>_0x2a6530[_0x21c8bd(0xa22)]===_0x4895a1&&_0x2a6530[_0x21c8bd(0x129)]))['length'],_0x114c73=_0x4895a1===_0x5764fa,_0x31e701=_0x114c73?_0x21c8bd(0xc03):_0x21c8bd(0xb01);return _0x21c8bd(0x4dd)+_0x31e701+_0x21c8bd(0x5ec)+(_0x4895a1+0x1)+_0x21c8bd(0x2c5)+_0x45d298+_0x21c8bd(0xb54)+_0x28912b+_0x21c8bd(0x1b6);})[_0x36be36(0xbb2)]('');let _0x57a08f='',_0x3cd103='';if(_0x35d665){const _0x2d6ff3=_0x1e5761==='classic'&&_0x50b898[_0x36be36(0x907)]>=_0x48d77e[_0x36be36(0x752)]-0x1,_0x483861=_0x1c0125&&_0x50b898[_0x36be36(0x44c)]>=_0x48d77e['length']-0x1,_0xc6b6c7=_0x1e5761===_0x36be36(0x959)&&_0x50b898[_0x36be36(0x907)]>=_0x48d77e[_0x36be36(0x752)]-0x1,_0x33f33f=_0x1678fc&&!_0x1c0125&&_0x50b898[_0x36be36(0x907)]>=_0x48d77e[_0x36be36(0x752)]-0x1;if(_0x1c0125)_0x483861?_0x1678fc&&!_0x455abc?_0x57a08f=_0x36be36(0x249):_0x57a08f=_0x36be36(0xdbb):_0x57a08f=_0x36be36(0x4d9);else _0x2d6ff3||_0xc6b6c7||_0x33f33f?_0x1678fc&&!_0x455abc?_0x57a08f=_0x36be36(0x249):_0x57a08f=_0x36be36(0xdbb):_0x57a08f=_0x36be36(0x263);_0x3cd103=_0x36be36(0x1fe);}const _0x7d6fc3=_0x5453d7||_0x1678fc&&!_0x50b898[_0x36be36(0x40f)]?'':_0x36be36(0xab1)+_0x2b7776+'</div></div>',_0x548b9d=_0x5453d7||_0x1678fc&&!_0x50b898[_0x36be36(0x40f)]?_0x36be36(0x347):_0x36be36(0x2a6),_0x49053e='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x22>Dashboard:\x20'+_0x50b898[_0x36be36(0x450)][_0x36be36(0x79c)]+_0x36be36(0x1a0)+_0x50b898['pin']+_0x36be36(0x8df)+_0x3cd103+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x47acdd+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-6\x20flex-grow\x20overflow-y-auto\x20pr-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22'+_0x548b9d+_0x36be36(0x83f)+(_0x5f349c||'<p\x20class=\x22text-sm\x22>ยังไม่มีผู้เล่น</p>')+_0x36be36(0x930)+_0x7d6fc3+_0x36be36(0x91e)+(_0x35d665?_0x36be36(0xac1)+_0x57a08f+_0x36be36(0x1f5):'')+_0x36be36(0x8bf);liveGameView[_0x36be36(0xa16)]=_0x49053e;if(window[_0x36be36(0x7f9)]){const _0x1ad0b9=document[_0x36be36(0x932)](_0x36be36(0x6af));_0x1ad0b9&&MathJax['typesetPromise']([_0x1ad0b9]);}if(_0x35d665){const _0x37ecd2=document[_0x36be36(0x932)](_0x36be36(0xd38));_0x37ecd2&&(_0x37ecd2[_0x36be36(0xe1b)]=async()=>{const _0x282ff5=_0x36be36,_0x157d96=doc(db,'artifacts/'+appId+_0x282ff5(0x2ef),currentLiveGameId),_0x5692f0=_0x50b898[_0x282ff5(0x907)]+0x1,_0x3eb818=_0x50b898[_0x282ff5(0x450)][_0x282ff5(0xc46)][_0x282ff5(0x752)];!_0x1c0125&&_0x5692f0<_0x3eb818?await updateDoc(_0x157d96,{'status':_0x282ff5(0xb8f),'currentQuestionIndex':_0x5692f0,'questionDisplayedAt':serverTimestamp(),'scoresCalculated':![]}):await updateDoc(_0x157d96,{'status':_0x282ff5(0x844)});});const _0x339005=document[_0x36be36(0x932)](_0x36be36(0x980));_0x339005&&(_0x339005[_0x36be36(0xe1b)]=async()=>{const _0x411cf6=_0x36be36,_0x306ca4=doc(db,_0x411cf6(0x6e6)+appId+_0x411cf6(0x2ef),currentLiveGameId);await updateDoc(_0x306ca4,{'reviewQuestionIndex':increment(0x1)});});document[_0x36be36(0x932)](_0x36be36(0x885))?.[_0x36be36(0x639)](_0x36be36(0x164),async()=>{const _0x59eccd=_0x36be36;await updateDoc(doc(db,_0x59eccd(0x6e6)+appId+_0x59eccd(0x2ef),currentLiveGameId),{'isAnonymousRevealed':!![]});});const _0x3fd314=document[_0x36be36(0x932)](_0x36be36(0x736));_0x3fd314&&(_0x3fd314[_0x36be36(0xe1b)]=()=>{const _0x4b1d55=_0x36be36;showConfirmation(_0x4b1d55(0xe7e),async()=>{const _0xe0b3c1=_0x4b1d55;await updateDoc(doc(db,_0xe0b3c1(0x6e6)+appId+_0xe0b3c1(0x2ef),currentLiveGameId),{'status':_0xe0b3c1(0x844)});});});}}async function handleGenerateParallelFromBank(_0x14450f){const _0x1bc815=_0x2bcb18,_0x181c5d=document[_0x1bc815(0x932)](_0x1bc815(0x8c9)),_0x2c6df7=document[_0x1bc815(0x932)](_0x1bc815(0xdd2));_0x2c6df7[_0x1bc815(0x360)][_0x1bc815(0x4a6)](_0x1bc815(0x2f2));const _0x5b7ca1=_0x1bc815(0x1a7)+_0x14450f['topic']+'\x22...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x181c5d[_0x1bc815(0x677)](_0x1bc815(0x764),_0x5b7ca1);const _0xfbd598=document[_0x1bc815(0x932)](_0x1bc815(0x970));try{const _0x494b55=_0x14450f[_0x1bc815(0xc46)][_0x1bc815(0xe49)]((_0x262ea7,_0x5119f5)=>{const _0x19dab4=_0x1bc815;let _0x523498=_0x5119f5+0x1+'.\x20'+(_0x262ea7[_0x19dab4(0xca8)]||_0x262ea7['stem'])+'\x0a';if(_0x262ea7[_0x19dab4(0x3e2)])_0x523498+=_0x262ea7[_0x19dab4(0x3e2)][_0x19dab4(0xe49)]((_0x129755,_0x2177c7)=>'\x20\x20\x20-\x20'+(_0x2177c7===_0x262ea7['correctAnswerIndex']?'[*]':'')+'\x20'+_0x129755)['join']('\x0a');else _0x262ea7[_0x19dab4(0xbe7)]&&(_0x523498+=_0x19dab4(0xd7a)+_0x262ea7[_0x19dab4(0xbe7)]);return _0x523498;})['join']('\x0a\x0a');_0xfbd598[_0x1bc815(0xdec)]=_0x1bc815(0x26c);const _0x562560='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22'+_0x14450f['topic']+_0x1bc815(0x28b)+_0x494b55+_0x1bc815(0x56e)+simpleMathPrompt+_0x1bc815(0x9b3),_0x5c7c87={'type':_0x1bc815(0xde5),'properties':{'questionText':{'type':_0x1bc815(0x7d8)},'questionType':{'type':_0x1bc815(0x7d8),'enum':['multiple_choice','short_answer','true_false',_0x1bc815(0xb08)]},'options':{'type':_0x1bc815(0xd66),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x1bc815(0xd4c)},'idealAnswer':{'type':_0x1bc815(0x7d8)},'correctAnswer':{'type':_0x1bc815(0x339)},'stem':{'type':'STRING'},'correctResponse':{'type':_0x1bc815(0x7d8)},'allResponses':{'type':'ARRAY','items':{'type':'STRING'}},'explanation':{'type':_0x1bc815(0x7d8)},'imageCode':{'type':_0x1bc815(0x7d8)}},'required':[_0x1bc815(0x2ed),_0x1bc815(0xc94)]},_0x4c641d={'type':_0x1bc815(0xde5),'properties':{'topic':{'type':_0x1bc815(0x7d8)},'questions':{'type':_0x1bc815(0xd66),'items':_0x5c7c87}},'required':['topic','questions']},_0x12f89e=await callAnalysisApi(_0x562560,_0x4c641d),_0x12ecb2=_0x12f89e[_0x1bc815(0xc46)][_0x1bc815(0xe49)]((_0x4cdd30,_0x245f03)=>({..._0x4cdd30,'id':'q_'+Date[_0x1bc815(0x18f)]()+'_'+_0x245f03})),_0x2b96a5=_0x1bc815(0x841)+_0x14450f[_0x1bc815(0x79c)],_0x29240e={'topic':_0x2b96a5,'questions':_0x12ecb2,'quizType':_0x14450f['quizType'],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()['toISOString'](),'status':'active','settings':_0x14450f[_0x1bc815(0x6ce)],'quizMode':_0x1bc815(0x7ee),'pairedQuizId':null,'lessonPlan':null};let _0xe22f4a;while(!![]){_0xe22f4a=Math['floor'](0x3e8+Math['random']()*0x2328)[_0x1bc815(0xdcb)]();const _0x1d0a15=await getDoc(doc(db,_0x1bc815(0x6e6)+appId+_0x1bc815(0x993),_0xe22f4a));if(!_0x1d0a15['exists']())break;}await setDoc(doc(db,_0x1bc815(0x6e6)+appId+_0x1bc815(0x993),_0xe22f4a),_0x29240e),showMessage(_0x1bc815(0x175));}catch(_0x3e2263){console[_0x1bc815(0x1ac)]('Error\x20generating\x20parallel\x20test\x20from\x20bank:',_0x3e2263),showMessage('เกิดข้อผิดพลาด:\x20'+_0x3e2263['message']);}finally{const _0xdb222d=document[_0x1bc815(0x932)](_0x1bc815(0x480));_0xdb222d&&_0xdb222d['remove'](),_0x2c6df7[_0x1bc815(0x360)][_0x1bc815(0xcc8)]('hidden');}}async function handleGenerateParallelPostTest(_0xbfcca3){const _0x3a7963=_0x2bcb18,_0x283158=document[_0x3a7963(0x932)](_0x3a7963(0x8c9)),_0xf9fad4=document[_0x3a7963(0x932)](_0x3a7963(0xdd2));_0xf9fad4['classList'][_0x3a7963(0x4a6)](_0x3a7963(0x2f2));const _0x55c0=_0x3a7963(0x2b5);_0x283158[_0x3a7963(0x677)]('beforeend',_0x55c0);try{const _0x48c3c9=_0xbfcca3['questions'][_0x3a7963(0xe49)]((_0x25f339,_0x8ff847)=>{const _0x28bac7=_0x3a7963;let _0x45df43=_0x8ff847+0x1+'.\x20'+(_0x25f339[_0x28bac7(0xca8)]||_0x25f339[_0x28bac7(0x58b)]);if(_0x25f339[_0x28bac7(0x3e2)])_0x45df43+=_0x28bac7(0xbd1)+_0x25f339[_0x28bac7(0x3e2)][_0x28bac7(0xbb2)](',\x20');return _0x45df43;})[_0x3a7963(0xbb2)]('\x0a\x0a'),_0x1835f9=_0x3a7963(0x13b)+_0xbfcca3[_0x3a7963(0x79c)]+'\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x48c3c9+_0x3a7963(0x2cb)+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x2ebe9b={'type':_0x3a7963(0xde5),'properties':{'topic':{'type':_0x3a7963(0x7d8)},'questions':{'type':'ARRAY','items':{'type':_0x3a7963(0xde5),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x3a7963(0x7d8)},'options':{'type':_0x3a7963(0xd66),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x3a7963(0xd4c)},'idealAnswer':{'type':_0x3a7963(0x7d8)},'explanation':{'type':_0x3a7963(0x7d8)}},'required':[_0x3a7963(0xca8),_0x3a7963(0xc94)]}}},'required':[_0x3a7963(0x79c),_0x3a7963(0xc46)]},_0x142a8d=await callAnalysisApi(_0x1835f9,_0x2ebe9b),_0x40a89d=_0xbfcca3[_0x3a7963(0x79c)][_0x3a7963(0xdcc)](_0x3a7963(0x2f8),'')[_0x3a7963(0xa4d)](),_0x1a4502=_0x3a7963(0x390)+_0x40a89d,_0x3e4bfb={..._0x142a8d,'topic':_0x1a4502,'quizType':_0xbfcca3['quizType'],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x3a7963(0x26e)](),'status':_0x3a7963(0x76a),'settings':_0xbfcca3[_0x3a7963(0x6ce)],'quizMode':_0x3a7963(0xe54),'pairedQuizId':_0xbfcca3['id']};let _0x577164;while(!![]){_0x577164=Math[_0x3a7963(0x4cf)](0x3e8+Math['random']()*0x2328)[_0x3a7963(0xdcb)]();const _0x404cff=await getDoc(doc(db,'artifacts/'+appId+_0x3a7963(0x993),_0x577164));if(!_0x404cff[_0x3a7963(0x7d2)]())break;}await setDoc(doc(db,_0x3a7963(0x6e6)+appId+'/public/data/quizzes',_0x577164),_0x3e4bfb);const _0x1cab7c=doc(db,_0x3a7963(0x6e6)+appId+_0x3a7963(0x993),_0xbfcca3['id']);await updateDoc(_0x1cab7c,{'pairedQuizId':_0x577164}),showMessage(_0x3a7963(0x431));}catch(_0x263098){console[_0x3a7963(0x1ac)](_0x3a7963(0x33f),_0x263098),showMessage(_0x3a7963(0xb75)+_0x263098[_0x3a7963(0x523)]);}finally{const _0x4335bd=document[_0x3a7963(0x932)](_0x3a7963(0x480));if(_0x4335bd)_0x4335bd[_0x3a7963(0xcc8)]();_0xf9fad4['classList'][_0x3a7963(0xcc8)](_0x3a7963(0x2f2));}}async function handleGenerateParallelTest(_0x5c0daf=null){const _0x16d139=_0x2bcb18;let _0x331b7a=_0x5c0daf;if(!_0x331b7a){const _0x2d64e6=document[_0x16d139(0x932)](_0x16d139(0x290));_0x2d64e6[_0x16d139(0x98b)][_0x16d139(0x752)]>0x0&&(_0x331b7a=_0x2d64e6['files'][0x0]);}if(!_0x331b7a){showMessage(_0x16d139(0x47c));return;}const _0x4a5ca6=document['getElementById'](_0x16d139(0xe0d)),_0x1bbe55=document['getElementById'](_0x16d139(0x231)),_0x5dd2d6=document['getElementById'](_0x16d139(0x277)),_0x4b680b=document[_0x16d139(0x932)](_0x16d139(0xdd5));_0x4b680b[_0x16d139(0xad6)]=!![],document[_0x16d139(0x932)](_0x16d139(0xa17))[_0x16d139(0x360)][_0x16d139(0xcc8)](_0x16d139(0x2f2)),_0x5dd2d6[_0x16d139(0xa16)]='',_0x4a5ca6['classList'][_0x16d139(0xcc8)](_0x16d139(0x2f2)),_0x1bbe55[_0x16d139(0xdec)]=_0x16d139(0x191);const _0x1c1138=new FileReader();_0x1c1138[_0x16d139(0x96a)](_0x331b7a),_0x1c1138[_0x16d139(0x905)]=async()=>{const _0x51d6a5=_0x16d139;try{const _0x281ea4=_0x1c1138[_0x51d6a5(0x72b)][_0x51d6a5(0x664)](',')[0x1],_0x2f5af6=_0x331b7a[_0x51d6a5(0x587)];_0x1bbe55['textContent']=_0x51d6a5(0x7e5);const _0x5440cd=document[_0x51d6a5(0x932)](_0x51d6a5(0xe91))[_0x51d6a5(0xc62)],_0x582ffd=_0x5440cd?_0x51d6a5(0xb91):'',_0x10d8a4=_0x51d6a5(0xe62),_0x4abdce={'type':'OBJECT','properties':{'questionText':{'type':_0x51d6a5(0x7d8)},'questionType':{'type':'STRING','enum':[_0x51d6a5(0x47e),_0x51d6a5(0xafb)]},'options':{'type':_0x51d6a5(0xd66),'items':{'type':_0x51d6a5(0x7d8)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x51d6a5(0x7d8)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x51d6a5(0x7d8)}},'required':['questionText','questionType',_0x51d6a5(0xc94)]},_0x391231={'type':_0x51d6a5(0xde5),'properties':{'topic':{'type':'STRING'},'questions':{'type':'ARRAY','items':_0x4abdce}},'required':[_0x51d6a5(0x79c),_0x51d6a5(0xc46)]},_0x1b4e46=[{'text':_0x10d8a4},{'inlineData':{'mimeType':_0x2f5af6,'data':_0x281ea4}}];await handleApiCall(_0x1b4e46,_0x51d6a5(0x763),_0x391231);}catch(_0x50e0bb){console['error']('Error\x20generating\x20from\x20parallel\x20test\x20file:',_0x50e0bb),showMessage(_0x51d6a5(0xb75)+_0x50e0bb[_0x51d6a5(0x523)]),_0x5dd2d6[_0x51d6a5(0xa16)]=_0x51d6a5(0xbc6);}finally{_0x4a5ca6[_0x51d6a5(0x360)]['add'](_0x51d6a5(0x2f2)),_0x4b680b[_0x51d6a5(0xad6)]=![];}},_0x1c1138[_0x16d139(0x13e)]=_0x54026d=>{const _0x1546b9=_0x16d139;console[_0x1546b9(0x1ac)]('FileReader\x20error:',_0x54026d),showMessage(_0x1546b9(0x4a9)),_0x4a5ca6[_0x1546b9(0x360)][_0x1546b9(0x4a6)](_0x1546b9(0x2f2)),_0x4b680b[_0x1546b9(0xad6)]=![];};}async function handleRegenerateQuestionInEditor(_0x31852c){const _0x474505=_0x2bcb18;if(currentEditingQuizData===null)return;const _0xe0d159=document[_0x474505(0xc60)](_0x474505(0x404)+_0x31852c+'\x22]');_0xe0d159&&(_0xe0d159[_0x474505(0xa16)]=_0x474505(0x8b2));const _0x9fd23b=currentEditingQuizData[_0x474505(0xc46)][_0x31852c],_0x1eeed0=currentEditingQuizData[_0x474505(0x79c)],_0x514c90=_0x9fd23b[_0x474505(0x2ed)],_0x524de3={'type':_0x474505(0xde5),'properties':{'questionText':{'type':_0x474505(0x7d8)},'options':{'type':_0x474505(0xd66),'items':{'type':_0x474505(0x7d8)}},'correctAnswerIndex':{'type':_0x474505(0xd4c)},'explanation':{'type':'STRING'}},'required':[_0x474505(0xca8),_0x474505(0x3e2),_0x474505(0x52a),_0x474505(0xc94)]},_0xaebadf={'type':_0x474505(0xde5),'properties':{'questionText':{'type':_0x474505(0x7d8)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x474505(0x7d8)}},'required':[_0x474505(0xca8),_0x474505(0xbe7),_0x474505(0xc94)]};let _0x38ec03,_0x1f865b='';_0x514c90===_0x474505(0x47e)?(_0x38ec03=_0x524de3,_0x1f865b=_0x474505(0x960)):(_0x38ec03=_0xaebadf,_0x1f865b=_0x474505(0xe4f));const _0x4611a2='สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22'+_0x1eeed0+_0x474505(0xa2f)+_0x1f865b+_0x474505(0xcad)+(_0x9fd23b['questionText']||_0x9fd23b[_0x474505(0x58b)])+'\x22.\x20'+simpleMathPrompt;try{const _0x5e4806=await callAnalysisApi(_0x4611a2,_0x38ec03);currentEditingQuizData[_0x474505(0xc46)][_0x31852c]={..._0x9fd23b,..._0x5e4806},renderQuizEditor(currentEditingQuizData);}catch(_0x320321){console['error'](_0x474505(0xa1b),_0x320321),showMessage('เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่'),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x2aa5fe=_0x2bcb18,_0x28b3f8=document[_0x2aa5fe(0x932)](_0x2aa5fe(0x6d3));currentMode==='student'?(adminPasswordModal[_0x2aa5fe(0x360)][_0x2aa5fe(0xcc8)](_0x2aa5fe(0x2f2)),document[_0x2aa5fe(0x932)](_0x2aa5fe(0x1cb))['focus']()):(currentMode=_0x2aa5fe(0x18c),_0x28b3f8[_0x2aa5fe(0xa16)]=_0x2aa5fe(0x4b5),_0x28b3f8[_0x2aa5fe(0x76d)]=_0x2aa5fe(0xa3e),showView(_0x2aa5fe(0x18c)));}function handleAdminLogin(){const _0x15971f=_0x2bcb18,_0x24951b=document[_0x15971f(0x932)](_0x15971f(0x1cb)),_0x1f086c=document[_0x15971f(0x932)](_0x15971f(0x17a));if(_0x24951b[_0x15971f(0x99c)]===_0x15971f(0xe3a)){adminPasswordModal['classList'][_0x15971f(0x4a6)]('hidden'),_0x24951b[_0x15971f(0x99c)]='',_0x1f086c[_0x15971f(0x360)][_0x15971f(0x4a6)](_0x15971f(0x2f2)),currentMode=_0x15971f(0xcd1);const _0x229ed1=document[_0x15971f(0x932)]('mode-switcher-btn');_0x229ed1[_0x15971f(0xa16)]=_0x15971f(0xe73),_0x229ed1[_0x15971f(0x76d)]=_0x15971f(0x1cf),showView(_0x15971f(0x6e3));}else _0x1f086c['classList']['remove'](_0x15971f(0x2f2)),_0x24951b[_0x15971f(0x99c)]='';}function switchProjectTab(_0x5a646c){const _0x3e5ec3=_0x2bcb18;[_0x3e5ec3(0x90e),_0x3e5ec3(0xd37),'leaderboard'][_0x3e5ec3(0x39f)](_0x31d9ec=>{const _0x4b3799=_0x3e5ec3;document['getElementById'](_0x31d9ec+_0x4b3799(0x199))[_0x4b3799(0x360)]['remove'](_0x4b3799(0x76a)),document[_0x4b3799(0x932)](_0x31d9ec+'-tab-content')[_0x4b3799(0x360)][_0x4b3799(0x4a6)](_0x4b3799(0x2f2));}),document[_0x3e5ec3(0x932)](_0x5a646c+_0x3e5ec3(0x199))[_0x3e5ec3(0x360)][_0x3e5ec3(0x4a6)](_0x3e5ec3(0x76a)),document[_0x3e5ec3(0x932)](_0x5a646c+_0x3e5ec3(0x8a2))['classList'][_0x3e5ec3(0xcc8)]('hidden');}function switchQuizDetailTab(_0x1720e6){const _0x4acf76=_0x2bcb18,_0x37c6df={'analytics':{'btn':_0x4acf76(0x6bb),'content':_0x4acf76(0xbd6)},'scores':{'btn':'scores-tab-btn','content':_0x4acf76(0xb09)},'leaderboard-quiz':{'btn':_0x4acf76(0xca2),'content':_0x4acf76(0x212)},'behavior-log':{'btn':_0x4acf76(0xcd3),'content':'behavior-log-tab-content'}};for(const _0x24bc03 in _0x37c6df){document[_0x4acf76(0x932)](_0x37c6df[_0x24bc03][_0x4acf76(0xe36)])[_0x4acf76(0x360)][_0x4acf76(0xcc8)](_0x4acf76(0x76a)),document[_0x4acf76(0x932)](_0x37c6df[_0x24bc03][_0x4acf76(0x780)])[_0x4acf76(0x360)][_0x4acf76(0x4a6)](_0x4acf76(0x2f2));}document[_0x4acf76(0x932)](_0x37c6df[_0x1720e6][_0x4acf76(0xe36)])[_0x4acf76(0x360)][_0x4acf76(0x4a6)]('active'),document[_0x4acf76(0x932)](_0x37c6df[_0x1720e6]['content'])[_0x4acf76(0x360)][_0x4acf76(0xcc8)]('hidden');}function showMessage(_0x1f884a,_0x2f38f3=null){const _0x15d586=_0x2bcb18;modalMessage[_0x15d586(0xa16)]=_0x1f884a[_0x15d586(0xdcc)](/\n/g,_0x15d586(0x5e9)),modalConfirmAction=_0x2f38f3,messageModal['classList'][_0x15d586(0xcc8)]('hidden');}function showConfirmation(_0x2a2f76,_0x40c1d0,_0x43f435=null){const _0x5dffd6=_0x2bcb18;document[_0x5dffd6(0x932)]('confirmation-message')[_0x5dffd6(0xdec)]=_0x2a2f76,document[_0x5dffd6(0x932)](_0x5dffd6(0x307))[_0x5dffd6(0xc60)]('h3')[_0x5dffd6(0xdec)]=_0x5dffd6(0xcfa),confirmAction=_0x40c1d0,cancelAction=_0x43f435,confirmationModal[_0x5dffd6(0x360)][_0x5dffd6(0xcc8)](_0x5dffd6(0x2f2));}function listenForProjects(){const _0x41a332=_0x2bcb18,_0x406b22=doc(db,_0x41a332(0x4db),'dashboardConfig');onSnapshot(_0x406b22,_0x4f545f=>{const _0x1a70ae=_0x41a332;if(_0x4f545f[_0x1a70ae(0x7d2)]()){const _0xb21e42=_0x4f545f['data']();globalDashboardSettings[_0x1a70ae(0xdc5)]=_0xb21e42[_0x1a70ae(0xdc5)]||_0x1a70ae(0x2cf),globalDashboardSettings['pinnedProjects']=_0xb21e42[_0x1a70ae(0xe18)]||[],globalDashboardSettings[_0x1a70ae(0x4fa)]=_0xb21e42[_0x1a70ae(0x4fa)]||[];}allProjects[_0x1a70ae(0x752)]>0x0&&renderProjects();});const _0x53a1c8=collection(db,_0x41a332(0x6e6)+appId+_0x41a332(0x53a));unsubscribeProjectsListener=onSnapshot(_0x53a1c8,_0x447529=>{const _0x10b89a=_0x41a332;allProjects=_0x447529[_0x10b89a(0x9ef)][_0x10b89a(0xe49)](_0x4d7b39=>({'id':_0x4d7b39['id'],..._0x4d7b39['data']()})),renderProjects();},_0x5c4274=>{const _0x258dc2=_0x41a332;console[_0x258dc2(0x1ac)](_0x258dc2(0xe7a),_0x5c4274),showMessage(_0x258dc2(0x6ed));});}function showColorPalette(_0x24c45c,_0x4c3476){const _0x1b6a48=_0x2bcb18;document['querySelectorAll'](_0x1b6a48(0x52b))[_0x1b6a48(0x39f)](_0x587a55=>_0x587a55[_0x1b6a48(0xcc8)]());const _0x3f0113=[_0x1b6a48(0x248),'#FEE2E2',_0x1b6a48(0xd97),'#D1FAE5',_0x1b6a48(0x312),'#E0E7FF',_0x1b6a48(0x3a0),_0x1b6a48(0xb71),_0x1b6a48(0x87d)],_0x58ef7=document[_0x1b6a48(0xc95)]('div');_0x58ef7[_0x1b6a48(0xba9)]=_0x1b6a48(0xb85),_0x3f0113['forEach'](_0x3b46d5=>{const _0xb5a61f=_0x1b6a48,_0x2b65cd=document[_0xb5a61f(0xc95)](_0xb5a61f(0xd2a));_0x2b65cd[_0xb5a61f(0xba9)]=_0xb5a61f(0x13a),_0x2b65cd[_0xb5a61f(0x6dc)][_0xb5a61f(0xaa0)]=_0x3b46d5,_0x2b65cd['addEventListener']('click',()=>{handleProjectColorChange(_0x4c3476,_0x3b46d5),_0x58ef7['remove']();}),_0x58ef7[_0xb5a61f(0xce0)](_0x2b65cd);}),document['body']['appendChild'](_0x58ef7);const _0x51e2c0=_0x24c45c[_0x1b6a48(0xe1c)]();_0x58ef7[_0x1b6a48(0x6dc)][_0x1b6a48(0x424)]=_0x51e2c0['bottom']+window[_0x1b6a48(0xbdf)]+'px',_0x58ef7[_0x1b6a48(0x6dc)]['left']=_0x51e2c0['left']+window['scrollX']-_0x58ef7[_0x1b6a48(0xeb3)]/0x2+'px';}async function handleProjectColorChange(_0x51b214,_0x15a2d9){const _0x4cb280=_0x2bcb18,_0x3abdec=doc(db,_0x4cb280(0x6e6)+appId+_0x4cb280(0x53a),_0x51b214);try{await updateDoc(_0x3abdec,{'color':_0x15a2d9});}catch(_0x2ede1a){console[_0x4cb280(0x1ac)](_0x4cb280(0x69e),_0x2ede1a),showMessage(_0x4cb280(0x432));}}async function renderProjects(){const _0x2228e9=_0x2bcb18,_0x318769=globalDashboardSettings[_0x2228e9(0xdc5)]||'date_desc',_0x3c63cd=new Set(globalDashboardSettings['pinnedProjects']||[]),_0x36d401=globalDashboardSettings[_0x2228e9(0xcf5)]||_0x2228e9(0x391),_0x79f7dc=document[_0x2228e9(0x932)](_0x2228e9(0x64d)),_0x36aef9=document['getElementById']('list-view-btn');_0x79f7dc['classList'][_0x2228e9(0xaa3)]('active',_0x36d401===_0x2228e9(0x391)),_0x36aef9[_0x2228e9(0x360)][_0x2228e9(0xaa3)]('active',_0x36d401===_0x2228e9(0xbde)),document[_0x2228e9(0x932)](_0x2228e9(0x6db))[_0x2228e9(0x99c)]=_0x318769;const _0x23b8f9=document[_0x2228e9(0x932)]('project-search-input')[_0x2228e9(0x99c)][_0x2228e9(0x4ea)]();let _0x22af83=allProjects[_0x2228e9(0x9a7)](_0x22369d=>_0x22369d[_0x2228e9(0x1cc)][_0x2228e9(0x4ea)]()[_0x2228e9(0xd2e)](_0x23b8f9));const _0x278451=_0x22af83['filter'](_0xdbd611=>_0x3c63cd['has'](_0xdbd611['id'])),_0x33956d=_0x22af83['filter'](_0x51a6c0=>!_0x3c63cd[_0x2228e9(0x75e)](_0x51a6c0['id'])),_0x57de25=(_0x2744d1,_0x323a5e)=>{const _0xbf1962=_0x2228e9;switch(_0x318769){case'name_asc':return _0x2744d1[_0xbf1962(0x1cc)]['localeCompare'](_0x323a5e[_0xbf1962(0x1cc)],'th');case _0xbf1962(0x493):return _0x323a5e[_0xbf1962(0x1cc)][_0xbf1962(0x1bf)](_0x2744d1[_0xbf1962(0x1cc)],'th');case'date_asc':return new Date(_0x2744d1['createdAt'])-new Date(_0x323a5e[_0xbf1962(0xcc3)]);default:return new Date(_0x323a5e[_0xbf1962(0xcc3)])-new Date(_0x2744d1[_0xbf1962(0xcc3)]);}};_0x278451[_0x2228e9(0x41f)](_0x57de25),_0x33956d[_0x2228e9(0x41f)](_0x57de25);const _0xf4e0c3=[..._0x278451,..._0x33956d],_0xac36fd=globalDashboardSettings[_0x2228e9(0x4fa)]||[];_0xac36fd[_0x2228e9(0x752)]>0x0&&_0x36d401==='grid'&&_0xf4e0c3[_0x2228e9(0x41f)]((_0x5263ea,_0x387e21)=>{const _0x129da8=_0x2228e9,_0x108843=_0xac36fd[_0x129da8(0x2bc)](_0x5263ea['id']),_0x7da60f=_0xac36fd[_0x129da8(0x2bc)](_0x387e21['id']);if(_0x108843===-0x1)return 0x1;if(_0x7da60f===-0x1)return-0x1;return _0x108843-_0x7da60f;});const _0x1fe8c6={};await Promise[_0x2228e9(0x6b3)](_0xf4e0c3[_0x2228e9(0xe49)](async _0x1d4e40=>{const _0xf1a2ae=_0x2228e9,_0x37c2cc=query(collection(db,'artifacts/'+appId+_0xf1a2ae(0x993)),where(_0xf1a2ae(0xc80),'==',_0x1d4e40['id'])),_0x4ace25=await getCountFromServer(_0x37c2cc);_0x1fe8c6[_0x1d4e40['id']]=_0x4ace25[_0xf1a2ae(0x13f)]()[_0xf1a2ae(0x720)];}));const _0x4b8922=document[_0x2228e9(0x932)](_0x2228e9(0x119));let _0x544133='';if(_0x36d401==='grid'){_0x4b8922[_0x2228e9(0xba9)]=_0x2228e9(0x1ab);if(starredQuizzes[_0x2228e9(0x752)]>0x0&&_0x23b8f9===''){const _0x5c4b8a=starredQuizzes[_0x2228e9(0xe49)](_0x390b07=>{const _0x158331=_0x2228e9,_0x3b4204=allProjects[_0x158331(0x7a3)](_0x3e8ecf=>_0x3e8ecf['id']===_0x390b07[_0x158331(0xc80)]);return{..._0x390b07,'projectName':_0x3b4204?_0x3b4204[_0x158331(0x1cc)]:_0x158331(0x9ff)};});_0x544133+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5c4b8a[_0x2228e9(0xe49)](_0x3c2ebb=>_0x2228e9(0x528)+_0x3c2ebb[_0x2228e9(0x79c)]+'\x22>'+_0x3c2ebb['topic']+_0x2228e9(0xd84)+_0x3c2ebb[_0x2228e9(0x1cc)]+_0x2228e9(0x368)+_0x3c2ebb[_0x2228e9(0x1cc)]+_0x2228e9(0x5f5))[_0x2228e9(0xbb2)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>'+starredQuizzes[_0x2228e9(0x752)]+'\x20รายการ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';}_0xf4e0c3[_0x2228e9(0x39f)](_0x5abddd=>{const _0x199978=_0x2228e9,_0x8771f2=_0x1fe8c6[_0x5abddd['id']]??0x0,_0x54865f=_0x3c63cd[_0x199978(0x75e)](_0x5abddd['id']),_0x5dfda0=_0x5abddd[_0x199978(0xb56)]||'#FFFFFF',_0x36be06=parseInt(_0x5dfda0['substring'](0x1,0x3),0x10)*0.299+parseInt(_0x5dfda0[_0x199978(0x3bc)](0x3,0x5),0x10)*0.587+parseInt(_0x5dfda0[_0x199978(0x3bc)](0x5,0x7),0x10)*0.114<0xba,_0x4e0ff0=_0x36be06?_0x199978(0x8f7):_0x199978(0x63c),_0x37753=_0x36be06?_0x199978(0xd6b):_0x199978(0x177);_0x544133+=_0x199978(0x7ce)+(_0x54865f?_0x199978(0xb2d):_0x199978(0x8b9))+'\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20'+_0x5dfda0+_0x199978(0x777)+_0x5abddd['id']+'\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x5abddd['id']+_0x199978(0xa50)+(_0x36be06?_0x199978(0x36a):_0x199978(0x398))+_0x199978(0x620)+_0x5abddd['id']+_0x199978(0x601)+(_0x36be06?_0x199978(0x36a):_0x199978(0x398))+_0x199978(0xa6e)+(_0x54865f?_0x36be06?'text-yellow-300':_0x199978(0x592):'')+_0x199978(0xc89)+_0x5abddd['id']+_0x199978(0x9a4)+_0x4e0ff0+'\x20pointer-events-none\x22>'+_0x5abddd[_0x199978(0x1cc)]+_0x199978(0x476)+_0x37753+'\x20pointer-events-none\x22>สร้างเมื่อ:\x20'+new Date(_0x5abddd['createdAt'])['toLocaleDateString'](_0x199978(0x7c5))+_0x199978(0xb4e)+(_0x36be06?_0x199978(0x35c):_0x199978(0x543))+_0x199978(0x24e)+_0x8771f2+_0x199978(0x3db)+_0x5abddd['id']+_0x199978(0x3ac)+_0x5abddd[_0x199978(0x1cc)]+'\x22\x20class=\x22delete-project-btn\x20'+(_0x36be06?_0x199978(0xb41):'text-red-500\x20hover:text-red-700')+'\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';});}else _0x4b8922[_0x2228e9(0xba9)]=_0x2228e9(0x1a6),starredQuizzes[_0x2228e9(0x752)]>0x0&&_0x23b8f9===''&&(_0x544133+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>'+starredQuizzes[_0x2228e9(0x752)]+_0x2228e9(0xc34)),_0x544133+=_0x2228e9(0xd6a),_0xf4e0c3['forEach'](_0x2d4c9a=>{const _0x1e19d1=_0x2228e9,_0x5efb4f=_0x1fe8c6[_0x2d4c9a['id']]??0x0,_0x2ebe05=_0x3c63cd[_0x1e19d1(0x75e)](_0x2d4c9a['id']);_0x544133+=_0x1e19d1(0x1a2)+(_0x2d4c9a[_0x1e19d1(0xb56)]||'#E5E7EB')+_0x1e19d1(0x792)+_0x2d4c9a['id']+_0x1e19d1(0x7a0)+_0x2d4c9a[_0x1e19d1(0x1cc)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>'+_0x5efb4f+_0x1e19d1(0x401)+new Date(_0x2d4c9a[_0x1e19d1(0xcc3)])[_0x1e19d1(0x6ee)](_0x1e19d1(0x7c5))+_0x1e19d1(0x69a)+_0x2d4c9a['id']+'\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20'+(_0x2ebe05?'text-indigo-600':'')+'\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x2d4c9a['id']+_0x1e19d1(0x3ac)+_0x2d4c9a[_0x1e19d1(0x1cc)]+_0x1e19d1(0xe81);});_0x4b8922[_0x2228e9(0xa16)]=_0x544133,noProjectsMsg[_0x2228e9(0x360)][_0x2228e9(0xaa3)](_0x2228e9(0x2f2),_0x544133[_0x2228e9(0x752)]>0x0);}document[_0x2bcb18(0x932)]('confirm-create-project-btn')[_0x2bcb18(0x639)](_0x2bcb18(0x164),async()=>{const _0x23cf80=_0x2bcb18,_0x59a35e=document[_0x23cf80(0x932)](_0x23cf80(0xc3e)),_0x42aa3d=_0x59a35e['value'][_0x23cf80(0xa4d)]();if(!_0x42aa3d){showMessage(_0x23cf80(0xe7f));return;}try{const _0x48a82b=doc(collection(db,'artifacts/'+appId+_0x23cf80(0x53a)));await setDoc(_0x48a82b,{'projectName':_0x42aa3d,'students':[],'settings':{'resultsDisplay':_0x23cf80(0x6d6),'shuffleSetting':'none','defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':'none','timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()['toISOString']()}),_0x59a35e[_0x23cf80(0x99c)]='',createProjectModal[_0x23cf80(0x360)][_0x23cf80(0x4a6)](_0x23cf80(0x2f2)),showMessage(_0x23cf80(0x8bd));}catch(_0x4b21f6){console[_0x23cf80(0x1ac)](_0x23cf80(0x38f),_0x4b21f6),showMessage(_0x23cf80(0x186));}}),projectList['addEventListener']('click',async _0x233813=>{const _0x4f8dff=_0x2bcb18,_0xafe834=_0x233813[_0x4f8dff(0x5f8)]['closest'](_0x4f8dff(0x5c3)),_0x6cf7bc=_0x233813[_0x4f8dff(0x5f8)][_0x4f8dff(0x1d0)](_0x4f8dff(0x4c2)),_0x28d28f=_0x233813[_0x4f8dff(0x5f8)]['closest'](_0x4f8dff(0xcaa)),_0x5333f2=_0x233813[_0x4f8dff(0x5f8)][_0x4f8dff(0x1d0)](_0x4f8dff(0x4c3));if(_0x28d28f){const _0x21ce7d=_0x28d28f[_0x4f8dff(0x134)]['id'],_0x5d02fc=doc(db,_0x4f8dff(0x4db),_0x4f8dff(0x93e)),_0x38bba7=globalDashboardSettings[_0x4f8dff(0xe18)];let _0x731150;_0x38bba7[_0x4f8dff(0xd2e)](_0x21ce7d)?_0x731150=_0x38bba7[_0x4f8dff(0x9a7)](_0x534fa9=>_0x534fa9!==_0x21ce7d):_0x731150=[..._0x38bba7,_0x21ce7d];try{await setDoc(_0x5d02fc,{'pinnedProjects':_0x731150},{'merge':!![]});}catch(_0x1464f2){console['error'](_0x4f8dff(0x41d),_0x1464f2),showMessage(_0x4f8dff(0xb17));}}else{if(_0x5333f2){const _0x8e8a7d=_0x5333f2['dataset']['id'];showColorPalette(_0x5333f2,_0x8e8a7d);}else{if(_0xafe834){const _0x32c409=_0xafe834[_0x4f8dff(0x134)]['id'];_0x32c409===_0x4f8dff(0x673)?showStarredProjectView():(currentProjectId=_0x32c409,await loadProjectDetails(currentProjectId),showView(_0x4f8dff(0xde7)));}else{if(_0x6cf7bc){const _0x500c4e=_0x6cf7bc[_0x4f8dff(0x134)]['id'],_0x16602c=_0x6cf7bc['dataset'][_0x4f8dff(0x34a)];showConfirmation(_0x4f8dff(0xb60)+_0x16602c+_0x4f8dff(0x29d),()=>handleDeleteProject(_0x500c4e));}}}}}),projectList[_0x2bcb18(0x639)]('dragstart',_0x40a977=>{const _0x4fdf7a=_0x2bcb18,_0x4387a5=_0x40a977['target']['closest']('.project-card-container');_0x4387a5&&_0x4387a5[_0x4fdf7a(0x360)]['add'](_0x4fdf7a(0x4d3));}),projectList[_0x2bcb18(0x639)](_0x2bcb18(0xa4e),_0xc2e3e9=>{const _0x1cbef3=_0x2bcb18,_0x33546a=_0xc2e3e9[_0x1cbef3(0x5f8)]['closest'](_0x1cbef3(0xca5));_0x33546a&&_0x33546a[_0x1cbef3(0x360)][_0x1cbef3(0xcc8)](_0x1cbef3(0x4d3));}),projectList[_0x2bcb18(0x639)]('dragover',_0x588a29=>{const _0x2063e3=_0x2bcb18;_0x588a29[_0x2063e3(0xcfb)]();const _0x17a15d=document[_0x2063e3(0xc60)](_0x2063e3(0x8e2));if(!_0x17a15d)return;const _0x33aa3d=getDragAfterElement(projectList,_0x588a29[_0x2063e3(0x345)]);_0x33aa3d==null?projectList[_0x2063e3(0xce0)](_0x17a15d):projectList[_0x2063e3(0x82b)](_0x17a15d,_0x33aa3d);}),projectList['addEventListener']('drop',_0x38fac4=>{const _0xb6298=_0x2bcb18;_0x38fac4['preventDefault']();const _0x55197d=[...projectList[_0xb6298(0x38e)](_0xb6298(0xdda))][_0xb6298(0xe49)](_0x3bbd69=>_0x3bbd69[_0xb6298(0x134)]['id']);saveProjectOrder(_0x55197d);});function renderBehaviorLog(_0x3d8195){const _0x1e05c2=_0x2bcb18,_0xd2b6bc=document[_0x1e05c2(0x932)](_0x1e05c2(0xc4a));if(!_0xd2b6bc)return;const _0x3d8e38=_0x3d8195[_0x1e05c2(0x9a7)](_0x55bb53=>_0x55bb53['behaviorLog']&&_0x55bb53[_0x1e05c2(0x4e3)][_0x1e05c2(0x752)]>0x0);if(_0x3d8e38[_0x1e05c2(0x752)]===0x0){_0xd2b6bc[_0x1e05c2(0xa16)]=_0x1e05c2(0xb6b);return;}let _0x4161c5='';_0x3d8e38[_0x1e05c2(0x39f)](_0x2e30bb=>{const _0x19afdb=_0x1e05c2;_0x4161c5+=_0x19afdb(0x474)+_0x2e30bb[_0x19afdb(0xad2)]+_0x19afdb(0xa10),_0x2e30bb['behaviorLog'][_0x19afdb(0x41f)]((_0x5027f9,_0x52ed5b)=>new Date(_0x52ed5b[_0x19afdb(0xc3a)])-new Date(_0x5027f9[_0x19afdb(0xc3a)]))[_0x19afdb(0x39f)](_0x48df4f=>{const _0x14f9be=_0x19afdb,_0x28b6b1=new Date(_0x48df4f['timestamp'])['toLocaleString'](_0x14f9be(0x7c5),{'dateStyle':_0x14f9be(0x2fa),'timeStyle':_0x14f9be(0x667)});_0x4161c5+=_0x14f9be(0x4e2)+_0x48df4f[_0x14f9be(0x548)]+_0x14f9be(0xa98)+_0x28b6b1+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x4161c5+=_0x19afdb(0xea7);}),_0xd2b6bc[_0x1e05c2(0xa16)]=_0x4161c5;}function getDragAfterElement(_0x551c9a,_0x480c91){const _0x3a924f=_0x2bcb18,_0x43831a=[..._0x551c9a['querySelectorAll']('.project-card-container:not(.opacity-50)')];return _0x43831a[_0x3a924f(0xdbf)]((_0x10b7bf,_0x1db97d)=>{const _0x2fa174=_0x3a924f,_0x41266b=_0x1db97d[_0x2fa174(0xe1c)](),_0x3e5404=_0x480c91-_0x41266b[_0x2fa174(0x424)]-_0x41266b['height']/0x2;return _0x3e5404<0x0&&_0x3e5404>_0x10b7bf[_0x2fa174(0x329)]?{'offset':_0x3e5404,'element':_0x1db97d}:_0x10b7bf;},{'offset':Number['NEGATIVE_INFINITY']})[_0x3a924f(0x16a)];}async function saveProjectOrder(_0x3eac92){const _0x24e641=_0x2bcb18,_0x3fa3a8=doc(db,_0x24e641(0x4db),_0x24e641(0x93e));try{await setDoc(_0x3fa3a8,{'projectOrder':_0x3eac92},{'merge':!![]});}catch(_0x35673b){console[_0x24e641(0x1ac)](_0x24e641(0xd41),_0x35673b),showMessage('เกิดข้อผิดพลาดในการบันทึกลำดับ');}}async function logBehaviorEvent(_0x4fd84b,_0x4b8a0b={}){const _0x8765a9=_0x2bcb18;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console[_0x8765a9(0xc23)](_0x8765a9(0x89e));return;}const _0x512359=doc(db,_0x8765a9(0x6e6)+appId+_0x8765a9(0x133)+currentQuizData['id']+_0x8765a9(0x2f0),currentStudentName),_0x30bd5f={'event':_0x4fd84b,'timestamp':new Date()[_0x8765a9(0x26e)](),..._0x4b8a0b};try{await updateDoc(_0x512359,{'behaviorLog':arrayUnion(_0x30bd5f)}),console[_0x8765a9(0x273)]('อัปเดตพฤติกรรมสำหรับ\x20'+currentStudentName+_0x8765a9(0x8c7));}catch(_0x73812c){_0x73812c[_0x8765a9(0xe48)]===_0x8765a9(0x7eb)?console[_0x8765a9(0xc23)](_0x8765a9(0x446)+currentStudentName+_0x8765a9(0xba5)):console[_0x8765a9(0x1ac)](_0x8765a9(0x39d),_0x73812c);}}function getScoreTier(_0x6612ef,_0x213155){const _0x4b7073=_0x2bcb18;if(_0x213155===0x0){if(_0x6612ef===0x0)return{'text':'(รอคะแนน)','icon':'⏳'};return{'text':_0x4b7073(0x9d4),'icon':'😥'};}const _0x2e0d37=_0x6612ef/(_0x213155===0x0?0x1:_0x213155);if(_0x2e0d37===0x1)return{'text':'(นำโด่ง)','icon':'👑'};if(_0x2e0d37>=0.7)return{'text':_0x4b7073(0x617),'icon':'🔥'};if(_0x2e0d37>=0.4)return{'text':'(กำลังไล่ตาม)','icon':'🏃'};return{'text':_0x4b7073(0x9d4),'icon':'😥'};}function calculateMeanAndStdDev(_0x177ff0){const _0xea05c7=_0x2bcb18;if(_0x177ff0[_0xea05c7(0x752)]===0x0)return{'mean':0x0,'stdDev':0x0};const _0x45dc35=_0x177ff0['reduce']((_0x17d2a9,_0x825e12)=>_0x17d2a9+_0x825e12,0x0)/_0x177ff0['length'];if(_0x177ff0[_0xea05c7(0x752)]===0x1)return{'mean':_0x45dc35,'stdDev':0x0};const _0x387b6d=Math['sqrt'](_0x177ff0['map'](_0x4e5b41=>Math[_0xea05c7(0xd61)](_0x4e5b41-_0x45dc35,0x2))[_0xea05c7(0xdbf)]((_0x34bb64,_0x35aa13)=>_0x34bb64+_0x35aa13,0x0)/(_0x177ff0[_0xea05c7(0x752)]-0x1));return{'mean':_0x45dc35,'stdDev':_0x387b6d};}function calculateZScore(_0x1673ae,_0x5b9e8b,_0x5a16f4){if(_0x5a16f4===0x0)return 0x0;return(_0x1673ae-_0x5b9e8b)/_0x5a16f4;}function calculateTScore(_0x230b84){return 0xa*_0x230b84+0x32;}function showStarredProjectView(){const _0x2b9edc=_0x2bcb18;currentProjectId='starred',currentProjectData=null,projectTitle[_0x2b9edc(0xdec)]=_0x2b9edc(0x5a3),projectIdDisplay['textContent']='pinned-items',showView(_0x2b9edc(0xde7)),manageTab[_0x2b9edc(0x360)]['add']('hidden'),leaderboardTab[_0x2b9edc(0x360)][_0x2b9edc(0x4a6)]('hidden'),switchProjectTab('results'),renderQuizzes();}async function loadProjectDetails(_0x27792a){const _0x375a9f=_0x2bcb18,_0x59b1a2=doc(db,_0x375a9f(0x6e6)+appId+_0x375a9f(0x53a),_0x27792a),_0x5d41da=await getDoc(_0x59b1a2);if(_0x5d41da[_0x375a9f(0x7d2)]()){manageTab['classList'][_0x375a9f(0xcc8)](_0x375a9f(0x2f2)),leaderboardTab[_0x375a9f(0x360)][_0x375a9f(0xcc8)]('hidden'),currentProjectData=_0x5d41da[_0x375a9f(0x13f)](),projectTitle[_0x375a9f(0xdec)]=currentProjectData[_0x375a9f(0x1cc)],projectIdDisplay[_0x375a9f(0xdec)]=_0x27792a;const _0x22bac1=currentProjectData[_0x375a9f(0x6ce)]||{};document['getElementById']('shuffle-setting-select')[_0x375a9f(0x99c)]=_0x22bac1[_0x375a9f(0x44a)]||_0x375a9f(0x7dc);const _0x51de3f=document[_0x375a9f(0x932)](_0x375a9f(0x352));_0x51de3f[_0x375a9f(0xc62)]=_0x22bac1[_0x375a9f(0x920)]!==![];const _0xbea9de=document[_0x375a9f(0x932)](_0x375a9f(0x8fb)),_0x59db6d=document[_0x375a9f(0x932)](_0x375a9f(0x63f)),_0x23a9ae=document[_0x375a9f(0x932)](_0x375a9f(0x53b)),_0x6717f=_0x22bac1[_0x375a9f(0xd8b)]||![];_0xbea9de[_0x375a9f(0xc62)]=_0x6717f,_0x23a9ae[_0x375a9f(0x99c)]=_0x22bac1[_0x375a9f(0x372)]||'',_0x59db6d[_0x375a9f(0x360)][_0x375a9f(0xaa3)]('hidden',!_0x6717f),_0xbea9de[_0x375a9f(0x272)]=()=>{const _0xb443f5=_0x375a9f;_0x59db6d[_0xb443f5(0x360)][_0xb443f5(0xaa3)]('hidden',!_0xbea9de[_0xb443f5(0xc62)]);},document[_0x375a9f(0x932)](_0x375a9f(0x975))[_0x375a9f(0xc62)]=_0x22bac1[_0x375a9f(0x887)]||![];if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x27792a),listenForProjectQuizzes(_0x27792a),listenForStudentProfiles(_0x27792a);}else showMessage(_0x375a9f(0xe29)),showView(_0x375a9f(0x6e3));}async function handleResetProjectOrder(){const _0x199e02=_0x2bcb18,_0x364273=doc(db,_0x199e02(0x4db),'dashboardConfig');try{await setDoc(_0x364273,{'projectOrder':[]},{'merge':!![]}),showMessage('รีเซ็ตลำดับโปรเจคแล้ว');}catch(_0x2dd554){console[_0x199e02(0x1ac)](_0x199e02(0x4a4),_0x2dd554),showMessage(_0x199e02(0x7cc));}}async function handleTogglePinProject(_0x4760de){const _0x23ecd4=_0x2bcb18;if(!_0x4760de)return;const _0x5ad551=doc(db,_0x23ecd4(0x6e6)+appId+_0x23ecd4(0x53a),_0x4760de);try{const _0x1567d8=await getDoc(_0x5ad551);if(_0x1567d8['exists']()){const _0x44c5f0=_0x1567d8[_0x23ecd4(0x13f)]()[_0x23ecd4(0x80f)]||![];await updateDoc(_0x5ad551,{'isPinned':!_0x44c5f0});}}catch(_0x472001){console[_0x23ecd4(0x1ac)](_0x23ecd4(0x200),_0x472001),showMessage(_0x23ecd4(0xb17));}}async function handleDeleteProject(_0x2bc194){const _0x56718f=_0x2bcb18;try{const _0x44805e=writeBatch(db),_0x58169d=collection(db,_0x56718f(0x6e6)+appId+_0x56718f(0x993)),_0x386f2b=query(_0x58169d,where(_0x56718f(0xc80),'==',_0x2bc194)),_0x249294=await getDocs(_0x386f2b);for(const _0x560487 of _0x249294['docs']){const _0x132298=collection(db,_0x56718f(0x6e6)+appId+_0x56718f(0x133)+_0x560487['id']+_0x56718f(0x2f0)),_0x3ca27c=await getDocs(_0x132298);_0x3ca27c[_0x56718f(0x39f)](_0xd08a14=>{const _0x86260a=_0x56718f;_0x44805e[_0x86260a(0x242)](_0xd08a14[_0x86260a(0x285)]);}),_0x44805e[_0x56718f(0x242)](_0x560487[_0x56718f(0x285)]);}const _0x455e4e=collection(db,_0x56718f(0x6e6)+appId+_0x56718f(0x3c5)+_0x2bc194+_0x56718f(0xd5c)),_0x57c376=await getDocs(_0x455e4e);_0x57c376[_0x56718f(0x39f)](_0x21dee2=>{const _0x4ec262=_0x56718f;_0x44805e[_0x4ec262(0x242)](_0x21dee2[_0x4ec262(0x285)]);});const _0x5d7954=doc(db,'artifacts/'+appId+_0x56718f(0x53a),_0x2bc194);_0x44805e[_0x56718f(0x242)](_0x5d7954),await _0x44805e[_0x56718f(0x6fc)](),showMessage(_0x56718f(0x581)),showView(_0x56718f(0x6e3));}catch(_0x238973){console[_0x56718f(0x1ac)]('Error\x20deleting\x20project:',_0x238973),showMessage(_0x56718f(0x9fa));}}document[_0x2bcb18(0x932)]('save-settings-btn')[_0x2bcb18(0x639)](_0x2bcb18(0x164),async()=>{const _0x45a9ea=_0x2bcb18;if(!currentProjectId)return;const _0x1274b6={'defaultNumQuestions':parseInt(document[_0x45a9ea(0x932)](_0x45a9ea(0x70e))[_0x45a9ea(0x99c)]),'defaultNumChoices':parseInt(document[_0x45a9ea(0x932)](_0x45a9ea(0x638))['value']),'defaultPassingScore':parseInt(document[_0x45a9ea(0x932)](_0x45a9ea(0xbd3))[_0x45a9ea(0x99c)]),'resultsDisplay':document['getElementById'](_0x45a9ea(0x954))[_0x45a9ea(0x99c)],'shuffleSetting':document[_0x45a9ea(0x932)](_0x45a9ea(0x9da))['value'],'timerMode':document[_0x45a9ea(0x932)](_0x45a9ea(0x41b))[_0x45a9ea(0x99c)],'timerDuration':parseInt(document['getElementById'](_0x45a9ea(0x760))[_0x45a9ea(0x99c)]),'isConfidenceScoringEnabled':document['getElementById'](_0x45a9ea(0x975))[_0x45a9ea(0xc62)],'confidenceMode':document[_0x45a9ea(0x932)]('confidence-mode-select')['value']};try{const _0x24381a=doc(db,'artifacts/'+appId+_0x45a9ea(0x53a),currentProjectId);await updateDoc(_0x24381a,{'settings':_0x1274b6}),showMessage(_0x45a9ea(0xa1c));}catch(_0x22f263){console[_0x45a9ea(0x1ac)](_0x45a9ea(0x6fa),_0x22f263),showMessage(_0x45a9ea(0xc98));}});function listenForStudents(_0x259f78){const _0x1c566f=_0x2bcb18,_0xecf768=doc(db,_0x1c566f(0x6e6)+appId+_0x1c566f(0x53a),_0x259f78);unsubscribeStudentsListener=onSnapshot(_0xecf768,_0x429ba4=>{const _0x4d9156=_0x1c566f;if(_0x429ba4[_0x4d9156(0x7d2)]()){const _0x337eec=_0x429ba4['data']();currentProjectData=_0x337eec,renderStudentList(_0x337eec[_0x4d9156(0x950)]||[]);}});}function renderStudentList(_0x10eda1){const _0x1d870a=_0x2bcb18,_0x9b0fa7=document[_0x1d870a(0x932)]('delete-all-students-btn');_0x10eda1[_0x1d870a(0x752)]===0x0?(studentList[_0x1d870a(0xa16)]=_0x1d870a(0x659),_0x9b0fa7[_0x1d870a(0x360)]['add']('hidden')):(studentList[_0x1d870a(0xa16)]=_0x10eda1[_0x1d870a(0xe49)](_0x123503=>_0x1d870a(0x31d)+_0x123503+_0x1d870a(0xc68)+_0x123503+'\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x1d870a(0xbb2)](''),_0x9b0fa7[_0x1d870a(0x360)][_0x1d870a(0xcc8)](_0x1d870a(0x2f2)));}document[_0x2bcb18(0x932)](_0x2bcb18(0xdb1))[_0x2bcb18(0x639)](_0x2bcb18(0x164),async()=>{const _0x2c8aa0=_0x2bcb18;if(!currentProjectId)return;const _0x938ad3=document[_0x2c8aa0(0x932)](_0x2c8aa0(0x5bf)),_0x5a3b17=_0x938ad3[_0x2c8aa0(0x99c)][_0x2c8aa0(0xa4d)]();if(!_0x5a3b17){showMessage(_0x2c8aa0(0x52c));return;}const _0x8e4b18=_0x5a3b17[_0x2c8aa0(0x664)]('\x0a')[_0x2c8aa0(0xe49)](_0x18d602=>_0x18d602[_0x2c8aa0(0xa4d)]())['filter'](_0x2e6f59=>_0x2e6f59);if(_0x8e4b18[_0x2c8aa0(0x752)]===0x0)return;try{const _0x2058b2=doc(db,_0x2c8aa0(0x6e6)+appId+_0x2c8aa0(0x53a),currentProjectId),_0x4a2d14=await getDoc(_0x2058b2);if(_0x4a2d14[_0x2c8aa0(0x7d2)]()){const _0x3afead=_0x4a2d14[_0x2c8aa0(0x13f)]()['students']||[],_0x4ca295=[...new Set([..._0x3afead,..._0x8e4b18])];await updateDoc(_0x2058b2,{'students':_0x4ca295}),_0x938ad3['value']='';}}catch(_0x3d4cad){console[_0x2c8aa0(0x1ac)](_0x2c8aa0(0xdf8),_0x3d4cad),showMessage(_0x2c8aa0(0xd86));}});async function handleManualQuizPairing(_0x559215){const _0x55a724=_0x2bcb18,_0x52360f=document[_0x55a724(0x932)](_0x55a724(0x3a5)),_0x407033=document['getElementById']('move-quiz-project-select'),_0x579397=_0x52360f[_0x55a724(0xc60)]('h3'),_0x393f4a=document[_0x55a724(0x932)]('confirm-move-quiz-btn'),_0x166370=document[_0x55a724(0x932)](_0x55a724(0xe23));_0x579397['textContent']=_0x55a724(0x5eb),_0x407033[_0x55a724(0xa16)]=_0x55a724(0x65d),_0x393f4a[_0x55a724(0xdec)]='ยืนยันการจับคู่',_0x52360f[_0x55a724(0x360)]['remove'](_0x55a724(0x2f2));const _0x3b55d1=allQuizzes['filter'](_0x26c3bb=>_0x26c3bb['id']!==_0x559215);_0x3b55d1[_0x55a724(0x752)]===0x0?(_0x407033[_0x55a724(0xa16)]=_0x55a724(0x4c5),_0x393f4a[_0x55a724(0xad6)]=!![]):(_0x407033[_0x55a724(0xa16)]=_0x55a724(0x9c7)+_0x3b55d1[_0x55a724(0xe49)](_0x31ab21=>_0x55a724(0x1bd)+_0x31ab21['id']+'\x22>'+_0x31ab21[_0x55a724(0x79c)]+_0x55a724(0x194))[_0x55a724(0xbb2)](''),_0x393f4a['disabled']=![]);const _0x23dd55=async()=>{const _0x52f487=_0x55a724,_0x2d9055=_0x407033[_0x52f487(0x99c)];if(!_0x2d9055){showMessage(_0x52f487(0x305));return;}_0x393f4a[_0x52f487(0xad6)]=!![],_0x393f4a[_0x52f487(0xdec)]=_0x52f487(0x2da);try{const _0x4300c7=doc(db,_0x52f487(0x6e6)+appId+_0x52f487(0x993),_0x559215),_0x127c28=doc(db,_0x52f487(0x6e6)+appId+'/public/data/quizzes',_0x2d9055),_0x7f6649=writeBatch(db);_0x7f6649[_0x52f487(0xbe3)](_0x4300c7,{'pairedQuizId':_0x2d9055}),_0x7f6649[_0x52f487(0xbe3)](_0x127c28,{'pairedQuizId':_0x559215}),await _0x7f6649[_0x52f487(0x6fc)](),showMessage(_0x52f487(0xb92)),_0x52360f[_0x52f487(0x360)]['add']('hidden');}catch(_0x5768d5){console['error'](_0x52f487(0xac6),_0x5768d5),showMessage(_0x52f487(0x169));}finally{_0x579397[_0x52f487(0xdec)]=_0x52f487(0x554),_0x393f4a[_0x52f487(0xdec)]=_0x52f487(0xddc),_0x393f4a[_0x52f487(0xad6)]=![],_0x393f4a[_0x52f487(0x9c9)](_0x52f487(0x164),_0x23dd55),_0x166370['removeEventListener'](_0x52f487(0x164),_0x46fe67);}},_0x46fe67=()=>{const _0x404521=_0x55a724;_0x52360f[_0x404521(0x360)][_0x404521(0x4a6)](_0x404521(0x2f2)),_0x579397[_0x404521(0xdec)]=_0x404521(0x554),_0x393f4a['textContent']=_0x404521(0xddc),_0x393f4a[_0x404521(0x9c9)](_0x404521(0x164),_0x23dd55),_0x166370['removeEventListener'](_0x404521(0x164),_0x46fe67);};_0x393f4a[_0x55a724(0x639)](_0x55a724(0x164),_0x23dd55),_0x166370['addEventListener']('click',_0x46fe67);}function handleDeleteStudent(_0x51bf8c){const _0x266d58=_0x2bcb18;showConfirmation(_0x266d58(0xd0c)+_0x51bf8c+_0x266d58(0xb24),async()=>{const _0x34b65f=_0x266d58;if(!currentProjectId||!currentProjectData)return;const _0x1cce5b=currentProjectData[_0x34b65f(0x950)][_0x34b65f(0x9a7)](_0x2822d4=>_0x2822d4!==_0x51bf8c);try{const _0x15f4c8=doc(db,'artifacts/'+appId+'/public/data/projects',currentProjectId),_0x35c941=doc(db,'artifacts/'+appId+'/public/data/projects/'+currentProjectId+'/studentProfiles',_0x51bf8c),_0x3d2c11=writeBatch(db);_0x3d2c11[_0x34b65f(0xbe3)](_0x15f4c8,{'students':_0x1cce5b}),_0x3d2c11['delete'](_0x35c941),await _0x3d2c11[_0x34b65f(0x6fc)]();}catch(_0x5ce7ec){console['error'](_0x34b65f(0x67e),_0x5ce7ec),showMessage(_0x34b65f(0x62a));}});}function handleDeleteAllStudents(){const _0x38b4d9=_0x2bcb18;showConfirmation(_0x38b4d9(0x719),async()=>{const _0x1d2f66=_0x38b4d9;if(!currentProjectId)return;try{const _0x3cbecf=doc(db,_0x1d2f66(0x6e6)+appId+_0x1d2f66(0x53a),currentProjectId),_0x567314=collection(db,'artifacts/'+appId+_0x1d2f66(0x3c5)+currentProjectId+_0x1d2f66(0xd5c)),_0x234367=await getDocs(_0x567314),_0x4a23f8=writeBatch(db);_0x4a23f8['update'](_0x3cbecf,{'students':[]}),_0x234367[_0x1d2f66(0x39f)](_0x486933=>_0x4a23f8[_0x1d2f66(0x242)](_0x486933[_0x1d2f66(0x285)])),await _0x4a23f8[_0x1d2f66(0x6fc)]();}catch(_0x31566c){console[_0x1d2f66(0x1ac)]('Error\x20deleting\x20all\x20students:',_0x31566c),showMessage(_0x1d2f66(0xe9a));}});}let extractedFileTopics=[],fileDataBase64=null,fileMimeType=null;async function analyzeFileForTopics(_0x236228){const _0x4322a0=_0x2bcb18,_0x4285ba=document[_0x4322a0(0x932)](_0x4322a0(0xa99)),_0x554bbc=document[_0x4322a0(0x932)](_0x4322a0(0xc27));_0x4285ba[_0x4322a0(0x360)][_0x4322a0(0xcc8)](_0x4322a0(0x2f2)),_0x554bbc[_0x4322a0(0xa16)]=_0x4322a0(0xcb3);try{const _0x471077=new FileReader();_0x471077[_0x4322a0(0x96a)](_0x236228),await new Promise((_0x57b98b,_0x4a414b)=>{const _0x1407ad=_0x4322a0;_0x471077[_0x1407ad(0x905)]=()=>{const _0x3bef7f=_0x1407ad;fileDataBase64=_0x471077[_0x3bef7f(0x72b)][_0x3bef7f(0x664)](',')[0x1],fileMimeType=_0x236228[_0x3bef7f(0x587)],_0x57b98b();},_0x471077[_0x1407ad(0x13e)]=_0x1a51a1=>_0x4a414b(_0x1a51a1);});if(!fileDataBase64)throw new Error('ไม่สามารถอ่านข้อมูลจากไฟล์ได้');const _0x1bd79b=_0x4322a0(0x26b),_0x35e51f={'type':'OBJECT','properties':{'topics':{'type':_0x4322a0(0xd66),'items':{'type':'STRING'}}},'required':[_0x4322a0(0x945)]},_0x19f9a9=[{'text':_0x1bd79b},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}],_0x5d0520=await handleApiCall(_0x19f9a9,_0x4322a0(0x250),_0x35e51f,null,![]);if(_0x5d0520&&_0x5d0520[_0x4322a0(0x945)])extractedFileTopics=_0x5d0520[_0x4322a0(0x945)],renderFileTopics();else throw new Error(_0x4322a0(0x3b0));}catch(_0x31ee0d){console[_0x4322a0(0x1ac)](_0x4322a0(0x15c),_0x31ee0d),_0x554bbc[_0x4322a0(0xa16)]='<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาด:\x20'+_0x31ee0d[_0x4322a0(0x523)]+'</p>';}}function renderFileTopics(){const _0x5beaed=_0x2bcb18,_0x2fd246=document[_0x5beaed(0x932)](_0x5beaed(0xc27));if(extractedFileTopics[_0x5beaed(0x752)]===0x0){_0x2fd246['innerHTML']=_0x5beaed(0xc8c);return;}_0x2fd246['innerHTML']=extractedFileTopics[_0x5beaed(0xe49)](_0x5c056a=>_0x5beaed(0x1f6)+_0x5c056a+_0x5beaed(0x8c6)+escape(_0x5c056a)+_0x5beaed(0x95c)+escape(_0x5c056a)+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20')['join']('');}async function generateHybridQuizForTopic(_0xd82c37){const _0x39579f=_0x2bcb18,_0x36ee31=parseInt(document[_0x39579f(0x932)](_0x39579f(0x70e))[_0x39579f(0x99c)],0xa),_0x1dcce5=document[_0x39579f(0x932)](_0x39579f(0x5bb))['value'],_0x17d36e=document[_0x39579f(0x932)](_0x39579f(0x638))[_0x39579f(0x99c)],_0x558491=document['getElementById'](_0x39579f(0xe91))[_0x39579f(0xc62)],_0x12b742=_0x558491?_0x39579f(0x303):_0x39579f(0xbcb);let _0x1f9700='',_0x1db5f6;const _0x1c4d88={'type':_0x39579f(0xde5),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x39579f(0xd66),'items':{'type':_0x39579f(0x7d8)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x39579f(0x7d8)},'imageCode':{'type':'STRING'}},'required':[_0x39579f(0xca8),_0x39579f(0x3e2),'correctAnswerIndex',_0x39579f(0xc94)]},_0x39027={'type':_0x39579f(0xde5),'properties':{'questionText':{'type':_0x39579f(0x7d8)},'correctAnswer':{'type':_0x39579f(0x339)},'explanation':{'type':_0x39579f(0x7d8)},'imageCode':{'type':_0x39579f(0x7d8)}},'required':[_0x39579f(0xca8),_0x39579f(0x8f4),_0x39579f(0xc94)]},_0x13af39={'type':_0x39579f(0xde5),'properties':{'questionText':{'type':_0x39579f(0x7d8)},'idealAnswer':{'type':_0x39579f(0x7d8)},'explanation':{'type':_0x39579f(0x7d8)},'imageCode':{'type':_0x39579f(0x7d8)}},'required':[_0x39579f(0xca8),_0x39579f(0xbe7),'explanation']},_0x7abd4c={'type':_0x39579f(0xde5),'properties':{'questionType':{'type':_0x39579f(0x7d8),'enum':[_0x39579f(0xb08)]},'stem':{'type':_0x39579f(0x7d8)},'correctResponse':{'type':_0x39579f(0x7d8)},'allResponses':{'type':_0x39579f(0xd66),'items':{'type':_0x39579f(0x7d8)}},'explanation':{'type':_0x39579f(0x7d8)},'imageCode':{'type':_0x39579f(0x7d8)}},'required':[_0x39579f(0x2ed),_0x39579f(0x58b),_0x39579f(0xd79),_0x39579f(0x66a),_0x39579f(0xc94)]};switch(_0x1dcce5){case _0x39579f(0x47e):const _0x1a3243=_0x39579f(0x572);prompt=_0x39579f(0x222)+subjectPrefix+'\x20'+settings['numQuestions']+'\x20ข้อ\x20'+topicInstruction+'\x20'+topicRefinementInstruction+'\x20'+difficultyInstruction+'\x20'+complexityInstruction+'\x20'+referenceInstruction+_0x39579f(0xdb6)+settings[_0x39579f(0xd6c)]+_0x39579f(0xa64)+_0x1a3243+_0x39579f(0xe50)+_0x12b742+'\x20'+simpleMathPrompt,schema=_0x1c4d88;break;case _0x39579f(0x827):_0x1f9700='คำถามทุกข้อต้องเป็นแบบ\x20\x27ถูก/ผิด\x27\x20หรือ\x20\x27ใช่/ไม่ใช่\x27\x20เท่านั้น',_0x1db5f6=_0x39027;break;case _0x39579f(0xceb):_0x1f9700='คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x27\x20(พิมพ์ตอบเอง)',_0x1db5f6=_0x13af39;break;case _0x39579f(0x2a8):_0x1f9700=_0x39579f(0x417),_0x1db5f6=_0x7abd4c;break;case _0x39579f(0xa65):_0x1f9700=_0x39579f(0x227)+_0x17d36e+_0x39579f(0x258),_0x1db5f6=_0x1c4d88;break;default:_0x1f9700=_0x39579f(0x917)+_0x17d36e+_0x39579f(0x258),_0x1db5f6=_0x1c4d88;break;}const _0x512e8c=_0x39579f(0x512),_0x59f97a=document['getElementById'](_0x39579f(0xe0d)),_0x2eaac8=document[_0x39579f(0x932)](_0x39579f(0x231)),_0x5bf41f=document[_0x39579f(0x932)]('generated-quiz-container');document[_0x39579f(0x932)](_0x39579f(0xa17))[_0x39579f(0x360)]['remove'](_0x39579f(0x2f2)),_0x5bf41f[_0x39579f(0xa16)]='',_0x59f97a[_0x39579f(0x360)][_0x39579f(0xcc8)](_0x39579f(0x2f2)),_0x2eaac8[_0x39579f(0xdec)]='AI\x20กำลังสร้างแบบทดสอบ\x20\x22'+_0xd82c37+_0x39579f(0x542)+_0x36ee31+'\x20ข้อ...';try{const _0x12c1a2=_0x39579f(0xb6e),_0x50669e='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการสร้างแบบทดสอบเพื่อการทบทวนความรู้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20สร้างแบบทดสอบ\x201\x20ชุดสำหรับหัวข้อ\x20\x22'+_0xd82c37+_0x39579f(0xbe4)+_0x36ee31+'\x20ข้อ**\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แหล่งข้อมูล:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20ไฟล์ข้อสอบต้นฉบับ\x20(แนบมาให้)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20ความรู้ของ\x20AI\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**[ขั้นตอนสกัด]**\x20พยายามดึงคำถาม\x20*บางส่วน*\x20(ถ้าพบ)\x20จากไฟล์ต้นฉบับที่ตรงกับหัวข้อ\x20\x22'+_0xd82c37+_0x39579f(0xa89)+_0x36ee31+_0x39579f(0x2d5)+_0x12b742+_0x39579f(0xead)+_0x1f9700+_0x39579f(0x54c)+_0x512e8c+_0x39579f(0x137)+_0x12c1a2+_0x39579f(0x825)+simpleMathPrompt+_0x39579f(0x9b3),_0x2ea5d7={'type':_0x39579f(0xde5),'properties':{'topic':{'type':_0x39579f(0x7d8)},'questions':{'type':_0x39579f(0xd66),'items':_0x1db5f6}},'required':['topic',_0x39579f(0xc46)]},_0x1c6c39=[{'text':_0x50669e},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}];await handleApiCall(_0x1c6c39,'กำลังสร้างแบบทดสอบ\x20\x22'+_0xd82c37+_0x39579f(0xa3c),_0x2ea5d7);}catch(_0x39d88c){console[_0x39579f(0x1ac)](_0x39579f(0x602),_0x39d88c),showMessage(_0x39579f(0xb75)+_0x39d88c['message']),_0x5bf41f[_0x39579f(0xa16)]=_0x39579f(0x131);}finally{_0x59f97a['classList'][_0x39579f(0x4a6)]('hidden');}}async function handleGenerateFromFileClick(){const _0x3514c5=_0x2bcb18;if(!selectedFile){showMessage(_0x3514c5(0xa4b));return;}const _0x5835c4=document[_0x3514c5(0x932)]('loader'),_0x7e709b=document['getElementById']('loader-text'),_0x3bc231=document['getElementById']('generated-quiz-container'),_0x29d1a8=document[_0x3514c5(0x932)](_0x3514c5(0x28d));_0x29d1a8['disabled']=!![],document['getElementById']('quiz-generation-area')[_0x3514c5(0x360)][_0x3514c5(0xcc8)]('hidden'),_0x3bc231[_0x3514c5(0xa16)]='',_0x5835c4['classList'][_0x3514c5(0xcc8)](_0x3514c5(0x2f2)),_0x7e709b[_0x3514c5(0xdec)]=_0x3514c5(0xa38);try{const _0x50a119=await new Promise((_0x3c4057,_0x1c57dc)=>{const _0x53bd34=_0x3514c5,_0x50250f=new FileReader();_0x50250f[_0x53bd34(0x96a)](selectedFile),_0x50250f[_0x53bd34(0x905)]=()=>_0x3c4057(_0x50250f[_0x53bd34(0x72b)][_0x53bd34(0x664)](',')[0x1]),_0x50250f[_0x53bd34(0x13e)]=_0x24223f=>_0x1c57dc(_0x24223f);});await generateQuizFromFile(selectedFile['type'],_0x50a119);}catch(_0x398002){console[_0x3514c5(0x1ac)](_0x3514c5(0x702),_0x398002),showMessage(_0x3514c5(0xa41)+_0x398002['message']),_0x5835c4[_0x3514c5(0x360)][_0x3514c5(0x4a6)](_0x3514c5(0x2f2)),_0x29d1a8[_0x3514c5(0xad6)]=![];}}function autoFormatMath(_0x116ddd){const _0x879e5c=_0x2bcb18;if(typeof _0x116ddd!==_0x879e5c(0x57a)||!_0x116ddd)return _0x116ddd;const _0x1bae69=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x4e6469=_0x116ddd[_0x879e5c(0xdcc)](_0x1bae69,_0x9ca164=>{const _0x1c048c=_0x879e5c;return'$'+_0x9ca164[_0x1c048c(0xa4d)]()+'$';});return _0x4e6469;}function sanitizeQuizData(_0x40cadf){const _0x135983=_0x2bcb18;if(!_0x40cadf||!_0x40cadf[_0x135983(0xc46)])return _0x40cadf;const _0x5556d8=_0x5ff254=>{const _0x2a2bfb=_0x135983;if(typeof _0x5ff254!=='string')return _0x5ff254;let _0x1a101c=_0x5ff254;_0x1a101c=_0x1a101c[_0x2a2bfb(0xdcc)](/\\\(/g,'$')[_0x2a2bfb(0xdcc)](/\\\)/g,'$'),_0x1a101c=_0x1a101c[_0x2a2bfb(0xdcc)](/\\\[/g,'$$')[_0x2a2bfb(0xdcc)](/\\\]/g,'$$'),_0x1a101c=_0x1a101c['replace'](/\\?imes\b/g,_0x2a2bfb(0x65a));const _0x3f7b99=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div|\\cdot)\s*\d+(\.\d+)?|(\\frac\{.+?\}\{.+?\})|(\\sqrt\{.+?\})|(\\text\{.+?\})|(\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;return _0x1a101c=_0x1a101c[_0x2a2bfb(0xdcc)](_0x3f7b99,_0x31f2b8=>{const _0x14e0dc=_0x2a2bfb;return'$'+_0x31f2b8[_0x14e0dc(0xa4d)]()+'$';}),_0x1a101c;};return _0x40cadf[_0x135983(0x79c)]&&(_0x40cadf['topic']=_0x5556d8(_0x40cadf[_0x135983(0x79c)])),_0x40cadf['questions'][_0x135983(0x39f)](_0x3934a8=>{const _0x1366fb=_0x135983;_0x3934a8['questionText']=_0x5556d8(_0x3934a8['questionText']),_0x3934a8[_0x1366fb(0x58b)]=_0x5556d8(_0x3934a8['stem']),_0x3934a8[_0x1366fb(0x3e2)]&&(_0x3934a8[_0x1366fb(0x3e2)]=_0x3934a8['options']['map'](_0x577a91=>_0x5556d8(_0x577a91))),_0x3934a8[_0x1366fb(0xc94)]&&(_0x3934a8['explanation']=_0x5556d8(_0x3934a8[_0x1366fb(0xc94)])),_0x3934a8[_0x1366fb(0xd79)]&&(_0x3934a8[_0x1366fb(0xd79)]=_0x5556d8(_0x3934a8[_0x1366fb(0xd79)])),_0x3934a8[_0x1366fb(0x66a)]&&(_0x3934a8[_0x1366fb(0x66a)]=_0x3934a8[_0x1366fb(0x66a)][_0x1366fb(0xe49)](_0x5ccac1=>_0x5556d8(_0x5ccac1))),_0x3934a8[_0x1366fb(0xbe7)]&&(_0x3934a8[_0x1366fb(0xbe7)]=_0x5556d8(_0x3934a8[_0x1366fb(0xbe7)]));}),_0x40cadf;}const simpleMathPrompt=_0x2bcb18(0x16e);async function handleGenerateFromLink(){const _0x419db2=_0x2bcb18,_0x3547df=document[_0x419db2(0x932)](_0x419db2(0xd29)),_0x3e1b24=document[_0x419db2(0x932)](_0x419db2(0xb37)),_0x1d6894=_0x3547df[_0x419db2(0x99c)][_0x419db2(0xa4d)](),_0x4c777f=_0x3e1b24[_0x419db2(0x99c)][_0x419db2(0xa4d)]();if(!_0x1d6894){showMessage('กรุณาวาง\x20URL\x20ของบทความก่อน');return;}const _0x37ef0a=document[_0x419db2(0x932)](_0x419db2(0xe0d)),_0x52d91d=document[_0x419db2(0x932)](_0x419db2(0x231)),_0x2cc3e5=document[_0x419db2(0x932)](_0x419db2(0x277)),_0x23d767=document['getElementById'](_0x419db2(0x136));document['getElementById'](_0x419db2(0xa17))[_0x419db2(0x360)][_0x419db2(0xcc8)](_0x419db2(0x2f2)),_0x2cc3e5[_0x419db2(0xa16)]='',_0x37ef0a[_0x419db2(0x360)][_0x419db2(0xcc8)](_0x419db2(0x2f2)),_0x52d91d[_0x419db2(0xdec)]=_0x419db2(0x383),_0x23d767[_0x419db2(0xad6)]=!![];try{const _0x4b1348='https://corsproxy.io/?'+encodeURIComponent(_0x1d6894),_0x164071=await fetch(_0x4b1348);if(!_0x164071['ok'])throw new Error(_0x419db2(0x8ce)+_0x164071[_0x419db2(0x1f8)]+')');const _0x28a868=await _0x164071[_0x419db2(0x13d)](),_0x53c290=extractTextFromHtml(_0x28a868);if(!_0x53c290||_0x53c290[_0x419db2(0x752)]<0x64)throw new Error(_0x419db2(0x5b1));await generateQuiz(_0x4c777f,_0x53c290);}catch(_0x5c170b){console[_0x419db2(0x1ac)](_0x419db2(0x589),_0x5c170b),showMessage(_0x419db2(0xb75)+_0x5c170b[_0x419db2(0x523)]),_0x2cc3e5[_0x419db2(0xa16)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>';}finally{_0x37ef0a['classList'][_0x419db2(0x4a6)](_0x419db2(0x2f2)),_0x23d767['disabled']=![];}}function extractTextFromHtml(_0x28f5c5){const _0x7514c3=_0x2bcb18,_0x236b18=new DOMParser()[_0x7514c3(0x464)](_0x28f5c5,_0x7514c3(0x789));return _0x236b18[_0x7514c3(0x38e)]('script,\x20style,\x20nav,\x20footer,\x20header,\x20aside')[_0x7514c3(0x39f)](_0x6c3793=>_0x6c3793[_0x7514c3(0xcc8)]()),_0x236b18[_0x7514c3(0x6ac)]['textContent']||'';}document[_0x2bcb18(0x932)](_0x2bcb18(0xdc4))[_0x2bcb18(0x639)]('click',()=>{const _0x1ed5e7=_0x2bcb18,_0x4308e0=document[_0x1ed5e7(0x932)](_0x1ed5e7(0xd6f))[_0x1ed5e7(0x99c)][_0x1ed5e7(0xa4d)]();generateQuiz(_0x4308e0,null);}),document['getElementById']('generate-from-text-btn')[_0x2bcb18(0x639)]('click',()=>{const _0xad66f2=_0x2bcb18,_0x33d062=document[_0xad66f2(0x932)](_0xad66f2(0x934))[_0xad66f2(0x99c)][_0xad66f2(0xa4d)]();if(!_0x33d062){showMessage(_0xad66f2(0x221));return;}const _0x3c6ab3=document[_0xad66f2(0x932)](_0xad66f2(0xd6f))['value'][_0xad66f2(0xa4d)]();generateQuiz(_0x3c6ab3,_0x33d062);});async function generateQuiz(_0x2b40df,_0x2518f7,_0x53b4cd=null,_0x1c43a8=null,_0x59da68=![],_0x252aff=null,_0x251e0c=null,_0x486064=![]){const _0x254f14=_0x2bcb18;let _0x538a73={};if(_0x59da68&&blueprintPageSettings)_0x538a73=blueprintPageSettings;else{const _0x49ae05=document['querySelectorAll'](_0x254f14(0x5c9));_0x538a73={'quizType':document[_0x254f14(0x932)]('quiz-type-select')[_0x254f14(0x99c)],'numQuestions':document[_0x254f14(0x932)]('num-questions')[_0x254f14(0x99c)],'numChoices':document['getElementById'](_0x254f14(0x638))[_0x254f14(0x99c)],'includeImages':document[_0x254f14(0x932)](_0x254f14(0xe91))[_0x254f14(0xc62)],'isNormalTopic':document['getElementById'](_0x254f14(0x933))[_0x254f14(0xc62)],'difficultyValue':document[_0x254f14(0x932)](_0x254f14(0xd8d))[_0x254f14(0x99c)],'complexityValue':document[_0x254f14(0x932)](_0x254f14(0x618))[_0x254f14(0x99c)],'selectedTopicNames':Array[_0x254f14(0x337)](_0x49ae05)[_0x254f14(0xe49)](_0x55a306=>_0x55a306[_0x254f14(0x99c)])};}const _0x17baeb=_0x538a73[_0x254f14(0xde8)]?'':'คณิตศาสตร์',_0x885681=_0x538a73['difficultyValue']!==_0x254f14(0x553)?_0x254f14(0xae5)+_0x538a73['difficultyValue']+'\x22':'',_0x5e1d13=_0x538a73[_0x254f14(0xc37)]!=='mixed'?_0x254f14(0x761)+_0x538a73[_0x254f14(0xc37)]+_0x254f14(0x364):'';let _0x5d6e7b='';_0x538a73[_0x254f14(0x732)]&&_0x538a73['selectedTopicNames'][_0x254f14(0x752)]>0x0&&(_0x5d6e7b='โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20'+_0x538a73[_0x254f14(0x732)][_0x254f14(0xbb2)](',\x20')+'.');let _0x16770c='';_0x1c43a8&&(_0x16770c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20การอ้างอิงสไตล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงวิเคราะห์สไตล์,\x20ระดับความยาก,\x20และลักษณะของโจทย์\x20(เช่น\x20เป็นโจทย์ปัญหาสถานการณ์,\x20การคำนวณหลายขั้นตอน)\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แล้วนำมาเป็น\x20\x22ต้นแบบ\x22\x20ในการสร้างโจทย์ชุดใหม่ทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คำสั่งเด็ดขาด:**\x20ห้ามคัดลอกโจทย์หรือตัวเลขจากไฟล์อ้างอิงมาโดยตรงเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ให้มีความ\x20\x22สมมูล\x22\x20กันเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20');let _0x13722d='',_0x3633ba='',_0x3ffd2a,_0x41e6f8='เกี่ยวกับหัวข้อ\x20\x22'+_0x2b40df+'\x22';if(!_0x2b40df&&_0x2518f7)_0x41e6f8=_0x254f14(0x233);else!_0x2b40df&&!_0x2518f7&&(_0x41e6f8=_0x254f14(0xc01));const _0x150dde={'type':_0x254f14(0xde5),'properties':{'questionText':{'type':_0x254f14(0x7d8)},'options':{'type':_0x254f14(0xd66),'items':{'type':_0x254f14(0x7d8)}},'correctAnswerIndex':{'type':_0x254f14(0xd4c)},'explanation':{'type':_0x254f14(0x7d8)},'imageCode':{'type':_0x254f14(0x7d8)}},'required':[_0x254f14(0xca8),_0x254f14(0x3e2),'correctAnswerIndex',_0x254f14(0xc94)]},_0x17894a={'type':_0x254f14(0xde5),'properties':{'questionText':{'type':_0x254f14(0x7d8)},'idealAnswer':{'type':_0x254f14(0x7d8)},'explanation':{'type':_0x254f14(0x7d8)},'imageCode':{'type':_0x254f14(0x7d8)}},'required':[_0x254f14(0xca8),_0x254f14(0xbe7),_0x254f14(0xc94)]},_0x301daa={'type':_0x254f14(0xde5),'properties':{'questionText':{'type':_0x254f14(0x7d8)},'questionType':{'type':_0x254f14(0x7d8),'enum':[_0x254f14(0x47e),_0x254f14(0xafb)]},'options':{'type':_0x254f14(0xd66),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x254f14(0xd4c)},'idealAnswer':{'type':_0x254f14(0x7d8)},'explanation':{'type':_0x254f14(0x7d8)},'imageCode':{'type':'STRING'}},'required':['questionText',_0x254f14(0x2ed),'explanation']},_0x45ee62={'type':_0x254f14(0xde5),'properties':{'questionText':{'type':_0x254f14(0x7d8)},'correctAnswer':{'type':_0x254f14(0x339)},'explanation':{'type':_0x254f14(0x7d8)},'imageCode':{'type':_0x254f14(0x7d8)}},'required':[_0x254f14(0xca8),_0x254f14(0x8f4),_0x254f14(0xc94)]},_0xcbbaee={'type':'OBJECT','properties':{'questionType':{'type':_0x254f14(0x7d8),'enum':['matching_item']},'stem':{'type':_0x254f14(0x7d8)},'correctResponse':{'type':_0x254f14(0x7d8)},'allResponses':{'type':_0x254f14(0xd66),'items':{'type':_0x254f14(0x7d8)}},'explanation':{'type':_0x254f14(0x7d8)},'imageCode':{'type':_0x254f14(0x7d8)}},'required':[_0x254f14(0x2ed),_0x254f14(0x58b),_0x254f14(0xd79),'allResponses','explanation']};let _0x48b0fc;if(_0x53b4cd!==null){const _0x55a2a5=currentQuizData[_0x254f14(0xc46)][_0x53b4cd][_0x254f14(0x2ed)],_0x5af821=_0x538a73[_0x254f14(0x334)]?'สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.':'';_0x13722d=_0x254f14(0xc7e)+_0x41e6f8+'\x20'+_0x5d6e7b+'\x20'+_0x885681+'\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20'+_0x5af821+'\x20'+simpleMathPrompt;if(_0x55a2a5==='multiple_choice')_0x3ffd2a=_0x150dde;else{if(_0x55a2a5===_0x254f14(0xb08))_0x3ffd2a={'type':_0x254f14(0xde5),'properties':{'questionType':{'type':_0x254f14(0x7d8),'enum':['matching_item']},'stem':{'type':'STRING'},'correctResponse':{'type':_0x254f14(0x7d8)},'explanation':{'type':_0x254f14(0x7d8)},'imageCode':{'type':'STRING'}},'required':['questionType',_0x254f14(0x58b),_0x254f14(0xd79),_0x254f14(0xc94)]};else _0x3ffd2a=_0x17894a;}_0x48b0fc=_0x3ffd2a;}else{const _0x202ccb=_0x538a73[_0x254f14(0x334)]?'สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.':'';switch(_0x538a73[_0x254f14(0x2de)]){case _0x254f14(0x47e):const _0x680149=_0x254f14(0x572);_0x13722d=_0x254f14(0x222)+_0x17baeb+'\x20'+_0x538a73[_0x254f14(0xc6d)]+'\x20ข้อ\x20'+_0x41e6f8+'\x20'+_0x5d6e7b+'\x20'+_0x885681+'\x20'+_0x5e1d13+'\x20'+_0x16770c+_0x254f14(0xdb6)+_0x538a73['numChoices']+'\x20ตัวเลือก.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x680149+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20'+_0x202ccb+'\x20'+simpleMathPrompt,_0x3ffd2a=_0x150dde;break;case _0x254f14(0xa65):_0x13722d=_0x254f14(0xaae)+_0x17baeb+'\x20'+_0x538a73[_0x254f14(0xc6d)]+_0x254f14(0x7c1)+_0x41e6f8+'\x20'+_0x5d6e7b+'\x20'+_0x885681+'\x20'+_0x5e1d13+'\x20'+_0x16770c+_0x254f14(0x53f)+_0x538a73['numChoices']+_0x254f14(0xb40)+_0x202ccb+'\x20'+simpleMathPrompt,_0x3ffd2a=_0x150dde;break;case _0x254f14(0xceb):_0x13722d=_0x254f14(0xaae)+_0x17baeb+'\x20'+_0x538a73[_0x254f14(0xc6d)]+_0x254f14(0x7c1)+_0x41e6f8+'\x20'+_0x5d6e7b+'\x20'+_0x885681+'\x20'+_0x5e1d13+'\x20'+_0x16770c+_0x254f14(0x85a)+_0x202ccb+'\x20'+simpleMathPrompt,_0x3ffd2a=_0x17894a;break;case'mixed':_0x13722d=_0x254f14(0x807)+_0x17baeb+'\x20'+_0x538a73[_0x254f14(0xc6d)]+_0x254f14(0x7c1)+_0x41e6f8+'\x20'+_0x5d6e7b+'\x20'+_0x885681+'\x20'+_0x5e1d13+'\x20'+_0x16770c+_0x254f14(0x569)+_0x538a73['numChoices']+_0x254f14(0x544)+_0x202ccb+'\x20'+simpleMathPrompt+'.',_0x3ffd2a=_0x301daa;break;case _0x254f14(0x827):_0x13722d=_0x254f14(0x651)+_0x17baeb+'\x20'+_0x538a73[_0x254f14(0xc6d)]+'\x20ข้อ\x20'+_0x41e6f8+'\x20'+_0x5d6e7b+'\x20'+_0x885681+'\x20'+_0x5e1d13+'\x20'+_0x16770c+_0x254f14(0x4f8)+_0x202ccb+'\x20'+simpleMathPrompt,_0x3ffd2a=_0x45ee62;break;case _0x254f14(0x2a8):_0x13722d=_0x254f14(0x41c)+_0x17baeb+'\x20'+_0x538a73['numQuestions']+_0x254f14(0x4d6)+_0x41e6f8+'\x20'+_0x5d6e7b+'\x20'+_0x885681+'\x20'+_0x5e1d13+'\x20'+_0x16770c+'.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20'+_0x202ccb+'\x20'+simpleMathPrompt,_0x3ffd2a=_0xcbbaee;break;}_0x48b0fc={'type':_0x254f14(0xde5),'properties':{'topic':{'type':_0x254f14(0x7d8)},'questions':{'type':_0x254f14(0xd66),'items':_0x3ffd2a}},'required':[_0x254f14(0x79c),'questions']};}const _0x53efcd='\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0a\x0a**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0aนี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้างข้อสอบที่มีความซับซ้อน\x20**\x22เทียบเท่า\x22**\x20กับไฟล์อ้างอิงนั้น\x0a\x0a**ห้าม\x20(DO\x20NOT)**\x20สร้างโจทย์ที่มีความซับซ้อน,\x20มีหลายขั้นตอน,\x20หรือต้องตีความ\x20**\x22เกินกว่า\x22**\x20ระดับความยากโดยเฉลี่ยของโจทย์ในไฟล์อ้างอิงโดยเด็ดขาด\x0aให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของความซับซ้อน\x0a\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20(ภายใต้กรอบความซับซ้อนของไฟล์อ้างอิง)\x20โดยอาจมีลักษณะดังนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวงขั้นสูง\x20(Advanced\x20Distractor\x20Rule):**\x0aห้ามใช้ตัวเลขสุ่ม!\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ต้องออกแบบมาอย่างจงใจเพื่อดักจับ\x20\x22Misconception\x22\x20ของนักเรียน:\x0a1.\x20**Miscalculation:**\x20คำนวณผิดในจุดสำคัญ\x20(เช่น\x20ลืมตัวทด,\x20ลืมหาร,\x20คูณผิดตำแหน่ง)\x0a2.\x20**Misconception:**\x20ใช้สูตรผิด,\x20สลับตัวแปร,\x20เข้าใจนิยามคลาดเคลื่อน\x0a3.\x20**Partial\x20Answer:**\x20ตอบสิ่งที่โจทย์ไม่ได้ถาม\x20(เช่น\x20โจทย์ถามเส้นรอบรูป\x20แต่ตอบพื้นที่)\x0a4.\x20**Unit\x20Trap:**\x20ลืมแปลงหน่วย\x20หรือแปลงผิด\x0a*ตัวลวงทุกข้อต้องดูสมจริงจนนักเรียนที่\x20\x27เกือบรู้\x27\x20หลงกลได้*\x0a';_0x2518f7?(_0x486064?_0x13722d=_0x254f14(0x117)+_0x2518f7+'\x22,\x20'+_0x13722d+_0x53efcd:_0x13722d=_0x254f14(0x117)+_0x2518f7+_0x254f14(0xc72)+_0x13722d,_0x3633ba=_0x254f14(0xde2)):(_0x486064&&(_0x13722d+=_0x53efcd),_0x3633ba=_0x254f14(0x2df));let _0x1a5d75;return _0x1c43a8?(_0x1a5d75=[{'text':_0x13722d},..._0x1c43a8],_0x3633ba=_0x254f14(0xbc3)):_0x1a5d75=_0x13722d,handleApiCall(_0x1a5d75,_0x3633ba,_0x48b0fc,_0x53b4cd,!![],_0x252aff,_0x251e0c);}async function generateQuizFromFile(_0x5702b4,_0x287677){const _0x2f60c6=_0x2bcb18,_0x5e0583=document['getElementById'](_0x2f60c6(0xcde))[_0x2f60c6(0x99c)][_0x2f60c6(0xa4d)](),_0x55d3d8=document[_0x2f60c6(0x932)](_0x2f60c6(0x5bb))[_0x2f60c6(0x99c)],_0xdbd43d=document[_0x2f60c6(0x932)](_0x2f60c6(0x70e))[_0x2f60c6(0x99c)],_0x52289d=document[_0x2f60c6(0x932)](_0x2f60c6(0x638))[_0x2f60c6(0x99c)],_0x8dab10=document[_0x2f60c6(0x932)](_0x2f60c6(0xe91))[_0x2f60c6(0xc62)],_0x29725d=document['getElementById']('force-math-checkbox')['checked'],_0x5239e8=_0x29725d?'':_0x2f60c6(0xe89),_0x452596=document['getElementById'](_0x2f60c6(0xd92))[_0x2f60c6(0xc62)];let _0x33c6bc='',_0xb18ddd;const _0x4373e8=_0x8dab10?'สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.':'';if(_0x452596)_0x33c6bc=_0x2f60c6(0xa5f)+_0x4373e8+'\x0a'+simpleMathPrompt+'\x0a',_0xb18ddd={'type':_0x2f60c6(0xde5),'properties':{'questionText':{'type':_0x2f60c6(0x7d8)},'questionType':{'type':_0x2f60c6(0x7d8),'enum':[_0x2f60c6(0x47e),'short_answer',_0x2f60c6(0x827),'matching_item']},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x2f60c6(0xd4c)},'idealAnswer':{'type':_0x2f60c6(0x7d8)},'correctAnswer':{'type':'BOOLEAN'},'stem':{'type':_0x2f60c6(0x7d8)},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x2f60c6(0xd66),'items':{'type':_0x2f60c6(0x7d8)}},'explanation':{'type':_0x2f60c6(0x7d8)},'imageCode':{'type':'STRING'}},'required':[_0x2f60c6(0x2ed),_0x2f60c6(0xc94)]};else{let _0x3c3040=_0x2f60c6(0xb4c)+_0x5e0583+'\x22';!_0x5e0583&&(_0x3c3040=_0x2f60c6(0x922));switch(_0x55d3d8){case _0x2f60c6(0x47e):const _0x312cb3='\x0a\x20\x20\x20\x20**กฎเหล็กการสร้างตัวเลือก\x20(Distractor\x20Rules):**\x0a\x20\x20\x20\x201.\x20ห้ามสุ่มตัวเลขมั่วๆ\x20มาใส่เป็นตัวหลอก\x0a\x20\x20\x20\x202.\x20ตัวเลือกที่ผิด\x20(Distractors)\x20ต้องเกิดจาก\x20\x22ความเข้าใจผิดที่พบบ่อย\x22\x20(Common\x20Misconceptions)\x20ของนักเรียนในเรื่องนั้นๆ\x0a\x20\x20\x20\x203.\x20ตัวเลือกต้องดูสมเหตุสมผล\x20ไม่ใช่ผิดแบบเห็นได้ชัด\x0a\x20\x20\x20\x204.\x20ถ้าเป็นโจทย์คำนวณ\x20ให้ดักทางคนที่ลืมทดเลข,\x20ลืมเปลี่ยนหน่วย,\x20หรือจำสูตรผิด';_0x33c6bc=_0x2f60c6(0x222)+_0x5239e8+'\x20'+_0xdbd43d+_0x2f60c6(0x7c1)+_0x3c3040+_0x2f60c6(0x991)+_0x52289d+'\x20ตัวเลือก.\x20\x0a\x20\x20\x20\x20'+_0x312cb3+_0x2f60c6(0x465)+_0x4373e8+'\x20'+simpleMathPrompt,_0xb18ddd={'type':_0x2f60c6(0xde5),'properties':{'questionText':{'type':_0x2f60c6(0x7d8)},'options':{'type':'ARRAY','items':{'type':_0x2f60c6(0x7d8)}},'correctAnswerIndex':{'type':_0x2f60c6(0xd4c)},'explanation':{'type':_0x2f60c6(0x7d8)},'imageCode':{'type':_0x2f60c6(0x7d8)}},'required':[_0x2f60c6(0xca8),_0x2f60c6(0x3e2),_0x2f60c6(0x52a),_0x2f60c6(0xc94)]};break;case _0x2f60c6(0xa65):_0x33c6bc=_0x2f60c6(0xaae)+_0x5239e8+'\x20'+_0xdbd43d+_0x2f60c6(0x7c1)+_0x3c3040+_0x2f60c6(0x53f)+_0x52289d+'\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20'+_0x4373e8+'\x20'+simpleMathPrompt,_0xb18ddd={'type':_0x2f60c6(0xde5),'properties':{'questionText':{'type':_0x2f60c6(0x7d8)},'options':{'type':_0x2f60c6(0xd66),'items':{'type':_0x2f60c6(0x7d8)}},'correctAnswerIndex':{'type':_0x2f60c6(0xd4c)},'explanation':{'type':_0x2f60c6(0x7d8)},'imageCode':{'type':'STRING'}},'required':[_0x2f60c6(0xca8),_0x2f60c6(0x3e2),_0x2f60c6(0x52a),_0x2f60c6(0xc94)]};break;case _0x2f60c6(0xceb):_0x33c6bc=_0x2f60c6(0xaae)+_0x5239e8+'\x20'+_0xdbd43d+_0x2f60c6(0x7c1)+_0x3c3040+_0x2f60c6(0xbaf)+_0x4373e8+'\x20'+simpleMathPrompt,_0xb18ddd={'type':_0x2f60c6(0xde5),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':_0x2f60c6(0x7d8)},'explanation':{'type':_0x2f60c6(0x7d8)},'imageCode':{'type':_0x2f60c6(0x7d8)}},'required':['questionText',_0x2f60c6(0xbe7),_0x2f60c6(0xc94)]};break;case _0x2f60c6(0x7aa):_0x33c6bc=_0x2f60c6(0x807)+_0x5239e8+'\x20'+_0xdbd43d+_0x2f60c6(0x7c1)+_0x3c3040+_0x2f60c6(0x377)+_0x52289d+_0x2f60c6(0xa74)+_0x4373e8+'\x20'+simpleMathPrompt+'.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.',_0xb18ddd={'type':_0x2f60c6(0xde5),'properties':{'questionText':{'type':_0x2f60c6(0x7d8)},'questionType':{'type':_0x2f60c6(0x7d8),'enum':['multiple_choice',_0x2f60c6(0xafb)]},'options':{'type':'ARRAY','items':{'type':_0x2f60c6(0x7d8)}},'correctAnswerIndex':{'type':_0x2f60c6(0xd4c)},'idealAnswer':{'type':_0x2f60c6(0x7d8)},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':['questionText',_0x2f60c6(0x2ed),_0x2f60c6(0xc94)]};break;case _0x2f60c6(0x827):_0x33c6bc='สร้างคำถามแบบใช่/ไม่ใช่'+_0x5239e8+'\x20'+_0xdbd43d+_0x2f60c6(0x7c1)+_0x3c3040+_0x2f60c6(0x867)+_0x4373e8+'\x20'+simpleMathPrompt,_0xb18ddd={'type':_0x2f60c6(0xde5),'properties':{'questionText':{'type':_0x2f60c6(0x7d8)},'correctAnswer':{'type':_0x2f60c6(0x339)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x2f60c6(0x7d8)}},'required':[_0x2f60c6(0xca8),_0x2f60c6(0x8f4),_0x2f60c6(0xc94)]};break;case'matching':_0x33c6bc='สร้างชุดคำถามจับคู่'+_0x5239e8+'\x20'+_0xdbd43d+_0x2f60c6(0x4d6)+_0x3c3040+_0x2f60c6(0x45b)+_0xdbd43d+_0x2f60c6(0x12a)+_0x4373e8+'\x20'+simpleMathPrompt,_0xb18ddd={'type':_0x2f60c6(0xde5),'properties':{'questionType':{'type':_0x2f60c6(0x7d8),'enum':[_0x2f60c6(0xb08)]},'stem':{'type':_0x2f60c6(0x7d8)},'correctResponse':{'type':_0x2f60c6(0x7d8)},'allResponses':{'type':'ARRAY','items':{'type':_0x2f60c6(0x7d8)}},'explanation':{'type':_0x2f60c6(0x7d8)},'imageCode':{'type':_0x2f60c6(0x7d8)}},'required':[_0x2f60c6(0x2ed),'stem',_0x2f60c6(0xd79),_0x2f60c6(0x66a),_0x2f60c6(0xc94)]};break;}}const _0x15e5c8={'type':_0x2f60c6(0xde5),'properties':{'topic':{'type':_0x2f60c6(0x7d8)},'questions':{'type':_0x2f60c6(0xd66),'items':_0xb18ddd}},'required':[_0x2f60c6(0x79c),'questions']},_0x10fbe3=_0x2f60c6(0xe87)+_0x33c6bc,_0x151e6a={'contents':[{'parts':[{'text':_0x10fbe3},{'inlineData':{'mimeType':_0x5702b4,'data':_0x287677}}]}],'generationConfig':{'responseMimeType':_0x2f60c6(0x7f5),'responseSchema':_0x15e5c8}};return handleApiCall(_0x151e6a[_0x2f60c6(0x5e6)][0x0][_0x2f60c6(0x21f)],_0x2f60c6(0x549),_0x15e5c8);}async function handleApiCall(_0x50e544,_0x2cc693,_0x38682a,_0x2faabe=null,_0x78d91f=!![],_0x537b16=null,_0xb991a4=null){const _0x12c86b=_0x2bcb18,_0x242b56=document[_0x12c86b(0x932)](_0x12c86b(0xa17)),_0x554d4d=document['getElementById'](_0x12c86b(0xe0d)),_0x3bd54f=document[_0x12c86b(0x932)](_0x12c86b(0x231)),_0x5739ad=document[_0x12c86b(0x932)](_0x12c86b(0x277));_0x242b56['classList'][_0x12c86b(0xcc8)](_0x12c86b(0x2f2));_0x2faabe===null&&_0x78d91f&&(_0x5739ad[_0x12c86b(0xa16)]='');_0x554d4d[_0x12c86b(0x360)][_0x12c86b(0xcc8)](_0x12c86b(0x2f2)),_0x3bd54f[_0x12c86b(0xdec)]=_0x2cc693,document[_0x12c86b(0x932)]('generate-from-topic-btn')[_0x12c86b(0xad6)]=!![],document['getElementById']('generate-from-text-btn')['disabled']=!![],document['getElementById'](_0x12c86b(0x136))[_0x12c86b(0xad6)]=!![];const _0x3b0321=document['getElementById'](_0x12c86b(0x28d));if(_0x3b0321)_0x3b0321['disabled']=!![];const _0x3b13b7=document[_0x12c86b(0x932)](_0x12c86b(0x17d));if(_0x3b13b7)_0x3b13b7[_0x12c86b(0xad6)]=!![];const _0x4384e0=document['getElementById'](_0x12c86b(0xdd5));if(_0x4384e0)_0x4384e0[_0x12c86b(0xad6)]=!![];try{const _0x2bdd26=Array[_0x12c86b(0x750)](_0x50e544)?_0x50e544:[{'text':_0x50e544}],_0x26e0a3={'contents':[{'role':_0x12c86b(0x660),'parts':_0x2bdd26}]};_0x38682a&&(_0x26e0a3[_0x12c86b(0x829)]={'responseMimeType':_0x12c86b(0x7f5),'responseSchema':_0x38682a});const _0x5c8abe=_0x12c86b(0x40e),_0x2dc4e3=_0x12c86b(0xddb)+_0x5c8abe,_0x33664a=await fetch(_0x2dc4e3,{'method':_0x12c86b(0xe68),'headers':{'Content-Type':'application/json'},'body':JSON[_0x12c86b(0x692)](_0x26e0a3)});if(!_0x33664a['ok']){const _0x34e838=await _0x33664a[_0x12c86b(0x13d)]();console[_0x12c86b(0x1ac)](_0x12c86b(0xcb7),_0x34e838);throw new Error(_0x12c86b(0xcf6)+_0x33664a[_0x12c86b(0x1f8)]);}const _0xedcce=await _0x33664a[_0x12c86b(0x1f4)]();if(!_0xedcce[_0x12c86b(0xa28)]||_0xedcce[_0x12c86b(0xa28)][_0x12c86b(0x752)]===0x0){let _0x2081e9='AI\x20did\x20not\x20return\x20any\x20content.';return _0xedcce[_0x12c86b(0xb10)]?.[_0x12c86b(0x15f)]&&(_0x2081e9=_0x12c86b(0xbfb)+_0xedcce['promptFeedback']['blockReason']+'.'),console[_0x12c86b(0x1ac)](_0x2081e9,JSON[_0x12c86b(0x692)](_0xedcce)),null;}const _0x5185cc=_0xedcce[_0x12c86b(0xa28)][0x0]['content'][_0x12c86b(0x21f)][0x0]['text'];if(_0x38682a){let _0x142ffa=_0x5185cc;if(_0x142ffa[_0x12c86b(0x646)]('```json'))_0x142ffa=_0x142ffa[_0x12c86b(0x3bc)](0x7,_0x142ffa['length']-0x3)[_0x12c86b(0xa4d)]();else _0x142ffa[_0x12c86b(0x646)](_0x12c86b(0x81f))&&(_0x142ffa=_0x142ffa['substring'](0x3,_0x142ffa[_0x12c86b(0x752)]-0x3)[_0x12c86b(0xa4d)]());let _0x15cc08=JSON[_0x12c86b(0x4bd)](_0x142ffa);if(_0x15cc08[_0x12c86b(0xc46)]&&Array[_0x12c86b(0x750)](_0x15cc08['questions'])){const _0x57541d=_0x15cc08[_0x12c86b(0xc46)][_0x12c86b(0x9a7)](_0xa74561=>_0xa74561[_0x12c86b(0x2ed)]===_0x12c86b(0xb08));if(_0x57541d[_0x12c86b(0x752)]>0x1){const _0x4de1a7=_0x57541d[_0x12c86b(0xe49)](_0x154a38=>_0x154a38[_0x12c86b(0xd79)])['filter'](_0x4e5e08=>_0x4e5e08&&_0x4e5e08[_0x12c86b(0xa4d)]()!=='');shuffleArray(_0x4de1a7),_0x57541d['forEach'](_0x4ae6e2=>{const _0x20a3c8=_0x12c86b;_0x4ae6e2[_0x20a3c8(0x66a)]=[..._0x4de1a7];}),console[_0x12c86b(0x273)](_0x12c86b(0x6c9),_0x4de1a7);}}if(_0x78d91f){if(_0x2faabe!==null){if(currentEditingQuizData&&currentEditingQuizData[_0x12c86b(0xc46)]){}}else currentQuizData=_0x15cc08,displayGeneratedQuiz(currentQuizData,_0x537b16,_0xb991a4);}return _0x15cc08;}else return _0x5185cc;}catch(_0x19be54){console['error']('Error\x20in\x20handleApiCall:',_0x19be54),showMessage(_0x12c86b(0x8b8)+_0x19be54[_0x12c86b(0x523)]);_0x78d91f&&(_0x5739ad[_0x12c86b(0xa16)]=_0x12c86b(0x3f5));throw _0x19be54;}finally{_0x554d4d[_0x12c86b(0x360)][_0x12c86b(0x4a6)]('hidden'),document[_0x12c86b(0x932)](_0x12c86b(0xdc4))[_0x12c86b(0xad6)]=![],document[_0x12c86b(0x932)]('generate-from-text-btn')[_0x12c86b(0xad6)]=![],document[_0x12c86b(0x932)](_0x12c86b(0x136))[_0x12c86b(0xad6)]=![];if(_0x3b0321)_0x3b0321[_0x12c86b(0xad6)]=![];if(_0x3b13b7)_0x3b13b7[_0x12c86b(0xad6)]=![];if(_0x4384e0)_0x4384e0['disabled']=![];}}function exitFullscreen(){const _0x2f3652=_0x2bcb18;if(document['exitFullscreen'])document[_0x2f3652(0x363)]()['catch'](_0x22bfdd=>console['error'](_0x22bfdd));else{if(document[_0x2f3652(0x35e)])document[_0x2f3652(0x35e)]();else document['msExitFullscreen']&&document['msExitFullscreen']();}}function enterFullscreen(){const _0x223566=_0x2bcb18,_0x16f4c0=document[_0x223566(0x6f8)];if(_0x16f4c0[_0x223566(0x246)])_0x16f4c0[_0x223566(0x246)]()[_0x223566(0x4a3)](_0x5acc8a=>{const _0x9ba708=_0x223566;console['error']('Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20'+_0x5acc8a['message']+'\x20('+_0x5acc8a[_0x9ba708(0x34a)]+')');});else{if(_0x16f4c0[_0x223566(0xac8)])_0x16f4c0['webkitRequestFullscreen']();else _0x16f4c0[_0x223566(0x545)]&&_0x16f4c0[_0x223566(0x545)]();}}function handleCheatingEvent(){const _0x20662d=_0x2bcb18;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent(_0x20662d(0x45e),{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage('ตรวจพบการออกจากหน้าจอครบ\x20'+maxCheatAttempts+_0x20662d(0xd1d)),document[_0x20662d(0x932)](_0x20662d(0x458))?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document[_0x20662d(0x9c9)](_0x20662d(0x18e),handleVisibilityChange),document[_0x20662d(0x9c9)](_0x20662d(0xd12),handleFullscreenChange)):showMessage('คำเตือน\x20('+cheatAttempts+'/'+maxCheatAttempts+_0x20662d(0xa26),enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x4be3d7=_0x2bcb18;if(currentMode===_0x4be3d7(0x832)||!isQuizActive)return;if(document['visibilityState']==='hidden')handleCheatingEvent();else document[_0x4be3d7(0x679)]==='visible'&&(console['log'](_0x4be3d7(0x7f1)),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){const _0xcc4a1f=_0x2bcb18;if(currentMode===_0xcc4a1f(0x832)||!isQuizActive)return;!document[_0xcc4a1f(0x805)]&&handleCheatingEvent();}function displayGeneratedQuiz(_0x119d0e,_0x4c3aba=null,_0x1d2218=null){const _0x5cd377=_0x2bcb18,_0x3b5554=document[_0x5cd377(0x932)](_0x5cd377(0x277));let _0x5442b3=_0x5cd377(0xcc5)+_0x119d0e[_0x5cd377(0x79c)]+_0x5cd377(0x36b);_0x119d0e[_0x5cd377(0xc46)][_0x5cd377(0x39f)]((_0x534bb0,_0x59396c)=>{const _0x47b3b3=_0x5cd377;!_0x534bb0['id']&&(_0x534bb0['id']='q_'+Date[_0x47b3b3(0x18f)]()+'_'+_0x59396c);const _0x5bc9ed=_0x534bb0[_0x47b3b3(0x2ed)]||_0x119d0e[_0x47b3b3(0x2de)];_0x5442b3+=_0x47b3b3(0xe44)+_0x59396c+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x59396c+_0x47b3b3(0x63b)+_0x59396c+_0x47b3b3(0x99e);_0x5bc9ed===_0x47b3b3(0xb08)?_0x5442b3+=_0x47b3b3(0x6e7)+_0x59396c+'\x22>'+(_0x59396c+0x1)+'.\x20'+_0x534bb0[_0x47b3b3(0x58b)]+_0x47b3b3(0x463):_0x5442b3+=_0x47b3b3(0x6e7)+_0x59396c+'\x22>'+(_0x59396c+0x1)+'.\x20'+_0x534bb0['questionText']+'</p>';_0x534bb0['imageCode']&&(_0x5442b3+=_0x47b3b3(0xd74)+_0x59396c+_0x47b3b3(0x96c)+_0x534bb0[_0x47b3b3(0xe40)]+_0x47b3b3(0x1f5));if(_0x534bb0['options']&&Array[_0x47b3b3(0x750)](_0x534bb0['options'])&&_0x534bb0['options'][_0x47b3b3(0x752)]>0x0)_0x5442b3+=_0x47b3b3(0x260)+_0x59396c+_0x47b3b3(0x968)+_0x534bb0['options'][_0x47b3b3(0xe49)]((_0x32b355,_0x53768c)=>_0x47b3b3(0x647)+(_0x53768c===_0x534bb0[_0x47b3b3(0x52a)]?_0x47b3b3(0xde0):'')+'\x22>'+_0x32b355+'</li>')['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>';else{if(_0x5bc9ed===_0x47b3b3(0xb08)||_0x534bb0['correctResponse'])_0x5442b3+=_0x47b3b3(0xab8)+_0x59396c+'\x22>'+_0x534bb0['correctResponse']+'</span></div>';else{if(_0x5bc9ed===_0x47b3b3(0x827)||typeof _0x534bb0[_0x47b3b3(0x8f4)]===_0x47b3b3(0x8f0))_0x5442b3+=_0x47b3b3(0x7e7)+(_0x534bb0[_0x47b3b3(0x8f4)]===!![]?_0x47b3b3(0xde0):'')+_0x47b3b3(0xacc)+(_0x534bb0[_0x47b3b3(0x8f4)]===![]?_0x47b3b3(0xde0):'')+_0x47b3b3(0xe5b);else _0x534bb0[_0x47b3b3(0xbe7)]?_0x5442b3+=_0x47b3b3(0xccb)+_0x59396c+'\x22>'+_0x534bb0[_0x47b3b3(0xbe7)]+_0x47b3b3(0x5e3):_0x5442b3+=_0x47b3b3(0x73b);}}_0x5442b3+=_0x47b3b3(0xdb3)+_0x59396c+'\x22>'+_0x534bb0[_0x47b3b3(0xc94)]+_0x47b3b3(0x5e3),_0x5442b3+=_0x47b3b3(0x1f5);}),_0x5442b3+='<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20</div>',_0x3b5554[_0x5cd377(0xa16)]=_0x5442b3,document['querySelectorAll'](_0x5cd377(0x92e))[_0x5cd377(0x39f)](_0xfaabee=>_0xfaabee[_0x5cd377(0x639)]('click',handleEditQuestion)),document[_0x5cd377(0x38e)](_0x5cd377(0x89b))[_0x5cd377(0x39f)](_0x31a757=>_0x31a757[_0x5cd377(0x639)]('click',handleRegenerateQuestion)),document[_0x5cd377(0x932)](_0x5cd377(0x2ca))['addEventListener'](_0x5cd377(0x164),exportQuizAsWorksheetPDF),document['getElementById'](_0x5cd377(0xd1a))[_0x5cd377(0x639)](_0x5cd377(0x164),handleVerifyAnswers);const _0x353fdb=document[_0x5cd377(0x932)](_0x5cd377(0xe60));if(_0x353fdb){const _0x773be3=_0x4c3aba||currentProjectId;_0x353fdb[_0x5cd377(0x639)](_0x5cd377(0x164),()=>saveQuiz(_0x773be3,_0x1d2218));}if(window[_0x5cd377(0x7f9)])window[_0x5cd377(0x7f9)][_0x5cd377(0xd3d)]([_0x3b5554]);}function handleRegenerateQuestion(_0xdbb174){const _0x37978c=_0x2bcb18,_0x246ec5=_0xdbb174['currentTarget']['dataset']['index'],_0x416bcc=currentQuizData[_0x37978c(0x79c)];showMessage(_0x37978c(0xd43)+(parseInt(_0x246ec5)+0x1)+'\x20ใหม่...'),generateQuiz(_0x416bcc,null,parseInt(_0x246ec5));}function getPointerPosition(_0x343b36,_0x58fa29){const _0x360f84=_0x2bcb18,_0x100d2f=_0x343b36[_0x360f84(0x624)]();let _0x313f5a,_0x30c1c4;return _0x58fa29['touches']&&_0x58fa29['touches']['length']>0x0?(_0x313f5a=_0x58fa29['touches'][0x0]['clientX'],_0x30c1c4=_0x58fa29[_0x360f84(0xd63)][0x0][_0x360f84(0x345)]):(_0x313f5a=_0x58fa29['clientX'],_0x30c1c4=_0x58fa29[_0x360f84(0x345)]),{'x':(_0x313f5a-_0x100d2f['e'])/_0x100d2f['a'],'y':(_0x30c1c4-_0x100d2f['f'])/_0x100d2f['d']};}function startDrag(_0x19c148){const _0x5efa3f=_0x2bcb18;_0x19c148['type']===_0x5efa3f(0x393)&&_0x19c148['preventDefault']();const _0x250faf=_0x19c148['target'][_0x5efa3f(0x1d0)]('.draggable-text');if(_0x250faf){draggedSvgElement=_0x250faf;const _0x2dbb1e=draggedSvgElement[_0x5efa3f(0x4a1)],_0x1f556b=getPointerPosition(_0x2dbb1e,_0x19c148);svgOffset['x']=_0x1f556b['x']-parseFloat(draggedSvgElement['getAttributeNS'](null,'x')),svgOffset['y']=_0x1f556b['y']-parseFloat(draggedSvgElement[_0x5efa3f(0x9bf)](null,'y'));}}function calculateItemAnalysis(_0x8fb8a0,_0x5de316){const _0x5747c0=_0x2bcb18,_0x20f29c={};if(_0x5de316[_0x5747c0(0x752)]<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x17362a=[..._0x5de316]['sort']((_0x6519ed,_0x30d5a4)=>{const _0x564ff7=_0x5747c0,_0xe7613e=_0x30d5a4[_0x564ff7(0x5a7)]-_0x6519ed[_0x564ff7(0x5a7)];if(_0xe7613e!==0x0)return _0xe7613e;const _0x3bde4d=_0x6519ed[_0x564ff7(0xa66)]?.['length']||0x1,_0x47c0dc=_0x30d5a4[_0x564ff7(0xa66)]?.[_0x564ff7(0x752)]||0x1,_0xb4d40c=_0x3bde4d-_0x47c0dc;if(_0xb4d40c!==0x0)return _0xb4d40c;const _0x1c6014=new Date(_0x6519ed[_0x564ff7(0xb77)]),_0x1b372e=new Date(_0x30d5a4[_0x564ff7(0xb77)]),_0x4facd5=_0x1c6014-_0x1b372e;if(_0x4facd5!==0x0)return _0x4facd5;return _0x6519ed['studentName'][_0x564ff7(0x1bf)](_0x30d5a4[_0x564ff7(0xad2)],'th');}),_0x3df7f3=_0x17362a[_0x5747c0(0x752)],_0x2b0088=Math[_0x5747c0(0x824)](0x1,Math[_0x5747c0(0x4cf)](_0x3df7f3*0.33));if(_0x2b0088===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x14d549=_0x17362a['slice'](0x0,_0x2b0088),_0x28fb2f=_0x17362a['slice'](-_0x2b0088),_0x45a97d=_0x14d549['map'](_0x225d6b=>_0x225d6b['studentName']),_0x41f1b7=_0x28fb2f[_0x5747c0(0xe49)](_0x483327=>_0x483327[_0x5747c0(0xad2)]);return _0x8fb8a0[_0x5747c0(0xc46)][_0x5747c0(0x39f)]((_0x148495,_0x312bcc)=>{const _0x4448cf=_0x5747c0,_0x5f307f=_0x148495[_0x4448cf(0x58b)]||_0x148495['questionText'];let _0x18a7ce=0x0,_0x1e2429=0x0,_0x351ae3=0x0;const _0x290227=[],_0x2bf008=[];_0x14d549[_0x4448cf(0x39f)](_0x43a11d=>{const _0x2bca5a=_0x4448cf,_0x2183fe=_0x43a11d['attempts'][_0x43a11d['attempts']['length']-0x1],_0x5b34ca=_0x2183fe['answers'][_0x2bca5a(0x7a3)](_0x4edabe=>_0x4edabe[_0x2bca5a(0x870)]===_0x5f307f);_0x290227['push']({'name':_0x43a11d[_0x2bca5a(0xad2)],'isCorrect':_0x5b34ca?_0x5b34ca[_0x2bca5a(0x129)]:![]}),_0x5b34ca&&_0x5b34ca['isCorrect']&&_0x1e2429++;}),_0x28fb2f[_0x4448cf(0x39f)](_0x27ddde=>{const _0x3141dd=_0x4448cf,_0x34a4f2=_0x27ddde['attempts'][_0x27ddde[_0x3141dd(0xa66)][_0x3141dd(0x752)]-0x1],_0x11e82a=_0x34a4f2[_0x3141dd(0x8c5)][_0x3141dd(0x7a3)](_0x27c5b4=>_0x27c5b4['originalQuestionText']===_0x5f307f);_0x2bf008[_0x3141dd(0xe86)]({'name':_0x27ddde[_0x3141dd(0xad2)],'isCorrect':_0x11e82a?_0x11e82a[_0x3141dd(0x129)]:![]}),_0x11e82a&&_0x11e82a['isCorrect']&&_0x351ae3++;}),_0x5de316[_0x4448cf(0x39f)](_0x33777a=>{const _0x5df055=_0x4448cf,_0x4bc04a=_0x33777a[_0x5df055(0xa66)][_0x33777a['attempts']['length']-0x1],_0x375761=_0x4bc04a[_0x5df055(0x8c5)][_0x5df055(0x7a3)](_0x592433=>_0x592433[_0x5df055(0x870)]===_0x5f307f);_0x375761&&_0x375761['isCorrect']&&_0x18a7ce++;});const _0x49f42e=_0x3df7f3>0x0?_0x18a7ce/_0x3df7f3:0x0,_0x123b19=_0x2b0088>0x0?_0x1e2429/_0x2b0088-_0x351ae3/_0x2b0088:0x0;_0x20f29c[_0x312bcc]={'p':_0x49f42e,'r':_0x123b19,'upperGroupResponders':_0x290227,'lowerGroupResponders':_0x2bf008};}),{'perQuestionStats':_0x20f29c,'overallGroups':{'upperGroupNames':_0x45a97d,'lowerGroupNames':_0x41f1b7}};}function drag(_0x336bd9){const _0x1a3928=_0x2bcb18;if(draggedSvgElement){_0x336bd9[_0x1a3928(0xcfb)]();const _0x21eb2f=draggedSvgElement[_0x1a3928(0x4a1)],_0xfb5ee3=getPointerPosition(_0x21eb2f,_0x336bd9),_0x487a80=_0x21eb2f[_0x1a3928(0xe2b)][_0x1a3928(0xbe2)];let _0x2dcb5a=_0xfb5ee3['x']-svgOffset['x'],_0x1e04b0=_0xfb5ee3['y']-svgOffset['y'];const _0x1d4370=draggedSvgElement[_0x1a3928(0x11b)]();_0x2dcb5a=Math[_0x1a3928(0x824)](_0x487a80['x'],Math[_0x1a3928(0xc5a)](_0x2dcb5a,_0x487a80['x']+_0x487a80[_0x1a3928(0x3c6)]-_0x1d4370[_0x1a3928(0x3c6)])),_0x1e04b0=Math[_0x1a3928(0x824)](_0x487a80['y'],Math[_0x1a3928(0xc5a)](_0x1e04b0,_0x487a80['y']+_0x487a80[_0x1a3928(0x539)]-_0x1d4370[_0x1a3928(0x539)])),draggedSvgElement[_0x1a3928(0xe2e)](null,'x',_0x2dcb5a),draggedSvgElement[_0x1a3928(0xe2e)](null,'y',_0x1e04b0);}}function endDrag(_0x5bfec6){draggedSvgElement=null;}function handleSvgEditClick(_0x206735){const _0xcb831e=_0x2bcb18;if(_0x206735[_0xcb831e(0x5f8)][_0xcb831e(0x360)][_0xcb831e(0x3fa)]('delete-svg-btn')){const _0x24709c=_0x206735[_0xcb831e(0x5f8)][_0xcb831e(0x134)][_0xcb831e(0x8c1)],_0x44aabb=_0x206735['currentTarget'],_0x47e9e5=_0x44aabb['querySelector']('#'+_0x24709c);_0x47e9e5&&_0x47e9e5[_0xcb831e(0xcc8)](),_0x206735[_0xcb831e(0x5f8)][_0xcb831e(0xcc8)]();}}function handleEditQuestion(_0x2675fd){const _0x5cba87=_0x2bcb18,_0x5842e0=_0x2675fd['currentTarget'],_0x468ac4=_0x5842e0['dataset'][_0x5cba87(0xd5d)],_0x3a94bf=currentQuizData[_0x5cba87(0xc46)][_0x468ac4],_0x5c9929=document[_0x5cba87(0x932)]('q-text-'+_0x468ac4),_0x124fd0=document['getElementById']('q-explanation-'+_0x468ac4),_0x30bcab=document['getElementById'](_0x5cba87(0x235)+_0x468ac4);if(_0x5842e0[_0x5cba87(0xa16)][_0x5cba87(0xd2e)](_0x5cba87(0x81d))){_0x5842e0[_0x5cba87(0xa16)]=_0x5cba87(0xbbb),_0x5842e0[_0x5cba87(0x76d)]=_0x5cba87(0x774);if(_0x5c9929)_0x5c9929[_0x5cba87(0xd17)]=!![];if(_0x124fd0)_0x124fd0[_0x5cba87(0xd17)]=!![];if(_0x30bcab){const _0x46e401=_0x30bcab['querySelector']('svg');if(_0x46e401){const _0x22dd1b=_0x46e401[_0x5cba87(0x38e)](_0x5cba87(0x13d));_0x22dd1b[_0x5cba87(0x39f)]((_0x49db74,_0x3ee717)=>{const _0x588d6a=_0x5cba87,_0x35f3ea=_0x588d6a(0x728)+_0x468ac4+'-'+_0x3ee717;_0x49db74['id']=_0x35f3ea,_0x49db74[_0x588d6a(0x360)][_0x588d6a(0x4a6)]('draggable-text'),_0x49db74[_0x588d6a(0x6dc)]['cursor']=_0x588d6a(0xb02);const _0x1d36e6=document['createElementNS'](_0x588d6a(0x7fc),_0x588d6a(0xacd)),_0x538821=_0x49db74[_0x588d6a(0x11b)]();_0x1d36e6[_0x588d6a(0x97d)]('cx',String(_0x538821['x']+_0x538821[_0x588d6a(0x3c6)]+0x5)),_0x1d36e6[_0x588d6a(0x97d)]('cy',String(_0x538821['y']+_0x538821[_0x588d6a(0x539)]/0x2-0x5)),_0x1d36e6[_0x588d6a(0x97d)]('r','5'),_0x1d36e6[_0x588d6a(0x97d)]('fill',_0x588d6a(0x60d)),_0x1d36e6[_0x588d6a(0x97d)](_0x588d6a(0x568),_0x588d6a(0x89a)),_0x1d36e6[_0x588d6a(0x134)][_0x588d6a(0x8c1)]=_0x35f3ea,_0x49db74[_0x588d6a(0xa61)](_0x1d36e6);}),_0x46e401['addEventListener'](_0x5cba87(0xd8e),startDrag),_0x46e401[_0x5cba87(0x639)](_0x5cba87(0x22b),drag),_0x46e401[_0x5cba87(0x639)](_0x5cba87(0x1ae),endDrag),_0x46e401[_0x5cba87(0x639)](_0x5cba87(0x152),endDrag),_0x46e401['addEventListener'](_0x5cba87(0x393),startDrag,{'passive':![]}),_0x46e401['addEventListener']('touchmove',drag,{'passive':![]}),_0x46e401[_0x5cba87(0x639)](_0x5cba87(0x69f),endDrag),_0x46e401[_0x5cba87(0x639)](_0x5cba87(0x809),endDrag),_0x46e401[_0x5cba87(0x639)]('click',handleSvgEditClick);}}if(_0x5c9929)_0x5c9929[_0x5cba87(0xa82)]();}else{_0x5842e0[_0x5cba87(0xa16)]=_0x5cba87(0xb74),_0x5842e0[_0x5cba87(0x76d)]=_0x5cba87(0x41e);if(_0x5c9929){_0x5c9929['contentEditable']=![];const _0x1f8ce2=_0x3a94bf[_0x5cba87(0x2ed)]||currentQuizData[_0x5cba87(0x2de)];_0x1f8ce2===_0x5cba87(0xb08)?_0x3a94bf['stem']=_0x5c9929['innerText'][_0x5cba87(0x3bc)](_0x5c9929[_0x5cba87(0x6ad)][_0x5cba87(0x2bc)]('.')+0x2)[_0x5cba87(0xa4d)]():_0x3a94bf[_0x5cba87(0xca8)]=_0x5c9929['innerText'][_0x5cba87(0x3bc)](_0x5c9929[_0x5cba87(0x6ad)][_0x5cba87(0x2bc)]('.')+0x2)[_0x5cba87(0xa4d)]();}_0x124fd0&&(_0x124fd0[_0x5cba87(0xd17)]=![],_0x3a94bf[_0x5cba87(0xc94)]=_0x124fd0[_0x5cba87(0x6ad)]);if(_0x30bcab){const _0x5996e5=_0x30bcab[_0x5cba87(0xc60)]('svg');if(_0x5996e5){const _0x164013=_0x5996e5[_0x5cba87(0xe5d)](!![]);_0x164013[_0x5cba87(0x38e)](_0x5cba87(0x83b))[_0x5cba87(0x39f)](_0x11cc89=>_0x11cc89[_0x5cba87(0xcc8)]()),_0x164013[_0x5cba87(0x38e)](_0x5cba87(0xaf2))[_0x5cba87(0x39f)](_0x16dde1=>{const _0x4fee9e=_0x5cba87;_0x16dde1[_0x4fee9e(0x360)]['remove'](_0x4fee9e(0x8d9)),_0x16dde1['style']['cursor']=_0x4fee9e(0x700),_0x16dde1[_0x4fee9e(0xa27)]('id');}),_0x3a94bf[_0x5cba87(0xe40)]=_0x164013['outerHTML'],_0x5996e5[_0x5cba87(0x9c9)](_0x5cba87(0xd8e),startDrag),_0x5996e5['removeEventListener'](_0x5cba87(0x22b),drag),_0x5996e5[_0x5cba87(0x9c9)]('mouseup',endDrag),_0x5996e5[_0x5cba87(0x9c9)](_0x5cba87(0x152),endDrag),_0x5996e5[_0x5cba87(0x9c9)]('touchstart',startDrag),_0x5996e5[_0x5cba87(0x9c9)]('touchmove',drag),_0x5996e5[_0x5cba87(0x9c9)](_0x5cba87(0x69f),endDrag),_0x5996e5['removeEventListener']('touchcancel',endDrag),_0x5996e5[_0x5cba87(0x9c9)]('click',handleSvgEditClick),_0x5996e5[_0x5cba87(0x38e)](_0x5cba87(0x83b))['forEach'](_0xd73766=>_0xd73766[_0x5cba87(0xcc8)]()),_0x5996e5[_0x5cba87(0x38e)](_0x5cba87(0xaf2))[_0x5cba87(0x39f)](_0x5d356f=>{const _0x39eca3=_0x5cba87;_0x5d356f[_0x39eca3(0x360)][_0x39eca3(0xcc8)]('draggable-text'),_0x5d356f[_0x39eca3(0x6dc)][_0x39eca3(0xb55)]=_0x39eca3(0x700);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x194887){const _0x56bf97=_0x2bcb18,_0x167ef4=document[_0x56bf97(0x932)](_0x56bf97(0x546)),_0x48b74c=document[_0x56bf97(0x932)](_0x56bf97(0x7e4));_0x48b74c[_0x56bf97(0xa16)]=_0x56bf97(0xdc3),_0x167ef4['classList'][_0x56bf97(0xcc8)](_0x56bf97(0x2f2));try{const _0x3c4674=doc(db,_0x56bf97(0x6e6)+appId+'/public/data/quizzes',_0x194887),_0x3fbe3a=await getDoc(_0x3c4674);if(!_0x3fbe3a[_0x56bf97(0x7d2)]())throw new Error(_0x56bf97(0x609));currentEditingQuizData={'id':_0x194887,..._0x3fbe3a[_0x56bf97(0x13f)]()},renderQuizEditor(currentEditingQuizData);}catch(_0x27b5eb){console[_0x56bf97(0x1ac)](_0x56bf97(0x487),_0x27b5eb),showMessage(_0x56bf97(0xb8d)),_0x167ef4[_0x56bf97(0x360)][_0x56bf97(0x4a6)](_0x56bf97(0x2f2));}}function renderQuizEditor(_0x2d8b8c){const _0x220af1=_0x2bcb18;document[_0x220af1(0x932)]('editor-quiz-topic')[_0x220af1(0x99c)]=_0x2d8b8c[_0x220af1(0x79c)];const _0x59c9bb=document[_0x220af1(0x932)](_0x220af1(0x7e4));let _0x51ae97=_0x2d8b8c[_0x220af1(0xc46)][_0x220af1(0xe49)]((_0x589a63,_0x47fc3c)=>{const _0x45b4cd=_0x220af1;let _0x26e4cf='';const _0x5083cf=_0x589a63[_0x45b4cd(0x2ed)]||_0x2d8b8c['quizType'],_0x33659b=(_0x5083cf===_0x45b4cd(0xafb)||_0x5083cf==='fill_in_no_choices')&&_0x589a63[_0x45b4cd(0x3e2)]&&_0x589a63[_0x45b4cd(0x3e2)]['length']>0x0;switch(_0x5083cf){case _0x45b4cd(0x47e):const _0x4aabad=(_0x589a63['options']||[])[_0x45b4cd(0xe49)]((_0x2e2383,_0x186f36)=>_0x45b4cd(0xa21)+_0x47fc3c+_0x45b4cd(0xe45)+_0x186f36+'\x22\x20'+(_0x186f36===_0x589a63[_0x45b4cd(0x52a)]?_0x45b4cd(0xc62):'')+_0x45b4cd(0x4f6)+_0x2e2383+_0x45b4cd(0x704))[_0x45b4cd(0xbb2)]('');_0x26e4cf=_0x45b4cd(0xb32)+_0x4aabad+_0x45b4cd(0x6d9);break;case _0x45b4cd(0xceb):case _0x45b4cd(0xafb):_0x26e4cf=_0x45b4cd(0x23d)+(_0x589a63['idealAnswer']||'')+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';if(_0x33659b){const _0xd3f0bf=(_0x589a63[_0x45b4cd(0x3e2)]||[])[_0x45b4cd(0xe49)]((_0x3d890a,_0x137d2c)=>_0x45b4cd(0x840)+_0x47fc3c+'\x22\x20value=\x22'+_0x137d2c+'\x22\x20'+(_0x137d2c===_0x589a63[_0x45b4cd(0x52a)]?'checked':'')+_0x45b4cd(0x6c3)+_0x3d890a+'\x22\x20class=\x22w-full\x20p-1\x20border\x20border-dashed\x20border-gray-400\x20rounded-md\x20bg-gray-50\x20hidden-option-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x45b4cd(0xbb2)]('');_0x26e4cf+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20p-3\x20bg-yellow-50\x20border\x20border-yellow-200\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20mb-2\x20text-yellow-800\x20text-xs\x20font-bold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye-slash\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ตัวเลือกที่ถูกซ่อน\x20(ใช้สำหรับไอเทม\x20\x22เผยตัวเลือก\x22\x20ใน\x20Sync\x20Mode)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22>'+_0xd3f0bf+_0x45b4cd(0xaa6);}break;case'true_false':_0x26e4cf='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0x47fc3c+_0x45b4cd(0x94c)+(_0x589a63[_0x45b4cd(0x8f4)]===!![]?_0x45b4cd(0xc62):'')+'\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0x47fc3c+'\x22\x20value=\x22false\x22\x20'+(_0x589a63[_0x45b4cd(0x8f4)]===![]?'checked':'')+_0x45b4cd(0x766);break;case _0x45b4cd(0xb08):_0x26e4cf=_0x45b4cd(0x382)+(_0x589a63['correctResponse']||'')+_0x45b4cd(0x6f6);break;}let _0x151410=_0x589a63['questionText']||_0x589a63[_0x45b4cd(0x58b)]||'';_0x151410=_0x151410[_0x45b4cd(0xdcc)](/<br\s*\/?>/gi,'\x0a');let _0x5ee9d9='';if(_0x5083cf===_0x45b4cd(0x47e))_0x5ee9d9=_0x45b4cd(0x3ab);else _0x33659b&&(_0x5ee9d9=_0x45b4cd(0xae1));return _0x45b4cd(0x1cd)+_0x47fc3c+'\x22\x20data-q-type=\x22'+_0x5083cf+_0x45b4cd(0x2f1)+_0x5ee9d9+_0x45b4cd(0x6b8)+(_0x47fc3c+0x1)+'\x20('+_0x5083cf+_0x45b4cd(0x1c2)+_0x151410+_0x45b4cd(0xc51)+_0x26e4cf+_0x45b4cd(0x52f);})['join']('');_0x59c9bb[_0x220af1(0xa16)]=_0x51ae97;const _0x1c9e5a=_0x220af1(0x3b4);_0x59c9bb[_0x220af1(0x677)](_0x220af1(0x764),_0x1c9e5a),_0x59c9bb[_0x220af1(0x38e)]('.auto-resize-textarea')[_0x220af1(0x39f)](_0x1403f4=>{const _0x4a115c=_0x220af1;_0x1403f4[_0x4a115c(0x6dc)][_0x4a115c(0x160)]=_0x4a115c(0x2f2),_0x1403f4['style'][_0x4a115c(0x757)]=_0x4a115c(0xb0c),_0x1403f4[_0x4a115c(0xb45)]=0x4;const _0x542bbc=()=>{const _0x1427af=_0x4a115c;_0x1403f4[_0x1427af(0x6dc)]['height']=_0x1427af(0x553),_0x1403f4[_0x1427af(0x6dc)][_0x1427af(0x539)]=_0x1403f4[_0x1427af(0x734)]+'px';};_0x1403f4[_0x4a115c(0x639)](_0x4a115c(0x41a),_0x542bbc),_0x542bbc();}),_0x59c9bb[_0x220af1(0x38e)](_0x220af1(0x90c))[_0x220af1(0x39f)](_0x301e6f=>{_0x301e6f['addEventListener']('click',handleAiFixQuestion);}),_0x59c9bb[_0x220af1(0x38e)](_0x220af1(0x64c))[_0x220af1(0x39f)](_0x29d32b=>{const _0x3a1388=_0x220af1;_0x29d32b[_0x3a1388(0x639)](_0x3a1388(0x164),_0x477d4a=>{const _0x45e525=_0x3a1388,_0x767004=parseInt(_0x477d4a['currentTarget'][_0x45e525(0x1d0)](_0x45e525(0xbb8))[_0x45e525(0x134)][_0x45e525(0xcbf)],0xa);handleAiFixFormula(_0x767004);});}),_0x59c9bb[_0x220af1(0x38e)](_0x220af1(0x197))[_0x220af1(0x39f)](_0x8a6d10=>{const _0x24c885=_0x220af1;_0x8a6d10[_0x24c885(0x639)](_0x24c885(0x164),_0x4bccd9=>{const _0x2feed3=_0x24c885,_0x50f4f4=parseInt(_0x4bccd9[_0x2feed3(0xb7c)]['closest'](_0x2feed3(0xbb8))['dataset']['qIndex'],0xa);handleToggleHiddenOptions(_0x50f4f4);});});}function handleToggleHiddenOptions(_0x41af29){const _0xa45864=_0x2bcb18;if(!currentEditingQuizData||!currentEditingQuizData[_0xa45864(0xc46)][_0x41af29])return;const _0x2e72df=currentEditingQuizData[_0xa45864(0xc46)][_0x41af29],_0x3274a7=_0x2e72df['questionType']||_0xa45864(0x47e),_0x3f8aae=document['querySelector']('.question-editor-item[data-q-index=\x22'+_0x41af29+'\x22]');if(_0x3f8aae){_0x2e72df[_0xa45864(0xca8)]=_0x3f8aae[_0xa45864(0xc60)](_0xa45864(0x353))[_0xa45864(0x99c)];if(_0x3274a7===_0xa45864(0x47e)){const _0x8a6ea7=_0x3f8aae[_0xa45864(0x38e)](_0xa45864(0xdae));_0x2e72df[_0xa45864(0x3e2)]=Array['from'](_0x8a6ea7)[_0xa45864(0xe49)](_0x3716fb=>_0x3716fb[_0xa45864(0x99c)]);const _0x878068=_0x3f8aae['querySelector'](_0xa45864(0x5a5));if(_0x878068)_0x2e72df[_0xa45864(0x52a)]=parseInt(_0x878068[_0xa45864(0x99c)]);}else{if(_0x3274a7===_0xa45864(0xafb)||_0x3274a7==='fill_in_no_choices'){const _0x26ce03=_0x3f8aae[_0xa45864(0xc60)](_0xa45864(0xcdc));if(_0x26ce03)_0x2e72df[_0xa45864(0xbe7)]=_0x26ce03[_0xa45864(0x99c)];const _0xb71019=_0x3f8aae['querySelectorAll'](_0xa45864(0x8b0));_0xb71019[_0xa45864(0x752)]>0x0&&(_0x2e72df[_0xa45864(0x3e2)]=Array['from'](_0xb71019)['map'](_0x1965fc=>_0x1965fc[_0xa45864(0x99c)]));}}}_0x3274a7===_0xa45864(0x47e)?(_0x2e72df[_0xa45864(0x2ed)]='short_answer',_0x2e72df[_0xa45864(0x3e2)]&&_0x2e72df['correctAnswerIndex']!==undefined&&(_0x2e72df[_0xa45864(0xbe7)]=_0x2e72df['options'][_0x2e72df[_0xa45864(0x52a)]]||'')):_0x2e72df[_0xa45864(0x2ed)]=_0xa45864(0x47e),renderQuizEditor(currentEditingQuizData);}function handleDeleteQuestionInEditor(_0x5162ed){const _0x5f52a7=_0x2bcb18;if(!currentEditingQuizData||!currentEditingQuizData[_0x5f52a7(0xc46)][_0x5162ed])return;const _0x54d383=currentEditingQuizData[_0x5f52a7(0xc46)][_0x5162ed][_0x5f52a7(0xca8)]||currentEditingQuizData[_0x5f52a7(0xc46)][_0x5162ed][_0x5f52a7(0x58b)];showConfirmation(_0x5f52a7(0x80d)+(_0x5162ed+0x1)+'\x20(\x22'+_0x54d383[_0x5f52a7(0x3bc)](0x0,0x14)+_0x5f52a7(0x11f),()=>{const _0x9879da=_0x5f52a7;currentEditingQuizData[_0x9879da(0xc46)][_0x9879da(0x2c9)](_0x5162ed,0x1),renderQuizEditor(currentEditingQuizData),showMessage(_0x9879da(0xdd6));});}function handleAddQuestionInEditor(){const _0x8f1928=_0x2bcb18;if(!currentEditingQuizData)return;const _0x3a2471=document['getElementById'](_0x8f1928(0x173)),_0x5a53be=_0x3a2471?_0x3a2471[_0x8f1928(0x99c)]:_0x8f1928(0x47e);let _0x2926fe={'id':'q_'+Date[_0x8f1928(0x18f)]()+_0x8f1928(0x403),'questionType':_0x5a53be,'questionText':_0x8f1928(0xc31),'explanation':_0x8f1928(0xc11)};switch(_0x5a53be){case'multiple_choice':_0x2926fe[_0x8f1928(0x3e2)]=[_0x8f1928(0x9dd),_0x8f1928(0x1a1),_0x8f1928(0x4d0),_0x8f1928(0x636)],_0x2926fe[_0x8f1928(0x52a)]=0x0;break;case _0x8f1928(0xafb):case _0x8f1928(0xceb):_0x2926fe['idealAnswer']=_0x8f1928(0x1e9);break;case _0x8f1928(0x827):_0x2926fe[_0x8f1928(0x8f4)]=!![];break;case'matching_item':_0x2926fe[_0x8f1928(0x58b)]=_0x8f1928(0x955),_0x2926fe[_0x8f1928(0xd79)]=_0x8f1928(0x6b0),_0x2926fe[_0x8f1928(0xca8)]=_0x8f1928(0x955);break;}currentEditingQuizData[_0x8f1928(0xc46)][_0x8f1928(0xe86)](_0x2926fe),renderQuizEditor(currentEditingQuizData),setTimeout(()=>{const _0x1d1738=_0x8f1928,_0x93f02c=document[_0x1d1738(0xc60)](_0x1d1738(0xbfe));if(_0x93f02c){_0x93f02c['scrollIntoView']({'behavior':_0x1d1738(0xe74),'block':_0x1d1738(0xba7)});const _0x1120ea=_0x93f02c['querySelector'](_0x1d1738(0x353));if(_0x1120ea)_0x1120ea['focus']();}},0x64);}async function handleAiFixQuestion(_0x2ba9c0){const _0x1f45ca=_0x2bcb18,_0x489cbd=_0x2ba9c0['currentTarget'],_0x4ca91f=_0x489cbd[_0x1f45ca(0x1d0)]('.question-editor-item');if(!_0x4ca91f)return;const _0x6c4e81=parseInt(_0x4ca91f[_0x1f45ca(0x134)][_0x1f45ca(0xcbf)],0xa);if(isNaN(_0x6c4e81)||!currentEditingQuizData[_0x1f45ca(0xc46)][_0x6c4e81]){showMessage(_0x1f45ca(0x2a5));return;}const _0x1e3c55=currentEditingQuizData['questions'][_0x6c4e81];_0x489cbd[_0x1f45ca(0xa16)]=_0x1f45ca(0xa80),_0x489cbd['disabled']=!![];const _0x2b8ee8=_0x1f45ca(0x900)+JSON[_0x1f45ca(0x692)](_0x1e3c55)+_0x1f45ca(0x59a);let _0x5d7d3f;const _0x21cbc2=_0x1e3c55[_0x1f45ca(0x2ed)]||currentEditingQuizData[_0x1f45ca(0x2de)];switch(_0x21cbc2){case _0x1f45ca(0xafb):_0x5d7d3f={'type':_0x1f45ca(0xde5),'properties':{'questionText':{'type':_0x1f45ca(0x7d8)},'idealAnswer':{'type':'STRING'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x1f45ca(0x7d8)}},'required':[_0x1f45ca(0xca8),'idealAnswer',_0x1f45ca(0xc94)]};break;case _0x1f45ca(0x47e):default:_0x5d7d3f={'type':_0x1f45ca(0xde5),'properties':{'questionText':{'type':_0x1f45ca(0x7d8)},'options':{'type':'ARRAY','items':{'type':_0x1f45ca(0x7d8)}},'correctAnswerIndex':{'type':_0x1f45ca(0xd4c)},'explanation':{'type':_0x1f45ca(0x7d8)},'imageCode':{'type':_0x1f45ca(0x7d8)}},'required':[_0x1f45ca(0xca8),_0x1f45ca(0x3e2),_0x1f45ca(0x52a),_0x1f45ca(0xc94)]};break;}try{let _0x56ab38=await callAnalysisApi(_0x2b8ee8,_0x5d7d3f);_0x56ab38['options']&&Array[_0x1f45ca(0x750)](_0x56ab38[_0x1f45ca(0x3e2)])&&(_0x56ab38[_0x1f45ca(0x3e2)]=_0x56ab38[_0x1f45ca(0x3e2)][_0x1f45ca(0xe49)](_0x758b9a=>typeof _0x758b9a===_0x1f45ca(0x57a)?_0x758b9a['replace'](/S(\s*[\d_]+?\s*)S/g,_0x1f45ca(0x5d7)):_0x758b9a)),_0x1e3c55[_0x1f45ca(0xe40)]&&_0x1e3c55[_0x1f45ca(0xe40)][_0x1f45ca(0xd2e)](_0x1f45ca(0x8e1))&&(_0x56ab38['imageCode']=''),currentEditingQuizData[_0x1f45ca(0xc46)][_0x6c4e81]={..._0x1e3c55,..._0x56ab38},renderQuizEditor(currentEditingQuizData),showMessage(_0x1f45ca(0xb06));}catch(_0x467b6c){console[_0x1f45ca(0x1ac)]('AI\x20Fix\x20Error:',_0x467b6c),showMessage(_0x1f45ca(0x90a)),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0x1aa59d=_0x2bcb18,_0x22ab47=document['getElementById'](_0x1aa59d(0xe8f));_0x22ab47[_0x1aa59d(0xad6)]=!![],_0x22ab47[_0x1aa59d(0xa16)]=_0x1aa59d(0x42c);try{const _0x53c7e3=document[_0x1aa59d(0x932)](_0x1aa59d(0x14e))['value'],_0x5ec400=document['querySelectorAll']('.question-editor-item');let _0x26a4e0=[];const _0x15b5c0=Array['from'](_0x5ec400)['map']((_0xee75b8,_0x474455)=>{const _0x2d3e13=_0x1aa59d,_0x303014=_0xee75b8[_0x2d3e13(0x134)][_0x2d3e13(0x66e)],_0x468632=_0xee75b8[_0x2d3e13(0xc60)]('textarea')['value']['replace'](/\n/g,_0x2d3e13(0x5e9));let _0x58c163={'questionType':_0x303014};const _0x4dcb4e=currentEditingQuizData['questions'][_0x474455]||{};switch(_0x303014){case _0x2d3e13(0x47e):_0x58c163[_0x2d3e13(0xca8)]=_0x468632;const _0x78e94b=_0xee75b8['querySelectorAll'](_0x2d3e13(0xdae));_0x58c163[_0x2d3e13(0x3e2)]=Array[_0x2d3e13(0x337)](_0x78e94b)[_0x2d3e13(0xe49)](_0x10cd31=>_0x10cd31[_0x2d3e13(0x99c)]);const _0x2723dd=_0xee75b8[_0x2d3e13(0xc60)](_0x2d3e13(0x5a5));_0x58c163[_0x2d3e13(0x52a)]=_0x2723dd?parseInt(_0x2723dd[_0x2d3e13(0x99c)]):0x0;break;case _0x2d3e13(0xceb):case _0x2d3e13(0xafb):_0x58c163[_0x2d3e13(0xca8)]=_0x468632,_0x58c163[_0x2d3e13(0xbe7)]=_0xee75b8[_0x2d3e13(0xc60)](_0x2d3e13(0xcdc))[_0x2d3e13(0x99c)];const _0x36016e=_0xee75b8['querySelectorAll']('.hidden-option-input');_0x36016e[_0x2d3e13(0x752)]>0x0?(_0x58c163['options']=Array['from'](_0x36016e)[_0x2d3e13(0xe49)](_0x342896=>_0x342896['value']),_0x4dcb4e[_0x2d3e13(0x52a)]!==undefined?_0x58c163['correctAnswerIndex']=_0x4dcb4e[_0x2d3e13(0x52a)]:_0x58c163[_0x2d3e13(0x52a)]=0x0):(delete _0x58c163[_0x2d3e13(0x3e2)],delete _0x58c163[_0x2d3e13(0x52a)]);break;case _0x2d3e13(0x827):_0x58c163['questionText']=_0x468632;const _0x4cb490=_0xee75b8[_0x2d3e13(0xc60)](_0x2d3e13(0x5a5));_0x58c163[_0x2d3e13(0x8f4)]=_0x4cb490?_0x4cb490[_0x2d3e13(0x99c)]===_0x2d3e13(0x1b2):!![];break;case _0x2d3e13(0xb08):_0x58c163[_0x2d3e13(0x58b)]=_0x468632;const _0x56d3b3=_0xee75b8['querySelector'](_0x2d3e13(0x70b));_0x58c163[_0x2d3e13(0xd79)]=_0x56d3b3?_0x56d3b3[_0x2d3e13(0x99c)]:'',_0x26a4e0['push'](_0x58c163[_0x2d3e13(0xd79)]);break;default:_0x58c163[_0x2d3e13(0xca8)]=_0x468632;break;}return{..._0x4dcb4e,..._0x58c163};});_0x26a4e0[_0x1aa59d(0x752)]>0x0&&_0x15b5c0['forEach'](_0x4a27e1=>{const _0x2e7d97=_0x1aa59d;_0x4a27e1[_0x2e7d97(0x2ed)]===_0x2e7d97(0xb08)&&(_0x4a27e1['allResponses']=_0x26a4e0);});const _0x3e6191=currentEditingQuizData['id'],_0x3654be=doc(db,_0x1aa59d(0x6e6)+appId+'/public/data/quizzes',_0x3e6191);await updateDoc(_0x3654be,{'topic':_0x53c7e3,'questions':_0x15b5c0}),document['getElementById'](_0x1aa59d(0x546))[_0x1aa59d(0x360)][_0x1aa59d(0x4a6)]('hidden'),showMessage(_0x1aa59d(0xe59),()=>initiateReGradeProcess(_0x3e6191));}catch(_0x16052e){console[_0x1aa59d(0x1ac)](_0x1aa59d(0x709),_0x16052e),showMessage(_0x1aa59d(0x5ae));}finally{_0x22ab47['disabled']=![],_0x22ab47[_0x1aa59d(0xa16)]='<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข';}}async function initiateReGradeProcess(_0x5edfeb){const _0xee9424=_0x2bcb18;showMessage('กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่');try{const _0xa285fc=doc(db,_0xee9424(0x6e6)+appId+'/public/data/quizzes',_0x5edfeb),_0x1895b9=await getDoc(_0xa285fc);if(!_0x1895b9['exists']())throw new Error(_0xee9424(0xd90));const _0x189e0f={'id':_0x5edfeb,..._0x1895b9[_0xee9424(0x13f)]()},_0x4c12a0=collection(db,_0xee9424(0x6e6)+appId+_0xee9424(0x993),_0x5edfeb,_0xee9424(0x7fd)),_0x3b11e5=await getDocs(_0x4c12a0);if(_0x3b11e5[_0xee9424(0xab2)]){showMessage(_0xee9424(0x8ac));return;}const _0x7ec9df=_0x3b11e5['docs']['map'](_0x5ab8c7=>reGradeSingleSubmission(_0x5ab8c7,_0x189e0f));await Promise['all'](_0x7ec9df);if(_0x189e0f['projectId']){const _0x251f71=doc(db,_0xee9424(0x6e6)+appId+'/public/data/projects',_0x189e0f[_0xee9424(0xc80)]),_0x449425=await getDoc(_0x251f71);if(_0x449425[_0xee9424(0x7d2)]()&&_0x449425[_0xee9424(0x13f)]()[_0xee9424(0x950)]){const _0x806609=_0x449425[_0xee9424(0x13f)]()['students'][_0xee9424(0xe49)](_0x1c7538=>updateStudentProfile(_0x189e0f[_0xee9424(0xc80)],_0x1c7538));await Promise[_0xee9424(0x6b3)](_0x806609);}}showMessage(_0xee9424(0x25b)+_0x3b11e5[_0xee9424(0x6a2)]+_0xee9424(0x769));}catch(_0x542d90){console['error']('Re-grade\x20process\x20failed:',_0x542d90),showMessage(_0xee9424(0xdf1)+_0x542d90[_0xee9424(0x523)]);}}async function reGradeSingleSubmission(_0x52c71b,_0x4f8d7b){const _0x67d2f8=_0x2bcb18,_0x372260=_0x52c71b[_0x67d2f8(0x13f)](),_0x107199=_0x372260[_0x67d2f8(0xad2)],_0x56060a=_0x372260[_0x67d2f8(0xa66)]||[],_0x3630c8=[];for(const _0x43a78e of _0x56060a){let _0x3920be=0x0,_0x1031e0=[],_0x4cb850=0x0;const _0x2d5418=[];for(const _0x26745d of _0x43a78e['answers']){let _0x5bf897;_0x26745d['questionId']&&(_0x5bf897=_0x4f8d7b[_0x67d2f8(0xc46)][_0x67d2f8(0x7a3)](_0x32e606=>_0x32e606['id']===_0x26745d[_0x67d2f8(0x5ca)]));!_0x5bf897&&_0x26745d[_0x67d2f8(0x870)]&&(_0x5bf897=_0x4f8d7b[_0x67d2f8(0xc46)][_0x67d2f8(0x7a3)](_0x2b9d6f=>(_0x2b9d6f[_0x67d2f8(0x58b)]||_0x2b9d6f[_0x67d2f8(0xca8)])===_0x26745d['originalQuestionText']));let _0xc9dccd=![];if(_0x5bf897){const _0x134789=_0x5bf897[_0x67d2f8(0x2ed)]||_0x4f8d7b[_0x67d2f8(0x2de)];switch(_0x134789){case _0x67d2f8(0x47e):if(_0x5bf897[_0x67d2f8(0x3e2)]&&_0x5bf897[_0x67d2f8(0x52a)]<_0x5bf897[_0x67d2f8(0x3e2)][_0x67d2f8(0x752)]){const _0x20710a=_0x5bf897[_0x67d2f8(0x3e2)][_0x5bf897[_0x67d2f8(0x52a)]];_0xc9dccd=_0x26745d[_0x67d2f8(0x8f1)]===_0x20710a;}break;case _0x67d2f8(0x827):const _0x37d64=_0x26745d[_0x67d2f8(0x328)]===!![]||_0x26745d[_0x67d2f8(0x328)]===_0x67d2f8(0x1b2);_0xc9dccd=_0x37d64===_0x5bf897['correctAnswer'];break;case _0x67d2f8(0xb08):_0xc9dccd=_0x26745d[_0x67d2f8(0x328)]===_0x5bf897[_0x67d2f8(0xd79)];break;case'short_answer':_0xc9dccd=await gradeShortAnswer(_0x26745d[_0x67d2f8(0x328)],_0x5bf897);break;default:_0xc9dccd=_0x26745d[_0x67d2f8(0x129)];break;}}if(_0xc9dccd){_0x3920be++,_0x4cb850++;if(_0x4cb850===0x3)_0x1031e0['push'](BADGES[_0x67d2f8(0x570)]['id']);}else _0x4cb850=0x0;_0x2d5418[_0x67d2f8(0xe86)]({..._0x26745d,'isCorrect':_0xc9dccd});}let _0x443a5a=0x0;const _0x22724b=_0x43a78e[_0x67d2f8(0x4b9)]===!![]||_0x43a78e[_0x67d2f8(0xc6a)]>_0x4f8d7b[_0x67d2f8(0xc46)]['length']*0x14;_0x22724b?_0x443a5a=_0x43a78e[_0x67d2f8(0xc6a)]:(_0x443a5a=_0x3920be*0xa,_0x3920be===_0x4f8d7b[_0x67d2f8(0xc46)]['length']&&(_0x443a5a+=0x32,_0x1031e0['push'](BADGES['PERFECT_SCORE']['id']))),_0x3630c8[_0x67d2f8(0xe86)]({..._0x43a78e,'score':_0x3920be,'points':_0x443a5a,'badges':Array[_0x67d2f8(0x337)](new Set(_0x1031e0)),'answers':_0x2d5418});}const _0x1c2a10=_0x3630c8[_0x67d2f8(0x752)]>0x0?_0x3630c8[0x0][_0x67d2f8(0x853)]:0x0,_0x53f896=Math[_0x67d2f8(0x824)](..._0x3630c8[_0x67d2f8(0xe49)](_0x41f1c2=>_0x41f1c2[_0x67d2f8(0x853)])),_0x359e29=_0x3630c8['length']>0x0?_0x3630c8[_0x3630c8[_0x67d2f8(0x752)]-0x1][_0x67d2f8(0x853)]:0x0,_0x206b25=_0x3630c8[_0x67d2f8(0x752)]>0x0?_0x3630c8[_0x3630c8['length']-0x1][_0x67d2f8(0xc6a)]:0x0,_0x21bdf2=doc(db,_0x67d2f8(0x6e6)+appId+'/public/data/quizzes/'+_0x4f8d7b['id']+'/submissions',_0x107199);await updateDoc(_0x21bdf2,{'attempts':_0x3630c8,'firstScore':_0x1c2a10,'bestScore':_0x53f896,'latestScore':_0x359e29,'points':_0x206b25});}function cleanupQuizOptions(_0x53b00b){const _0x14d319=_0x2bcb18,_0x3f1dd6=(_0x26d6cc,_0x258f0c)=>_0x258f0c===0x0?_0x26d6cc:_0x3f1dd6(_0x258f0c,_0x26d6cc%_0x258f0c),_0x16d542=_0x1a7326=>{const _0x351622=_0x63b3;if(typeof _0x1a7326!=='string')return null;_0x1a7326=_0x1a7326['trim']();const _0x11d717=_0x1a7326[_0x351622(0x664)](/[ /]/)[_0x351622(0x9a7)](_0xc0d8c4=>_0xc0d8c4!=='');if(_0x11d717[_0x351622(0x752)]===0x3)return parseInt(_0x11d717[0x0])+parseInt(_0x11d717[0x1])/parseInt(_0x11d717[0x2]);else{if(_0x11d717[_0x351622(0x752)]===0x2)return parseInt(_0x11d717[0x0])/parseInt(_0x11d717[0x1]);else{if(_0x11d717[_0x351622(0x752)]===0x1&&!isNaN(_0x11d717[0x0]))return parseFloat(_0x11d717[0x0]);}}return null;},_0x400c13=_0x32c6d6=>{const _0x1a5208=_0x63b3;if(typeof _0x32c6d6!=='string')return _0x32c6d6;const _0x644e58=_0x32c6d6['match'](/(\d+)\s+(\d+)\/(\d+)/);if(_0x644e58){const _0xc85e26=parseInt(_0x644e58[0x1]);let _0x293b9a=parseInt(_0x644e58[0x2]),_0x5172a4=parseInt(_0x644e58[0x3]);const _0x233503=_0x3f1dd6(_0x293b9a,_0x5172a4);_0x293b9a/=_0x233503,_0x5172a4/=_0x233503;if(_0x5172a4===0x1)return(_0xc85e26+_0x293b9a)[_0x1a5208(0xdcb)]();return _0xc85e26+'\x20'+_0x293b9a+'/'+_0x5172a4;}return _0x32c6d6;};return _0x53b00b&&_0x53b00b[_0x14d319(0xc46)]&&_0x53b00b[_0x14d319(0xc46)]['forEach'](_0x222897=>{const _0x2db448=_0x14d319;if(_0x222897[_0x2db448(0x2ed)]===_0x2db448(0x47e)&&_0x222897[_0x2db448(0x3e2)]){const _0x2a6693=new Map(),_0x4cb52f=_0x222897['options'][_0x222897['correctAnswerIndex']];_0x222897[_0x2db448(0x3e2)][_0x2db448(0x39f)](_0x418d33=>{const _0x58976e=_0x2db448,_0x28ba6a=_0x400c13(_0x418d33),_0x1bb520=_0x16d542(_0x28ba6a);_0x1bb520!==null&&!_0x2a6693['has'](_0x1bb520)&&_0x2a6693[_0x58976e(0xb84)](_0x1bb520,_0x28ba6a);}),_0x222897[_0x2db448(0x3e2)]=Array[_0x2db448(0x337)](_0x2a6693[_0x2db448(0x282)]());const _0x183ad6=_0x222897[_0x2db448(0x3e2)][_0x2db448(0x2b7)](_0x256a7c=>_0x256a7c===_0x400c13(_0x4cb52f));_0x222897[_0x2db448(0x52a)]=_0x183ad6!==-0x1?_0x183ad6:0x0;}}),_0x53b00b;}function showGameStartConfirmationModal(_0x1ec3c0,_0x3c704b,_0x4560e8){const _0x53498b=_0x2bcb18,_0x29c91f=document[_0x53498b(0x932)](_0x53498b(0x9ae));document[_0x53498b(0x932)](_0x53498b(0x78a))['textContent']=_0x53498b(0x5f9)+_0x4560e8,document[_0x53498b(0x932)](_0x53498b(0xa62))[_0x53498b(0x99c)]=_0x1ec3c0,document[_0x53498b(0x932)](_0x53498b(0x509))['value']=_0x3c704b,document[_0x53498b(0x932)](_0x53498b(0xe90))[_0x53498b(0xc62)]=!![];const _0x3748e7=document['getElementById'](_0x53498b(0x5f1)),_0x12aea8=document[_0x53498b(0x932)]('sync-timer-enable-checkbox'),_0x41abf4=document[_0x53498b(0x932)](_0x53498b(0x5b8)),_0x567d2e=document['getElementById'](_0x53498b(0x643)),_0x127138=document[_0x53498b(0x932)](_0x53498b(0x66d));if(_0x3c704b==='sync'){_0x3748e7['classList']['remove']('hidden');const _0x2480d5='anonymous';document[_0x53498b(0xc60)](_0x53498b(0x1da)+_0x2480d5+'\x22]')[_0x53498b(0xc62)]=!![];if(_0x127138)_0x127138[_0x53498b(0x360)][_0x53498b(0xcc8)](_0x53498b(0x2f2));_0x12aea8[_0x53498b(0xc62)]=!![],_0x41abf4[_0x53498b(0x360)][_0x53498b(0xcc8)](_0x53498b(0x2f2)),document['getElementById'](_0x53498b(0x976))['value']='300',_0x567d2e[_0x53498b(0x360)]['remove']('hidden'),document['getElementById'](_0x53498b(0x4a8))[_0x53498b(0xc62)]=!![];}else{_0x3748e7[_0x53498b(0x360)][_0x53498b(0x4a6)](_0x53498b(0x2f2));if(_0x127138)_0x127138['classList']['add'](_0x53498b(0x2f2));_0x12aea8[_0x53498b(0xc62)]=![],_0x41abf4[_0x53498b(0x360)][_0x53498b(0x4a6)]('hidden'),_0x567d2e[_0x53498b(0x360)]['add'](_0x53498b(0x2f2));}_0x29c91f['classList']['remove'](_0x53498b(0x2f2));}async function saveGameResultsAsSubmissions(_0x1c97bd){const _0x39c1f6=_0x2bcb18;if(_0x1c97bd[_0x39c1f6(0x3dc)]){console[_0x39c1f6(0x273)]('Game\x20results\x20already\x20saved.\x20Skipping.');return;}console['log'](_0x39c1f6(0x828),_0x1c97bd);const _0x3fac9f=_0x1c97bd['quizId'];let _0x6def6=[];if(_0x1c97bd['players'])_0x6def6=Object[_0x39c1f6(0xd16)](_0x1c97bd[_0x39c1f6(0x18b)])[_0x39c1f6(0xe49)](([_0x4813f6,_0x43b46c])=>({'name':_0x4813f6,..._0x43b46c}));else _0x1c97bd[_0x39c1f6(0xd56)]&&Object[_0x39c1f6(0x282)](_0x1c97bd[_0x39c1f6(0xd56)])[_0x39c1f6(0x39f)](_0x17c616=>{const _0x39978e=_0x39c1f6;_0x17c616['members'][_0x39978e(0x39f)](_0x1bc198=>{const _0x231361=_0x39978e;_0x6def6[_0x231361(0xe86)]({'name':_0x1bc198,'score':_0x17c616[_0x231361(0x853)],'answers':_0x17c616['answers']});});});if(_0x6def6['length']===0x0)return;const _0x1ad7e9=_0x1c97bd[_0x39c1f6(0x450)]?.[_0x39c1f6(0xc46)][_0x39c1f6(0x752)]||currentQuizData[_0x39c1f6(0xc46)][_0x39c1f6(0x752)],_0x220a08=writeBatch(db),_0x3c4ecb=_0x1c97bd[_0x39c1f6(0x450)]?.[_0x39c1f6(0xc80)]||currentQuizData?.[_0x39c1f6(0xc80)]||currentProjectId,_0x50f9a7={};for(const _0x4dfc5e of _0x6def6){const _0x107f77=doc(db,_0x39c1f6(0x6e6)+appId+'/public/data/quizzes/'+_0x3fac9f+'/submissions',_0x4dfc5e[_0x39c1f6(0x34a)]),_0x291bbd=(_0x4dfc5e['answers']||[])[_0x39c1f6(0x9a7)](_0x4b4b3b=>_0x4b4b3b[_0x39c1f6(0x129)])[_0x39c1f6(0x752)];let _0x58b652=_0x4dfc5e[_0x39c1f6(0xd68)]!==undefined?_0x4dfc5e[_0x39c1f6(0xd68)]:_0x291bbd,_0x340f86=_0x4dfc5e[_0x39c1f6(0x17f)]||[];if(_0x291bbd===_0x1ad7e9&&_0x1ad7e9>0x0){if(!_0x340f86[_0x39c1f6(0xd2e)](_0x39c1f6(0x91b)))_0x340f86[_0x39c1f6(0xe86)](_0x39c1f6(0x91b));}const _0x18bb31={'score':_0x291bbd,'points':_0x58b652,'badges':_0x340f86,'submittedAt':new Date()['toISOString'](),'isSyncGame':!![],'answers':(_0x4dfc5e[_0x39c1f6(0x8c5)]||[])[_0x39c1f6(0xe49)](_0x197d07=>({'questionId':_0x197d07[_0x39c1f6(0x5ca)],'answer':_0x197d07['answer'],'answerText':_0x197d07[_0x39c1f6(0x8f1)],'isCorrect':_0x197d07['isCorrect'],'originalQuestionText':_0x197d07[_0x39c1f6(0x870)],'wasConfident':_0x197d07['wasConfident'],'powerupUsed':_0x197d07[_0x39c1f6(0xd15)]||null}))},_0x22ad0e=await getDoc(_0x107f77),_0x1e03ad=_0x22ad0e[_0x39c1f6(0x7d2)]()?_0x22ad0e[_0x39c1f6(0x13f)]():{},_0x92f7af=_0x1e03ad['points']||0x0;let _0x52f098=0x0;_0x58b652>_0x92f7af&&(_0x52f098=_0x58b652-_0x92f7af);const _0x2b7053={'studentName':_0x4dfc5e[_0x39c1f6(0x34a)],'totalQuestions':_0x1ad7e9,'attempts':arrayUnion(_0x18bb31),'latestScore':_0x291bbd,'points':Math[_0x39c1f6(0x824)](_0x92f7af,_0x58b652),'latestSubmittedAt':_0x18bb31['submittedAt'],'bestScore':Math[_0x39c1f6(0x824)](_0x1e03ad[_0x39c1f6(0x20f)]||0x0,_0x291bbd),'firstScore':_0x1e03ad[_0x39c1f6(0x24d)]!==undefined?_0x1e03ad[_0x39c1f6(0x24d)]:_0x291bbd};_0x220a08[_0x39c1f6(0xb84)](_0x107f77,_0x2b7053,{'merge':!![]}),_0x3c4ecb&&(!_0x50f9a7[_0x4dfc5e[_0x39c1f6(0x34a)]]&&(_0x50f9a7[_0x4dfc5e[_0x39c1f6(0x34a)]]={'pointsToAdd':0x0,'badgesToAdd':[]}),_0x50f9a7[_0x4dfc5e['name']][_0x39c1f6(0xd26)]+=_0x52f098,_0x340f86[_0x39c1f6(0x39f)](_0x334894=>{const _0x46055c=_0x39c1f6;_0x50f9a7[_0x4dfc5e[_0x46055c(0x34a)]][_0x46055c(0x7d3)][_0x46055c(0xe86)](_0x334894);}));}if(_0x3c4ecb)for(const [_0x2bc5a8,_0x5d2876]of Object[_0x39c1f6(0xd16)](_0x50f9a7)){if(_0x5d2876[_0x39c1f6(0xd26)]>0x0||_0x5d2876['badgesToAdd'][_0x39c1f6(0x752)]>0x0){const _0x2121ab=doc(db,_0x39c1f6(0x6e6)+appId+_0x39c1f6(0x3c5)+_0x3c4ecb+_0x39c1f6(0xd5c),_0x2bc5a8),_0x36a61f={'studentName':_0x2bc5a8,'totalPoints':increment(_0x5d2876[_0x39c1f6(0xd26)])};_0x5d2876[_0x39c1f6(0x7d3)][_0x39c1f6(0x39f)](_0x1210f4=>{_0x36a61f['badgesCount.'+_0x1210f4]=increment(0x1);}),_0x220a08[_0x39c1f6(0xb84)](_0x2121ab,_0x36a61f,{'merge':!![]});}}try{if(currentLiveGameId){const _0x2827e6=doc(db,'artifacts/'+appId+_0x39c1f6(0x2ef),currentLiveGameId);_0x220a08[_0x39c1f6(0xbe3)](_0x2827e6,{'resultsSaved':!![]});}await _0x220a08[_0x39c1f6(0x6fc)](),console[_0x39c1f6(0x273)](_0x39c1f6(0x6b6)),showMessage(_0x39c1f6(0xc76));}catch(_0x5ddc10){console[_0x39c1f6(0x1ac)](_0x39c1f6(0x3ad),_0x5ddc10),showMessage(_0x39c1f6(0x91f));}}async function saveQuiz(_0x192027=null,_0x44ad3d=null){const _0x496aa3=_0x2bcb18,_0x4c2202=_0x192027||currentProjectId;if(!_0x4c2202){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData[_0x496aa3(0xc46)]||!userId){showMessage('ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้');return;}const _0x5f4963=document[_0x496aa3(0x932)](_0x496aa3(0xe60));_0x5f4963[_0x496aa3(0xad6)]=!![],_0x5f4963['innerHTML']=_0x496aa3(0x42c);const _0x4159b1=document[_0x496aa3(0x932)](_0x496aa3(0x962))[_0x496aa3(0xc62)];let _0x8998fb=document[_0x496aa3(0x932)](_0x496aa3(0x51c))[_0x496aa3(0x6ad)]['trim']();_0x4159b1&&!_0x8998fb[_0x496aa3(0x646)]('(ก่อนเรียน)')&&(_0x8998fb=_0x496aa3(0xdfb)+_0x8998fb);try{const _0x31275f={'resultsDisplay':document[_0x496aa3(0x932)]('results-display-select')[_0x496aa3(0x99c)],'shuffle':document[_0x496aa3(0x932)](_0x496aa3(0x9da))[_0x496aa3(0x99c)],'timerMode':document['getElementById'](_0x496aa3(0x41b))['value'],'timerDuration':parseInt(document[_0x496aa3(0x932)](_0x496aa3(0x760))['value'])||0xa,'passingScore':parseInt(document[_0x496aa3(0x932)](_0x496aa3(0xbd3))[_0x496aa3(0x99c)])||0x0,'isAdaptive':document['getElementById'](_0x496aa3(0x997))[_0x496aa3(0xc62)],'loopUntilPass':document[_0x496aa3(0x932)](_0x496aa3(0x845))[_0x496aa3(0xc62)]},_0x478544=(currentQuizData[_0x496aa3(0xc46)]||[])[_0x496aa3(0xe49)]((_0x1b8b08,_0x2ebfc4)=>{const _0x293777=_0x496aa3,_0x581eaa=document[_0x293777(0x932)](_0x293777(0x5bb))[_0x293777(0x99c)],_0x530c91={'id':'q_'+Date[_0x293777(0x18f)]()+'_'+_0x2ebfc4,'questionText':_0x1b8b08[_0x293777(0xca8)]||'','explanation':_0x1b8b08['explanation']||_0x293777(0x540),'questionType':_0x1b8b08[_0x293777(0x2ed)]||_0x581eaa,'imageCode':_0x1b8b08[_0x293777(0xe40)]||null};return(_0x530c91[_0x293777(0x2ed)]===_0x293777(0x47e)||_0x530c91[_0x293777(0x2ed)]===_0x293777(0xa65)||_0x530c91[_0x293777(0x2ed)]===_0x293777(0x7aa)&&_0x1b8b08[_0x293777(0x3e2)])&&(_0x530c91['options']=_0x1b8b08[_0x293777(0x3e2)]||[],_0x530c91[_0x293777(0x52a)]=_0x1b8b08[_0x293777(0x52a)]!==undefined?_0x1b8b08[_0x293777(0x52a)]:0x0),(_0x530c91[_0x293777(0x2ed)]==='short_answer'||_0x530c91[_0x293777(0x2ed)]===_0x293777(0xceb)||_0x530c91[_0x293777(0x2ed)]==='mixed'&&_0x1b8b08[_0x293777(0xbe7)])&&(_0x530c91[_0x293777(0xbe7)]=_0x1b8b08[_0x293777(0xbe7)]||''),_0x530c91[_0x293777(0x2ed)]===_0x293777(0x827)&&(_0x530c91[_0x293777(0x8f4)]=_0x1b8b08['correctAnswer']===!![]),_0x530c91[_0x293777(0x2ed)]===_0x293777(0xb08)&&(_0x530c91['stem']=_0x1b8b08[_0x293777(0x58b)]||'',_0x530c91[_0x293777(0xd79)]=_0x1b8b08['correctResponse']||'',_0x530c91[_0x293777(0x66a)]=_0x1b8b08[_0x293777(0x66a)]||[]),_0x530c91;}),_0x5029fd={'topic':_0x8998fb,'quizType':currentQuizData[_0x496aa3(0x2de)]||_0x496aa3(0x47e),'questions':_0x478544,'projectId':_0x4c2202,'createdBy':userId,'createdAt':new Date()['toISOString'](),'status':_0x496aa3(0x76a),'settings':_0x31275f,'quizMode':_0x4159b1?'pre-test':_0x496aa3(0x7ee),'pairedQuizId':null,'lessonPlan':null};let _0x226c25;while(!![]){_0x226c25=Math[_0x496aa3(0x4cf)](0x3e8+Math[_0x496aa3(0xbad)]()*0x2328)[_0x496aa3(0xdcb)]();const _0x27b267=await getDoc(doc(db,'artifacts/'+appId+_0x496aa3(0x993),_0x226c25));if(!_0x27b267['exists']())break;}await setDoc(doc(db,_0x496aa3(0x6e6)+appId+'/public/data/quizzes',_0x226c25),_0x5029fd);if(_0x44ad3d&&currentBlueprintProjectId){console[_0x496aa3(0x273)](_0x496aa3(0xe66)+_0x226c25+_0x496aa3(0x3a1)+_0x44ad3d);try{const _0x2c6d9e=doc(db,_0x496aa3(0x6e6)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0x2c6d9e,{[_0x496aa3(0x405)+_0x44ad3d+_0x496aa3(0x663)]:arrayUnion(_0x226c25)});}catch(_0x1c69c1){console[_0x496aa3(0x1ac)](_0x496aa3(0xd65),_0x1c69c1);}}currentQuizData[_0x496aa3(0x6ce)]=_0x31275f,currentQuizData['id']=_0x226c25;const _0x362754=document[_0x496aa3(0x932)](_0x496aa3(0x370));_0x362754['innerHTML']=_0x496aa3(0xba2)+_0x226c25+'</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',document['getElementById'](_0x496aa3(0x908))[_0x496aa3(0x639)]('click',()=>copyTextToClipboard(_0x226c25,_0x496aa3(0x425))),document[_0x496aa3(0x932)](_0x496aa3(0x775))[_0x496aa3(0x639)](_0x496aa3(0x164),()=>handleStartLiveRace(_0x226c25)),document['getElementById'](_0x496aa3(0x502))[_0x496aa3(0x639)](_0x496aa3(0x164),()=>startPresentation(currentQuizData)),document[_0x496aa3(0x932)](_0x496aa3(0xaa8))['addEventListener'](_0x496aa3(0x164),startAdminTest),showMessage(_0x496aa3(0xd78));}catch(_0x3875e5){console[_0x496aa3(0x1ac)]('Error\x20saving\x20quiz:',_0x3875e5),showMessage(_0x496aa3(0x34d));}finally{_0x5f4963[_0x496aa3(0xad6)]=![],_0x5f4963[_0x496aa3(0xa16)]=_0x496aa3(0xcc0);}}function promptForProjectAndSave(){const _0x1bdf3d=_0x2bcb18,_0x163b8b=document[_0x1bdf3d(0x932)]('move-quiz-modal'),_0x5b6c1a=document[_0x1bdf3d(0x932)](_0x1bdf3d(0x2d2)),_0x329194=_0x163b8b['querySelector']('h3'),_0x56ba3b=document[_0x1bdf3d(0x932)]('confirm-move-quiz-btn');_0x329194['textContent']=_0x1bdf3d(0xb18),_0x56ba3b['textContent']=_0x1bdf3d(0x92f);allProjects[_0x1bdf3d(0x752)]===0x0?(_0x5b6c1a[_0x1bdf3d(0xa16)]=_0x1bdf3d(0x81b),_0x56ba3b[_0x1bdf3d(0xad6)]=!![]):(_0x5b6c1a['innerHTML']=allProjects[_0x1bdf3d(0xe49)](_0x25323e=>_0x1bdf3d(0x1bd)+_0x25323e['id']+'\x22>'+_0x25323e[_0x1bdf3d(0x1cc)]+_0x1bdf3d(0x194))[_0x1bdf3d(0xbb2)](''),_0x56ba3b[_0x1bdf3d(0xad6)]=![]);_0x163b8b[_0x1bdf3d(0x360)][_0x1bdf3d(0xcc8)](_0x1bdf3d(0x2f2));const _0x7537a2=()=>{const _0x42879d=_0x1bdf3d,_0xf35f6f=_0x5b6c1a[_0x42879d(0x99c)];_0xf35f6f?(currentProjectId=_0xf35f6f,_0x163b8b['classList'][_0x42879d(0x4a6)](_0x42879d(0x2f2)),saveQuiz(),_0x329194[_0x42879d(0xdec)]=_0x42879d(0x554),_0x56ba3b[_0x42879d(0xdec)]=_0x42879d(0xddc),_0x56ba3b['removeEventListener'](_0x42879d(0x164),_0x7537a2),_0x56ba3b[_0x42879d(0x639)](_0x42879d(0x164),confirmMoveQuiz)):showMessage(_0x42879d(0x6a5));};_0x56ba3b[_0x1bdf3d(0x9c9)](_0x1bdf3d(0x164),confirmMoveQuiz),_0x56ba3b['addEventListener']('click',_0x7537a2);}function copyTextToClipboard(_0x3ca99d,_0x19f049){const _0x3183c4=_0x2bcb18,_0x269be9=document[_0x3183c4(0xc95)]('textarea');_0x269be9['value']=_0x3ca99d,_0x269be9['style'][_0x3183c4(0xce8)]=_0x3183c4(0x9a8),_0x269be9[_0x3183c4(0x6dc)][_0x3183c4(0xc84)]='0',document[_0x3183c4(0x6ac)][_0x3183c4(0xce0)](_0x269be9),_0x269be9['focus'](),_0x269be9[_0x3183c4(0x2fd)]();try{const _0x137885=document['execCommand'](_0x3183c4(0xc35));showMessage(_0x137885?_0x19f049:_0x3183c4(0xbff));}catch(_0x184b9d){showMessage(_0x3183c4(0xbff)),console['error']('Copy\x20command\x20failed',_0x184b9d);}document['body'][_0x3183c4(0xb63)](_0x269be9);}function listenForProjectQuizzes(_0x8e112c){const _0x2d76d8=_0x2bcb18,_0x1a2338=collection(db,_0x2d76d8(0x6e6)+appId+'/public/data/quizzes'),_0x1fe4d0=query(_0x1a2338,where(_0x2d76d8(0xc80),'==',_0x8e112c));unsubscribeQuizzesListener=onSnapshot(_0x1fe4d0,async _0x307c5b=>{const _0x171b90=_0x2d76d8;allQuizzes=_0x307c5b[_0x171b90(0x9ef)][_0x171b90(0xe49)](_0x4e764f=>({'id':_0x4e764f['id'],..._0x4e764f['data']()})),renderQuizzes();},_0x4a0c57=>{const _0x29dff2=_0x2d76d8;console['error'](_0x29dff2(0x7b2),_0x4a0c57),document[_0x29dff2(0x932)](_0x29dff2(0xdd2))[_0x29dff2(0xa16)]=_0x29dff2(0x873);});}async function renderQuizzes(){const _0x4dc682=_0x2bcb18,_0x102f25=document[_0x4dc682(0x932)](_0x4dc682(0xdd2)),_0x2fdbe4=document[_0x4dc682(0x932)]('quiz-search-input')['value'][_0x4dc682(0x4ea)]();let _0xb2fdcf;currentProjectId===_0x4dc682(0x483)?_0xb2fdcf=starredQuizzes:_0xb2fdcf=allQuizzes;let _0x897cdc=_0xb2fdcf[_0x4dc682(0x9a7)](_0x37ff0f=>_0x37ff0f[_0x4dc682(0x79c)][_0x4dc682(0x4ea)]()[_0x4dc682(0xd2e)](_0x2fdbe4));_0x897cdc[_0x4dc682(0x41f)]((_0xcb1c4e,_0x14eea7)=>new Date(_0x14eea7['createdAt'])-new Date(_0xcb1c4e[_0x4dc682(0xcc3)]));if(_0x897cdc[_0x4dc682(0x752)]===0x0){_0x102f25[_0x4dc682(0xa16)]=_0x4dc682(0x1b8);return;}const _0x4ad6e6={},_0x2c84e4=_0x897cdc[_0x4dc682(0xe49)](async _0x205d18=>{const _0x45b937=_0x4dc682,_0x13c8dc=collection(db,'artifacts/'+appId+_0x45b937(0x133)+_0x205d18['id']+_0x45b937(0x2f0)),_0x4a6227=await getCountFromServer(_0x13c8dc);_0x4ad6e6[_0x205d18['id']]=_0x4a6227[_0x45b937(0x13f)]()[_0x45b937(0x720)];});await Promise['all'](_0x2c84e4);let _0x35b612='';_0x897cdc['forEach'](_0x50527f=>{const _0x381fd8=_0x4dc682,_0x13761d=_0x4ad6e6[_0x50527f['id']]||0x0,_0x1766db=_0x50527f[_0x381fd8(0x1f8)]||_0x381fd8(0x76a),_0x33a470=_0x50527f[_0x381fd8(0x6ce)]?.['timerMode']||_0x381fd8(0x7dc);let _0x45f7ce='',_0x3ed6c3='';const _0x20970a=new Date();let _0x44a8f7=_0x1766db;if(_0x1766db===_0x381fd8(0x7f6)){const _0x44a98a=_0x50527f[_0x381fd8(0x4f1)]?new Date(_0x50527f['startTime']):null,_0x4fe88b=_0x50527f['endTime']?new Date(_0x50527f[_0x381fd8(0x9e0)]):null;if(_0x4fe88b&&_0x20970a>_0x4fe88b)_0x44a8f7=_0x381fd8(0x410);else _0x44a98a&&_0x20970a<_0x44a98a?_0x44a8f7='scheduled_pending':_0x44a8f7=_0x381fd8(0x76a);}switch(_0x44a8f7){case _0x381fd8(0x410):_0x45f7ce=_0x381fd8(0xa9d),_0x3ed6c3=_0x381fd8(0x76f);break;case _0x381fd8(0x367):_0x45f7ce=_0x381fd8(0xd60),_0x3ed6c3=_0x381fd8(0x321);break;case _0x381fd8(0x76a):_0x45f7ce=_0x33a470!==_0x381fd8(0x7dc)?_0x381fd8(0x833):_0x381fd8(0x6b9),_0x3ed6c3=_0x381fd8(0x63e);break;default:_0x45f7ce='ตั้งเวลา\x20(เปิด)',_0x3ed6c3=_0x381fd8(0x63e);break;}let _0x29d6fc='';const _0x34f6e8={'day':_0x381fd8(0x560),'month':_0x381fd8(0x560),'year':_0x381fd8(0xda3),'hour':_0x381fd8(0x560),'minute':_0x381fd8(0x560),'hour12':![]};if(_0x1766db===_0x381fd8(0x7f6)){if(_0x50527f['startTime'])_0x29d6fc+=_0x381fd8(0x534)+new Date(_0x50527f[_0x381fd8(0x4f1)])['toLocaleString'](_0x381fd8(0x7c5),_0x34f6e8)+_0x381fd8(0x463);if(_0x50527f[_0x381fd8(0x9e0)])_0x29d6fc+=_0x381fd8(0x8d7)+new Date(_0x50527f['endTime'])[_0x381fd8(0x6ee)]('th-TH',_0x34f6e8)+_0x381fd8(0x463);}let _0x58da3b='';if(_0x50527f[_0x381fd8(0x17b)]){const _0x2412f5=allQuizzes[_0x381fd8(0x7a3)](_0x24cd5f=>_0x24cd5f['id']===_0x50527f[_0x381fd8(0x17b)]);if(_0x2412f5){let _0x24772d,_0x2e4ab7;new Date(_0x50527f[_0x381fd8(0xcc3)])<new Date(_0x2412f5['createdAt'])?(_0x24772d=_0x50527f['id'],_0x2e4ab7=_0x2412f5['id']):(_0x24772d=_0x2412f5['id'],_0x2e4ab7=_0x50527f['id']),_0x58da3b+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x2e4ab7+_0x381fd8(0x188)+_0x24772d+_0x381fd8(0x4e9);}}else _0x50527f[_0x381fd8(0x811)]==='pre-test'&&(_0x58da3b+=_0x381fd8(0x4b1)+_0x50527f['id']+'\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');if(_0x50527f[_0x381fd8(0x811)]===_0x381fd8(0xdb7)&&_0x13761d>0x0)_0x58da3b+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x50527f['id']+'\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';else!_0x50527f[_0x381fd8(0x17b)]&&_0x50527f[_0x381fd8(0x811)]!==_0x381fd8(0xdb7)&&_0x13761d>0x0&&(_0x58da3b+=_0x381fd8(0x4b1)+_0x50527f['id']+'\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');let _0x27a6f3='';_0x50527f['pairedQuizId']?_0x27a6f3=_0x381fd8(0x2ae)+_0x50527f['id']+_0x381fd8(0x94e):_0x27a6f3='<button\x20data-quiz-id=\x22'+_0x50527f['id']+_0x381fd8(0x7b7);const _0x2f2ba2=_0x381fd8(0x9fd)+_0x50527f['id']+'\x22\x20data-mode=\x22sync\x22\x20class=\x22start-game-btn\x20bg-indigo-600\x20text-white\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x20shadow-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x22></i>\x20Sync\x20Mode\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';_0x35b612+=_0x381fd8(0x3a4)+_0x50527f['id']+_0x381fd8(0x43b)+_0x50527f['topic']+_0x381fd8(0x815)+_0x50527f['questions'][_0x381fd8(0x752)]+'\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20'+new Date(_0x50527f['createdAt'])[_0x381fd8(0x6ee)](_0x381fd8(0x7c5))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>'+_0x13761d+_0x381fd8(0xcf8)+_0x29d6fc+_0x381fd8(0xa08)+_0x3ed6c3+'\x22>'+_0x45f7ce+_0x381fd8(0x35f)+_0x50527f['id']+_0x381fd8(0x2af)+_0x50527f['id']+_0x381fd8(0xdb4)+(_0x50527f[_0x381fd8(0x610)]?'fas\x20fa-star\x20text-yellow-500':'far\x20fa-star')+_0x381fd8(0x7c3)+_0x58da3b+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2f2ba2+_0x381fd8(0xd2c)+_0x50527f['id']+_0x381fd8(0x9f2)+_0x50527f['id']+_0x381fd8(0xa57)+_0x50527f['id']+_0x381fd8(0x93c)+_0x50527f['id']+_0x381fd8(0xada)+_0x50527f['id']+_0x381fd8(0x612)+_0x50527f['id']+'\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x50527f['id']+_0x381fd8(0x877)+_0x50527f[_0x381fd8(0x79c)]+_0x381fd8(0x198)+_0x50527f['id']+_0x381fd8(0x7bd)+_0x50527f['id']+_0x381fd8(0x1e0)+_0x27a6f3+_0x381fd8(0xaeb)+_0x50527f['id']+_0x381fd8(0x9fb)+_0x50527f['id']+'\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x50527f['id']+'\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x50527f['id']+_0x381fd8(0x2b8)+_0x50527f['id']+_0x381fd8(0x877)+_0x50527f[_0x381fd8(0x79c)]+_0x381fd8(0x2a1)+_0x50527f['id']+_0x381fd8(0x687);}),_0x102f25['innerHTML']=_0x35b612,document['querySelectorAll'](_0x4dc682(0x72a))['forEach'](_0x54d57d=>{const _0x4c1cf=_0x4dc682;_0x54d57d['addEventListener'](_0x4c1cf(0x164),()=>{const _0x4634aa=_0x4c1cf,_0x3ed308=_0x54d57d['dataset'][_0x4634aa(0xa91)];showQuizDetailView(_0x3ed308);});});}async function handleUnpairQuiz(_0x17cb48){const _0x2f2250=_0x2bcb18,_0x510fcc=allQuizzes[_0x2f2250(0x7a3)](_0x1407e0=>_0x1407e0['id']===_0x17cb48);if(!_0x510fcc||!_0x510fcc['pairedQuizId']){showMessage('ไม่พบข้อมูลการจับคู่');return;}showConfirmation(_0x2f2250(0xb30),async()=>{const _0x12a00c=_0x2f2250;try{const _0x25b6de=doc(db,'artifacts/'+appId+_0x12a00c(0x993),_0x17cb48),_0x32c06b=doc(db,_0x12a00c(0x6e6)+appId+_0x12a00c(0x993),_0x510fcc[_0x12a00c(0x17b)]),_0x2a2d22=writeBatch(db);_0x2a2d22[_0x12a00c(0xbe3)](_0x25b6de,{'pairedQuizId':null}),_0x2a2d22[_0x12a00c(0xbe3)](_0x32c06b,{'pairedQuizId':null}),await _0x2a2d22[_0x12a00c(0x6fc)](),showMessage('ยกเลิกการจับคู่สำเร็จ');}catch(_0x5db063){console['error']('Error\x20unpairing\x20quizzes:',_0x5db063),showMessage(_0x12a00c(0x3b6));}});}function formatAndPrintLessonPlan(_0x106ca1,_0x43b60d){const _0x28a035=_0x2bcb18,_0x30d37d=window[_0x28a035(0x1dd)]('',_0x28a035(0x394)),_0x175d74=_0x28a035(0x95a)+_0x43b60d[_0x28a035(0x79c)]+_0x28a035(0x62e)+_0x43b60d[_0x28a035(0x79c)]+_0x28a035(0x1c6)+_0x106ca1[_0x28a035(0x3c8)][_0x28a035(0xe49)](_0x28e83a=>_0x28a035(0xa9f)+_0x28e83a+'</li>')[_0x28a035(0xbb2)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>'+_0x106ca1['teachingContent']+_0x28a035(0x642)+_0x106ca1[_0x28a035(0x51e)][_0x28a035(0xe49)](_0xa207b3=>_0x28a035(0x5fb)+_0xa207b3[_0x28a035(0xb8f)]+_0x28a035(0xa7e)+_0xa207b3[_0x28a035(0xd45)]+_0x28a035(0x3a2))[_0x28a035(0xbb2)]('')+_0x28a035(0xbac);_0x30d37d[_0x28a035(0x1f0)][_0x28a035(0x171)](_0x175d74),_0x30d37d['document'][_0x28a035(0xabf)](),_0x30d37d['onload']=function(){setTimeout(()=>{const _0x19a81f=_0x63b3;_0x30d37d[_0x19a81f(0x9e6)]();},0x3e8);};}async function handleAiFixFormula(_0x3076b0){const _0x3a86e5=_0x2bcb18,_0x4d127e=document['querySelector'](_0x3a86e5(0x404)+_0x3076b0+'\x22]');if(!_0x4d127e)return;const _0xe5afc2=_0x4d127e[_0x3a86e5(0x134)][_0x3a86e5(0x66e)],_0x4a6df5=_0x4d127e[_0x3a86e5(0xc60)](_0x3a86e5(0x64c));let _0x20200e={'question':_0x4d127e[_0x3a86e5(0xc60)](_0x3a86e5(0x353))[_0x3a86e5(0x99c)]};switch(_0xe5afc2){case _0x3a86e5(0x47e):_0x20200e[_0x3a86e5(0x3e2)]=Array['from'](_0x4d127e['querySelectorAll'](_0x3a86e5(0x56f)))[_0x3a86e5(0xe49)](_0x2cc87e=>_0x2cc87e['value']);break;case _0x3a86e5(0xceb):case _0x3a86e5(0xafb):_0x20200e['idealAnswer']=_0x4d127e[_0x3a86e5(0xc60)]('.ideal-answer-input')[_0x3a86e5(0x99c)];break;case _0x3a86e5(0xb08):_0x20200e['correctResponse']=_0x4d127e[_0x3a86e5(0xc60)](_0x3a86e5(0x70b))['value'];break;}_0x4a6df5[_0x3a86e5(0xa16)]=_0x3a86e5(0xa80),_0x4a6df5['disabled']=!![];try{const _0x1c8f5c=_0x3a86e5(0x78c)+JSON[_0x3a86e5(0x692)](_0x20200e)+_0x3a86e5(0x6d5),_0x3d6194={'type':_0x3a86e5(0xde5),'properties':{'fixedData':{'type':_0x3a86e5(0xde5),'properties':{'question':{'type':_0x3a86e5(0x7d8)},'options':{'type':'ARRAY','items':{'type':_0x3a86e5(0x7d8)}},'idealAnswer':{'type':'STRING'},'correctResponse':{'type':_0x3a86e5(0x7d8)}},'required':[_0x3a86e5(0xb8f)]}},'required':[_0x3a86e5(0x2cc)]},_0x198fe3=await callAnalysisApi(_0x1c8f5c,_0x3d6194);if(_0x198fe3&&_0x198fe3[_0x3a86e5(0x2cc)]){const _0x2b9c8d=_0x198fe3[_0x3a86e5(0x2cc)];_0x4d127e[_0x3a86e5(0xc60)](_0x3a86e5(0x353))['value']=_0x2b9c8d[_0x3a86e5(0xb8f)]||_0x20200e[_0x3a86e5(0xb8f)];switch(_0xe5afc2){case _0x3a86e5(0x47e):_0x2b9c8d[_0x3a86e5(0x3e2)]&&_0x2b9c8d[_0x3a86e5(0x3e2)][_0x3a86e5(0x752)]>0x0&&_0x4d127e['querySelectorAll'](_0x3a86e5(0x56f))[_0x3a86e5(0x39f)]((_0x34d843,_0x1d5382)=>{const _0x2ae4e8=_0x3a86e5;_0x34d843[_0x2ae4e8(0x99c)]=_0x2b9c8d['options'][_0x1d5382]||_0x20200e[_0x2ae4e8(0x3e2)][_0x1d5382];});break;case _0x3a86e5(0xceb):case'short_answer':_0x4d127e['querySelector'](_0x3a86e5(0xcdc))['value']=_0x2b9c8d[_0x3a86e5(0xbe7)]||_0x20200e[_0x3a86e5(0xbe7)];break;case _0x3a86e5(0xb08):_0x4d127e[_0x3a86e5(0xc60)]('.correct-response-input')[_0x3a86e5(0x99c)]=_0x2b9c8d[_0x3a86e5(0xd79)]||_0x20200e[_0x3a86e5(0xd79)];break;}showMessage(_0x3a86e5(0x215));}else throw new Error(_0x3a86e5(0x470));}catch(_0xaa2db4){console[_0x3a86e5(0x1ac)](_0x3a86e5(0xe27),_0xaa2db4),showMessage(_0x3a86e5(0xdaa));}finally{_0x4a6df5[_0x3a86e5(0xa16)]=_0x3a86e5(0x206),_0x4a6df5[_0x3a86e5(0xad6)]=![];}}async function handleGenerateLessonPlan(_0x2aab3f){const _0x58ceae=_0x2bcb18;showMessage('AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่');try{const _0x3daf15=doc(db,_0x58ceae(0x6e6)+appId+'/public/data/quizzes',_0x2aab3f),_0x2ff0b8=await getDoc(_0x3daf15);if(!_0x2ff0b8[_0x58ceae(0x7d2)]())throw new Error('ไม่พบข้อมูลแบบทดสอบ');const _0x2c376a={'id':_0x2aab3f,..._0x2ff0b8[_0x58ceae(0x13f)]()},_0x819920=collection(db,_0x58ceae(0x6e6)+appId+_0x58ceae(0x993),_0x2aab3f,'submissions'),_0x4df142=await getDocs(_0x819920),_0x27979c=_0x4df142[_0x58ceae(0x9ef)][_0x58ceae(0xe49)](_0x381575=>_0x381575[_0x58ceae(0x13f)]());if(_0x27979c['length']===0x0)throw new Error(_0x58ceae(0xdc0));const _0x3319cb=calculateItemAnalysis(_0x2c376a,_0x27979c)[_0x58ceae(0x230)],_0x3bb0b7=calculateDistractorAnalysis(_0x2c376a,_0x27979c),_0x336723=_0x365ea8=>{const _0x5bd730=_0x58ceae;if(!_0x365ea8)return'';return _0x365ea8[_0x5bd730(0xdcc)](/\\/g,'\x5c\x5c')[_0x5bd730(0xdcc)](/"/g,'\x5c\x22')['replace'](/\n/g,'\x5cn');};let _0x49685b='สรุปผลการวิเคราะห์:\x5cn';_0x2c376a[_0x58ceae(0xc46)][_0x58ceae(0x39f)]((_0x261c89,_0x1f3ec6)=>{const _0x11c614=_0x58ceae,_0x165cb9=_0x3319cb[_0x1f3ec6]?.['p'][_0x11c614(0x46c)](0x2)||_0x11c614(0x9ff),_0x373c9e=_0x3319cb[_0x1f3ec6]?.['r']['toFixed'](0x2)||'N/A',_0x5f2f03=_0x336723(_0x261c89[_0x11c614(0xca8)]||_0x261c89['stem']);_0x49685b+=_0x11c614(0xe22)+(_0x1f3ec6+0x1)+_0x11c614(0xb9c)+_0x165cb9+_0x11c614(0xe8e)+_0x373c9e+_0x11c614(0x30e)+_0x5f2f03+'\x5cn';if(_0x261c89[_0x11c614(0x2ed)]===_0x11c614(0x47e)&&_0x3bb0b7[_0x1f3ec6]){const _0x243f26=_0x3bb0b7[_0x1f3ec6],_0x1f7fbf=Object['keys'](_0x243f26)[_0x11c614(0x9a7)](_0x587b70=>parseInt(_0x587b70)!==_0x261c89[_0x11c614(0x52a)])[_0x11c614(0x41f)]((_0x55f297,_0x2c141f)=>_0x243f26[_0x2c141f][_0x11c614(0xc14)]-_0x243f26[_0x55f297][_0x11c614(0xc14)])[0x0];if(_0x1f7fbf&&_0x243f26[_0x1f7fbf][_0x11c614(0xc14)]>0x0){const _0x16af07=_0x336723(_0x243f26[_0x1f7fbf][_0x11c614(0x13d)]);_0x49685b+=_0x11c614(0xd13)+_0x16af07+'\x22\x5cn';}}});const _0x4f07ea=_0x58ceae(0x812)+_0x2c376a[_0x58ceae(0x79c)]+_0x58ceae(0x1ea)+_0x49685b+_0x58ceae(0xd06),_0x2d7c23={'type':_0x58ceae(0xde5),'properties':{'learningGaps':{'type':_0x58ceae(0xd66),'items':{'type':_0x58ceae(0x7d8)}},'teachingContent':{'type':'STRING'},'practiceProblems':{'type':'ARRAY','items':{'type':_0x58ceae(0xde5),'properties':{'question':{'type':_0x58ceae(0x7d8)},'solution':{'type':_0x58ceae(0x7d8)}}}}},'required':[_0x58ceae(0x3c8),_0x58ceae(0x43e),'practiceProblems']},_0x329138=await callAnalysisApi(_0x4f07ea,_0x2d7c23);await updateDoc(_0x3daf15,{'lessonPlan':_0x329138});const _0x3a1bc6=_0x58ceae(0x9cc)+_0x2c376a['topic']+_0x58ceae(0x2e0)+_0x329138[_0x58ceae(0x3c8)][_0x58ceae(0xe49)](_0x25f45f=>_0x58ceae(0xa9f)+_0x25f45f+_0x58ceae(0x2bb))[_0x58ceae(0xbb2)]('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>'+_0x329138[_0x58ceae(0x43e)]+_0x58ceae(0x68b)+_0x329138[_0x58ceae(0x51e)][_0x58ceae(0xe49)](_0x8509e5=>_0x58ceae(0xe2d)+_0x8509e5[_0x58ceae(0xb8f)]+_0x58ceae(0x8d0)+_0x8509e5[_0x58ceae(0xd45)]+_0x58ceae(0xcb5))[_0x58ceae(0xbb2)]('')+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';document['getElementById'](_0x58ceae(0x52e))[_0x58ceae(0xdec)]='แผนการสอน:\x20'+_0x2c376a[_0x58ceae(0x79c)],document[_0x58ceae(0x932)](_0x58ceae(0x6fb))[_0x58ceae(0xa16)]=_0x3a1bc6,document[_0x58ceae(0x932)](_0x58ceae(0x309))[_0x58ceae(0x360)]['remove'](_0x58ceae(0x2f2));if(window[_0x58ceae(0x7f9)])MathJax['typesetPromise']();messageModal[_0x58ceae(0x360)][_0x58ceae(0x4a6)](_0x58ceae(0x2f2));}catch(_0xa196ee){console[_0x58ceae(0x1ac)](_0x58ceae(0x894),_0xa196ee),showMessage('เกิดข้อผิดพลาด:\x20'+_0xa196ee['message']);}}async function handleDuplicateQuiz(_0x5317af){const _0x4389da=_0x2bcb18;try{const _0x191129=doc(db,'artifacts/'+appId+_0x4389da(0x993),_0x5317af),_0xf5bf7a=await getDoc(_0x191129);if(_0xf5bf7a[_0x4389da(0x7d2)]()){const _0x11d3c0=_0xf5bf7a[_0x4389da(0x13f)]();let _0x55d96a='',_0x26ee08=_0x4389da(0x7ee),_0x13ac7b=null;if(_0x11d3c0[_0x4389da(0x811)]===_0x4389da(0xdb7)){let _0x43a023=_0x11d3c0[_0x4389da(0x79c)][_0x4389da(0xdcc)](_0x4389da(0x2f8),'')[_0x4389da(0xa4d)]();_0x55d96a='(หลังเรียน)\x20'+_0x43a023,_0x26ee08=_0x4389da(0xe54),_0x13ac7b=_0x5317af;}else _0x55d96a='(คัดลอก)\x20'+_0x11d3c0[_0x4389da(0x79c)];const _0x3e8d77={..._0x11d3c0,'topic':_0x55d96a,'createdAt':new Date()[_0x4389da(0x26e)](),'quizMode':_0x26ee08,'pairedQuizId':_0x13ac7b};let _0x1f43e6;while(!![]){_0x1f43e6=Math[_0x4389da(0x4cf)](0x3e8+Math[_0x4389da(0xbad)]()*0x2328)[_0x4389da(0xdcb)]();const _0x588933=await getDoc(doc(db,_0x4389da(0x6e6)+appId+_0x4389da(0x993),_0x1f43e6));if(!_0x588933['exists']())break;}const _0x56e7f1=doc(db,'artifacts/'+appId+_0x4389da(0x993),_0x1f43e6);await setDoc(_0x56e7f1,_0x3e8d77),_0x3e8d77['quizMode']===_0x4389da(0xe54)&&await updateDoc(_0x191129,{'pairedQuizId':_0x1f43e6}),showMessage('คัดลอกแบบทดสอบสำเร็จ');}else throw new Error(_0x4389da(0xbf5));}catch(_0x1ceac8){console[_0x4389da(0x1ac)](_0x4389da(0xa23),_0x1ceac8),showMessage('เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ');}}async function handleDeleteQuiz(_0x2c7b89,_0x20190f=!![]){const _0x2f430e=_0x2bcb18;try{const _0x2b3a3a=writeBatch(db),_0x1d7843=collection(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x2c7b89+_0x2f430e(0x2f0)),_0x23f85b=await getDocs(_0x1d7843);_0x23f85b[_0x2f430e(0x39f)](_0x241bd3=>{const _0x4b5182=_0x2f430e;_0x2b3a3a[_0x4b5182(0x242)](doc(_0x1d7843,_0x241bd3['id']));});const _0x1c14fe=doc(db,_0x2f430e(0x6e6)+appId+'/public/data/quizzes',_0x2c7b89);_0x2b3a3a[_0x2f430e(0x242)](_0x1c14fe),await _0x2b3a3a['commit']();try{console[_0x2f430e(0x273)](_0x2f430e(0x3e7)+_0x2c7b89+_0x2f430e(0x6d0));const _0x1ac5f6=collection(db,_0x2f430e(0x6e6)+appId+_0x2f430e(0x8a5)),_0x395a57=await getDocs(_0x1ac5f6),_0x1d9112=[];_0x395a57['forEach'](_0x252773=>{const _0x1b1614=_0x2f430e,_0x453f27=_0x252773[_0x1b1614(0x13f)](),_0x5e94ac=_0x453f27[_0x1b1614(0x945)]||{};let _0xfa122d=![];for(const _0x1142a5 in _0x5e94ac){const _0x4cc597=_0x5e94ac[_0x1142a5];if(_0x4cc597[_0x1b1614(0xb4f)]&&_0x4cc597[_0x1b1614(0xb4f)][_0x1b1614(0xd2e)](_0x2c7b89)){_0xfa122d=!![];const _0x41a9a1=doc(db,_0x1b1614(0x6e6)+appId+'/public/data/blueprintProjects',_0x252773['id']),_0x4241cb=updateDoc(_0x41a9a1,{['topics.'+_0x1142a5+_0x1b1614(0x663)]:arrayRemove(_0x2c7b89)});_0x1d9112['push'](_0x4241cb);}}}),_0x1d9112[_0x2f430e(0x752)]>0x0&&(await Promise['all'](_0x1d9112),console[_0x2f430e(0x273)](_0x2f430e(0x746)+_0x1d9112[_0x2f430e(0x752)]+_0x2f430e(0x547)+_0x2c7b89+'.'));}catch(_0x2db197){console[_0x2f430e(0x1ac)](_0x2f430e(0xc06),_0x2db197);}_0x20190f&&showMessage(_0x2f430e(0x9cd));}catch(_0x5690a3){console[_0x2f430e(0x1ac)](_0x2f430e(0x863),_0x5690a3),_0x20190f&&showMessage(_0x2f430e(0x1a4));}}async function showQuizDetailView(_0x3a0217){const _0x46a637=_0x2bcb18;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0x46a637(0x5a9));try{const _0x5809a4=doc(db,_0x46a637(0x6e6)+appId+'/public/data/quizzes',_0x3a0217),_0x1a4e20=await getDoc(_0x5809a4);if(!_0x1a4e20[_0x46a637(0x7d2)]()){showMessage(_0x46a637(0xd90));return;}const _0x37f41d={'id':_0x1a4e20['id'],..._0x1a4e20['data']()};currentQuizData=_0x37f41d;const _0x15f9e6=doc(db,_0x46a637(0x6e6)+appId+_0x46a637(0x53a),_0x37f41d[_0x46a637(0xc80)]),_0x339749=await getDoc(_0x15f9e6);_0x339749[_0x46a637(0x7d2)]()?(currentProjectData=_0x339749[_0x46a637(0x13f)](),currentProjectId=_0x37f41d[_0x46a637(0xc80)]):(currentProjectData={'students':[]},currentProjectId=_0x37f41d[_0x46a637(0xc80)]);document[_0x46a637(0x932)]('results-quiz-title')[_0x46a637(0xdec)]=_0x37f41d['topic'],document[_0x46a637(0x932)](_0x46a637(0x130))[_0x46a637(0xdec)]=_0x3a0217;const _0x5e7609=collection(db,_0x46a637(0x6e6)+appId+'/public/data/quizzes',_0x3a0217,'submissions');unsubscribeSubmissionsListener=onSnapshot(_0x5e7609,_0x256bf4=>{const _0x1b94d1=_0x46a637,_0x2aaff9=_0x256bf4['docs'][_0x1b94d1(0xe49)](_0x5cdfc2=>({'id':_0x5cdfc2['id'],..._0x5cdfc2[_0x1b94d1(0x13f)]()}));currentSubmissions=_0x2aaff9;const _0x34554d=_0x2aaff9[_0x1b94d1(0x9a7)](_0x483e50=>_0x483e50[_0x1b94d1(0xa66)]&&_0x483e50[_0x1b94d1(0xa66)][_0x1b94d1(0x752)]>0x0);renderBehaviorLog(_0x2aaff9),renderAnswerGrid(currentProjectData[_0x1b94d1(0x950)],_0x34554d,_0x37f41d),renderAnalytics(_0x37f41d,_0x34554d),renderQuizResultsTable(currentProjectData[_0x1b94d1(0x950)],_0x2aaff9,_0x37f41d),renderQuizLeaderboard(_0x34554d,_0x37f41d,'quiz-leaderboard-table-body');}),showView(_0x46a637(0xb2f));}catch(_0x31a0e2){console[_0x46a637(0x1ac)](_0x46a637(0x9d3),_0x31a0e2),showMessage(_0x46a637(0xab7));}}function renderAnswerGrid(_0xec78b4,_0x2998d4,_0x26b80c){const _0x5a0a59=_0x2bcb18,_0x2c5b8c=document[_0x5a0a59(0x932)]('answer-grid-container');if(!_0x2c5b8c)return;if(!_0xec78b4||_0xec78b4[_0x5a0a59(0x752)]===0x0){_0x2c5b8c['innerHTML']=_0x5a0a59(0xb2e);return;}const _0x31a4e2=_0x26b80c['questions'],_0x3774ad=_0x2998d4[_0x5a0a59(0xdbf)]((_0x596bf8,_0x307939)=>{const _0x4d859c=_0x5a0a59;return _0x596bf8[_0x307939[_0x4d859c(0xad2)]]=_0x307939,_0x596bf8;},{}),_0x24a0d6=_0x39ebf8=>String[_0x5a0a59(0x4b4)](0x41+_0x39ebf8),_0x169d6d=_0x3f4f56=>{const _0x4df596=_0x5a0a59,_0x1e79c9=_0x3f4f56['questionType']||_0x26b80c[_0x4df596(0x2de)];switch(_0x1e79c9){case _0x4df596(0x47e):return _0x3f4f56['options']&&_0x3f4f56[_0x4df596(0x3e2)][_0x4df596(0x752)]>_0x3f4f56['correctAnswerIndex']?_0x24a0d6(_0x3f4f56[_0x4df596(0x52a)]):'-';case'true_false':const _0x180d37=_0x3f4f56['correctAnswer']===!![]||String(_0x3f4f56['correctAnswer'])[_0x4df596(0x4ea)]()==='true';return _0x180d37?_0x4df596(0xd77):_0x4df596(0xa76);case _0x4df596(0xb08):return _0x3f4f56[_0x4df596(0xd79)]||'-';case _0x4df596(0xafb):return _0x4df596(0xc55);default:return'-';}},_0x14786a=(_0x3965b4,_0x5e7b6b)=>{const _0x325f47=_0x5a0a59;if(_0x5e7b6b[_0x325f47(0x328)]===null||_0x5e7b6b['answer']===undefined)return'-';const _0x4fff3b=_0x3965b4[_0x325f47(0x2ed)]||_0x26b80c[_0x325f47(0x2de)];switch(_0x4fff3b){case _0x325f47(0x47e):const _0x1f9309=_0x3965b4[_0x325f47(0x3e2)][_0x325f47(0x2b7)](_0x20bb79=>_0x20bb79===_0x5e7b6b[_0x325f47(0x8f1)]);return _0x1f9309!==-0x1?_0x24a0d6(_0x1f9309):_0x5e7b6b['answerText']||'-';case _0x325f47(0x827):if(_0x5e7b6b[_0x325f47(0x328)]=='0'||_0x5e7b6b[_0x325f47(0x328)]===!![]||_0x5e7b6b[_0x325f47(0x328)]==='true')return _0x325f47(0xd77);return _0x325f47(0xa76);default:return _0x5e7b6b[_0x325f47(0x328)];}};let _0x179094=_0x5a0a59(0xb76)+_0x31a4e2[_0x5a0a59(0xe49)]((_0x31e0a8,_0x442502)=>_0x5a0a59(0x24f)+(_0x442502+0x1)+'</th>')['join']('')+_0x5a0a59(0x942)+_0x31a4e2[_0x5a0a59(0xe49)](_0x3d8f2d=>'<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>'+_0x169d6d(_0x3d8f2d)+_0x5a0a59(0x3c3))['join']('')+_0x5a0a59(0x983);_0xec78b4['forEach'](_0x998ed0=>{const _0x2fe020=_0x5a0a59;_0x179094+='<tr>',_0x179094+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>'+_0x998ed0+_0x2fe020(0x3c3);const _0x1c0b4d=_0x3774ad[_0x998ed0];if(_0x1c0b4d){const _0x21e83a=_0x1c0b4d['attempts'][_0x1c0b4d[_0x2fe020(0xa66)][_0x2fe020(0x752)]-0x1];_0x31a4e2[_0x2fe020(0x39f)]((_0x533113,_0x35bd76)=>{const _0x4d7ae1=_0x2fe020,_0x14dd70=_0x21e83a[_0x4d7ae1(0x8c5)][_0x4d7ae1(0x7a3)](_0x39e66d=>_0x39e66d['questionId']===_0x533113['id']);if(_0x14dd70){let _0x4099e4='';const _0x57872d=_0x14dd70['isCorrect']===!![],_0x2c58f3=_0x14dd70['wasConfident']===!![]||_0x14dd70['wasConfident']===_0x4d7ae1(0x8e9),_0x342cdb=_0x14dd70[_0x4d7ae1(0xd15)];if(_0x342cdb===_0x4d7ae1(0xac7))_0x57872d?_0x4099e4=_0x4d7ae1(0x653):_0x4099e4=_0x4d7ae1(0xad9);else _0x2c58f3?_0x4099e4=_0x57872d?_0x4d7ae1(0x9f0):_0x4d7ae1(0x374):_0x4099e4=_0x57872d?_0x4d7ae1(0xb13):_0x4d7ae1(0x4f2);_0x179094+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20'+_0x4099e4+'\x22>'+_0x14786a(_0x533113,_0x14dd70)+'</td>';}else _0x179094+=_0x4d7ae1(0x4f7);});}else _0x179094+=_0x31a4e2[_0x2fe020(0xe49)](()=>_0x2fe020(0x232))['join']('');_0x179094+='</tr>';}),_0x179094+='</tbody></table>',_0x2c5b8c[_0x5a0a59(0xa16)]=_0x179094;}function renderQuizResultsTable(_0x3925ec,_0x18262a,_0x3a79bc){const _0x460b1a=_0x2bcb18,_0x4b1085=_0x18262a[_0x460b1a(0xdbf)]((_0x462aac,_0x4f1324)=>{return _0x462aac[_0x4f1324['studentName']]=_0x4f1324,_0x462aac;},{}),_0x19e941=document[_0x460b1a(0xc60)]('#results-table\x20thead\x20tr');_0x19e941&&!_0x19e941[_0x460b1a(0xa16)][_0x460b1a(0xd2e)](_0x460b1a(0xe3b))&&(_0x19e941[_0x460b1a(0xa16)]+=_0x460b1a(0xdd4));const _0x3a1d9b=document[_0x460b1a(0x932)](_0x460b1a(0x36e));if(!_0x3925ec||_0x3925ec[_0x460b1a(0x752)]===0x0){_0x3a1d9b[_0x460b1a(0xa16)]=_0x460b1a(0x9ca);return;}const _0x22adbf=_0x3a79bc[_0x460b1a(0x93f)]===!![],_0x4d88ac=_0x3a79bc[_0x460b1a(0x6ce)]?.[_0x460b1a(0x24b)]??-0x1;let _0x4bff48='';_0x3925ec[_0x460b1a(0x39f)](_0xd1d631=>{const _0x4384ad=_0x460b1a,_0x24eb5b=_0x4b1085[_0xd1d631];let _0x1977c8=_0x4384ad(0x794)+(_0x22adbf?_0x4384ad(0xd1e):_0x4384ad(0x40b))+'\x22>'+(_0x22adbf?_0x4384ad(0x893):_0x4384ad(0xe83))+_0x4384ad(0x178);if(_0x24eb5b){if(_0x24eb5b[_0x4384ad(0xa66)]&&_0x24eb5b['attempts'][_0x4384ad(0x752)]>0x0){let _0x24b0d7=_0x22adbf?_0x24eb5b['bestScore']===_0x24eb5b[_0x4384ad(0x694)]:_0x4d88ac!==-0x1&&_0x24eb5b[_0x4384ad(0x20f)]>=_0x4d88ac;const _0x5b51ab=_0x24b0d7?'bg-green-100\x20text-green-800':_0x4384ad(0x4f2),_0x4d0c9e=_0x24b0d7?'ผ่าน':_0x4384ad(0x7f4),_0x349a89=_0x4384ad(0x1c8)+_0x5b51ab+'\x22>'+_0x4d0c9e+_0x4384ad(0x178),_0x7af6d2=_0x4384ad(0x204)+(_0x24eb5b[_0x4384ad(0xa66)]?.['length']||0x1)+_0x4384ad(0xe34),_0x5c9134=_0x4384ad(0x599)+(_0x24eb5b[_0x4384ad(0xc6a)]||0x0)[_0x4384ad(0x6ee)]()+_0x4384ad(0x73c)+_0xd1d631+_0x4384ad(0xb5c)+(_0x24eb5b[_0x4384ad(0xc6a)]||0x0)+_0x4384ad(0xb57);_0x4bff48+=_0x4384ad(0x73d)+_0xd1d631+_0x4384ad(0x5aa)+_0x24eb5b[_0x4384ad(0x20f)]+_0x4384ad(0xb54)+_0x24eb5b['totalQuestions']+_0x4384ad(0x9a3)+_0x349a89+_0x4384ad(0xc77)+_0x1977c8+_0x4384ad(0xaed)+_0x24eb5b[_0x4384ad(0x24d)]+_0x4384ad(0xb54)+_0x24eb5b[_0x4384ad(0x694)]+_0x4384ad(0xae8)+_0x24eb5b[_0x4384ad(0x5a7)]+_0x4384ad(0xb54)+_0x24eb5b[_0x4384ad(0x694)]+_0x4384ad(0x54f)+_0x5c9134+_0x4384ad(0x9a3)+_0x7af6d2+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>'+new Date(_0x24eb5b[_0x4384ad(0xb77)])['toLocaleString']('th-TH')+_0x4384ad(0x55a)+_0xd1d631+_0x4384ad(0x91a);}else{const _0x5a66db='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>';_0x4bff48+=_0x4384ad(0xb8a)+_0xd1d631+_0x4384ad(0x4f9)+_0x1977c8+_0x4384ad(0x999)+_0x5a66db+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>'+new Date(_0x24eb5b['startedAt'])[_0x4384ad(0x6ee)]('th-TH')+_0x4384ad(0x7e6)+_0xd1d631+_0x4384ad(0x91a);}}else{const _0x3f1e40='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>';_0x4bff48+=_0x4384ad(0xa8b)+_0xd1d631+_0x4384ad(0x697)+_0x1977c8+_0x4384ad(0x4d2)+_0x3f1e40+_0x4384ad(0x202);}}),_0x3a1d9b[_0x460b1a(0xa16)]=_0x4bff48;}async function confirmRenameQuiz(){const _0x57820a=_0x2bcb18,_0xf0f286=document[_0x57820a(0x932)]('rename-quiz-input')[_0x57820a(0x99c)][_0x57820a(0xa4d)]();if(!_0xf0f286){showMessage(_0x57820a(0x57d));return;}if(!actionTargetId)return;const _0x4022bd=doc(db,_0x57820a(0x6e6)+appId+_0x57820a(0x993),actionTargetId);try{await updateDoc(_0x4022bd,{'topic':_0xf0f286}),showMessage('เปลี่ยนชื่อแบบทดสอบสำเร็จ'),renameQuizModal[_0x57820a(0x360)][_0x57820a(0x4a6)](_0x57820a(0x2f2)),actionTargetId=null;}catch(_0x3154c0){console['error']('Error\x20renaming\x20quiz:',_0x3154c0),showMessage('เกิดข้อผิดพลาดในการเปลี่ยนชื่อ');}}async function handleMoveQuiz(_0x43f00e){const _0x5f2005=_0x2bcb18;actionTargetId=_0x43f00e;const _0x399ffe=document['getElementById']('move-quiz-project-select');_0x399ffe['innerHTML']=_0x5f2005(0x6ab),moveQuizModal[_0x5f2005(0x360)]['remove']('hidden');try{const _0x4d03a6=collection(db,_0x5f2005(0x6e6)+appId+_0x5f2005(0x53a)),_0x2d8043=await getDocs(_0x4d03a6),_0x393f6e=_0x2d8043['docs']['map'](_0x4b0e4c=>({'id':_0x4b0e4c['id'],..._0x4b0e4c[_0x5f2005(0x13f)]()})),_0x4f9645=_0x393f6e[_0x5f2005(0x9a7)](_0x3fb75f=>_0x3fb75f['id']!==currentProjectId);if(_0x4f9645[_0x5f2005(0x752)]===0x0){_0x399ffe[_0x5f2005(0xa16)]='<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>',document['getElementById'](_0x5f2005(0x83a))[_0x5f2005(0xad6)]=!![];return;}_0x399ffe[_0x5f2005(0xa16)]=_0x4f9645[_0x5f2005(0xe49)](_0x179d1=>'<option\x20value=\x22'+_0x179d1['id']+'\x22>'+_0x179d1['projectName']+'</option>')[_0x5f2005(0xbb2)](''),document[_0x5f2005(0x932)]('confirm-move-quiz-btn')[_0x5f2005(0xad6)]=![];}catch(_0x2130e7){console[_0x5f2005(0x1ac)](_0x5f2005(0xe20),_0x2130e7),showMessage(_0x5f2005(0xb90)),moveQuizModal[_0x5f2005(0x360)][_0x5f2005(0x4a6)](_0x5f2005(0x2f2));}}async function confirmMoveQuiz(){const _0xc06439=_0x2bcb18,_0x21b750=document['getElementById'](_0xc06439(0x2d2))['value'];if(!_0x21b750){showMessage('กรุณาเลือกโปรเจคปลายทาง');return;}if(!actionTargetId)return;const _0x3a3928=doc(db,_0xc06439(0x6e6)+appId+_0xc06439(0x993),actionTargetId);try{await updateDoc(_0x3a3928,{'projectId':_0x21b750}),showMessage(_0xc06439(0xc7a)),moveQuizModal[_0xc06439(0x360)][_0xc06439(0x4a6)](_0xc06439(0x2f2)),actionTargetId=null;}catch(_0x57371d){console[_0xc06439(0x1ac)](_0xc06439(0x2f4),_0x57371d),showMessage(_0xc06439(0x57b));}}async function handleQuizSettings(_0x2612e2){const _0x2f4645=_0x2bcb18;actionTargetId=_0x2612e2;const _0x3d7eb2=doc(db,_0x2f4645(0x6e6)+appId+_0x2f4645(0x993),_0x2612e2);try{const _0x4422e0=await getDoc(_0x3d7eb2);if(_0x4422e0['exists']()){const _0x531373=_0x4422e0['data'](),_0x291229=_0x531373[_0x2f4645(0x6ce)]||{},_0x51b639=_0x531373[_0x2f4645(0xc46)][_0x2f4645(0x752)];document['getElementById']('modal-shuffle-select')[_0x2f4645(0x99c)]=_0x291229[_0x2f4645(0x5d2)]||_0x2f4645(0x7dc),document[_0x2f4645(0x932)](_0x2f4645(0xe03))[_0x2f4645(0x99c)]=_0x291229['resultsDisplay']||_0x2f4645(0x6d6),document[_0x2f4645(0x932)]('modal-timer-mode-select')[_0x2f4645(0x99c)]=_0x291229['timerMode']||'none',document['getElementById']('modal-timer-duration-input')[_0x2f4645(0x99c)]=_0x291229['timerDuration']||0xa,document[_0x2f4645(0x932)](_0x2f4645(0x9d1))[_0x2f4645(0x99c)]=_0x291229[_0x2f4645(0x24b)]||Math[_0x2f4645(0x4cf)](_0x51b639/0x2),document[_0x2f4645(0x932)](_0x2f4645(0x9d1))['max']=_0x51b639,document['getElementById'](_0x2f4645(0xdb2))[_0x2f4645(0xc62)]=_0x291229[_0x2f4645(0x27e)]||![],document[_0x2f4645(0x932)](_0x2f4645(0x7cf))[_0x2f4645(0xc62)]=_0x291229[_0x2f4645(0x422)]||![];const _0x27c201=_0x291229['isConfidenceScoringEnabled']||![];document[_0x2f4645(0x932)](_0x2f4645(0x239))[_0x2f4645(0xc62)]=_0x27c201,document[_0x2f4645(0x932)](_0x2f4645(0x31b))[_0x2f4645(0x99c)]=_0x291229[_0x2f4645(0x73f)]||_0x2f4645(0xe9e);const _0x46a056=document[_0x2f4645(0x932)]('modal-confidence-mode-container');_0x46a056[_0x2f4645(0x360)][_0x2f4645(0xaa3)](_0x2f4645(0x2f2),!_0x27c201),document[_0x2f4645(0x932)](_0x2f4645(0x797))[_0x2f4645(0x6fe)](new Event(_0x2f4645(0x62d))),quizSettingsModal[_0x2f4645(0x360)][_0x2f4645(0xcc8)](_0x2f4645(0x2f2));}else showMessage(_0x2f4645(0xd90));}catch(_0x4488fa){console[_0x2f4645(0x1ac)](_0x2f4645(0x5ce),_0x4488fa),showMessage(_0x2f4645(0x2d6));}}async function confirmQuizSettings(){const _0x50a205=_0x2bcb18;if(!actionTargetId)return;const _0x3c0cb7=doc(db,_0x50a205(0x6e6)+appId+'/public/data/quizzes',actionTargetId),_0x647f6a={'shuffle':document[_0x50a205(0x932)]('modal-shuffle-select')[_0x50a205(0x99c)],'resultsDisplay':document['getElementById'](_0x50a205(0xe03))[_0x50a205(0x99c)],'timerMode':document[_0x50a205(0x932)](_0x50a205(0x797))[_0x50a205(0x99c)],'timerDuration':parseInt(document['getElementById']('modal-timer-duration-input')[_0x50a205(0x99c)])||0xa,'passingScore':parseInt(document[_0x50a205(0x932)](_0x50a205(0x9d1))['value'])||0x0,'isAdaptive':document[_0x50a205(0x932)]('modal-adaptive-quiz-checkbox')['checked'],'loopUntilPass':document[_0x50a205(0x932)](_0x50a205(0x7cf))[_0x50a205(0xc62)],'isConfidenceScoringEnabled':document[_0x50a205(0x932)](_0x50a205(0x239))[_0x50a205(0xc62)],'confidenceMode':document[_0x50a205(0x932)](_0x50a205(0x31b))[_0x50a205(0x99c)]};try{await updateDoc(_0x3c0cb7,{'settings':_0x647f6a}),showMessage(_0x50a205(0x317)),quizSettingsModal['classList'][_0x50a205(0x4a6)](_0x50a205(0x2f2)),actionTargetId=null;}catch(_0x4be739){console[_0x50a205(0x1ac)]('Error\x20updating\x20quiz\x20settings:',_0x4be739),showMessage(_0x50a205(0x5ae));}}async function confirmQuizStatus(){const _0x1aa7bd=_0x2bcb18;if(!actionTargetId)return;const _0x42a214=doc(db,_0x1aa7bd(0x6e6)+appId+'/public/data/quizzes',actionTargetId),_0x2e7660=document[_0x1aa7bd(0xc60)](_0x1aa7bd(0x36d));if(!_0x2e7660){showMessage(_0x1aa7bd(0xae4));return;}const _0x4e82bd=_0x2e7660[_0x1aa7bd(0x99c)];let _0x1bfe62={};if(_0x4e82bd===_0x1aa7bd(0x76a)||_0x4e82bd===_0x1aa7bd(0x410))_0x1bfe62={'status':_0x4e82bd,'startTime':null,'endTime':null};else{if(_0x4e82bd===_0x1aa7bd(0xdfe)){const _0x55c877=document[_0x1aa7bd(0x932)](_0x1aa7bd(0xaf6))[_0x1aa7bd(0x99c)],_0x3d1d51=document[_0x1aa7bd(0x932)](_0x1aa7bd(0x879))['value'];if(!_0x55c877&&!_0x3d1d51){showMessage(_0x1aa7bd(0x71a));return;}_0x1bfe62={'status':_0x1aa7bd(0x7f6),'startTime':_0x55c877?new Date(_0x55c877)[_0x1aa7bd(0x26e)]():null,'endTime':_0x3d1d51?new Date(_0x3d1d51)[_0x1aa7bd(0x26e)]():null};}}try{await updateDoc(_0x42a214,_0x1bfe62),showMessage(_0x1aa7bd(0xb23)),quizStatusModal[_0x1aa7bd(0x360)][_0x1aa7bd(0x4a6)](_0x1aa7bd(0x2f2)),actionTargetId=null;}catch(_0x3f3e13){console[_0x1aa7bd(0x1ac)](_0x1aa7bd(0xadc),_0x3f3e13),showMessage(_0x1aa7bd(0xbd7));}}function listenForStudentProfiles(_0x397eea){const _0x3240f0=_0x2bcb18,_0x4814bc=collection(db,_0x3240f0(0x6e6)+appId+_0x3240f0(0x3c5)+_0x397eea+_0x3240f0(0xd5c));unsubscribeStudentProfilesListener=onSnapshot(_0x4814bc,_0x46b36d=>{const _0x1d1457=_0x3240f0,_0x3e3e8c=_0x46b36d[_0x1d1457(0x9ef)][_0x1d1457(0xe49)](_0x2f7633=>_0x2f7633['data']());renderLeaderboard(_0x3e3e8c,_0x1d1457(0xd28));},_0xab21bb=>{const _0xed3784=_0x3240f0;console[_0xed3784(0x1ac)](_0xed3784(0x33b),_0xab21bb),document[_0xed3784(0x932)](_0xed3784(0xd28))[_0xed3784(0xa16)]=_0xed3784(0x3d1);});}function renderLeaderboard(_0x4effdb,_0x200bd8){const _0x1dbda0=_0x2bcb18,_0x9765b5=document[_0x1dbda0(0x932)](_0x200bd8);if(!_0x4effdb||_0x4effdb[_0x1dbda0(0x752)]===0x0){_0x9765b5[_0x1dbda0(0xa16)]=_0x1dbda0(0xa46);return;}_0x4effdb[_0x1dbda0(0x41f)]((_0x213435,_0x45174c)=>{const _0x2ae2b5=_0x1dbda0,_0x3b0b33=(_0x45174c[_0x2ae2b5(0xd68)]||0x0)-(_0x213435[_0x2ae2b5(0xd68)]||0x0);if(_0x3b0b33!==0x0)return _0x3b0b33;const _0x3e88e3=(_0x45174c[_0x2ae2b5(0x690)]?.['specialist']||0x0)-(_0x213435[_0x2ae2b5(0x690)]?.[_0x2ae2b5(0xb80)]||0x0);if(_0x3e88e3!==0x0)return _0x3e88e3;const _0x346fe6=(_0x45174c['badgesCount']?.[_0x2ae2b5(0x44f)]||0x0)-(_0x213435[_0x2ae2b5(0x690)]?.[_0x2ae2b5(0x44f)]||0x0);if(_0x346fe6!==0x0)return _0x346fe6;const _0x1ef654=(_0x45174c[_0x2ae2b5(0x690)]?.['perfect_score']||0x0)-(_0x213435[_0x2ae2b5(0x690)]?.[_0x2ae2b5(0x91b)]||0x0);if(_0x1ef654!==0x0)return _0x1ef654;const _0x5e3325=(_0x45174c['badgesCount']?.[_0x2ae2b5(0x656)]||0x0)-(_0x213435[_0x2ae2b5(0x690)]?.[_0x2ae2b5(0x656)]||0x0);if(_0x5e3325!==0x0)return _0x5e3325;return _0x213435[_0x2ae2b5(0xad2)][_0x2ae2b5(0x1bf)](_0x45174c[_0x2ae2b5(0xad2)],'th');});let _0x50a504='';_0x4effdb[_0x1dbda0(0x39f)]((_0x589e70,_0x58a7ea)=>{const _0x2fbbb1=_0x1dbda0,_0x4cf302=_0x58a7ea+0x1,_0x3b3040=_0x589e70[_0x2fbbb1(0x690)]||{};let _0x3d91f5='';const _0x4f4946=[_0x2fbbb1(0xb80),_0x2fbbb1(0x91b),_0x2fbbb1(0x44f),_0x2fbbb1(0x656)];_0x4f4946['forEach'](_0x1b2132=>{const _0x5c6dea=_0x2fbbb1;if(_0x3b3040[_0x1b2132]>0x0){const _0x197fd6=Object['values'](BADGES)['find'](_0x6d6961=>_0x6d6961['id']===_0x1b2132);_0x197fd6&&(_0x1b2132==='specialist'?_0x3d91f5+=_0x5c6dea(0x782)+_0x197fd6['name']+_0x5c6dea(0x875)+_0x197fd6[_0x5c6dea(0x3b1)]+_0x5c6dea(0x626):_0x3d91f5+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22'+_0x197fd6['name']+'\x20('+_0x3b3040[_0x1b2132]+_0x5c6dea(0x4f3)+_0x197fd6[_0x5c6dea(0x3b1)]+_0x5c6dea(0x2b9)+_0x3b3040[_0x1b2132]+_0x5c6dea(0xd36));}}),_0x50a504+=_0x2fbbb1(0xd03)+_0x4cf302+_0x2fbbb1(0x54f)+_0x589e70[_0x2fbbb1(0xad2)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>'+(_0x589e70['totalPoints']||0x0)[_0x2fbbb1(0x6ee)]()+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+(_0x3d91f5||'-')+_0x2fbbb1(0x472);}),_0x9765b5[_0x1dbda0(0xa16)]=_0x50a504;}function displayLoopScreen(_0x580972,_0x2ff831,_0x3e8a45){const _0x1588f4=_0x2bcb18;let _0xd90ab6='';_0x3e8a45!==_0x1588f4(0xd7f)&&(_0xd90ab6='<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>'+_0x580972+_0x1588f4(0xb54)+_0x2ff831+_0x1588f4(0xb52));const _0x40622d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xd90ab6+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea['innerHTML']=_0x40622d,studentResultArea['classList'][_0x1588f4(0xcc8)](_0x1588f4(0x2f2)),studentQuizArea['classList']['add'](_0x1588f4(0x2f2)),document['getElementById'](_0x1588f4(0xb25))['addEventListener'](_0x1588f4(0x164),()=>{const _0x152caa=_0x1588f4;studentResultArea['classList'][_0x152caa(0x4a6)](_0x152caa(0x2f2)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0xf13dbd,_0x58dc30,_0x20d80e){const _0xe3fbde=_0x2bcb18,_0x75cc15=document[_0xe3fbde(0x932)](_0x20d80e),_0x115249=_0x20d80e===_0xe3fbde(0x45d),_0x3dc57f=_0x58dc30['questions'][_0xe3fbde(0x752)],_0x57009d=document[_0xe3fbde(0x932)](_0x20d80e)['closest'](_0xe3fbde(0xab6));if(_0x57009d&&!_0x115249){const _0x566f6a=_0x57009d[_0xe3fbde(0xc60)]('thead');_0x566f6a['innerHTML']=_0xe3fbde(0xba1);}if(!_0xf13dbd||_0xf13dbd[_0xe3fbde(0x752)]===0x0){_0x75cc15['innerHTML']=_0xe3fbde(0x506)+(_0x115249?0x6:0x8)+_0xe3fbde(0xea5);return;}const _0x3e56d3=[..._0xf13dbd];_0x3e56d3[_0xe3fbde(0x41f)]((_0x2e6816,_0x1a7ca8)=>{const _0x3dc6c8=_0xe3fbde;let _0x57dedc,_0x5499b5;switch(quizLeaderboardSortBy){case'studentName':_0x57dedc=_0x2e6816['studentName']||'',_0x5499b5=_0x1a7ca8[_0x3dc6c8(0xad2)]||'';return quizLeaderboardSortOrder===_0x3dc6c8(0x76c)?_0x57dedc[_0x3dc6c8(0x1bf)](_0x5499b5,'th'):_0x5499b5[_0x3dc6c8(0x1bf)](_0x57dedc,'th');case _0x3dc6c8(0xc6a):_0x57dedc=_0x2e6816[_0x3dc6c8(0xc6a)]||0x0,_0x5499b5=_0x1a7ca8[_0x3dc6c8(0xc6a)]||0x0;break;case'attempts':_0x57dedc=_0x2e6816[_0x3dc6c8(0xa66)]?.[_0x3dc6c8(0x752)]||0x1,_0x5499b5=_0x1a7ca8[_0x3dc6c8(0xa66)]?.[_0x3dc6c8(0x752)]||0x1;break;case _0x3dc6c8(0xb77):_0x57dedc=new Date(_0x2e6816[_0x3dc6c8(0xb77)]),_0x5499b5=new Date(_0x1a7ca8[_0x3dc6c8(0xb77)]);break;case'bestScore':default:_0x57dedc=_0x2e6816[_0x3dc6c8(0x20f)],_0x5499b5=_0x1a7ca8[_0x3dc6c8(0x20f)];break;}if(_0x57dedc<_0x5499b5)return quizLeaderboardSortOrder===_0x3dc6c8(0x76c)?-0x1:0x1;if(_0x57dedc>_0x5499b5)return quizLeaderboardSortOrder===_0x3dc6c8(0x76c)?0x1:-0x1;return 0x0;});const _0x421be9=_0x58dc30[_0xe3fbde(0x93f)]===!![],_0x5c9704=_0x58dc30[_0xe3fbde(0x6ce)]?.[_0xe3fbde(0x24b)]??-0x1;let _0x53335d='';_0x3e56d3['forEach']((_0x587166,_0x130744)=>{const _0x18dadf=_0xe3fbde,_0x4242ba=_0x130744+0x1;let _0x307f37=_0x18dadf(0x1e7);if(_0x421be9||_0x5c9704!==-0x1){let _0x250c0b=_0x421be9?_0x587166[_0x18dadf(0x20f)]===_0x3dc57f:_0x587166[_0x18dadf(0x20f)]>=_0x5c9704;const _0x2752ee=_0x250c0b?_0x18dadf(0xb13):_0x18dadf(0x4f2),_0x2e655c=_0x250c0b?_0x18dadf(0xcff):_0x18dadf(0x7f4);_0x307f37=_0x18dadf(0x9ec)+_0x2752ee+'\x22>'+_0x2e655c+_0x18dadf(0x178);}const _0x149c58=_0x587166[_0x18dadf(0xa66)][_0x587166['attempts']['length']-0x1],_0x19b737=(_0x149c58[_0x18dadf(0x17f)]||[])[_0x18dadf(0xe49)](_0x1539da=>{const _0x4088c8=_0x18dadf,_0x4b418b=Object[_0x4088c8(0x282)](BADGES)['find'](_0x152d22=>_0x152d22['id']===_0x1539da);return _0x4b418b?'<span\x20title=\x22'+_0x4b418b[_0x4088c8(0x34a)]+_0x4088c8(0xe85)+_0x4b418b[_0x4088c8(0x3b1)]+_0x4088c8(0x784):'';})[_0x18dadf(0xbb2)]('');_0x53335d+=_0x18dadf(0xa92)+_0x4242ba+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x587166['studentName']+_0x18dadf(0x219)+_0x587166[_0x18dadf(0x20f)]+_0x18dadf(0xb54)+_0x3dc57f+_0x18dadf(0xbe6)+_0x307f37+_0x18dadf(0x71f)+(_0x587166[_0x18dadf(0xc6a)]||0x0)[_0x18dadf(0x6ee)]()+_0x18dadf(0xbe6)+(_0x115249?'':_0x18dadf(0x925)+(_0x587166[_0x18dadf(0xa66)]?.[_0x18dadf(0x752)]||0x1)+_0x18dadf(0x3c3))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x115249?'':_0x18dadf(0xae0)+new Date(_0x587166['latestSubmittedAt'])[_0x18dadf(0x6ee)](_0x18dadf(0x7c5))+'</td>')+_0x18dadf(0x848)+(_0x19b737||'-')+_0x18dadf(0x6f7);}),_0x75cc15[_0xe3fbde(0xa16)]=_0x53335d,_0x57009d&&!_0x115249&&_0x57009d['querySelectorAll'](_0xe3fbde(0x24c))[_0xe3fbde(0x39f)](_0x230bfd=>{const _0x29665b=_0xe3fbde,_0x2c37a8=_0x230bfd[_0x29665b(0xc60)](_0x29665b(0x953));if(_0x2c37a8)_0x2c37a8['remove']();_0x230bfd[_0x29665b(0x134)][_0x29665b(0x41f)]===quizLeaderboardSortBy&&(_0x230bfd[_0x29665b(0xa16)]+='<span\x20class=\x22sort-indicator\x20ml-2\x22>'+(quizLeaderboardSortOrder==='asc'?'▲':'▼')+_0x29665b(0x990));});}async function handleDeleteSubmission(_0x5f5dfd){const _0x3a120a=_0x2bcb18;if(!currentQuizData||!currentQuizData['id']||!_0x5f5dfd){showMessage(_0x3a120a(0x412));return;}showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22'+_0x5f5dfd+_0x3a120a(0x162),async()=>{const _0x2ad01a=_0x3a120a,_0xe9408c=currentQuizData['id'],_0x1f782e=doc(db,_0x2ad01a(0x6e6)+appId+_0x2ad01a(0x133)+_0xe9408c+_0x2ad01a(0x2f0),_0x5f5dfd);try{await deleteDoc(_0x1f782e),showMessage(_0x2ad01a(0x3f0)+_0x5f5dfd+_0x2ad01a(0x8c7));}catch(_0x371bb9){console[_0x2ad01a(0x1ac)](_0x2ad01a(0x269),_0x371bb9),showMessage(_0x2ad01a(0xc9a));}});}async function handleLoadQuiz(){const _0x4bb0a8=_0x2bcb18,_0x375006=document['getElementById'](_0x4bb0a8(0xe9c)),_0x25c8d9=_0x375006[_0x4bb0a8(0x99c)][_0x4bb0a8(0xa4d)]();if(!_0x25c8d9){showMessage(_0x4bb0a8(0xd3e));return;}loadQuizBtn[_0x4bb0a8(0xad6)]=!![],loadQuizBtn['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...';try{const _0x489e65=doc(db,_0x4bb0a8(0x6e6)+appId+_0x4bb0a8(0x993),_0x25c8d9),_0x45e4fa=await getDoc(_0x489e65);if(!_0x45e4fa['exists']()){showMessage('ไม่พบแบบทดสอบสำหรับรหัสนี้');return;}currentQuizData={'id':_0x45e4fa['id'],..._0x45e4fa['data']()};const _0x10b743=currentQuizData[_0x4bb0a8(0x1f8)]||_0x4bb0a8(0x76a),_0x2ad48f=new Date();if(_0x10b743===_0x4bb0a8(0x410)){showMessage(_0x4bb0a8(0x332));return;}if(_0x10b743==='scheduled'){const _0x18a4c1=currentQuizData[_0x4bb0a8(0x4f1)]?new Date(currentQuizData[_0x4bb0a8(0x4f1)]):null,_0xea1868=currentQuizData['endTime']?new Date(currentQuizData[_0x4bb0a8(0x9e0)]):null;if(_0x18a4c1&&_0x2ad48f<_0x18a4c1){showMessage(_0x4bb0a8(0xe58)+_0x18a4c1[_0x4bb0a8(0x6ee)](_0x4bb0a8(0x7c5),{'hour12':![]}));return;}if(_0xea1868&&_0x2ad48f>_0xea1868){showMessage(_0x4bb0a8(0xbbe));return;}}const _0xe55b3=currentQuizData[_0x4bb0a8(0xc80)];currentProjectId=_0xe55b3;const _0x343d90=doc(db,'artifacts/'+appId+'/public/data/projects',_0xe55b3),_0x5d51c2=await getDoc(_0x343d90);if(!_0x5d51c2[_0x4bb0a8(0x7d2)]()){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้');return;}const _0x2c2965=_0x5d51c2[_0x4bb0a8(0x13f)]();currentStudentProjectData=_0x2c2965,displayStudentNameSelector(_0x2c2965[_0x4bb0a8(0x950)],currentQuizData[_0x4bb0a8(0x79c)]);}catch(_0x352635){console[_0x4bb0a8(0x1ac)](_0x4bb0a8(0x4ee),_0x352635),showMessage('เกิดข้อผิดพลาดในการโหลดแบบทดสอบ');}finally{loadQuizBtn[_0x4bb0a8(0xad6)]=![],loadQuizBtn[_0x4bb0a8(0xa16)]='<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ';}}async function handleManualEditPoints(_0x14b51c,_0x5f1d6b){const _0x3e31c1=_0x2bcb18;if(!currentQuizData||!currentQuizData['id'])return;const _0x3609e9=currentQuizData['id'],_0x7624e0=doc(db,_0x3e31c1(0x6e6)+appId+_0x3e31c1(0x133)+_0x3609e9+_0x3e31c1(0x2f0),_0x14b51c);try{const _0x43e6ea=await getDoc(_0x7624e0);if(!_0x43e6ea[_0x3e31c1(0x7d2)]())return;const _0x444017=_0x43e6ea[_0x3e31c1(0x13f)](),_0x341d98=_0x444017[_0x3e31c1(0xa66)]||[];_0x341d98[_0x3e31c1(0x752)]>0x0&&(_0x341d98[_0x341d98[_0x3e31c1(0x752)]-0x1]['points']=_0x5f1d6b,_0x341d98[_0x341d98[_0x3e31c1(0x752)]-0x1][_0x3e31c1(0x4b9)]=!![]),await updateDoc(_0x7624e0,{'points':_0x5f1d6b,'attempts':_0x341d98}),currentProjectData&&currentProjectId&&await updateStudentProfile(currentProjectId,_0x14b51c),showMessage(_0x3e31c1(0x621)+_0x14b51c+_0x3e31c1(0x2c2)+_0x5f1d6b+_0x3e31c1(0x508));}catch(_0x4c7a42){console[_0x3e31c1(0x1ac)](_0x3e31c1(0xb12),_0x4c7a42),showMessage(_0x3e31c1(0x6f2));}}async function handleJoinLiveGame(){const _0x5b343e=_0x2bcb18,_0x27d604=document[_0x5b343e(0x932)](_0x5b343e(0xbef)),_0x51f882=document[_0x5b343e(0x932)](_0x5b343e(0x289)),_0x55889d=document['getElementById'](_0x5b343e(0xa58)),_0x115ee9=_0x27d604[_0x5b343e(0x99c)][_0x5b343e(0xa4d)](),_0x108f54=_0x51f882['value']['trim']();if(!_0x115ee9||!_0x108f54){showMessage(_0x5b343e(0xeaf));return;}_0x55889d['disabled']=!![],_0x55889d[_0x5b343e(0xa16)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...';try{const _0x440054=collection(db,'artifacts/'+appId+_0x5b343e(0x2ef)),_0x4dc088=query(_0x440054,where(_0x5b343e(0x365),'==',_0x115ee9),where(_0x5b343e(0x1f8),'in',[_0x5b343e(0x182),_0x5b343e(0xb8f),_0x5b343e(0x671),_0x5b343e(0xd37)])),_0x479076=await getDocs(_0x4dc088);if(_0x479076['empty']){const _0x41b3e7=collection(db,_0x5b343e(0x6e6)+appId+_0x5b343e(0x903)),_0x1c580f=query(_0x41b3e7,where(_0x5b343e(0xbc0),'==',_0x115ee9)),_0x3306f8=await getDocs(_0x1c580f);if(!_0x3306f8[_0x5b343e(0xab2)]){await proceedWithTeamQuizJoin(_0x3306f8[_0x5b343e(0x9ef)][0x0]);return;}showMessage(_0x5b343e(0x65e));return;}const _0x544cbd=_0x479076[_0x5b343e(0x9ef)][0x0];currentLiveGameId=_0x544cbd['id'];const _0x2c4b47=_0x544cbd[_0x5b343e(0x13f)](),_0x2bba12=doc(db,_0x5b343e(0x6e6)+appId+_0x5b343e(0x993),_0x2c4b47[_0x5b343e(0xa91)]),_0x24fd43=await getDoc(_0x2bba12);_0x24fd43[_0x5b343e(0x7d2)]()&&(currentQuizData=_0x2c4b47[_0x5b343e(0x450)]);const _0x5712d0=doc(db,_0x5b343e(0x6e6)+appId+_0x5b343e(0xd31)+currentLiveGameId+_0x5b343e(0xaf4),_0x108f54),_0x1d3fb2=await getDoc(_0x5712d0);if(_0x1d3fb2[_0x5b343e(0x7d2)]())_0x55889d[_0x5b343e(0xa16)]=_0x5b343e(0xa6c),await updateDoc(_0x5712d0,{'status':_0x5b343e(0x76a)}),showMessage(_0x5b343e(0xab9)+_0x108f54+'!\x20ข้อมูลของคุณถูกกู้คืนแล้ว');else{if(_0x2c4b47['status']!==_0x5b343e(0x182)){}_0x55889d[_0x5b343e(0xa16)]=_0x5b343e(0x494);const _0xf1b9ed={'name':_0x108f54,'score':0x0,'totalPoints':0x0,'pointsLastRound':0x0,'powerups':{'fiftyFifty':0x0,'secondChance':0x0,'buyTime':0x0,'poll':0x0,'wagerMultiplier':0x0,'forceConfident':0x0,'cutOne':0x0,'insurance':0x0,'strategyScan':0x0,'jinx':0x0,'revealOptions':0x0},'answered':![],'status':'active','answers':[],'joinedAt':serverTimestamp(),'isJinxed':![],'isForcedConfident':![],'timeBonusThisQuestion':0x0};await setDoc(_0x5712d0,_0xf1b9ed);}currentStudentName=_0x108f54,localTeamPlayers=[_0x108f54],showView('live-game'),listenForSyncGameUpdates();const _0x42c51a={'gameId':currentLiveGameId,'mode':_0x5b343e(0xe51),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage['setItem'](_0x5b343e(0x15d),JSON[_0x5b343e(0x692)](_0x42c51a)),currentMode!=='admin-testing'&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x5b343e(0x639)](_0x5b343e(0xd12),handleFullscreenChange),document[_0x5b343e(0x639)](_0x5b343e(0x18e),handleVisibilityChange),enterFullscreen(),window[_0x5b343e(0x639)](_0x5b343e(0x22b),resetDimTimer),window[_0x5b343e(0x639)](_0x5b343e(0xd8e),resetDimTimer),window[_0x5b343e(0x639)]('touchstart',resetDimTimer),window[_0x5b343e(0x639)](_0x5b343e(0x78b),resetDimTimer),resetDimTimer());}catch(_0x1f6e14){console['error']('Error\x20joining\x20live\x20game:',_0x1f6e14),showMessage(_0x5b343e(0x6a4)+_0x1f6e14[_0x5b343e(0x523)]);}finally{_0x55889d[_0x5b343e(0xad6)]=![];if(_0x55889d[_0x5b343e(0xa16)][_0x5b343e(0xd2e)](_0x5b343e(0x70a)))_0x55889d[_0x5b343e(0xa16)]=_0x5b343e(0xb33);}}function displayStudentNameSelector(_0x1a1a8a,_0x34ee44){const _0x25279b=_0x2bcb18,_0x734089=document[_0x25279b(0x932)]('student-name-select');document[_0x25279b(0x932)](_0x25279b(0xcc2))['textContent']='แบบทดสอบ:\x20'+_0x34ee44,!_0x1a1a8a||_0x1a1a8a['length']===0x0?(_0x734089[_0x25279b(0xa16)]=_0x25279b(0x7c0),startQuizBtn['disabled']=!![]):(_0x734089[_0x25279b(0xa16)]=_0x25279b(0xc4d),_0x1a1a8a[_0x25279b(0x39f)](_0x1b1b2f=>{const _0xf2956f=_0x25279b,_0x4c5dce=document[_0xf2956f(0xc95)](_0xf2956f(0x4bf));_0x4c5dce[_0xf2956f(0x99c)]=_0x1b1b2f,_0x4c5dce['textContent']=_0x1b1b2f,_0x734089['appendChild'](_0x4c5dce);}),startQuizBtn[_0x25279b(0xad6)]=![]),studentInitialView['classList'][_0x25279b(0x4a6)]('hidden'),studentNameSelectionView[_0x25279b(0x360)][_0x25279b(0xcc8)](_0x25279b(0x2f2));}function shuffleArray(_0x567478){const _0x1f2693=_0x2bcb18;for(let _0x18aed5=_0x567478[_0x1f2693(0x752)]-0x1;_0x18aed5>0x0;_0x18aed5--){const _0x27e757=Math[_0x1f2693(0x4cf)](Math['random']()*(_0x18aed5+0x1));[_0x567478[_0x18aed5],_0x567478[_0x27e757]]=[_0x567478[_0x27e757],_0x567478[_0x18aed5]];}}function getShuffledQuiz(_0x52db3c){const _0x5521de=_0x2bcb18;let _0x31e994=JSON[_0x5521de(0x4bd)](JSON[_0x5521de(0x692)](_0x52db3c));const _0x1e1e38=_0x31e994[_0x5521de(0x6ce)]?.[_0x5521de(0x5d2)]||'none';if(_0x1e1e38===_0x5521de(0x7dc))return _0x31e994;return(_0x1e1e38===_0x5521de(0x762)||_0x1e1e38==='both')&&shuffleArray(_0x31e994['questions']),(_0x1e1e38===_0x5521de(0x283)||_0x1e1e38===_0x5521de(0xb14))&&_0x31e994[_0x5521de(0xc46)]['forEach'](_0x22b125=>{const _0x511c0b=_0x5521de,_0x14820b=_0x22b125[_0x511c0b(0x2ed)]||_0x31e994['quizType'];if(_0x22b125[_0x511c0b(0x3e2)]){let _0x4e1f1f=_0x22b125[_0x511c0b(0x3e2)]['map']((_0x5ba91d,_0x48db5c)=>({'text':_0x5ba91d,'isCorrect':_0x48db5c===_0x22b125[_0x511c0b(0x52a)]}));shuffleArray(_0x4e1f1f),_0x22b125[_0x511c0b(0x3e2)]=_0x4e1f1f[_0x511c0b(0xe49)](_0x3c5740=>_0x3c5740[_0x511c0b(0x13d)]),_0x22b125[_0x511c0b(0x52a)]=_0x4e1f1f[_0x511c0b(0x2b7)](_0x366a78=>_0x366a78[_0x511c0b(0x129)]);}_0x14820b===_0x511c0b(0xb08)&&_0x22b125[_0x511c0b(0x66a)]&&shuffleArray(_0x22b125[_0x511c0b(0x66a)]);}),_0x31e994;}function displayQuizForStudent(_0x1cd51f){const _0x5c498b=_0x2bcb18;studentQuizArea[_0x5c498b(0x360)][_0x5c498b(0xcc8)](_0x5c498b(0x2f2)),currentDisplayedQuiz=getShuffledQuiz(_0x1cd51f);currentMode!=='admin-testing'&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x5c498b(0x639)](_0x5c498b(0xd12),handleFullscreenChange),document[_0x5c498b(0x639)](_0x5c498b(0x18e),handleVisibilityChange),enterFullscreen(),window[_0x5c498b(0x639)](_0x5c498b(0x22b),resetDimTimer),window[_0x5c498b(0x639)](_0x5c498b(0xd8e),resetDimTimer),window[_0x5c498b(0x639)](_0x5c498b(0x393),resetDimTimer),window[_0x5c498b(0x639)](_0x5c498b(0x78b),resetDimTimer),resetDimTimer());const _0xed4c6a=currentDisplayedQuiz[_0x5c498b(0x6ce)]?.[_0x5c498b(0x33e)]||_0x5c498b(0x7dc);if(_0xed4c6a==='whole_quiz')renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0x5c498b(0x6ce)][_0x5c498b(0x460)]);else _0xed4c6a==='per_question'?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}window['toggleMathDropdown']=function(_0x422a8c){const _0x33c07a=_0x2bcb18,_0x3e35f8=document['getElementById']('dropdown-list-'+_0x422a8c),_0x45f8f1=document['querySelectorAll']('[id^=\x22dropdown-list-\x22]');_0x45f8f1[_0x33c07a(0x39f)](_0x4cb545=>{const _0x1b379e=_0x33c07a;if(_0x4cb545['id']!==_0x1b379e(0xafe)+_0x422a8c)_0x4cb545[_0x1b379e(0x360)][_0x1b379e(0x4a6)](_0x1b379e(0x2f2));});if(_0x3e35f8)_0x3e35f8[_0x33c07a(0x360)][_0x33c07a(0xaa3)]('hidden');},window['selectMathOption']=function(_0x151bd9,_0x4128c0){const _0x565789=_0x2bcb18,_0x3b657c=currentDisplayedQuiz;if(!_0x3b657c)return;const _0x52d586=_0x3b657c[_0x565789(0xc46)][_0x151bd9],_0x568c1c=_0x52d586[_0x565789(0x66a)][_0x4128c0],_0x1ad68d=document[_0x565789(0x932)](_0x565789(0xd99)+_0x151bd9);if(_0x1ad68d)_0x1ad68d[_0x565789(0x99c)]=_0x568c1c;const _0x533c4a=document[_0x565789(0x932)]('selected-text-'+_0x151bd9);if(_0x533c4a){_0x533c4a['innerHTML']=_0x568c1c;if(window[_0x565789(0x7f9)])MathJax[_0x565789(0xd3d)]([_0x533c4a]);_0x533c4a['classList']['add'](_0x565789(0x296),_0x565789(0x4b2));}const _0x5a64ee=document[_0x565789(0x932)](_0x565789(0xafe)+_0x151bd9);if(_0x5a64ee)_0x5a64ee[_0x565789(0x360)][_0x565789(0x4a6)]('hidden');},document[_0x2bcb18(0x639)]('click',_0x56ba92=>{const _0x39acdc=_0x2bcb18;!_0x56ba92[_0x39acdc(0x5f8)][_0x39acdc(0x1d0)]('.custom-math-dropdown')&&document[_0x39acdc(0x38e)]('[id^=\x22dropdown-list-\x22]')[_0x39acdc(0x39f)](_0x5914c6=>_0x5914c6[_0x39acdc(0x360)][_0x39acdc(0x4a6)](_0x39acdc(0x2f2)));});function renderFullQuizForm(){const _0x3f2903=_0x2bcb18,_0x3bea88=currentDisplayedQuiz[_0x3f2903(0x6ce)]?.[_0x3f2903(0x887)]===!![],_0x1631bd=currentDisplayedQuiz[_0x3f2903(0x6ce)]?.[_0x3f2903(0x73f)]||_0x3f2903(0xe9e);let _0x3cfcbd=![],_0x575f42=_0x3f2903(0x94b)+currentDisplayedQuiz[_0x3f2903(0x79c)]+_0x3f2903(0x5cc)+(currentMode===_0x3f2903(0x832)?_0x3f2903(0x29e):'')+_0x3f2903(0xd4d);currentDisplayedQuiz[_0x3f2903(0xc46)][_0x3f2903(0x39f)]((_0x56161d,_0x535316)=>{const _0x12b22b=_0x3f2903,_0x58b1fa=_0x56161d['questionType']||currentDisplayedQuiz[_0x12b22b(0x2de)],_0x460688=_0x12b22b(0x6c4)+(0x64-_0x535316)+';';_0x58b1fa===_0x12b22b(0xb08)&&!_0x3cfcbd&&(_0x575f42+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20mb-6\x20p-4\x20bg-indigo-50\x20border-l-4\x20border-indigo-500\x20text-indigo-900\x20rounded-r-lg\x20shadow-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-bold\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exchange-alt\x20mr-3\x22></i>\x20คำชี้แจง:\x20จับคู่ข้อความต่อไปนี้ให้ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x3cfcbd=!![]);_0x575f42+=_0x12b22b(0x563)+_0x460688+'\x22>';_0x58b1fa!==_0x12b22b(0xb08)&&(_0x575f42+=_0x12b22b(0xb5a)+(_0x535316+0x1)+'.\x20'+(_0x56161d[_0x12b22b(0x87f)]||_0x56161d[_0x12b22b(0xca8)])+_0x12b22b(0xc12)+(_0x56161d[_0x12b22b(0xe40)]?_0x12b22b(0x66f)+_0x56161d[_0x12b22b(0xe40)]+_0x12b22b(0x1f5):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');_0x575f42+=_0x12b22b(0xb0b);if(_0x58b1fa===_0x12b22b(0xb08)&&_0x56161d['allResponses'])_0x575f42+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20sm:flex-row\x20sm:items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20sm:w-1/2\x20p-3\x20bg-blue-50\x20rounded\x20border\x20border-blue-100\x20font-semibold\x20text-blue-800\x20flex\x20items-start\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-indigo-600\x20text-lg\x20mt-[-2px]\x22>'+(_0x535316+0x1)+_0x12b22b(0xcae)+_0x56161d[_0x12b22b(0x58b)]+_0x12b22b(0xd11)+_0x535316+_0x12b22b(0xb78)+_0x535316+_0x12b22b(0x632)+_0x535316+')\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22selected-text-'+_0x535316+'\x22\x20class=\x22truncate\x20text-gray-500\x22>--\x20เลือกคำตอบ\x20--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-down\x20text-gray-400\x20text-sm\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22dropdown-list-'+_0x535316+_0x12b22b(0x607)+_0x56161d[_0x12b22b(0x66a)]['map']((_0x5c82cc,_0x45ac73)=>_0x12b22b(0xcab)+_0x535316+',\x20'+_0x45ac73+_0x12b22b(0x141)+_0x5c82cc+_0x12b22b(0xd0e))[_0x12b22b(0xbb2)]('')+_0x12b22b(0x1b5);else{if(_0x58b1fa==='true_false')_0x575f42+=_0x12b22b(0x6be)+_0x535316+'_opt0\x22\x20name=\x22question'+_0x535316+_0x12b22b(0x6bd)+_0x535316+'_opt0\x22>ใช่</label></div>',_0x575f42+=_0x12b22b(0x6be)+_0x535316+_0x12b22b(0x8e0)+_0x535316+_0x12b22b(0xbf3)+_0x535316+_0x12b22b(0xc4b);else _0x56161d['options']&&Array[_0x12b22b(0x750)](_0x56161d[_0x12b22b(0x3e2)])&&_0x56161d[_0x12b22b(0x3e2)][_0x12b22b(0x752)]>0x0?_0x575f42+=_0x56161d[_0x12b22b(0x3e2)]['map']((_0x907a7,_0x529020)=>_0x12b22b(0x2db)+_0x535316+_0x12b22b(0x435)+_0x529020+_0x12b22b(0x505)+_0x535316+_0x12b22b(0xe45)+_0x529020+_0x12b22b(0x60b)+_0x535316+_0x12b22b(0x435)+_0x529020+'\x22>'+_0x907a7+_0x12b22b(0xcc7))[_0x12b22b(0xbb2)](''):_0x575f42+=_0x12b22b(0x5f4)+_0x535316+_0x12b22b(0x658);}_0x575f42+='</div>',_0x3bea88&&(_0x575f42+=_0x12b22b(0x8b4),_0x1631bd===_0x12b22b(0xc24)?_0x575f42+=_0x12b22b(0xb66)+_0x535316+_0x12b22b(0xbce)+_0x535316+'\x22\x20value=\x22\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20confident\x22\x20data-question-index=\x22'+_0x535316+_0x12b22b(0xe4e)+_0x535316+'\x22\x20data-value=\x22not_confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-meh\x20mr-2\x22></i>ไม่มั่นใจ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x575f42+=_0x12b22b(0x327)+_0x535316+_0x12b22b(0xbce)+_0x535316+_0x12b22b(0x5de)+_0x535316+_0x12b22b(0xd05),_0x575f42+=_0x12b22b(0x1f5)),_0x575f42+=_0x12b22b(0x1f5);}),_0x575f42+=_0x3f2903(0x2a0),_0x575f42+=_0x3f2903(0x83d),studentQuizArea[_0x3f2903(0xa16)]=_0x575f42;if(currentMode===_0x3f2903(0x832)){const _0x4ad891=document[_0x3f2903(0x932)](_0x3f2903(0x60a));if(_0x4ad891)_0x4ad891[_0x3f2903(0x639)](_0x3f2903(0x164),cancelAdminTest);}const _0x25f081=document[_0x3f2903(0x932)](_0x3f2903(0x458));_0x25f081&&(_0x25f081['addEventListener']('submit',handleSubmitQuiz),_0x25f081[_0x3f2903(0x639)]('click',_0x19a3fd=>{const _0x3bf26a=_0x3f2903;if(_0x19a3fd[_0x3bf26a(0x5f8)][_0x3bf26a(0x360)]['contains']('confidence-choice-btn')){const _0x146225=_0x19a3fd[_0x3bf26a(0x5f8)],_0x495854=_0x146225[_0x3bf26a(0x134)][_0x3bf26a(0xa22)],_0x1f1fc8=_0x146225['dataset'][_0x3bf26a(0x99c)];document['getElementById']('confidence-input-'+_0x495854)[_0x3bf26a(0x99c)]=_0x1f1fc8;const _0xf14a98=_0x146225[_0x3bf26a(0x906)];_0xf14a98['querySelectorAll']('.confidence-choice-btn')[_0x3bf26a(0x39f)](_0x3cf741=>_0x3cf741[_0x3bf26a(0x360)][_0x3bf26a(0xcc8)](_0x3bf26a(0x76a))),_0x146225[_0x3bf26a(0x360)]['add']('active');}})),window[_0x3f2903(0x7f9)]&&setTimeout(()=>{const _0x4b7750=_0x3f2903;window['MathJax'][_0x4b7750(0xd3d)]([studentQuizArea]);},0x32);}async function handleSubmitQuiz(_0x5bd988){const _0x42dbf2=_0x2bcb18;if(_0x5bd988)_0x5bd988[_0x42dbf2(0xcfb)]();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x5a98ff=document[_0x42dbf2(0x932)](_0x42dbf2(0x458));if(!_0x5a98ff)return;const _0x14ee7f=currentDisplayedQuiz['settings']?.[_0x42dbf2(0x887)]===!![],_0x6e0e39=currentDisplayedQuiz[_0x42dbf2(0x6ce)]?.[_0x42dbf2(0x73f)]||_0x42dbf2(0xe9e);if(_0x14ee7f&&_0x6e0e39==='mandatory'){let _0x14248c=!![];for(let _0xe08e6f=0x0;_0xe08e6f<currentDisplayedQuiz[_0x42dbf2(0xc46)][_0x42dbf2(0x752)];_0xe08e6f++){const _0x5afa49=_0x5a98ff[_0x42dbf2(0xc60)](_0x42dbf2(0xcd7)+_0xe08e6f);if(!_0x5afa49||_0x5afa49[_0x42dbf2(0x99c)]===''){_0x14248c=![];break;}}if(!_0x14248c){showMessage(_0x42dbf2(0x721));return;}}const _0x5e8841=_0x5a98ff[_0x42dbf2(0xc60)](_0x42dbf2(0xc45)),_0x598828=currentDisplayedQuiz['questions'][_0x42dbf2(0x93a)](_0x152b93=>_0x152b93['questionType']===_0x42dbf2(0xafb));_0x5e8841&&(_0x5e8841['disabled']=!![],_0x5e8841[_0x42dbf2(0xa16)]=_0x598828?_0x42dbf2(0xb22):_0x42dbf2(0x7d7));const _0x3f3ad0=new FormData(_0x5a98ff),_0x23d6a3=currentDisplayedQuiz['questions']['map']((_0x187954,_0x2455f0)=>{const _0x1e1829=_0x42dbf2,_0x44ae30=_0x3f3ad0['get'](_0x1e1829(0xb8f)+_0x2455f0);let _0x1d0e70;_0x6e0e39==='mandatory'?_0x1d0e70=_0x3f3ad0[_0x1e1829(0x964)]('confidence'+_0x2455f0):_0x1d0e70=_0x3f3ad0['get'](_0x1e1829(0xa33)+_0x2455f0)==='on';let _0x4c7c85=null;if(_0x44ae30!==null&&_0x44ae30!==undefined){const _0xb97ab1=_0x187954[_0x1e1829(0x2ed)]||currentDisplayedQuiz['quizType'];_0xb97ab1===_0x1e1829(0x47e)||_0xb97ab1==='fill_in_the_blank'?_0x4c7c85=parseInt(_0x44ae30):_0x4c7c85=_0x44ae30;}return{'answer':_0x4c7c85,'wasConfident':_0x1d0e70};}),_0x5161c6=currentQuizData['id'],_0xe66f8a=doc(db,_0x42dbf2(0x6e6)+appId+'/public/data/quizzes/'+_0x5161c6+_0x42dbf2(0x2f0),currentStudentName),_0x47dd7c=await getDoc(_0xe66f8a),_0xe228c4=_0x47dd7c[_0x42dbf2(0x7d2)]()?_0x47dd7c['data']():{},_0x25761c=_0xe228c4[_0x42dbf2(0xa66)]||[];await processAndSubmitAnswers(_0x23d6a3,_0x25761c);}async function gradeShortAnswerWithAI(_0x3d01c2,_0x5f56ea){const _0x48fd69=_0x2bcb18;if(!_0x3d01c2||!_0x5f56ea)return![];try{const _0x154ade=_0x48fd69(0x392)+_0x3d01c2+'\x22.\x20Ideal\x20Answer:\x20\x22'+_0x5f56ea+_0x48fd69(0x22e),_0x369d97={'contents':[{'role':_0x48fd69(0x660),'parts':[{'text':_0x154ade}]}]},_0x16310b=_0x48fd69(0x40e),_0x119387=_0x48fd69(0xddb)+_0x16310b,_0x286d4b=await fetch(_0x119387,{'method':'POST','headers':{'Content-Type':_0x48fd69(0x7f5)},'body':JSON[_0x48fd69(0x692)](_0x369d97)});if(!_0x286d4b['ok'])throw new Error('API\x20call\x20failed');const _0xacc85c=await _0x286d4b['json'](),_0x181730=_0xacc85c[_0x48fd69(0xa28)][0x0][_0x48fd69(0x780)]['parts'][0x0][_0x48fd69(0x13d)][_0x48fd69(0xa4d)]()[_0x48fd69(0x4ea)]();return _0x181730==='true';}catch(_0x4fe9c8){return console[_0x48fd69(0x1ac)](_0x48fd69(0x93d),_0x4fe9c8),![];}}async function processAndSubmitAnswers(_0x5ab3bc,_0x43ec81){const _0x35bdaf=_0x2bcb18;releaseWakeLock(),stopDimTimer();try{document[_0x35bdaf(0x805)]&&await document['exitFullscreen']();}catch(_0x54d3c7){console['warn'](_0x35bdaf(0x507),_0x54d3c7);}isQuizActive=![],document[_0x35bdaf(0x9c9)](_0x35bdaf(0xd12),handleFullscreenChange),document[_0x35bdaf(0x9c9)](_0x35bdaf(0x18e),handleVisibilityChange);let _0x2fbf86=0x0;const _0x55fd83=[],_0x4be7f9=currentDisplayedQuiz[_0x35bdaf(0xc46)][_0x35bdaf(0x752)];let _0x1d0150=0x0,_0x238da0=[];const _0x257e70=currentDisplayedQuiz['questions'];for(let _0x3e1893=0x0;_0x3e1893<_0x257e70[_0x35bdaf(0x752)];_0x3e1893++){const _0x105494=_0x257e70[_0x3e1893],_0xc42af7=_0x5ab3bc[_0x3e1893],_0x1f0593=_0xc42af7?_0xc42af7['answer']:null,_0x39a5c8=_0xc42af7?_0xc42af7[_0x35bdaf(0xcec)]:null;let _0x37a87a=![],_0x77ddd7=0x0;if(_0x1f0593!==null&&_0x1f0593!==''){const _0x459ee2=_0x105494[_0x35bdaf(0x2ed)]||currentDisplayedQuiz[_0x35bdaf(0x2de)];switch(_0x459ee2){case _0x35bdaf(0xb08):_0x37a87a=_0x1f0593===_0x105494[_0x35bdaf(0xd79)];break;case _0x35bdaf(0x827):const _0x5549a4=_0x1f0593===!![]||_0x1f0593==='true';_0x37a87a=_0x5549a4===_0x105494['correctAnswer'];break;case _0x35bdaf(0xceb):case _0x35bdaf(0xafb):_0x37a87a=await gradeShortAnswer(_0x1f0593,_0x105494);break;case _0x35bdaf(0x47e):case _0x35bdaf(0xa65):default:_0x37a87a=Number(_0x1f0593)===_0x105494['correctAnswerIndex'];break;}}if(currentDisplayedQuiz[_0x35bdaf(0x6ce)]?.['isConfidenceScoringEnabled']){const _0x3c46d7=_0xc42af7?_0xc42af7[_0x35bdaf(0xcec)]:null;if(_0x37a87a&&(_0x3c46d7===!![]||_0x3c46d7==='confident'))_0x77ddd7=0x2;else{if(_0x37a87a)_0x77ddd7=0x1;else{if(!_0x37a87a&&(_0x3c46d7===![]||_0x3c46d7===_0x35bdaf(0x9e8)||_0x3c46d7===null))_0x77ddd7=0x0;else!_0x37a87a&&(_0x3c46d7===!![]||_0x3c46d7===_0x35bdaf(0x8e9))&&(_0x77ddd7=-0x1);}}}else _0x77ddd7=_0x37a87a?0x1:0x0;_0x2fbf86+=_0x77ddd7;if(_0x37a87a){_0x1d0150++;if(_0x1d0150===0x3)_0x238da0[_0x35bdaf(0xe86)](BADGES['ON_FIRE']['id']);}else _0x1d0150=0x0;let _0x1e5626=null;_0x105494[_0x35bdaf(0x3e2)]&&(_0x105494['questionType']==='multiple_choice'||_0x105494[_0x35bdaf(0x2ed)]===_0x35bdaf(0xa65))&&_0x1f0593!==null?_0x1e5626=_0x105494[_0x35bdaf(0x3e2)][_0x1f0593]:_0x1e5626=_0x1f0593,_0x55fd83[_0x35bdaf(0xe86)]({'questionId':_0x105494['id'],'answer':_0x1f0593,'answerText':_0x1e5626,'isCorrect':_0x37a87a,'wasConfident':_0x39a5c8,'pointsAwarded':_0x77ddd7,'originalQuestionText':_0x105494[_0x35bdaf(0x58b)]||_0x105494[_0x35bdaf(0xca8)]});}const _0x59477a=_0x55fd83[_0x35bdaf(0x9a7)](_0x559e42=>_0x559e42[_0x35bdaf(0x129)])[_0x35bdaf(0x752)],_0x2d9b9f=currentDisplayedQuiz[_0x35bdaf(0x6ce)]?.['passingScore']??Math[_0x35bdaf(0x4cf)](_0x4be7f9/0x2);_0x59477a===_0x4be7f9&&_0x4be7f9>0x0&&!currentDisplayedQuiz[_0x35bdaf(0x93f)]&&_0x238da0['push'](BADGES['PERFECT_SCORE']['id']);const _0x134108=currentDisplayedQuiz[_0x35bdaf(0x6ce)]?.['timerMode'];if(_0x134108===_0x35bdaf(0x9f3)&&quizStartTime){const _0x241f02=(new Date()-quizStartTime)/0x3e8,_0x447e80=currentDisplayedQuiz['settings'][_0x35bdaf(0x460)]*0x3c;_0x59477a>=_0x2d9b9f&&_0x241f02<_0x447e80/0x2&&_0x238da0[_0x35bdaf(0xe86)](BADGES[_0x35bdaf(0xc59)]['id']);}_0x43ec81[_0x35bdaf(0x752)]===0x0&&_0x59477a===_0x4be7f9&&_0x4be7f9>0x0&&_0x238da0[_0x35bdaf(0xe86)](BADGES[_0x35bdaf(0xdee)]['id']);if(_0x43ec81[_0x35bdaf(0x752)]>0x0){const _0x3441b6=_0x43ec81[0x0]['score'];if(_0x3441b6<_0x2d9b9f&&_0x59477a>=_0x2d9b9f){const _0x5e7d0a=_0x43ec81['some'](_0xaa6e00=>(_0xaa6e00[_0x35bdaf(0x17f)]||[])['includes'](BADGES[_0x35bdaf(0xb68)]['id']));!_0x5e7d0a&&_0x238da0[_0x35bdaf(0xe86)](BADGES[_0x35bdaf(0xb68)]['id']);}}_0x43ec81['length']===0x4&&_0x238da0['push'](BADGES[_0x35bdaf(0x9bc)]['id']);const _0x27f980=currentDisplayedQuiz[_0x35bdaf(0x6ce)][_0x35bdaf(0xe08)];if(currentMode===_0x35bdaf(0x832)){handleResultDisplay(_0x27f980,_0x59477a,_0x2fbf86,_0x238da0,_0x55fd83,_0x4be7f9);return;}const _0x530d33=currentQuizData['id'],_0x299428=doc(db,_0x35bdaf(0x6e6)+appId+_0x35bdaf(0x133)+_0x530d33+_0x35bdaf(0x2f0),currentStudentName);try{const _0x295bea=[..._0x43ec81],_0x34d23d={'score':_0x59477a,'points':_0x2fbf86,'badges':Array[_0x35bdaf(0x337)](new Set(_0x238da0)),'submittedAt':new Date()['toISOString'](),'answers':_0x55fd83};_0x295bea[_0x35bdaf(0xe86)](_0x34d23d);const _0x1d71f2=_0x43ec81[_0x35bdaf(0x752)]===0x0?_0x59477a:_0x43ec81[0x0][_0x35bdaf(0x853)]||0x0,_0x39d4b6=Math[_0x35bdaf(0x824)](..._0x295bea['map'](_0x45991b=>_0x45991b[_0x35bdaf(0x853)]));await setDoc(_0x299428,{'studentName':currentStudentName,'totalQuestions':_0x4be7f9,'attempts':_0x295bea,'firstScore':_0x1d71f2,'bestScore':_0x39d4b6,'latestScore':_0x59477a,'points':_0x2fbf86,'latestSubmittedAt':_0x34d23d[_0x35bdaf(0x3aa)]},{'merge':!![]}),await updateStudentProfile(currentQuizData['projectId'],currentStudentName),handleResultDisplay(_0x27f980,_0x59477a,_0x2fbf86,_0x238da0,_0x55fd83,_0x4be7f9);}catch(_0x307dea){console[_0x35bdaf(0x1ac)](_0x35bdaf(0x5fc),_0x307dea),showMessage(_0x35bdaf(0x60e));}}async function updateStudentProfile(_0x1f2cd6,_0x2f9c59){const _0x33c398=_0x2bcb18,_0xcf4dae=doc(db,_0x33c398(0x6e6)+appId+'/public/data/projects/'+_0x1f2cd6+_0x33c398(0xd5c),_0x2f9c59);try{const _0x160608=query(collection(db,_0x33c398(0x6e6)+appId+'/public/data/quizzes'),where('projectId','==',_0x1f2cd6)),_0x59414e=await getDocs(_0x160608),_0x4dc844=_0x59414e['docs'][_0x33c398(0xe49)](_0x433aa1=>_0x433aa1['id']);let _0x3ed177=0x0;const _0x5ac33f={},_0x5910bd=_0x4dc844[_0x33c398(0xe49)](_0x5f5aa0=>getDoc(doc(db,_0x33c398(0x6e6)+appId+'/public/data/quizzes/'+_0x5f5aa0+_0x33c398(0x2f0),_0x2f9c59))),_0x14b72b=await Promise[_0x33c398(0x6b3)](_0x5910bd);_0x14b72b[_0x33c398(0x39f)](_0x3e24cc=>{const _0x1e729e=_0x33c398;if(_0x3e24cc[_0x1e729e(0x7d2)]()){const _0x4be4cd=_0x3e24cc[_0x1e729e(0x13f)]();_0x3ed177+=_0x4be4cd[_0x1e729e(0xc6a)]||0x0,_0x4be4cd[_0x1e729e(0xa66)]&&_0x4be4cd[_0x1e729e(0xa66)][_0x1e729e(0x39f)](_0x275962=>{const _0x2886e3=_0x1e729e;_0x275962[_0x2886e3(0x17f)]&&_0x275962['badges'][_0x2886e3(0x39f)](_0x11b557=>{});});}}),await setDoc(_0xcf4dae,{'studentName':_0x2f9c59,'totalPoints':_0x3ed177},{'merge':!![]});}catch(_0xc4c069){console[_0x33c398(0x1ac)]('Profile\x20recalculation\x20error:',_0xc4c069);}}function startAdminTest(){const _0x5a0731=_0x2bcb18;if(!currentQuizData){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง');return;}let _0x19459f=JSON[_0x5a0731(0x4bd)](JSON[_0x5a0731(0x692)](currentQuizData));currentMode=_0x5a0731(0x832),currentStudentName=_0x5a0731(0x27c),adminView[_0x5a0731(0x360)][_0x5a0731(0x4a6)](_0x5a0731(0x2f2)),studentView['classList'][_0x5a0731(0xcc8)]('hidden'),studentInitialView[_0x5a0731(0x360)][_0x5a0731(0x4a6)](_0x5a0731(0x2f2)),studentNameSelectionView['classList'][_0x5a0731(0x4a6)](_0x5a0731(0x2f2)),studentResultArea[_0x5a0731(0x360)][_0x5a0731(0x4a6)](_0x5a0731(0x2f2)),studentQuizArea[_0x5a0731(0x360)]['remove'](_0x5a0731(0x2f2)),quizStartTime=new Date(),displayQuizForStudent(_0x19459f);}function handleResultDisplay(_0x4fa17f,_0x4f73ea,_0x134fb7,_0x2e3e9a,_0x290afe,_0x20af35){const _0x521431=_0x2bcb18;if(_0x4fa17f===_0x521431(0xc00)){displaySubmissionConfirmation();return;}const _0x442495=currentDisplayedQuiz[_0x521431(0x6ce)]?.[_0x521431(0x24b)]??Math['floor'](_0x20af35/0x2),_0x58af6a=currentDisplayedQuiz[_0x521431(0x6ce)]?.[_0x521431(0x27e)]??![],_0x139196=currentDisplayedQuiz['settings']?.[_0x521431(0x422)]===!![],_0x47e683=_0x4f73ea<_0x442495,_0x19a413=_0x4fa17f==='half_mark_status'||_0x4fa17f===_0x521431(0x657);if(_0x139196&&_0x47e683&&!_0x19a413){_0x4fa17f===_0x521431(0x6d6)?displayResultsWithAnswers(_0x4f73ea,_0x134fb7,_0x2e3e9a,_0x290afe,_0x20af35,!![]):displayLoopScreen(_0x4f73ea,_0x20af35,_0x4fa17f);return;}if(_0x58af6a&&_0x47e683){startAdaptiveFlow(_0x290afe,_0x4f73ea,_0x20af35);return;}switch(_0x4fa17f){case _0x521431(0x6d6):displayResultsWithAnswers(_0x4f73ea,_0x134fb7,_0x2e3e9a,_0x290afe,_0x20af35);break;case'show_results_only':displayResultsScoreOnly(_0x4f73ea,_0x134fb7,_0x2e3e9a,_0x20af35);break;case'show_pass_fail_only':displayPassFailOnly(_0x4f73ea,_0x20af35);break;case _0x521431(0x516):displayHalfMarkResult(_0x4f73ea,_0x20af35);break;case _0x521431(0x657):displayPerfectScoreResult(_0x4f73ea,_0x20af35);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x2f443d){const _0x1ee1ca=_0x2bcb18;studentReadingArea['innerHTML']=_0x1ee1ca(0xe32);const _0x56c41a='\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2f443d+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20'+simpleMathPrompt+_0x1ee1ca(0xba0),_0x35e35f={'type':'OBJECT','properties':{'questionText':{'type':_0x1ee1ca(0x7d8)},'options':{'type':'ARRAY','items':{'type':_0x1ee1ca(0x7d8)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x1ee1ca(0x7d8)}},'required':[_0x1ee1ca(0xca8),_0x1ee1ca(0x3e2),_0x1ee1ca(0x52a),_0x1ee1ca(0xc94)]},_0x2c5d8a={'type':'OBJECT','properties':{'topic':{'type':'STRING'},'questions':{'type':_0x1ee1ca(0xd66),'items':_0x35e35f}},'required':['topic',_0x1ee1ca(0xc46)]};try{const _0x3bab95=await callAnalysisApi(_0x56c41a,_0x2c5d8a);_0x3bab95[_0x1ee1ca(0x93f)]=!![],studentReadingArea['classList']['add'](_0x1ee1ca(0x2f2));const _0x36993b={...currentDisplayedQuiz[_0x1ee1ca(0x6ce)],'isAdaptive':![],'resultsDisplay':_0x1ee1ca(0x6d6)};_0x3bab95['settings']=_0x36993b,displayQuizForStudent(_0x3bab95);}catch(_0x29cd35){console['error']('Remedial\x20quiz\x20generation\x20failed:',_0x29cd35),showMessage(_0x1ee1ca(0xd8f)),showView('student');}}function displayPassFailOnly(_0x311dd0,_0x5e3210){const _0x47af4d=_0x2bcb18,_0xf330b3=currentDisplayedQuiz[_0x47af4d(0x6ce)]?.[_0x47af4d(0x24b)]??-0x1,_0x3ac682=currentDisplayedQuiz[_0x47af4d(0x93f)]===!![];let _0xe5f539='',_0x1ce09b=![];if(_0x3ac682||_0xf330b3!==-0x1){_0x1ce09b=_0x3ac682?_0x311dd0===_0x5e3210:_0x311dd0>=_0xf330b3;const _0x2cf610=_0x1ce09b?_0x47af4d(0xb13):'bg-red-100\x20text-red-800',_0x1c6a85=_0x1ce09b?_0x47af4d(0xcff):_0x47af4d(0x7f4);_0xe5f539=_0x47af4d(0xae9)+_0x2cf610+'\x22>'+_0x1c6a85+_0x47af4d(0x5e3);}else _0xe5f539=_0x47af4d(0x3d2);let _0x118dd6=_0x47af4d(0xa67)+currentStudentName+_0x47af4d(0xa7c)+_0xe5f539+_0x47af4d(0x8bf);studentResultArea[_0x47af4d(0xa16)]=_0x118dd6,studentResultArea[_0x47af4d(0x360)][_0x47af4d(0xcc8)](_0x47af4d(0x2f2)),studentQuizArea[_0x47af4d(0x360)][_0x47af4d(0x4a6)](_0x47af4d(0x2f2)),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x1ce09b});}function cancelAdminTest(){const _0x5dffc=_0x2bcb18;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document[_0x5dffc(0x9c9)]('fullscreenchange',handleFullscreenChange),document[_0x5dffc(0x9c9)](_0x5dffc(0x18e),handleVisibilityChange),currentMode=_0x5dffc(0xcd1),studentView['classList']['add']('hidden'),adminView[_0x5dffc(0x360)][_0x5dffc(0xcc8)](_0x5dffc(0x2f2)),cameFromBlueprint&&currentBlueprintProjectId?(displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![]):showView(_0x5dffc(0xde7));}function setupResultScreenBackButton(_0x47581f){const _0x1dbe40=_0x2bcb18,_0x574cb7={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x47581f};if(_0x574cb7['isLooping']){const _0x5dcadf=_0x1dbe40(0x5f7);studentResultArea[_0x1dbe40(0x677)](_0x1dbe40(0x764),_0x5dcadf),document[_0x1dbe40(0x932)](_0x1dbe40(0xb25))[_0x1dbe40(0x639)](_0x1dbe40(0x164),()=>{const _0x1d9b3c=_0x1dbe40;studentResultArea['classList']['add'](_0x1d9b3c(0x2f2)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x2a7466=_0x1dbe40(0x4d7),_0x1bb011=currentMode===_0x1dbe40(0x832),_0x508857=_0x1bb011?_0x1dbe40(0x888):_0x1dbe40(0xdbc);let _0x42a748='';_0x574cb7['showRankings']&&(_0x42a748+=_0x1dbe40(0x3f7));let _0x435188=_0x574cb7[_0x1dbe40(0x300)];_0x435188===undefined&&(_0x435188=_0x574cb7[_0x1dbe40(0x853)]<_0x574cb7[_0x1dbe40(0x694)]);_0x435188&&(_0x42a748+='<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>');_0x42a748+=_0x1dbe40(0xc1f)+_0x2a7466+'\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>'+_0x508857+_0x1dbe40(0xa59);const _0x1e2cf3=_0x1dbe40(0x731)+_0x42a748+_0x1dbe40(0x1f5);studentResultArea['insertAdjacentHTML'](_0x1dbe40(0x764),_0x1e2cf3),studentResultArea['querySelector']('#view-rankings-btn')?.[_0x1dbe40(0x639)](_0x1dbe40(0x164),handleShowStudentRankings);const _0x2f6fc1=studentResultArea[_0x1dbe40(0xc60)](_0x1dbe40(0xd22));_0x2f6fc1&&_0x2f6fc1[_0x1dbe40(0x639)](_0x1dbe40(0x164),()=>{const _0x1ee088=_0x1dbe40;studentResultArea[_0x1ee088(0x360)][_0x1ee088(0x4a6)](_0x1ee088(0x2f2)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x1dbe40(0x932)](_0x2a7466)[_0x1dbe40(0x639)](_0x1dbe40(0x164),()=>{const _0x134746=_0x1dbe40;_0x1bb011?(currentMode=_0x134746(0xcd1),studentView[_0x134746(0x360)][_0x134746(0x4a6)](_0x134746(0x2f2)),adminView[_0x134746(0x360)][_0x134746(0xcc8)]('hidden'),showView(_0x134746(0xde7))):(showView(_0x134746(0x18c)),document[_0x134746(0x932)](_0x134746(0xe9c))['value']='');});}function displayResultsWithAnswers(_0x842a76,_0xd0abf3,_0x1ae730,_0x66ef5b,_0x29cfef,_0x1c75f5=![]){const _0x4aa2dc=_0x2bcb18,_0x8fb2a5=_0x29cfef>0x0?_0x842a76/_0x29cfef*0x64:0x0,_0xd8eb4c=currentDisplayedQuiz[_0x4aa2dc(0x6ce)]?.[_0x4aa2dc(0x24b)]??-0x1,_0x432d9f=currentDisplayedQuiz['isRemedial']===!![];let _0x455f5a='';if(_0x432d9f||_0xd8eb4c!==-0x1){let _0x3ce171=_0x432d9f?_0x842a76===_0x29cfef:_0x842a76>=_0xd8eb4c;const _0x4424fd=_0x3ce171?_0x4aa2dc(0xb13):_0x4aa2dc(0x4f2),_0x5c8386=_0x3ce171?_0x4aa2dc(0xcff):_0x4aa2dc(0x7f4);_0x455f5a=_0x4aa2dc(0x293)+_0x4424fd+'\x22>'+_0x5c8386+'</p>';}let _0x343c4d=_0x4aa2dc(0x499)+currentStudentName+_0x4aa2dc(0x54a)+_0x842a76+_0x4aa2dc(0x3da)+_0x29cfef+_0x4aa2dc(0x5a2)+_0x455f5a+_0x4aa2dc(0x7b9)+_0xd0abf3+'\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20'+_0x8fb2a5[_0x4aa2dc(0x46c)](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20';currentDisplayedQuiz[_0x4aa2dc(0xc46)]['forEach']((_0x42450d,_0x227dbe)=>{const _0x5a6e01=_0x4aa2dc,_0x257ada=_0x66ef5b[_0x227dbe],_0x37b788=_0x257ada['answer'],_0x5aa83a=_0x257ada['isCorrect'],_0x43692b=_0x42450d[_0x5a6e01(0x2ed)]||currentDisplayedQuiz[_0x5a6e01(0x2de)];_0x343c4d+='<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20'+(_0x5aa83a?_0x5a6e01(0x849):_0x5a6e01(0x25c))+_0x5a6e01(0xd34)+(_0x227dbe+0x1)+'.\x20'+(_0x42450d[_0x5a6e01(0x58b)]||_0x42450d['questionText'])+'</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>';switch(_0x43692b){case _0x5a6e01(0xb08):const _0x5f5a1b=_0x37b788||_0x5a6e01(0x54d),_0x42699c=_0x42450d['correctResponse'];_0x343c4d+=_0x5a6e01(0x21b)+(!_0x5aa83a?_0x5a6e01(0xeb0):'')+'\x22>'+_0x5f5a1b+'</span></p>';!_0x5aa83a&&(_0x343c4d+='<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20'+_0x42699c+_0x5a6e01(0x463));break;case _0x5a6e01(0xceb):case _0x5a6e01(0xafb):_0x343c4d+=_0x5a6e01(0xe0b)+(_0x37b788||_0x5a6e01(0x54d))+_0x5a6e01(0x463),_0x343c4d+='<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20'+_0x42450d[_0x5a6e01(0xbe7)]+_0x5a6e01(0x463);break;case'true_false':_0x343c4d+='<p\x20class=\x22'+(_0x42450d[_0x5a6e01(0x8f4)]===!![]?_0x5a6e01(0xdf7):'')+'\x20'+(_0x37b788===_0x5a6e01(0x1b2)&&!_0x5aa83a?_0x5a6e01(0xeb0):'')+_0x5a6e01(0x935),_0x343c4d+=_0x5a6e01(0x8f9)+(_0x42450d[_0x5a6e01(0x8f4)]===![]?_0x5a6e01(0xdf7):'')+'\x20'+(_0x37b788===_0x5a6e01(0x7ba)&&!_0x5aa83a?_0x5a6e01(0xeb0):'')+_0x5a6e01(0xbd9);break;case _0x5a6e01(0x47e):case'fill_in_with_choices':default:if(_0x42450d[_0x5a6e01(0x3e2)]&&Array[_0x5a6e01(0x750)](_0x42450d[_0x5a6e01(0x3e2)]))_0x343c4d+=_0x42450d[_0x5a6e01(0x3e2)][_0x5a6e01(0xe49)]((_0x34cc1c,_0x261435)=>{const _0x192668=_0x5a6e01;let _0x2b1dde='',_0x1dee5a='';if(_0x261435===_0x42450d[_0x192668(0x52a)])_0x2b1dde=_0x192668(0xdf7),_0x1dee5a=_0x192668(0xcea);else _0x261435===_0x37b788&&(_0x2b1dde=_0x192668(0x396),_0x1dee5a='<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>');return _0x192668(0x2b2)+_0x2b1dde+'\x22>'+_0x1dee5a+_0x34cc1c+_0x192668(0x1f5);})[_0x5a6e01(0xbb2)]('');else{_0x343c4d+='<p><strong>คำตอบของคุณ:</strong>\x20'+(_0x37b788||_0x5a6e01(0x54d))+_0x5a6e01(0x463);if(!_0x5aa83a)_0x343c4d+=_0x5a6e01(0x6ba);}break;}_0x343c4d+=_0x5a6e01(0xbae)+(_0x42450d[_0x5a6e01(0xc94)]||_0x5a6e01(0x540))+_0x5a6e01(0x1f5);if(!_0x5aa83a){const _0x46d051=_0x42450d[_0x5a6e01(0x58b)]||_0x42450d[_0x5a6e01(0xca8)];_0x343c4d+=_0x5a6e01(0x86c)+escape(_0x46d051)+_0x5a6e01(0xd8c);}_0x343c4d+='</div>';}),studentResultArea['innerHTML']=_0x343c4d,renderEarnedBadges(_0x1ae730,_0x4aa2dc(0xca0)),studentResultArea[_0x4aa2dc(0x360)]['remove'](_0x4aa2dc(0x2f2)),studentQuizArea[_0x4aa2dc(0x360)][_0x4aa2dc(0x4a6)]('hidden'),setupResultScreenBackButton({'isLooping':_0x1c75f5,'score':_0x842a76,'totalQuestions':_0x29cfef,'showRankings':!![]});if(window['MathJax'])window['MathJax'][_0x4aa2dc(0xd3d)]([studentResultArea]);}function displayResultsScoreOnly(_0x5019c7,_0x48146c,_0x1eed1c,_0x5b6a4e){const _0x285d3c=_0x2bcb18,_0xa294a2=_0x5b6a4e>0x0?_0x5019c7/_0x5b6a4e*0x64:0x0,_0x1ccc12=currentDisplayedQuiz[_0x285d3c(0x6ce)]?.[_0x285d3c(0x24b)]??-0x1,_0x491d54=currentDisplayedQuiz[_0x285d3c(0x93f)]===!![];let _0x94e94b='';if(_0x491d54||_0x1ccc12!==-0x1){let _0x39455a=_0x491d54?_0x5019c7===_0x5b6a4e:_0x5019c7>=_0x1ccc12;const _0x3df8cf=_0x39455a?_0x285d3c(0xb13):_0x285d3c(0x4f2),_0x3acf18=_0x39455a?_0x285d3c(0xcff):_0x285d3c(0x7f4);_0x94e94b=_0x285d3c(0x293)+_0x3df8cf+'\x22>'+_0x3acf18+_0x285d3c(0x463);}let _0x207c03=_0x285d3c(0xa67)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>'+_0x5019c7+'\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20'+_0x5b6a4e+_0x285d3c(0x5a2)+_0x94e94b+_0x285d3c(0x7b9)+_0x48146c+'\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20'+_0xa294a2['toFixed'](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea['innerHTML']=_0x207c03,renderEarnedBadges(_0x1eed1c,_0x285d3c(0xca0)),studentResultArea[_0x285d3c(0x360)][_0x285d3c(0xcc8)]('hidden'),studentQuizArea[_0x285d3c(0x360)][_0x285d3c(0x4a6)](_0x285d3c(0x2f2)),setupResultScreenBackButton({'score':_0x5019c7,'totalQuestions':_0x5b6a4e,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x353905=_0x2bcb18;let _0x1efcf8='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>'+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x353905(0xa16)]=_0x1efcf8,studentResultArea[_0x353905(0x360)][_0x353905(0xcc8)]('hidden'),studentQuizArea['classList'][_0x353905(0x4a6)]('hidden'),document[_0x353905(0x932)]('back-to-home-manual-release')[_0x353905(0x639)](_0x353905(0x164),()=>{const _0xd736e9=_0x353905;showView(_0xd736e9(0x18c)),document['getElementById']('quiz-id-input')[_0xd736e9(0x99c)]='';});}function renderEarnedBadges(_0x12f356,_0x281e64){const _0xf235f4=_0x2bcb18,_0xb8f068=document['getElementById'](_0x281e64);if(!_0xb8f068||!_0x12f356||_0x12f356[_0xf235f4(0x752)]===0x0)return;let _0x1c20d0='';_0x12f356[_0xf235f4(0x39f)]((_0xb8b14,_0x509f91)=>{const _0x15fd98=_0xf235f4,_0x5881fb=Object[_0x15fd98(0x282)](BADGES)['find'](_0x4259ee=>_0x4259ee['id']===_0xb8b14);_0x5881fb&&(_0x1c20d0+=_0x15fd98(0xcfd)+_0x509f91*0.2+_0x15fd98(0x4d4)+_0x5881fb[_0x15fd98(0x5c8)]+_0x15fd98(0x9eb)+_0x5881fb[_0x15fd98(0x3b1)]+_0x15fd98(0x2ac)+_0x5881fb[_0x15fd98(0x34a)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}),_0xb8f068[_0xf235f4(0xa16)]=_0x1c20d0;}function startPresentation(_0x16c262){const _0x3c21d6=_0x2bcb18;currentQuizData=getShuffledQuiz(_0x16c262),currentPresentationSlide=0x0,presentationModal[_0x3c21d6(0x6dc)][_0x3c21d6(0xb59)]=_0x3c21d6(0x5b2),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x264d7f=_0x2bcb18;document[_0x264d7f(0x805)]&&document[_0x264d7f(0x363)](),presentationModal[_0x264d7f(0x6dc)]['display']=_0x264d7f(0x7dc);}function renderPresentationSlide(_0x5229e8){const _0x14c537=_0x2bcb18,_0x308333=document[_0x14c537(0x932)]('presentation-slide-container');if(!currentQuizData||!currentQuizData['questions']||!currentQuizData['questions'][_0x5229e8]){_0x308333[_0x14c537(0xa16)]='<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>';return;}const _0x476036=currentQuizData[_0x14c537(0xc46)][_0x5229e8],_0x43bdf1=_0x476036[_0x14c537(0x2ed)]||currentQuizData[_0x14c537(0x2de)];_0x308333['innerHTML']='';let _0x3037d5=_0x14c537(0xae7)+(_0x476036[_0x14c537(0xe40)]?_0x14c537(0x66f)+_0x476036[_0x14c537(0xe40)]+_0x14c537(0x1f5):'')+_0x14c537(0x644)+(_0x5229e8+0x1)+'.\x20'+(_0x476036['stem']||_0x476036['questionText'])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';switch(_0x43bdf1){case _0x14c537(0xb08):_0x3037d5+=_0x476036[_0x14c537(0x66a)][_0x14c537(0xe49)](_0x2dbf4a=>_0x14c537(0x7de)+_0x2dbf4a+_0x14c537(0xe15))[_0x14c537(0xbb2)]('');break;case'true_false':_0x3037d5+='<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>',_0x3037d5+=_0x14c537(0x4f0);break;case'fill_in_no_choices':case _0x14c537(0xafb):_0x3037d5+=_0x14c537(0x3e1);break;case _0x14c537(0xd08):case'multiple_choice':default:_0x3037d5+=_0x476036[_0x14c537(0x3e2)][_0x14c537(0xe49)]((_0x35e53a,_0x5d0ad4)=>_0x14c537(0x1e4)+_0x5d0ad4+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x35e53a+_0x14c537(0xe15))[_0x14c537(0xbb2)]('');break;}_0x3037d5+=_0x14c537(0xd09)+(_0x476036['explanation']||'ไม่มีคำอธิบาย')+_0x14c537(0x3d6),_0x308333[_0x14c537(0xa16)]=_0x3037d5;if(window['MathJax'])window[_0x14c537(0x7f9)][_0x14c537(0xd3d)]([_0x308333]);let _0x43ca6e=[];switch(_0x43bdf1){case _0x14c537(0xb08):_0x43ca6e=_0x476036[_0x14c537(0x66a)]||[];break;case _0x14c537(0x827):_0x43ca6e=[_0x14c537(0xd77),_0x14c537(0xa76)];break;default:_0x43ca6e=_0x476036['options']||[];break;}const _0x27bcda=document['getElementById'](_0x14c537(0xbf2));_0x27bcda&&(_0x27bcda[_0x14c537(0xe1b)]=()=>{openScratchpad(_0x476036,_0x43ca6e);});document['querySelectorAll'](_0x14c537(0x1b0))[_0x14c537(0x39f)](_0x2b6dd1=>{const _0x2d0185=_0x14c537;_0x2b6dd1['addEventListener'](_0x2d0185(0x164),_0x3afde0=>revealAnswerForPresentation(_0x5229e8,_0x3afde0[_0x2d0185(0xb7c)]));});const _0xe7a2d4=document['getElementById'](_0x14c537(0x19f));_0xe7a2d4&&_0xe7a2d4[_0x14c537(0x639)]('click',()=>checkShortAnswerForPresentation(_0x5229e8)),document['getElementById']('slide-counter')[_0x14c537(0xdec)]=_0x14c537(0x139)+(_0x5229e8+0x1)+_0x14c537(0xb54)+currentQuizData[_0x14c537(0xc46)][_0x14c537(0x752)],document['getElementById'](_0x14c537(0x414))['disabled']=_0x5229e8===0x0,document[_0x14c537(0x932)](_0x14c537(0xb79))[_0x14c537(0xad6)]=_0x5229e8===currentQuizData[_0x14c537(0xc46)]['length']-0x1;}async function checkShortAnswerForPresentation(_0x290deb){const _0x3f0274=_0x2bcb18,_0x1b45c4=currentQuizData['questions'][_0x290deb],_0x4c1fa7=document[_0x3f0274(0x932)]('presentation-short-answer-input'),_0xcfb9fa=document[_0x3f0274(0x932)](_0x3f0274(0x19f)),_0x32f317=document[_0x3f0274(0x932)](_0x3f0274(0xd44)),_0x118e45=document[_0x3f0274(0x932)]('presentation-explanation');if(!_0x4c1fa7||!_0xcfb9fa||!_0x32f317||!_0x118e45)return;const _0x1b38af=_0x4c1fa7[_0x3f0274(0x99c)][_0x3f0274(0xa4d)]();if(_0x1b38af==='')return;_0xcfb9fa['disabled']=!![],_0xcfb9fa['innerHTML']=_0x3f0274(0x8f2),_0x4c1fa7[_0x3f0274(0xad6)]=!![];const _0x389567=await gradeShortAnswer(_0x1b38af,_0x1b45c4);_0x389567?_0x32f317['innerHTML']=_0x3f0274(0x9c4):_0x32f317['innerHTML']=_0x3f0274(0x5e8)+_0x1b45c4[_0x3f0274(0xbe7)]+')',_0x32f317[_0x3f0274(0x360)][_0x3f0274(0xcc8)](_0x3f0274(0x2f2)),_0x118e45['classList'][_0x3f0274(0xcc8)](_0x3f0274(0x2f2)),_0xcfb9fa[_0x3f0274(0x360)][_0x3f0274(0x4a6)](_0x3f0274(0x2f2));}function revealAnswerForPresentation(_0x2654b4,_0x1ce385){const _0x3d06e1=_0x2bcb18,_0x473c71=currentQuizData[_0x3d06e1(0xc46)][_0x2654b4],_0x2e7e4d=_0x473c71[_0x3d06e1(0x2ed)]||currentQuizData[_0x3d06e1(0x2de)];document[_0x3d06e1(0x38e)](_0x3d06e1(0x1b0))[_0x3d06e1(0x39f)](_0x52fd25=>{const _0x279110=_0x3d06e1;_0x52fd25['disabled']=!![],_0x52fd25[_0x279110(0x360)]['remove'](_0x279110(0x9cb));let _0x42024a=![];if(_0x2e7e4d===_0x279110(0x47e)||_0x2e7e4d==='fill_in_the_blank'){const _0x13b206=parseInt(_0x52fd25[_0x279110(0x134)]['index']);_0x42024a=_0x13b206===_0x473c71[_0x279110(0x52a)];}else{if(_0x2e7e4d===_0x279110(0x827)){const _0x528b58=_0x52fd25[_0x279110(0x134)][_0x279110(0x328)]==='true';_0x42024a=_0x528b58===_0x473c71['correctAnswer'];}else _0x2e7e4d===_0x279110(0xb08)&&(_0x42024a=_0x52fd25[_0x279110(0xdec)][_0x279110(0xa4d)]()===_0x473c71['correctResponse']);}_0x42024a?_0x52fd25['classList'][_0x279110(0x4a6)](_0x279110(0xe1a),_0x279110(0x8f7),_0x279110(0x252)):_0x52fd25['classList'][_0x279110(0x4a6)](_0x279110(0x4d3));}),_0x1ce385[_0x3d06e1(0x360)][_0x3d06e1(0xcc8)](_0x3d06e1(0x4d3));let _0x6221dc=![];if(_0x2e7e4d===_0x3d06e1(0x47e))_0x6221dc=parseInt(_0x1ce385['dataset'][_0x3d06e1(0xd5d)])===_0x473c71[_0x3d06e1(0x52a)];else{if(_0x2e7e4d===_0x3d06e1(0x827))_0x6221dc=_0x1ce385[_0x3d06e1(0x134)][_0x3d06e1(0x328)]==='true'===_0x473c71['correctAnswer'];else _0x2e7e4d===_0x3d06e1(0xb08)&&(_0x6221dc=_0x1ce385[_0x3d06e1(0xdec)][_0x3d06e1(0xa4d)]()===_0x473c71[_0x3d06e1(0xd79)]);}!_0x6221dc&&_0x1ce385['classList'][_0x3d06e1(0x4a6)](_0x3d06e1(0x190),_0x3d06e1(0x8f7),'border-red-700'),document[_0x3d06e1(0x932)](_0x3d06e1(0x32e))[_0x3d06e1(0x360)]['remove']('hidden');}function startWholeQuizTimer(_0x35e155){const _0x8f7d80=_0x2bcb18,_0x47ec34=document[_0x8f7d80(0x932)](_0x8f7d80(0x3e6));if(!_0x47ec34)return;const _0x26a300=Date[_0x8f7d80(0x18f)]()+_0x35e155*0x3c*0x3e8;_0x47ec34[_0x8f7d80(0xa16)]=_0x8f7d80(0x6d1);const _0x597dab=document['getElementById'](_0x8f7d80(0x1df));quizTimerInterval=setInterval(()=>{const _0x21d41d=_0x8f7d80,_0xfec383=_0x26a300-Date[_0x21d41d(0x18f)]();if(_0xfec383<=0x0)clearInterval(quizTimerInterval),_0x597dab[_0x21d41d(0xdec)]='00:00',showMessage(_0x21d41d(0x94f)),handleSubmitQuiz(null);else{const _0x5773f9=Math[_0x21d41d(0x4cf)](_0xfec383/0x3e8/0x3c%0x3c)['toString']()['padStart'](0x2,'0'),_0x42e294=Math[_0x21d41d(0x4cf)](_0xfec383/0x3e8%0x3c)[_0x21d41d(0xdcb)]()[_0x21d41d(0x500)](0x2,'0');_0x597dab[_0x21d41d(0xdec)]=_0x5773f9+':'+_0x42e294;}},0x3e8);}function renderPerQuestionView(){const _0x305c01=_0x2bcb18;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x280cd4=currentDisplayedQuiz[_0x305c01(0xc46)][currentQuestionIndex],_0x32e4b8=_0x280cd4[_0x305c01(0x2ed)]||currentDisplayedQuiz[_0x305c01(0x2de)],_0x4abbf8=currentDisplayedQuiz[_0x305c01(0x6ce)]?.[_0x305c01(0x887)]===!![];let _0x4bccef=_0x305c01(0x426)+(currentQuestionIndex+0x1)+'\x20จาก\x20'+currentDisplayedQuiz[_0x305c01(0xc46)][_0x305c01(0x752)]+_0x305c01(0x1ed)+(currentMode==='admin-testing'?_0x305c01(0x29e):'')+_0x305c01(0x4c1)+currentDisplayedQuiz[_0x305c01(0x79c)]+_0x305c01(0x8fe);studentQuizArea[_0x305c01(0xa16)]=_0x4bccef;let _0x54fe8e=_0x280cd4[_0x305c01(0x58b)]||_0x280cd4[_0x305c01(0xca8)];_0x280cd4[_0x305c01(0xe40)]&&(_0x54fe8e+=_0x305c01(0x66f)+_0x280cd4[_0x305c01(0xe40)]+_0x305c01(0x1f5));let _0x3dd4ba='';switch(_0x32e4b8){case'short_answer':case _0x305c01(0xceb):_0x3dd4ba=_0x305c01(0x8e4);break;case _0x305c01(0x827):_0x3dd4ba=_0x305c01(0x97f);break;case _0x305c01(0xb08):_0x3dd4ba=_0x305c01(0x9a5)+(_0x280cd4[_0x305c01(0x66a)]||[])[_0x305c01(0xe49)](_0x23ca0e=>_0x305c01(0x1bd)+_0x23ca0e+'\x22>'+_0x23ca0e+_0x305c01(0x194))[_0x305c01(0xbb2)]('')+_0x305c01(0x8cc);break;default:_0x280cd4[_0x305c01(0x3e2)]&&(_0x3dd4ba=_0x280cd4[_0x305c01(0x3e2)][_0x305c01(0xe49)]((_0x37dab7,_0x515b54)=>_0x305c01(0x5dd)+_0x515b54+_0x305c01(0x4da)+_0x515b54+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt'+_0x515b54+'\x22>'+_0x37dab7+_0x305c01(0x340))['join'](''));break;}document['getElementById'](_0x305c01(0x21d))[_0x305c01(0xa16)]=_0x54fe8e,document[_0x305c01(0x932)](_0x305c01(0x1ce))[_0x305c01(0xa16)]=_0x3dd4ba;const _0x203945=currentDisplayedQuiz[_0x305c01(0x6ce)]?.[_0x305c01(0x887)]===!![],_0x530057=currentDisplayedQuiz['settings']?.['confidenceMode']||'checkbox';if(_0x203945&&_0x530057===_0x305c01(0xe9e)){const _0x2faf55=_0x305c01(0xc29);studentQuizArea[_0x305c01(0xc60)](_0x305c01(0x7af))['insertAdjacentHTML'](_0x305c01(0x764),_0x2faf55);}studentQuizArea[_0x305c01(0x677)]('beforeend',_0x305c01(0x992)+(currentQuestionIndex===currentDisplayedQuiz[_0x305c01(0xc46)][_0x305c01(0x752)]-0x1?_0x305c01(0xa49):_0x305c01(0xab0))+_0x305c01(0x571));currentMode===_0x305c01(0x832)&&document['getElementById'](_0x305c01(0x60a))?.['addEventListener']('click',cancelAdminTest);document[_0x305c01(0x932)]('next-question-timed-btn')['addEventListener']('click',()=>handleNextQuestionInTimedMode(![]));if(window[_0x305c01(0x7f9)])window['MathJax'][_0x305c01(0xd3d)]([studentQuizArea]);currentDisplayedQuiz[_0x305c01(0x6ce)]?.[_0x305c01(0x33e)]===_0x305c01(0x1f1)&&startPerQuestionTimer();}function startPerQuestionTimer(){const _0x350428=_0x2bcb18,_0x58bcf4=currentDisplayedQuiz['settings'][_0x350428(0x460)],_0x30fb2f=document['getElementById'](_0x350428(0x461));if(!_0x30fb2f)return;let _0x5b0cc0=_0x58bcf4;_0x30fb2f[_0x350428(0xa16)]=_0x350428(0xe41)+_0x5b0cc0+_0x350428(0x366);const _0x55462f=document[_0x350428(0x932)]('timer-bar'),_0x41d0d3=document[_0x350428(0x932)](_0x350428(0xaca));perQuestionTimerInterval=setInterval(()=>{const _0x5f1c00=_0x350428;_0x5b0cc0--;const _0x355204=_0x5b0cc0/_0x58bcf4*0x64;_0x55462f[_0x5f1c00(0x6dc)][_0x5f1c00(0x3c6)]=_0x355204+'%',_0x41d0d3[_0x5f1c00(0xdec)]=_0x5b0cc0,_0x5b0cc0<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0x5f1c00(0x3e3)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x3ec85e=![]){const _0x2ac6bb=_0x2bcb18;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x48919c=null,_0x40144f=![];if(!_0x3ec85e){const _0x242190=currentDisplayedQuiz[_0x2ac6bb(0xc46)][currentQuestionIndex],_0x35f2dd=_0x242190[_0x2ac6bb(0x2ed)]||currentDisplayedQuiz[_0x2ac6bb(0x2de)];if(_0x35f2dd===_0x2ac6bb(0xafb)||_0x35f2dd===_0x2ac6bb(0xceb))_0x48919c=document[_0x2ac6bb(0xc60)](_0x2ac6bb(0xb8c))?.[_0x2ac6bb(0x99c)][_0x2ac6bb(0xa4d)]()??'';else{if(_0x35f2dd===_0x2ac6bb(0xb08))_0x48919c=document[_0x2ac6bb(0xc60)](_0x2ac6bb(0xd7e))?.['value']??'';else{const _0x241331=document[_0x2ac6bb(0xc60)](_0x2ac6bb(0x689));_0x241331&&(_0x48919c=_0x241331['value']);}}if(_0x48919c===null||_0x48919c===''){showMessage(_0x2ac6bb(0x59f)),startPerQuestionTimer();return;}const _0x3b8c77=currentDisplayedQuiz[_0x2ac6bb(0x6ce)]?.['isConfidenceScoringEnabled']===!![],_0xf65037=currentDisplayedQuiz[_0x2ac6bb(0x6ce)]?.['confidenceMode']||_0x2ac6bb(0xe9e);if(_0x3b8c77&&_0xf65037===_0x2ac6bb(0xc24)){document[_0x2ac6bb(0x932)](_0x2ac6bb(0xe78))[_0x2ac6bb(0x134)][_0x2ac6bb(0xb4d)]='timed',document[_0x2ac6bb(0x932)]('selected-answer-index-hidden')[_0x2ac6bb(0x99c)]=_0x48919c,document[_0x2ac6bb(0x932)](_0x2ac6bb(0xe78))['classList'][_0x2ac6bb(0xcc8)](_0x2ac6bb(0x2f2));return;}const _0x3354cf=document[_0x2ac6bb(0x932)](_0x2ac6bb(0x172));_0x3354cf&&(_0x40144f=_0x3354cf[_0x2ac6bb(0xc62)]);}const _0x4d1e0d={'answer':_0x48919c,'wasConfident':_0x40144f};proceedToNextQuestion(_0x4d1e0d);}async function finalizePerQuestionQuiz(){const _0x27c2d7=_0x2bcb18,_0x1f240c=currentDisplayedQuiz[_0x27c2d7(0xc46)]['some'](_0xbc5cd4=>_0xbc5cd4[_0x27c2d7(0x2ed)]===_0x27c2d7(0xafb));_0x1f240c?showMessage('สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...'):showMessage(_0x27c2d7(0x16b));const _0x593d1d=currentQuizData['id'],_0xdfe9de=doc(db,_0x27c2d7(0x6e6)+appId+'/public/data/quizzes/'+_0x593d1d+_0x27c2d7(0x2f0),currentStudentName),_0x52c0af=await getDoc(_0xdfe9de),_0x52935e=_0x52c0af[_0x27c2d7(0x7d2)]()?_0x52c0af[_0x27c2d7(0x13f)]():{},_0x440a38=_0x52935e[_0x27c2d7(0xa66)]||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x440a38);}function getResultsFilename(){const _0x37ef95=_0x2bcb18,_0x26179d=document['getElementById']('results-quiz-title')[_0x37ef95(0xdec)][_0x37ef95(0xdcc)](/[^a-z0-9]/gi,'_')['toLowerCase']();return'results_'+(_0x26179d||_0x37ef95(0x598));}function exportResultsAsImage(){const _0x2e8e85=_0x2bcb18,_0x12d9f8=document[_0x2e8e85(0x932)]('results-table-container');showMessage('กำลังสร้างรูปภาพ...'),html2canvas(_0x12d9f8)[_0x2e8e85(0x715)](_0x39693d=>{const _0x1d9c33=_0x2e8e85,_0x13c93f=document[_0x1d9c33(0xc95)]('a');_0x13c93f['download']=getResultsFilename()+'.png',_0x13c93f[_0x1d9c33(0x92a)]=_0x39693d[_0x1d9c33(0xd7d)]('image/png'),_0x13c93f[_0x1d9c33(0x164)](),messageModal['classList']['add']('hidden');});}function exportResultsAsPDF(){const _0x228f97=_0x2bcb18,{jsPDF:_0x1bb34e}=window[_0x228f97(0x261)],_0x283d62=new _0x1bb34e();_0x283d62[_0x228f97(0x5ac)](_0x228f97(0x323),_0x228f97(0xd2b)),_0x283d62[_0x228f97(0xbc9)]({'html':'#results-table'}),_0x283d62[_0x228f97(0x4f4)](getResultsFilename()+'.pdf');}function exportResultsAsWord(){const _0x4707bc=_0x2bcb18,_0x4e7f11='<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20'+_0x4707bc(0xab3)+'xmlns=\x27http://www.w3.org/TR/REC-html40\x27>'+'<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>',_0x32ff4f=_0x4707bc(0x7e1),_0x2a973e=_0x4e7f11+document[_0x4707bc(0x932)](_0x4707bc(0x2e3))[_0x4707bc(0xa16)]+_0x32ff4f,_0x1748ff='data:application/vnd.ms-word;charset=utf-8,'+encodeURIComponent(_0x2a973e),_0x2664e3=document[_0x4707bc(0xc95)]('a');document['body'][_0x4707bc(0xce0)](_0x2664e3),_0x2664e3[_0x4707bc(0x92a)]=_0x1748ff,_0x2664e3[_0x4707bc(0x58f)]=getResultsFilename()+'.doc',_0x2664e3[_0x4707bc(0x164)](),document[_0x4707bc(0x6ac)][_0x4707bc(0xb63)](_0x2664e3);}function exportResultsAsExcel(){const _0x31adfb=_0x2bcb18,_0x5c25a8=document['getElementById'](_0x31adfb(0x655));let _0x23906f=[];for(let _0x33eb5d=0x0;_0x33eb5d<_0x5c25a8['rows']['length'];_0x33eb5d++){let _0x35f891=[],_0x1fe445=_0x5c25a8[_0x31adfb(0xb45)][_0x33eb5d][_0x31adfb(0x38e)]('td,\x20th');for(let _0x91f86d=0x0;_0x91f86d<_0x1fe445['length'];_0x91f86d++){_0x35f891[_0x31adfb(0xe86)]('\x22'+_0x1fe445[_0x91f86d]['innerText'][_0x31adfb(0xdcc)](/"/g,'\x22\x22')+'\x22');}_0x23906f['push'](_0x35f891[_0x31adfb(0xbb2)](','));}const _0x2b43ad=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x23906f[_0x31adfb(0xbb2)]('\x0a')],{'type':'text/csv;charset=utf-8;'}),_0x16193d=document[_0x31adfb(0xc95)]('a');_0x16193d['href']=URL['createObjectURL'](_0x2b43ad),_0x16193d[_0x31adfb(0x58f)]=getResultsFilename()+_0x31adfb(0xc2e),_0x16193d[_0x31adfb(0x164)]();}function exportTableAsImage(_0xa0dbe1,_0xd207c4){const _0x5753d4=_0x2bcb18,_0x595790=document[_0x5753d4(0x932)](_0xa0dbe1),_0x2fa9a3=document[_0x5753d4(0x932)](_0x5753d4(0x18a));if(!_0x595790){showMessage(_0x5753d4(0x580));return;}showMessage('กำลังสร้างรูปภาพ\x20(ซ่อนผลลัพธ์)...');const _0x5d7a25=document['createElement'](_0x5753d4(0xd2a));_0x5d7a25[_0x5753d4(0x6dc)][_0x5753d4(0xaa0)]='#ffffff',_0x5d7a25['style'][_0x5753d4(0xb07)]='30px',_0x5d7a25[_0x5753d4(0x6dc)][_0x5753d4(0x3c6)]='1000px',_0x5d7a25[_0x5753d4(0x6dc)]['position']=_0x5753d4(0x9a8),_0x5d7a25[_0x5753d4(0x6dc)]['left']=_0x5753d4(0xa7b),_0x5d7a25[_0x5753d4(0x6dc)][_0x5753d4(0x424)]='0',_0x5d7a25[_0x5753d4(0x6dc)]['zIndex']='-1';const _0x5b6ed2=document[_0x5753d4(0xc95)]('h1');_0x5b6ed2[_0x5753d4(0x6ad)]=_0x2fa9a3?_0x2fa9a3['innerText']:_0x5753d4(0xa0d),_0x5b6ed2['style'][_0x5753d4(0xd0a)]='center',_0x5b6ed2[_0x5753d4(0x6dc)][_0x5753d4(0x989)]='\x27Sarabun\x27,\x20sans-serif',_0x5b6ed2[_0x5753d4(0x6dc)]['fontSize']=_0x5753d4(0x53e),_0x5b6ed2[_0x5753d4(0x6dc)][_0x5753d4(0xb3f)]=_0x5753d4(0xbab),_0x5b6ed2[_0x5753d4(0x6dc)][_0x5753d4(0xb56)]=_0x5753d4(0x3d8),_0x5b6ed2[_0x5753d4(0x6dc)][_0x5753d4(0x842)]=_0x5753d4(0x56a);const _0x4bcc00=_0x595790[_0x5753d4(0xe5d)](!![]);_0x4bcc00[_0x5753d4(0x6dc)][_0x5753d4(0xdb5)]=_0x5753d4(0x7dc),_0x4bcc00[_0x5753d4(0x6dc)][_0x5753d4(0xb65)]=_0x5753d4(0xdbe);const _0x3e244e=_0x4bcc00['querySelectorAll']('th');let _0xc508ea=-0x1;_0x3e244e[_0x5753d4(0x39f)]((_0x2bcd16,_0x5f5a83)=>{const _0x35bdf9=_0x5753d4;_0x2bcd16['textContent'][_0x35bdf9(0xa4d)]()==='ผล'&&(_0x2bcd16['style']['display']='none',_0xc508ea=_0x5f5a83);});if(_0xc508ea!==-0x1){const _0x155b72=_0x4bcc00[_0x5753d4(0x38e)]('tr');_0x155b72['forEach'](_0x4b271d=>{const _0x1da847=_0x5753d4,_0x589c9c=_0x4b271d[_0x1da847(0x38e)]('td');_0x589c9c[_0x1da847(0x752)]>_0xc508ea&&(_0x589c9c[_0xc508ea]['style']['display']=_0x1da847(0x7dc));});}_0x5d7a25[_0x5753d4(0xce0)](_0x5b6ed2),_0x5d7a25['appendChild'](_0x4bcc00),document[_0x5753d4(0x6ac)][_0x5753d4(0xce0)](_0x5d7a25),html2canvas(_0x5d7a25,{'scale':0x2,'useCORS':!![],'backgroundColor':'#ffffff'})[_0x5753d4(0x715)](_0xf3fe95=>{const _0x2363e8=_0x5753d4,_0x14a409=document[_0x2363e8(0xc95)]('a');_0x14a409[_0x2363e8(0x58f)]=_0xd207c4+'.png',_0x14a409[_0x2363e8(0x92a)]=_0xf3fe95[_0x2363e8(0xd7d)](_0x2363e8(0x70d)),_0x14a409[_0x2363e8(0x164)](),document['body']['removeChild'](_0x5d7a25),messageModal['classList']['add']('hidden');})['catch'](_0x25a5d6=>{const _0x575b4e=_0x5753d4;console[_0x575b4e(0x1ac)](_0x575b4e(0x147),_0x25a5d6),document['body'][_0x575b4e(0xb63)](_0x5d7a25),showMessage(_0x575b4e(0x1ca));});}function exportTableAsPDF(_0x215da0,_0x4fdd89){const _0x3dab59=_0x2bcb18,{jsPDF:_0x4dc718}=window[_0x3dab59(0x261)],_0x47e247=new _0x4dc718();_0x47e247['setFont'](_0x3dab59(0x323),'normal'),_0x47e247['autoTable']({'html':'#'+_0x215da0}),_0x47e247['save'](_0x4fdd89+_0x3dab59(0xaa2));}function exportTableAsWord(_0x19e629,_0x46153c){const _0x4936cc=_0x2bcb18,_0x274c81=document[_0x4936cc(0x932)](_0x19e629);if(!_0x274c81){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}const _0x2ca0bc=_0x4936cc(0x881)+_0x4936cc(0xab3)+_0x4936cc(0x486)+'<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>',_0x43c89b=_0x4936cc(0x7e1),_0x5018ca=_0x2ca0bc+_0x274c81[_0x4936cc(0xa16)]+_0x43c89b,_0x4196c2='data:application/vnd.ms-word;charset=utf-8,'+encodeURIComponent(_0x5018ca),_0x48f075=document[_0x4936cc(0xc95)]('a');document['body']['appendChild'](_0x48f075),_0x48f075[_0x4936cc(0x92a)]=_0x4196c2,_0x48f075['download']=_0x46153c+_0x4936cc(0x379),_0x48f075['click'](),document[_0x4936cc(0x6ac)][_0x4936cc(0xb63)](_0x48f075);}function exportTableAsExcel(_0x9f353,_0x4ae1b1){const _0xa9f33b=_0x2bcb18,_0x352648=document[_0xa9f33b(0x932)](_0x9f353);if(!_0x352648){showMessage(_0xa9f33b(0x580));return;}let _0x1f6151=[];for(let _0xaa0c71=0x0;_0xaa0c71<_0x352648[_0xa9f33b(0xb45)][_0xa9f33b(0x752)];_0xaa0c71++){let _0x2eef64=[],_0x4d4ce8=_0x352648[_0xa9f33b(0xb45)][_0xaa0c71][_0xa9f33b(0x38e)]('td,\x20th');for(let _0x305a0=0x0;_0x305a0<_0x4d4ce8['length'];_0x305a0++){_0x2eef64[_0xa9f33b(0xe86)]('\x22'+_0x4d4ce8[_0x305a0][_0xa9f33b(0x6ad)][_0xa9f33b(0xdcc)](/"/g,'\x22\x22')+'\x22');}_0x1f6151[_0xa9f33b(0xe86)](_0x2eef64[_0xa9f33b(0xbb2)](','));}const _0x500c21=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x1f6151['join']('\x0a')],{'type':_0xa9f33b(0x53d)}),_0x490a99=document['createElement']('a');_0x490a99['href']=URL['createObjectURL'](_0x500c21),_0x490a99[_0xa9f33b(0x58f)]=_0x4ae1b1+_0xa9f33b(0xc2e),_0x490a99[_0xa9f33b(0x164)]();}function renderAnalytics(_0x196225,_0x4bff84){const _0x2e2dc6=_0x2bcb18,_0x343d21=_0x4bff84[_0x2e2dc6(0x9a7)](_0x5c9758=>_0x5c9758[_0x2e2dc6(0x5a7)]!==undefined),_0x370c92=currentProjectData[_0x2e2dc6(0x950)][_0x2e2dc6(0x752)],_0x3d4195=_0x343d21[_0x2e2dc6(0x752)],_0x45feb9=_0x370c92-_0x3d4195,_0x118c92=_0x370c92>0x0?_0x3d4195/_0x370c92*0x64:0x0,_0x2748b3=_0x343d21[_0x2e2dc6(0xe49)](_0x1cd9df=>_0x1cd9df[_0x2e2dc6(0x5a7)]),_0x1e0f37=_0x2748b3['length']>0x0?_0x2748b3['reduce']((_0x150b7d,_0x10ccc9)=>_0x150b7d+_0x10ccc9,0x0)/_0x2748b3[_0x2e2dc6(0x752)]:0x0,_0x1e5bf5=_0x196225[_0x2e2dc6(0xc46)][_0x2e2dc6(0x752)],_0x301650=_0x1e5bf5>0x0?_0x1e0f37/_0x1e5bf5*0x64:0x0,_0xfd3bf9=calculateItemAnalysis(_0x196225,_0x343d21),_0x3a8f79=calculateReliabilityKR20(_0x196225,_0x343d21,_0xfd3bf9['perQuestionStats']);let _0x243d80='';if(_0x3a8f79!==null){let _0x5b2889='';if(_0x3a8f79>=0.9)_0x5b2889=_0x2e2dc6(0x176);else{if(_0x3a8f79>=0.8)_0x5b2889=_0x2e2dc6(0x4b0);else{if(_0x3a8f79>=0.7)_0x5b2889='ดี';else{if(_0x3a8f79>=0.6)_0x5b2889=_0x2e2dc6(0x4b8);else _0x5b2889=_0x2e2dc6(0xb49);}}}_0x243d80=_0x2e2dc6(0x9f5)+_0x3a8f79['toFixed'](0x2)+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>'+_0x5b2889+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}const _0x1a5d45=document[_0x2e2dc6(0x932)]('analytics-summary-cards');_0x1a5d45[_0x2e2dc6(0xa16)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>'+_0x118c92[_0x2e2dc6(0x46c)](0x0)+_0x2e2dc6(0x427)+_0x3d4195+'/'+_0x370c92+_0x2e2dc6(0xe64)+_0x1e0f37[_0x2e2dc6(0x46c)](0x2)+_0x2e2dc6(0x257)+_0x301650[_0x2e2dc6(0x46c)](0x0)+'%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>'+(_0x2748b3[_0x2e2dc6(0x752)]>0x0?Math[_0x2e2dc6(0x824)](..._0x2748b3):'N/A')+_0x2e2dc6(0x517)+(_0x2748b3[_0x2e2dc6(0x752)]>0x0?Math[_0x2e2dc6(0xc5a)](..._0x2748b3):_0x2e2dc6(0x9ff))+_0x2e2dc6(0x685)+_0x243d80+_0x2e2dc6(0xba0);const _0x49f96d=document[_0x2e2dc6(0x932)]('interesting-stats-wrapper');_0x49f96d&&_0x49f96d[_0x2e2dc6(0xcc8)]();const _0x4bd988='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x1a5d45[_0x2e2dc6(0x677)](_0x2e2dc6(0xbb3),_0x4bd988);const _0x4d6f00=currentProjectData[_0x2e2dc6(0x950)]||[];renderSubmissionChart(_0x3d4195,_0x45feb9,_0x343d21,_0x4d6f00),renderScoreDistributionChart(_0x343d21,_0x1e5bf5),renderQuestionAnalytics(_0x196225,_0x343d21,_0x4d6f00),renderInterestingStats(_0x196225,_0x343d21);}async function handleExportLessonPDF(){const _0x37c745=_0x2bcb18,_0x2ab98b=document[_0x37c745(0x932)](_0x37c745(0x6fb)),_0x3b093b=document['getElementById']('lesson-plan-title')[_0x37c745(0xdec)],_0x1d7cd7=window[_0x37c745(0x1dd)]('',_0x37c745(0x394)),_0xb63848=_0x37c745(0x3a7)+_0x3b093b+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2ab98b[_0x37c745(0xa16)]+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x1d7cd7['document'][_0x37c745(0x171)](_0xb63848),_0x1d7cd7[_0x37c745(0x1f0)][_0x37c745(0xabf)](),_0x1d7cd7[_0x37c745(0x905)]=function(){setTimeout(()=>{_0x1d7cd7['print']();},0x5dc);};}function renderInterestingStats(_0x48a111,_0x5a6667){const _0x3ad68a=_0x2bcb18,_0x36e260=document[_0x3ad68a(0x932)]('interesting-stats-container');if(!_0x36e260)return;if(_0x5a6667[_0x3ad68a(0x752)]===0x0){_0x36e260[_0x3ad68a(0xa16)]='<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>';return;}const _0x486a21=_0x48a111[_0x3ad68a(0xc46)][_0x3ad68a(0xe49)]((_0x227c4b,_0x4c4302)=>({'index':_0x4c4302+0x1,'text':_0x227c4b[_0x3ad68a(0xca8)]||_0x227c4b['stem'],'correct':0x0}));_0x5a6667[_0x3ad68a(0x39f)](_0x2e94a3=>{const _0x472662=_0x3ad68a,_0x33a930=_0x2e94a3[_0x472662(0xa66)][_0x2e94a3[_0x472662(0xa66)][_0x472662(0x752)]-0x1];_0x33a930&&_0x33a930[_0x472662(0x8c5)]&&_0x33a930[_0x472662(0x8c5)][_0x472662(0x39f)](_0xa55740=>{const _0x141b90=_0x472662,_0x13435b=_0x486a21[_0x141b90(0x7a3)](_0x350be2=>_0x350be2[_0x141b90(0x13d)]===_0xa55740['originalQuestionText']);_0xa55740[_0x141b90(0x129)]&&_0x13435b&&_0x13435b[_0x141b90(0x81e)]++;});});const _0x3c9309=_0x5a6667[_0x3ad68a(0x752)],_0x5c72af=Math['max'](..._0x486a21[_0x3ad68a(0xe49)](_0x431b0b=>_0x431b0b[_0x3ad68a(0x81e)])),_0x22f4f0=Math[_0x3ad68a(0xc5a)](..._0x486a21['map'](_0x5ee738=>_0x5ee738['correct'])),_0x454d03=_0x486a21[_0x3ad68a(0x9a7)](_0x23a464=>_0x23a464[_0x3ad68a(0x81e)]===_0x5c72af)['map'](_0x17eddf=>_0x3ad68a(0x994)+_0x17eddf[_0x3ad68a(0xd5d)]),_0x4d03b2=_0x486a21[_0x3ad68a(0x9a7)](_0x528e00=>_0x528e00['correct']===_0x22f4f0)[_0x3ad68a(0xe49)](_0x18866d=>_0x3ad68a(0x994)+_0x18866d['index']),_0x15805c=_0x5a6667[_0x3ad68a(0x41f)]((_0x5bfcda,_0x40020b)=>_0x40020b['latestScore']-_0x5bfcda['latestScore'])[_0x3ad68a(0x9a7)]((_0x3cb6ae,_0x3f5704,_0x3611e9)=>_0x3cb6ae[_0x3ad68a(0x5a7)]===_0x3611e9[0x0][_0x3ad68a(0x5a7)]),_0xcc0130=_0x5a6667[_0x3ad68a(0x41f)]((_0x21dd9a,_0x3811a4)=>_0x21dd9a[_0x3ad68a(0x5a7)]-_0x3811a4['latestScore'])['filter']((_0x5e1f13,_0x5f4ce3,_0x38a95b)=>_0x5e1f13[_0x3ad68a(0x5a7)]===_0x38a95b[0x0][_0x3ad68a(0x5a7)]),_0x2b1dd3=_0x3ad68a(0x5b5)+_0x454d03[_0x3ad68a(0xbb2)](',\x20')+_0x3ad68a(0xe61)+_0x5c72af+_0x3ad68a(0xb54)+_0x3c9309+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>'+_0x4d03b2[_0x3ad68a(0xbb2)](',\x20')+_0x3ad68a(0xe61)+(_0x3c9309-_0x22f4f0)+_0x3ad68a(0xb54)+_0x3c9309+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>'+_0x15805c[_0x3ad68a(0xe49)](_0x5e421e=>_0x5e421e[_0x3ad68a(0xad2)])[_0x3ad68a(0xbb2)](',\x20')+_0x3ad68a(0x995)+_0x15805c[0x0][_0x3ad68a(0x5a7)]+_0x3ad68a(0x625)+_0xcc0130['map'](_0x1a16b0=>_0x1a16b0[_0x3ad68a(0xad2)])[_0x3ad68a(0xbb2)](',\x20')+_0x3ad68a(0x995)+_0xcc0130[0x0][_0x3ad68a(0x5a7)]+_0x3ad68a(0x125);_0x36e260[_0x3ad68a(0xa16)]=_0x2b1dd3;}function renderSubmissionChart(_0x47cd77,_0x1ec288,_0x43def0,_0x4ca008){const _0x43dbc9=_0x2bcb18,_0x5680a1=document[_0x43dbc9(0x932)](_0x43dbc9(0x9dc))[_0x43dbc9(0x6ec)]('2d'),_0xd6bd8a=_0x43def0[_0x43dbc9(0xe49)](_0x36b3fc=>_0x36b3fc[_0x43dbc9(0xad2)]),_0x321d89=_0x4ca008['filter'](_0x324b10=>!_0xd6bd8a['includes'](_0x324b10));chartInstances['submission']&&chartInstances[_0x43dbc9(0xc4c)]['destroy'](),chartInstances[_0x43dbc9(0xc4c)]=new Chart(_0x5680a1,{'type':_0x43dbc9(0x2dd),'data':{'labels':[_0x43dbc9(0x5d5),_0x43dbc9(0x1de)],'datasets':[{'data':[_0x47cd77,_0x1ec288],'backgroundColor':[_0x43dbc9(0x375),_0x43dbc9(0x3cb)],'borderColor':[_0x43dbc9(0xc0b),'#ffffff'],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':_0x43dbc9(0x44d)},'tooltip':{'callbacks':{'label':function(_0x38a5ef){const _0x1b5ebc=_0x43dbc9;let _0x41338b=_0x38a5ef[_0x1b5ebc(0x722)]||'';return _0x41338b&&(_0x41338b+=':\x20'),_0x41338b+=_0x38a5ef[_0x1b5ebc(0x6ca)],_0x41338b;},'afterLabel':function(_0x3aea8d){const _0x587d85=_0x43dbc9;let _0x1c6449;return _0x3aea8d[_0x587d85(0x7fb)]===0x0?_0x1c6449=_0xd6bd8a:_0x1c6449=_0x321d89,_0x1c6449['length']>0x0?_0x1c6449[_0x587d85(0xbb2)]('\x0a'):_0x587d85(0xa9a);}}}}}});}function renderScoreDistributionChart(_0x335cac,_0x32f9a2){const _0x54eb97=_0x2bcb18,_0x4c1117=document[_0x54eb97(0x932)](_0x54eb97(0x319))['getContext']('2d'),_0x83e4e0={};for(let _0x5cef3e=0x0;_0x5cef3e<=_0x32f9a2;_0x5cef3e++){_0x83e4e0[_0x5cef3e]=0x0;}_0x335cac[_0x54eb97(0x39f)](_0x28f84b=>{const _0x3308e4=_0x54eb97;_0x83e4e0[_0x28f84b[_0x3308e4(0x5a7)]]!==undefined&&_0x83e4e0[_0x28f84b[_0x3308e4(0x5a7)]]++;}),chartInstances['score']&&chartInstances['score'][_0x54eb97(0x6f1)](),chartInstances['score']=new Chart(_0x4c1117,{'type':_0x54eb97(0x5da),'data':{'labels':Object[_0x54eb97(0x338)](_0x83e4e0),'datasets':[{'label':_0x54eb97(0x148),'data':Object['values'](_0x83e4e0),'backgroundColor':_0x54eb97(0x34f),'borderColor':_0x54eb97(0xce4),'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x54eb97(0x84c)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x13e903){const _0x3e6cce=_0x54eb97,_0x3638b7=_0x13e903[_0x3e6cce(0x722)],_0x203453=_0x335cac['filter'](_0x3a8597=>_0x3a8597[_0x3e6cce(0x5a7)]==_0x3638b7)['map'](_0x41b7ff=>_0x41b7ff[_0x3e6cce(0xad2)]);return _0x203453[_0x3e6cce(0x752)]>0x0?_0x203453['join']('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x3b99c7,_0x2ca466,_0x1701e1){const _0x59114b=_0x2bcb18,_0x250f5e=document[_0x59114b(0x932)](_0x59114b(0xa63));if(_0x1701e1[_0x59114b(0x752)]===0x0){_0x250f5e[_0x59114b(0xa16)]='<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>';return;}const _0x527a56=calculateItemAnalysis(_0x3b99c7,_0x2ca466),_0x56fd3d=calculateDistractorAnalysis(_0x3b99c7,_0x2ca466);let _0x1637ad='';_0x527a56[_0x59114b(0x4fd)]&&(_0x1637ad=_0x59114b(0x4e7)+_0x527a56[_0x59114b(0x4fd)][_0x59114b(0xb69)][_0x59114b(0x752)]+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x527a56[_0x59114b(0x4fd)][_0x59114b(0xb69)][_0x59114b(0xe49)](_0x59795f=>_0x59114b(0xa9f)+_0x59795f+_0x59114b(0x2bb))[_0x59114b(0xbb2)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20('+_0x527a56[_0x59114b(0x4fd)][_0x59114b(0xaff)][_0x59114b(0x752)]+_0x59114b(0xd82)+_0x527a56[_0x59114b(0x4fd)][_0x59114b(0xaff)]['map'](_0x415d24=>_0x59114b(0xa9f)+_0x415d24+_0x59114b(0x2bb))[_0x59114b(0xbb2)]('')+_0x59114b(0xbe0));let _0x55819d='';const _0x1136b9=_0x2ca466['map'](_0x32bb04=>_0x32bb04['studentName']),_0x620484=_0x37c6ef=>{const _0x30099e=_0x59114b;if(_0x37c6ef>=0.8)return _0x30099e(0xbc5);if(_0x37c6ef>=0.6)return'<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>';if(_0x37c6ef>=0.4)return _0x30099e(0x536);if(_0x37c6ef>=0.2)return'<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>';return _0x30099e(0x17e);},_0x4121fb=_0x369bfa=>{const _0xd3796b=_0x59114b;if(_0x369bfa<0x0)return'<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>';if(_0x369bfa>=0.4)return _0xd3796b(0xdf3);if(_0x369bfa>=0.3)return'<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>';if(_0x369bfa>=0.2)return _0xd3796b(0xdf5);return'<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>';},_0x6b6bd1=_0x5c011c=>{const _0x72851a=_0x59114b,_0x30f236=_0x5c011c[_0x72851a(0x46c)](0x0);if(parseFloat(_0x30f236)===0x64)return _0x72851a(0x839)+_0x30f236+_0x72851a(0x86a);if(_0x5c011c>=0x32)return _0x72851a(0x670)+_0x30f236+_0x72851a(0x86a);return _0x72851a(0xd93)+_0x30f236+'%</span>';};_0x3b99c7['questions'][_0x59114b(0x39f)]((_0x330085,_0xb9c772)=>{const _0x5a0e64=_0x59114b,_0x5482a2=_0x527a56['perQuestionStats'][_0xb9c772],_0xbcb8a0=_0x56fd3d[_0xb9c772],_0x536bd1=_0x330085[_0x5a0e64(0x58b)]||_0x330085['questionText']||_0x330085[_0x5a0e64(0x87f)];let _0x1e0c67=0x0;const _0x26b9b5=[],_0x5807dd=[];_0x2ca466['forEach'](_0x12215e=>{const _0x3e198f=_0x5a0e64,_0x197cc8=_0x12215e[_0x3e198f(0xa66)][_0x12215e[_0x3e198f(0xa66)][_0x3e198f(0x752)]-0x1];if(_0x197cc8&&_0x197cc8[_0x3e198f(0x8c5)]){const _0x5d65a4=_0x197cc8['answers'][_0x3e198f(0x7a3)](_0x41a550=>_0x41a550[_0x3e198f(0x870)]===_0x536bd1)??_0x197cc8[_0x3e198f(0x8c5)][_0xb9c772]??null;_0x5d65a4&&(_0x5d65a4[_0x3e198f(0x129)]?(_0x1e0c67++,_0x26b9b5[_0x3e198f(0xe86)](_0x12215e[_0x3e198f(0xad2)])):_0x5807dd[_0x3e198f(0xe86)](_0x12215e[_0x3e198f(0xad2)]));}});const _0xc313db=_0x2ca466[_0x5a0e64(0x752)]>0x0?_0x1e0c67/_0x2ca466['length']*0x64:0x0,_0x54c84f=_0x1701e1['filter'](_0x5d6145=>!_0x1136b9[_0x5a0e64(0xd2e)](_0x5d6145)),_0x32b849=_0x5482a2?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>'+_0x5482a2['p'][_0x5a0e64(0x46c)](0x2)+_0x5a0e64(0x25d)+_0x620484(_0x5482a2['p'])+_0x5a0e64(0x150)+_0x5482a2['r']['toFixed'](0x2)+'</p><div>'+_0x4121fb(_0x5482a2['r'])+_0x5a0e64(0xbf0)+_0x6b6bd1(_0xc313db)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>':'';let _0x4e72fe='';_0xbcb8a0&&(_0x4e72fe=_0x5a0e64(0xd9a)+Object[_0x5a0e64(0x338)](_0xbcb8a0)[_0x5a0e64(0xe49)](_0x3327e6=>{const _0x12935d=_0x5a0e64,_0x3c9789=_0xbcb8a0[_0x3327e6],_0x14b66e=parseInt(_0x3327e6)===_0x330085[_0x12935d(0x52a)],_0xd4e5a3=!_0x14b66e&&_0x3c9789[_0x12935d(0x7f8)]>_0x3c9789[_0x12935d(0x855)];return _0x12935d(0x132)+(_0x14b66e?_0x12935d(0x3b9):'')+_0x12935d(0x6cf)+(_0x14b66e?'✔\x20':'')+_0x3c9789[_0x12935d(0x13d)]+_0x12935d(0x154)+_0x3c9789[_0x12935d(0x855)]+_0x12935d(0x154)+_0x3c9789[_0x12935d(0x7f8)]+'\x20'+(_0xd4e5a3?'👍':'')+_0x12935d(0x154)+_0x3c9789[_0x12935d(0xc14)]+_0x12935d(0x46d);})['join']('')+_0x5a0e64(0x8ee));let _0x3bbe23='';_0x5482a2&&_0x5482a2['upperGroupResponders']&&(_0x3bbe23=_0x5a0e64(0x25f)+_0x5482a2[_0x5a0e64(0x705)][_0x5a0e64(0x752)]+_0x5a0e64(0x686)+_0x5482a2[_0x5a0e64(0x705)][_0x5a0e64(0xe49)](_0x1d5509=>_0x5a0e64(0xa9f)+(_0x1d5509['isCorrect']?_0x5a0e64(0xd35):'<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>')+'\x20'+_0x1d5509['name']+_0x5a0e64(0x2bb))[_0x5a0e64(0xbb2)]('')+_0x5a0e64(0x449)+_0x5482a2[_0x5a0e64(0x899)]['length']+'\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>'+_0x5482a2[_0x5a0e64(0x899)][_0x5a0e64(0xe49)](_0x243bb5=>_0x5a0e64(0xa9f)+(_0x243bb5[_0x5a0e64(0x129)]?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>':_0x5a0e64(0x207))+'\x20'+_0x243bb5[_0x5a0e64(0x34a)]+_0x5a0e64(0x2bb))[_0x5a0e64(0xbb2)]('')+_0x5a0e64(0x2d7)),_0x55819d+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20'+(_0xb9c772+0x1)+':\x20'+_0x536bd1+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>'+_0x32b849+_0x5a0e64(0x88c)+_0x536bd1+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20'+_0x1e0c67+'\x20จาก\x20'+_0x2ca466[_0x5a0e64(0x752)]+_0x5a0e64(0x8be)+_0xc313db[_0x5a0e64(0x46c)](0x0)+_0x5a0e64(0x7a7)+_0x26b9b5[_0x5a0e64(0x752)]+_0x5a0e64(0xd70)+(_0x26b9b5[_0x5a0e64(0x752)]>0x0?_0x26b9b5[_0x5a0e64(0xbb2)](',\x20'):_0x5a0e64(0xa9a))+_0x5a0e64(0x24a)+_0x5807dd[_0x5a0e64(0x752)]+_0x5a0e64(0xd70)+(_0x5807dd[_0x5a0e64(0x752)]>0x0?_0x5807dd[_0x5a0e64(0xbb2)](',\x20'):_0x5a0e64(0xa9a))+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20('+_0x54c84f[_0x5a0e64(0x752)]+_0x5a0e64(0xd70)+(_0x54c84f[_0x5a0e64(0x752)]>0x0?_0x54c84f[_0x5a0e64(0xbb2)](',\x20'):_0x5a0e64(0xa9a))+_0x5a0e64(0xe0e)+_0x4e72fe+_0x5a0e64(0xb1e)+_0x3bbe23+_0x5a0e64(0x680);}),_0x250f5e['innerHTML']=_0x1637ad+_0x55819d;try{window[_0x59114b(0x7f9)]&&MathJax[_0x59114b(0xd3d)]&&MathJax[_0x59114b(0xd3d)]([_0x250f5e]);}catch(_0x536e11){console[_0x59114b(0x1ac)](_0x59114b(0x4af),_0x536e11);}}function calculateDistractorAnalysis(_0x39f982,_0x31cdc9){const _0x2c6333=_0x2bcb18,_0xab5b98={};if(_0x31cdc9[_0x2c6333(0x752)]<0x2)return _0xab5b98;const _0x292aba=[..._0x31cdc9]['sort']((_0x3e4446,_0x3c6c7e)=>{const _0x42eb2e=_0x2c6333,_0x45e1e3=_0x3c6c7e[_0x42eb2e(0x5a7)]-_0x3e4446['latestScore'];if(_0x45e1e3!==0x0)return _0x45e1e3;const _0x46d5af=_0x3e4446[_0x42eb2e(0xa66)]?.[_0x42eb2e(0x752)]||0x1,_0xb4785=_0x3c6c7e[_0x42eb2e(0xa66)]?.[_0x42eb2e(0x752)]||0x1,_0x1ba289=_0x46d5af-_0xb4785;if(_0x1ba289!==0x0)return _0x1ba289;const _0x4302f1=new Date(_0x3e4446[_0x42eb2e(0xb77)]),_0x29ea15=new Date(_0x3c6c7e['latestSubmittedAt']),_0x4ca1ce=_0x4302f1-_0x29ea15;if(_0x4ca1ce!==0x0)return _0x4ca1ce;return _0x3e4446[_0x42eb2e(0xad2)][_0x42eb2e(0x1bf)](_0x3c6c7e[_0x42eb2e(0xad2)],'th');}),_0x24287b=_0x292aba[_0x2c6333(0x752)],_0x4e29a7=Math[_0x2c6333(0x824)](0x1,Math[_0x2c6333(0x4cf)](_0x24287b*0.33)),_0x45504f=_0x292aba[_0x2c6333(0x9b9)](0x0,_0x4e29a7),_0x2e2b5a=_0x292aba['slice'](-_0x4e29a7);return _0x39f982['questions']['forEach']((_0x216576,_0x2424ef)=>{const _0x38c92a=_0x2c6333;if(_0x216576[_0x38c92a(0x2ed)]!==_0x38c92a(0x47e)||!_0x216576[_0x38c92a(0x3e2)])return;const _0x2232a0=_0x216576[_0x38c92a(0xca8)],_0x58448b={};_0x216576[_0x38c92a(0x3e2)][_0x38c92a(0x39f)]((_0x358aa9,_0x222393)=>{_0x58448b[_0x222393]={'text':_0x358aa9,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x292aba[_0x38c92a(0x39f)](_0x3ad534=>{const _0x53f9ad=_0x38c92a,_0xdd667b=_0x3ad534[_0x53f9ad(0xa66)][_0x3ad534[_0x53f9ad(0xa66)][_0x53f9ad(0x752)]-0x1],_0x3d2475=_0xdd667b[_0x53f9ad(0x8c5)][_0x53f9ad(0x7a3)](_0x2fa099=>_0x2fa099[_0x53f9ad(0x870)]===_0x2232a0);if(_0x3d2475&&_0x3d2475[_0x53f9ad(0x328)]!==null){const _0x4cf39f=_0x216576[_0x53f9ad(0x3e2)][_0x53f9ad(0x2b7)](_0x44cc02=>_0x44cc02===_0x3d2475[_0x53f9ad(0x8f1)]);_0x4cf39f!==-0x1&&_0x58448b[_0x4cf39f]&&(_0x58448b[_0x4cf39f]['total']++,_0x45504f[_0x53f9ad(0xd2e)](_0x3ad534)&&_0x58448b[_0x4cf39f][_0x53f9ad(0x855)]++,_0x2e2b5a[_0x53f9ad(0xd2e)](_0x3ad534)&&_0x58448b[_0x4cf39f]['lower_group_count']++);}}),_0xab5b98[_0x2424ef]=_0x58448b;}),_0xab5b98;}function calculateReliabilityKR20(_0x3038b1,_0x2acb2a,_0x4bc4a5){const _0x154c60=_0x2bcb18,_0x433aa0=_0x3038b1[_0x154c60(0xc46)][_0x154c60(0x752)];if(_0x433aa0<0x2||_0x2acb2a[_0x154c60(0x752)]<0x2)return null;const _0x474322=_0x2acb2a[_0x154c60(0xe49)](_0x42d923=>_0x42d923['latestScore']),_0x43e820=_0x474322[_0x154c60(0xdbf)]((_0x70d978,_0x37a6f8)=>_0x70d978+_0x37a6f8,0x0)/_0x474322[_0x154c60(0x752)],_0x56e412=_0x474322[_0x154c60(0xe49)](_0x4b6033=>Math[_0x154c60(0xd61)](_0x4b6033-_0x43e820,0x2))['reduce']((_0x2f3e57,_0x36a5ea)=>_0x2f3e57+_0x36a5ea,0x0)/_0x474322[_0x154c60(0x752)];if(_0x56e412===0x0)return null;let _0x64973e=0x0;for(let _0x450a2e=0x0;_0x450a2e<_0x433aa0;_0x450a2e++){const _0x214bb3=_0x4bc4a5[_0x450a2e]?.['p'];if(_0x214bb3===undefined)continue;const _0x2e3f2f=0x1-_0x214bb3;_0x64973e+=_0x214bb3*_0x2e3f2f;}if(_0x64973e===0x0)return null;const _0x186599=_0x433aa0/(_0x433aa0-0x1)*(0x1-_0x64973e/_0x56e412);if(_0x186599>0x1)return null;return _0x186599;}async function handleAnalyzeClass(){const _0x3ef597=_0x2bcb18;if(!currentQuizData||!currentQuizData['id']){showMessage(_0x3ef597(0xd02));return;}const _0x48d5b4=collection(db,_0x3ef597(0x6e6)+appId+_0x3ef597(0x133)+currentQuizData['id']+_0x3ef597(0x2f0)),_0x18518c=await getDocs(_0x48d5b4),_0x2837ee=_0x18518c[_0x3ef597(0x9ef)][_0x3ef597(0xe49)](_0x53e3fe=>_0x53e3fe[_0x3ef597(0x13f)]());if(_0x2837ee[_0x3ef597(0x752)]<0x2){showMessage(_0x3ef597(0xc5e));return;}const _0x4343c2=document[_0x3ef597(0x932)](_0x3ef597(0xb6f));_0x4343c2['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',document['getElementById']('analyze-strengths-btn')[_0x3ef597(0xad6)]=!![];const _0x5e5b85=_0x2837ee[_0x3ef597(0xe49)]((_0x59ff09,_0x53b1bf)=>{const _0x1319d4=_0x3ef597,_0x572579=_0x59ff09[_0x1319d4(0xa66)][_0x59ff09['attempts'][_0x1319d4(0x752)]-0x1];if(!_0x572579)return'';return _0x1319d4(0x524)+(_0x53b1bf+0x1)+'\x20('+_0x59ff09[_0x1319d4(0xad2)]+_0x1319d4(0xb88)+_0x572579['score']+'/'+_0x59ff09[_0x1319d4(0x694)]+_0x1319d4(0x693)+JSON[_0x1319d4(0x692)](_0x572579['answers'])+_0x1319d4(0x9b3);})['join'](_0x3ef597(0x489)),_0x4b3383='\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22'+currentQuizData['topic']+_0x3ef597(0x48b)+JSON['stringify'](currentQuizData[_0x3ef597(0xc46)])+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5e5b85+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20',_0x14a56f={'type':_0x3ef597(0xde5),'properties':{'classStrengths':{'type':_0x3ef597(0xd66),'items':{'type':'STRING'}},'classWeaknesses':{'type':_0x3ef597(0xd66),'items':{'type':_0x3ef597(0x7d8)}},'teacherSuggestions':{'type':_0x3ef597(0xd66),'items':{'type':_0x3ef597(0x7d8)}}},'required':[_0x3ef597(0x8da),'classWeaknesses',_0x3ef597(0x286)]};try{const _0x208923=await callAnalysisApi(_0x4b3383,_0x14a56f);displayClassAnalysis(_0x208923);}catch(_0x305f94){console[_0x3ef597(0x1ac)](_0x3ef597(0x749),_0x305f94),_0x4343c2[_0x3ef597(0xa16)]=_0x3ef597(0x116)+_0x305f94[_0x3ef597(0x523)]+_0x3ef597(0xcb5);}finally{document[_0x3ef597(0x932)](_0x3ef597(0x2a2))[_0x3ef597(0xad6)]=![];}}function displayClassAnalysis(_0x30b5fc){const _0x1b54fb=_0x2bcb18,_0x4a9166=document['getElementById'](_0x1b54fb(0xb6f));if(!_0x30b5fc){_0x4a9166['innerHTML']=_0x1b54fb(0x488);return;}_0x4a9166['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x30b5fc[_0x1b54fb(0x8da)][_0x1b54fb(0xe49)](_0x17fe1f=>_0x1b54fb(0xa9f)+_0x17fe1f+_0x1b54fb(0x2bb))[_0x1b54fb(0xbb2)]('')+_0x1b54fb(0x68e)+_0x30b5fc['classWeaknesses'][_0x1b54fb(0xe49)](_0x401cf7=>'<li>'+_0x401cf7+_0x1b54fb(0x2bb))[_0x1b54fb(0xbb2)]('')+_0x1b54fb(0xcc9)+_0x30b5fc[_0x1b54fb(0x286)][_0x1b54fb(0xe49)](_0x2c89a2=>_0x1b54fb(0xa9f)+_0x2c89a2+'</li>')['join']('')+_0x1b54fb(0x1c4);}function formatAndPrintWorksheet(_0x2f4d6f,_0xe1b953){const _0x1a0b84=_0x2bcb18,_0x41d8c9=_0x1a0b84(0xd9f)+_0x2f4d6f[_0x1a0b84(0x79c)]+_0x1a0b84(0x8e7)+_0x2f4d6f[_0x1a0b84(0x79c)]+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2f4d6f['questions'][_0x1a0b84(0xe49)]((_0x17130f,_0x1da20f)=>_0x1a0b84(0x356)+(_0x1da20f+0x1)+'.\x20'+_0x17130f['questionText']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x17130f[_0x1a0b84(0xe40)]?'<div\x20class=\x22my-2\x20flex\x20justify-center\x22>'+_0x17130f[_0x1a0b84(0xe40)]+'</div>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x1a0b84(0xbb2)]('')+_0x1a0b84(0x565);_0xe1b953[_0x1a0b84(0x1f0)][_0x1a0b84(0x171)](_0x41d8c9),_0xe1b953['document']['close'](),_0xe1b953[_0x1a0b84(0x905)]=function(){setTimeout(()=>{const _0x5957dd=_0x63b3;_0xe1b953[_0x5957dd(0x9e6)]();},0x3e8);};}async function generateWorksheet(){const _0x32b6ef=_0x2bcb18,_0x27f401=document['getElementById']('worksheet-topic-input')[_0x32b6ef(0x99c)]['trim']();if(!_0x27f401){showMessage(_0x32b6ef(0x4ca));return;}const _0x2b2a32=document[_0x32b6ef(0x932)]('force-math-checkbox')[_0x32b6ef(0xc62)],_0x221a9e=_0x2b2a32?'':'คณิตศาสตร์',_0x38db60=window[_0x32b6ef(0x1dd)]('',_0x32b6ef(0x394));_0x38db60[_0x32b6ef(0x1f0)][_0x32b6ef(0x171)](_0x32b6ef(0xa1f));const _0x35fd1b=parseInt(document['getElementById'](_0x32b6ef(0x70e))['value']),_0x1112d8=document[_0x32b6ef(0x932)](_0x32b6ef(0xe91))[_0x32b6ef(0xc62)],_0x3aec68=_0x1112d8?_0x32b6ef(0xc2b):'',_0x55dc9b=_0x32b6ef(0x6b4)+_0x221a9e+'ที่พิมพ์ได้\x20จำนวน\x20'+_0x35fd1b+_0x32b6ef(0xb8e)+_0x27f401+_0x32b6ef(0xc19)+_0x3aec68+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x32b6ef(0x14d),_0x2d322b={'type':_0x32b6ef(0xde5),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x32b6ef(0xd66),'items':{'type':_0x32b6ef(0xde5),'properties':{'questionText':{'type':_0x32b6ef(0x7d8)},'imageCode':{'type':_0x32b6ef(0x7d8)}},'required':[_0x32b6ef(0xca8)]}}},'required':['topic','questions']};document[_0x32b6ef(0x932)](_0x32b6ef(0x231))[_0x32b6ef(0xdec)]='',document[_0x32b6ef(0x932)](_0x32b6ef(0xe0d))[_0x32b6ef(0x360)][_0x32b6ef(0xcc8)](_0x32b6ef(0x2f2)),document[_0x32b6ef(0x932)](_0x32b6ef(0xa17))[_0x32b6ef(0x360)]['remove']('hidden'),generateWorksheetBtn[_0x32b6ef(0xad6)]=!![];try{const _0x14c384=await callAnalysisApi(_0x55dc9b,_0x2d322b);formatAndPrintWorksheet(_0x14c384,_0x38db60);}catch(_0x4a808b){console[_0x32b6ef(0x1ac)]('Error\x20generating\x20worksheet:',_0x4a808b);if(_0x38db60)_0x38db60[_0x32b6ef(0xabf)]();showMessage(_0x32b6ef(0x8ad));}finally{document[_0x32b6ef(0x932)](_0x32b6ef(0xe0d))[_0x32b6ef(0x360)][_0x32b6ef(0x4a6)](_0x32b6ef(0x2f2)),document[_0x32b6ef(0x932)]('quiz-generation-area')['classList'][_0x32b6ef(0x4a6)](_0x32b6ef(0x2f2)),generateWorksheetBtn[_0x32b6ef(0xad6)]=![];}}async function callAnalysisApi(_0x21da98,_0x533203){const _0x230a9a=_0x2bcb18,_0x39eba2={'contents':[{'role':_0x230a9a(0x660),'parts':[{'text':_0x21da98}]}],'generationConfig':{'responseMimeType':_0x230a9a(0x7f5),'responseSchema':_0x533203}},_0x9f0a95='AIzaSyCtoNyZdnHyihAxOD_M0HTLKoWdB-vHM08',_0x1733fe=_0x230a9a(0xddb)+_0x9f0a95,_0x529568=await fetch(_0x1733fe,{'method':_0x230a9a(0xe68),'headers':{'Content-Type':'application/json'},'body':JSON[_0x230a9a(0x692)](_0x39eba2)});if(!_0x529568['ok'])throw new Error(_0x230a9a(0xcf6)+_0x529568[_0x230a9a(0x1f8)]);const _0x264fdc=await _0x529568['json']();if(_0x264fdc[_0x230a9a(0xa28)]?.[0x0]?.[_0x230a9a(0x780)]?.['parts']?.[0x0])return JSON['parse'](_0x264fdc[_0x230a9a(0xa28)][0x0]['content'][_0x230a9a(0x21f)][0x0][_0x230a9a(0x13d)]);else{let _0x3941f1=_0x230a9a(0xa30);if(_0x264fdc[_0x230a9a(0xb10)]?.['blockReason'])_0x3941f1='AI\x20request\x20was\x20blocked.\x20Reason:\x20'+_0x264fdc[_0x230a9a(0xb10)]['blockReason']+'.';else _0x264fdc[_0x230a9a(0xa28)]?.[0x0]?.[_0x230a9a(0xda8)]&&_0x264fdc['candidates'][0x0][_0x230a9a(0xda8)]!=='STOP'&&(_0x3941f1=_0x230a9a(0xbcc)+_0x264fdc['candidates'][0x0][_0x230a9a(0xda8)]+'.');console[_0x230a9a(0x1ac)](_0x3941f1,JSON[_0x230a9a(0x692)](_0x264fdc));throw new Error(_0x3941f1);}}async function handleStartSyncMode(_0x45fe02,_0x51d94a=![],_0x450eae=_0x2bcb18(0x4e6)){const _0x539401=_0x2bcb18,_0x36d631=allQuizzes['find'](_0x33d662=>_0x33d662['id']===_0x45fe02)||allQuizzesGlobal[_0x539401(0x7a3)](_0x19f5ee=>_0x19f5ee['id']===_0x45fe02);if(!_0x36d631){showMessage(_0x539401(0xd90));return;}currentQuizData=getShuffledQuiz(_0x36d631);const _0x4ba282=Math['floor'](0x3e8+Math[_0x539401(0xbad)]()*0x2328)[_0x539401(0xdcb)](),_0x45728a=doc(db,_0x539401(0x6e6)+appId+_0x539401(0x53a),_0x36d631['projectId']),_0x4d4124=await getDoc(_0x45728a);if(!_0x4d4124[_0x539401(0x7d2)]()){showMessage(_0x539401(0x4e4));return;}const _0x3cedff=_0x4d4124[_0x539401(0x13f)]()[_0x539401(0x950)]||[],_0x1c1665={};if(_0x450eae===_0x539401(0x7a4)||_0x450eae==='anonymous_reveal_end'){const _0x15683a=[...ANONYMOUS_NAMES][_0x539401(0x41f)](()=>0.5-Math[_0x539401(0xbad)]());_0x3cedff[_0x539401(0x39f)]((_0x3ac4a7,_0x527693)=>{const _0x946710=_0x539401;_0x1c1665[_0x3ac4a7]=_0x15683a[_0x527693]||_0x946710(0xb9b)+(_0x527693+0x1);});}const _0xa1c551=document[_0x539401(0x932)](_0x539401(0xb3b))[_0x539401(0xc62)],_0x94d64=parseInt(document['getElementById'](_0x539401(0x976))[_0x539401(0x99c)],0xa);let _0x5005e7={'timerMode':_0x539401(0x7dc),'timerDuration':0x0};_0xa1c551&&(_0x5005e7[_0x539401(0x33e)]=_0x539401(0x1f1),_0x5005e7[_0x539401(0x460)]=_0x94d64||0xf0);const _0x288a3b=document[_0x539401(0x932)](_0x539401(0x2b0))[_0x539401(0xc62)],_0x26507f=document[_0x539401(0x932)](_0x539401(0x4a8))[_0x539401(0xc62)];try{const _0x2acf8e=await addDoc(collection(db,_0x539401(0x6e6)+appId+_0x539401(0x2ef)),{'quizId':_0x36d631['id'],'pin':_0x4ba282,'status':_0x539401(0x182),'currentQuestionIndex':-0x1,'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x51d94a,'players':{},'gameVariant':_0x450eae,'reviewQuestionIndex':0x0,'playerNicknames':_0x1c1665,'isAnonymousRevealed':![],..._0x5005e7,'showAnswerInAnonymous':_0x288a3b,'isBlackMarketEnabled':_0x26507f});currentLiveGameId=_0x2acf8e['id'],showView(_0x539401(0x1e5)),renderSyncLobbyView(_0x4ba282,_0x36d631[_0x539401(0x79c)]),listenForSyncGameUpdates();const _0x1c32f8={'gameId':currentLiveGameId,'mode':_0x539401(0xe51),'role':_0x539401(0xcd1)};sessionStorage[_0x539401(0x798)](_0x539401(0x15d),JSON[_0x539401(0x692)](_0x1c32f8));}catch(_0x5cd939){console[_0x539401(0x1ac)](_0x539401(0x120),_0x5cd939),showMessage(_0x539401(0xd96));}}function calculateFinalPodiumScores(_0x3b7afc){const _0x43d174=_0x2bcb18;if(!_0x3b7afc||!_0x3b7afc['shuffledQuiz']||!_0x3b7afc[_0x43d174(0x18b)])return _0x3b7afc[_0x43d174(0x18b)]||{};const _0xd1fc9f=_0x3b7afc[_0x43d174(0x450)][_0x43d174(0xc46)][_0x43d174(0x752)],_0x4fe74f=JSON['parse'](JSON['stringify'](_0x3b7afc[_0x43d174(0x18b)]));return Object['values'](_0x4fe74f)[_0x43d174(0x39f)](_0x3029f2=>{const _0x10224f=_0x43d174,_0x14e74f=_0x3029f2[_0x10224f(0x853)]||0x0,_0x4e6198=_0x3029f2[_0x10224f(0xd68)]||0x0;_0xd1fc9f>0x0&&_0x14e74f===_0xd1fc9f?_0x3029f2[_0x10224f(0x226)]=!![]:_0x3029f2['hasPerfectScoreBonus']=![],_0x3029f2[_0x10224f(0x971)]=_0x14e74f,_0x3029f2[_0x10224f(0xd68)]=_0x4e6198;}),_0x4fe74f;}let cachedGameData=null,cachedPlayerData={},unsubscribePlayerDocListener=null,unsubscribePlayersCollectionListener=null;function listenForSyncGameUpdates(){const _0x3da793=_0x2bcb18;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();if(unsubscribePlayerDocListener)unsubscribePlayerDocListener();if(unsubscribePlayersCollectionListener)unsubscribePlayersCollectionListener();cachedPlayerData={},cachedGameData=null;const _0xe8794c=doc(db,_0x3da793(0x6e6)+appId+_0x3da793(0x2ef),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0xe8794c,_0x452514=>{const _0x32cd85=_0x3da793;if(!_0x452514[_0x32cd85(0x7d2)]()){sessionStorage['removeItem'](_0x32cd85(0x15d)),showMessage(_0x32cd85(0x1eb));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x32cd85(0xcd1)?showView('project-detail'):showView(_0x32cd85(0x18c));return;}cachedGameData=_0x452514[_0x32cd85(0x13f)](),cachedGameData[_0x32cd85(0x450)]&&(currentQuizData=cachedGameData[_0x32cd85(0x450)]),syncDataAndRender();});const _0x3e8c8e=collection(db,_0x3da793(0x6e6)+appId+_0x3da793(0xd31)+currentLiveGameId+_0x3da793(0xaf4));if(currentMode===_0x3da793(0xcd1))unsubscribePlayersCollectionListener=onSnapshot(_0x3e8c8e,_0x5bc6b7=>{const _0x20366c=_0x3da793;_0x5bc6b7['docChanges']()[_0x20366c(0x39f)](_0x1e7c46=>{const _0x475dc3=_0x20366c;if(_0x1e7c46[_0x475dc3(0x587)]==='added'||_0x1e7c46[_0x475dc3(0x587)]==='modified')cachedPlayerData[_0x1e7c46['doc']['id']]=_0x1e7c46['doc']['data']();else _0x1e7c46[_0x475dc3(0x587)]===_0x475dc3(0x32f)&&delete cachedPlayerData[_0x1e7c46['doc']['id']];}),syncDataAndRender();});else{if(localTeamPlayers&&localTeamPlayers[_0x3da793(0x752)]>0x0){const _0x529916=query(_0x3e8c8e,where('name','in',localTeamPlayers));unsubscribePlayersCollectionListener=onSnapshot(_0x529916,_0x4dec9d=>{const _0x1100e5=_0x3da793;_0x4dec9d[_0x1100e5(0xa0a)]()[_0x1100e5(0x39f)](_0xd6f411=>{const _0x4409db=_0x1100e5;(_0xd6f411[_0x4409db(0x587)]==='added'||_0xd6f411[_0x4409db(0x587)]===_0x4409db(0xe63))&&(cachedPlayerData[_0xd6f411[_0x4409db(0x203)]['id']]=_0xd6f411[_0x4409db(0x203)][_0x4409db(0x13f)]());}),syncDataAndRender();});}}}function syncDataAndRender(){const _0x2d4fce=_0x2bcb18;if(!cachedGameData)return;const _0x468d5a={},_0x1e4d83=cachedGameData[_0x2d4fce(0x907)];Object[_0x2d4fce(0x338)](cachedPlayerData)[_0x2d4fce(0x39f)](_0x174391=>{const _0x48ef36=_0x2d4fce,_0x12a0e3=cachedPlayerData[_0x174391],_0x43df1d=_0x12a0e3[_0x48ef36(0x8c5)]&&_0x12a0e3[_0x48ef36(0x8c5)][_0x48ef36(0x93a)](_0x5d0bbd=>_0x5d0bbd[_0x48ef36(0xa22)]===_0x1e4d83);_0x468d5a[_0x174391]={..._0x12a0e3,'answered':_0x43df1d};});const _0x398ec2={...cachedGameData,'players':_0x468d5a};currentMode==='admin'?updateAdminSyncView(_0x398ec2):updateStudentSyncView(_0x398ec2);}function renderSyncLobbyView(_0x1274ff,_0x4d4ac9){const _0x140593=_0x2bcb18;liveGameView['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>Sync\x20Mode:\x20'+_0x4d4ac9+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>'+_0x1274ff+_0x140593(0x318);const _0xa9d4a3=document[_0x140593(0x932)](_0x140593(0x89c)),_0x3c3df5=document[_0x140593(0x932)](_0x140593(0x16c));_0xa9d4a3[_0x140593(0x639)](_0x140593(0x62d),()=>{const _0x180224=_0x140593;_0x3c3df5['style'][_0x180224(0xb59)]=_0xa9d4a3[_0x180224(0xc62)]?_0x180224(0xca6):_0x180224(0x7dc);}),document['getElementById']('start-sync-game-btn')[_0x140593(0x639)]('click',async()=>{const _0x466ac2=_0x140593,_0x3ed281=doc(db,_0x466ac2(0x6e6)+appId+'/public/data/syncGames',currentLiveGameId),_0x54990b=document[_0x466ac2(0x932)]('confidence-scoring-toggle')[_0x466ac2(0xc62)];await updateDoc(_0x3ed281,{'status':_0x466ac2(0xb8f),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp(),'isConfidenceScoringEnabled':_0x54990b});});}function updateAdminSyncView(_0x31b376){const _0x3a07ff=_0x2bcb18;if(syncQuestionTimerInterval)clearInterval(syncQuestionTimerInterval);switch(_0x31b376[_0x3a07ff(0x1f8)]){case _0x3a07ff(0x182):renderSyncLobbyView(_0x31b376[_0x3a07ff(0x365)],_0x31b376[_0x3a07ff(0x450)][_0x3a07ff(0x79c)]);const _0x44e223=Object[_0x3a07ff(0xd16)](_0x31b376[_0x3a07ff(0x18b)]||{})['filter'](([_0x428516,_0x3a5959])=>_0x3a5959[_0x3a07ff(0x1f8)]!==_0x3a07ff(0x410));document[_0x3a07ff(0x932)](_0x3a07ff(0xe6f))['textContent']=_0x44e223['length'],document[_0x3a07ff(0x932)](_0x3a07ff(0xc0e))[_0x3a07ff(0xa16)]=_0x44e223['map'](([_0x6ed6f9,_0x285ec0])=>_0x3a07ff(0xb95)+_0x6ed6f9+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22'+_0x6ed6f9+_0x3a07ff(0xd1c))[_0x3a07ff(0xbb2)]('')||_0x3a07ff(0x322),document[_0x3a07ff(0x932)](_0x3a07ff(0x8ab))[_0x3a07ff(0xad6)]=_0x44e223[_0x3a07ff(0x752)]===0x0;break;case _0x3a07ff(0xb8f):const _0x131851=Object[_0x3a07ff(0x282)](_0x31b376['players']||{})['filter'](_0x402569=>_0x402569['status']!==_0x3a07ff(0x410)),_0x5cb91a=_0x131851['filter'](_0x2a7cec=>_0x2a7cec[_0x3a07ff(0xdea)])[_0x3a07ff(0x752)],_0x4f1965=_0x5cb91a===_0x131851[_0x3a07ff(0x752)]&&_0x131851[_0x3a07ff(0x752)]>0x0;if(_0x4f1965&&_0x31b376[_0x3a07ff(0x1f8)]===_0x3a07ff(0xb8f)){const _0x312149=doc(db,'artifacts/'+appId+_0x3a07ff(0x2ef),currentLiveGameId);updateDoc(_0x312149,{'status':_0x3a07ff(0x671)});return;}if(document['getElementById'](_0x3a07ff(0xa07))===null)renderAdminSyncQuestionView(_0x31b376);else{const _0x4ea0f0=document['getElementById'](_0x3a07ff(0xcd5));_0x4ea0f0&&(_0x4ea0f0[_0x3a07ff(0xdec)]=_0x5cb91a+'/'+_0x131851[_0x3a07ff(0x752)]);const _0x46545a=document['getElementById'](_0x3a07ff(0x6ff));_0x46545a&&(_0x46545a[_0x3a07ff(0xa16)]=_0x131851[_0x3a07ff(0xe49)](_0x333736=>{const _0x53d59e=_0x3a07ff,_0x469175=_0x333736[_0x53d59e(0xdea)]?_0x53d59e(0xe1a):_0x53d59e(0xdbd),_0x279cc2=_0x333736[_0x53d59e(0xdea)]?'<i\x20class=\x22fas\x20fa-check-circle\x22></i>':_0x53d59e(0xb51);return'<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20'+_0x469175+'\x22>'+_0x279cc2+_0x53d59e(0x64b)+_0x333736[_0x53d59e(0x34a)]+_0x53d59e(0x6bf)+_0x333736[_0x53d59e(0x34a)]+'\x22\x20class=\x22kick-player-btn-sync\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button></div>';})['join'](''));}const _0x39da17=_0x31b376[_0x3a07ff(0x33e)]===_0x3a07ff(0x1f1)&&_0x31b376[_0x3a07ff(0xcd2)];if(_0x39da17){const _0x4611c8=_0x31b376['questionDisplayedAt']['toDate']()['getTime'](),_0x2ae536=_0x31b376[_0x3a07ff(0x460)]*0x3e8,_0x2322f5=_0x4611c8+_0x2ae536,_0x4a501c=document[_0x3a07ff(0x932)](_0x3a07ff(0x473)),_0x567ff3=document[_0x3a07ff(0x932)]('sync-timer-countdown');syncQuestionTimerInterval=setInterval(()=>{const _0x179cc1=_0x3a07ff,_0x85eea1=Date['now'](),_0x19c5e8=_0x131851[_0x179cc1(0x752)]>0x0&&_0x131851[_0x179cc1(0x4e8)](_0x381514=>{const _0x56248b=_0x179cc1;if(_0x381514[_0x56248b(0xdea)])return!![];const _0x2160f1=_0x381514['timeBonusThisQuestion']||0x0;return _0x85eea1>=_0x4611c8+_0x2ae536+_0x2160f1;});if(_0x19c5e8){clearInterval(syncQuestionTimerInterval);const _0x3e31ca=doc(db,_0x179cc1(0x6e6)+appId+_0x179cc1(0x2ef),currentLiveGameId);updateDoc(_0x3e31ca,{'status':_0x179cc1(0x671)});return;}const _0x2f6c4e=_0x2322f5-_0x85eea1;if(_0x2f6c4e<=0x0){if(_0x4a501c)_0x4a501c[_0x179cc1(0x6dc)][_0x179cc1(0x3c6)]='0%';if(_0x567ff3)_0x567ff3['textContent']=_0x179cc1(0x8a0);}else{if(_0x4a501c&&_0x567ff3){const _0x3624eb=_0x2f6c4e/_0x2ae536*0x64;_0x4a501c[_0x179cc1(0x6dc)]['width']=_0x3624eb+'%',_0x567ff3[_0x179cc1(0xdec)]=Math[_0x179cc1(0xb9d)](_0x2f6c4e/0x3e8);}}},0x1f4);}break;case _0x3a07ff(0x671):const _0x685c85=_0x31b376['currentQuestionIndex'],_0x52d708=_0x31b376[_0x3a07ff(0x450)][_0x3a07ff(0xc46)][_0x685c85];renderSyncSummaryView(_0x31b376,_0x52d708,!![]);break;case _0x3a07ff(0xd37):const _0x589444=_0x31b376[_0x3a07ff(0x35a)]||_0x3a07ff(0x4e6);_0x589444===_0x3a07ff(0xa68)||_0x589444===_0x3a07ff(0x895)?renderAdminSyncDashboard(_0x31b376,!![],_0x31b376[_0x3a07ff(0x44c)]):(_0x31b376[_0x3a07ff(0x1f8)]==='results'&&!_0x31b376[_0x3a07ff(0x8cf)]&&((async()=>{const _0x8b1a9e=_0x3a07ff;try{const _0x3ddda1=doc(db,_0x8b1a9e(0x6e6)+appId+_0x8b1a9e(0x2ef),currentLiveGameId);await updateDoc(_0x3ddda1,{'scoresCalculated':!![]});const _0x8181eb=cachedPlayerData||{},_0x2eb773=_0x31b376[_0x8b1a9e(0x450)][_0x8b1a9e(0xc46)]['length'],_0x267858={};Object[_0x8b1a9e(0x282)](_0x8181eb)[_0x8b1a9e(0x39f)](_0x44cc4c=>{const _0x5e9aad=_0x8b1a9e;if(_0x44cc4c[_0x5e9aad(0x1f8)]!==_0x5e9aad(0x410)){const _0x5c6a9d=_0x44cc4c[_0x5e9aad(0x34a)],_0x1c2bce=_0x44cc4c[_0x5e9aad(0x853)]||0x0,_0x8a99fb=_0x44cc4c[_0x5e9aad(0xd68)]||0x0;let _0x4ac9b8=_0x8a99fb;_0x2eb773>0x0&&_0x1c2bce===_0x2eb773&&(_0x4ac9b8+=0x1),_0x267858[_0x5e9aad(0x40a)+_0x5c6a9d+_0x5e9aad(0x495)]=_0x1c2bce,_0x267858[_0x5e9aad(0x40a)+_0x5c6a9d+_0x5e9aad(0x872)]=_0x4ac9b8,_0x267858[_0x5e9aad(0x40a)+_0x5c6a9d+_0x5e9aad(0xe3d)]=_0x4ac9b8;}}),await updateDoc(_0x3ddda1,{..._0x267858});}catch(_0x405bb7){console[_0x8b1a9e(0x1ac)](_0x8b1a9e(0xe84),_0x405bb7);}})()),renderAdminSyncDashboard(_0x31b376,!![],_0x31b376[_0x3a07ff(0x907)]));break;case'podium':const _0x44aee0=Object['keys'](_0x31b376[_0x3a07ff(0x18b)]||{})['length']>0x0,_0x3afbc9=_0x31b376[_0x3a07ff(0x3dc)]===!![],_0x568d4d=_0x31b376['shouldSaveResults']===!![];_0x568d4d&&!_0x3afbc9&&_0x44aee0&&saveGameResultsAsSubmissions(_0x31b376);sessionStorage['removeItem'](_0x3a07ff(0x15d));const _0x5743a2=calculateFinalPodiumScores(_0x31b376);showPodiumView(_0x5743a2,_0x3a07ff(0xe51),_0x31b376);break;}}function renderAdminSyncQuestionView(_0x1420ec){const _0x3ab828=_0x2bcb18,_0x484bbd=_0x1420ec[_0x3ab828(0x907)],_0x4c0b24=_0x1420ec[_0x3ab828(0x450)]['questions'][_0x484bbd],_0x503268=_0x1420ec[_0x3ab828(0x450)][_0x3ab828(0xc46)]['length'],_0x301130=Object[_0x3ab828(0x282)](_0x1420ec[_0x3ab828(0x18b)]||{})[_0x3ab828(0x9a7)](_0x527cb9=>_0x527cb9[_0x3ab828(0x1f8)]!==_0x3ab828(0x410)),_0x5bcc69=_0x301130[_0x3ab828(0x9a7)](_0x4674e9=>_0x4674e9[_0x3ab828(0xdea)])['length'],_0x441363=_0x5bcc69===_0x301130[_0x3ab828(0x752)]&&_0x301130[_0x3ab828(0x752)]>0x0,_0x346be3=_0x4c0b24['questionType']||_0x1420ec['shuffledQuiz'][_0x3ab828(0x2de)],_0xf0b9b5=(_0x346be3===_0x3ab828(0xafb)||_0x346be3===_0x3ab828(0xceb))&&_0x4c0b24['options']&&_0x4c0b24[_0x3ab828(0x3e2)][_0x3ab828(0x752)]>0x0;let _0x58c591='';_0xf0b9b5?_0x58c591=_0x3ab828(0x15e):_0x58c591=(_0x4c0b24['options']||[])['map'](_0x24889c=>_0x3ab828(0xe4a)+_0x24889c+_0x3ab828(0x1f5))[_0x3ab828(0xbb2)]('');let _0x392034='';_0x1420ec[_0x3ab828(0x33e)]===_0x3ab828(0x1f1)&&(_0x392034=_0x3ab828(0x62b)+_0x1420ec[_0x3ab828(0x460)]+_0x3ab828(0x57e));liveGameView[_0x3ab828(0xa16)]=_0x3ab828(0xb16)+(_0x484bbd+0x1)+_0x3ab828(0xb54)+_0x503268+_0x3ab828(0xc96)+_0x1420ec[_0x3ab828(0x365)]+_0x3ab828(0x39e)+_0x5bcc69+'/'+_0x301130[_0x3ab828(0x752)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>สถานะผู้เล่น</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x392034+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>'+(_0x4c0b24['questionText']||_0x4c0b24[_0x3ab828(0x58b)])+_0x3ab828(0xe12)+_0x58c591+_0x3ab828(0xc09)+(!_0x441363?_0x3ab828(0xad6):'')+_0x3ab828(0x78e);if(window[_0x3ab828(0x7f9)])MathJax[_0x3ab828(0xd3d)]();const _0x1e0364=doc(db,_0x3ab828(0x6e6)+appId+_0x3ab828(0x2ef),currentLiveGameId);document['getElementById']('show-results-btn')[_0x3ab828(0x639)](_0x3ab828(0x164),async()=>{await updateDoc(_0x1e0364,{'status':'summary'});}),document[_0x3ab828(0x932)]('open-sync-scratchpad-btn')[_0x3ab828(0xe1b)]=()=>{const _0x5167b9=_0x3ab828;openScratchpad(_0x4c0b24,_0x4c0b24[_0x5167b9(0x3e2)]||[]);},document['getElementById'](_0x3ab828(0x4b3))['addEventListener']('click',()=>{const _0x4a65d4=_0x3ab828;document[_0x4a65d4(0x932)](_0x4a65d4(0xa07))[_0x4a65d4(0x360)][_0x4a65d4(0xaa3)](_0x4a65d4(0x2f2));});const _0x4788c5=document['getElementById'](_0x3ab828(0x736));_0x4788c5&&(_0x4788c5[_0x3ab828(0xe1b)]=()=>{const _0x3cb22f=_0x3ab828;showConfirmation(_0x3cb22f(0xe7e),async()=>{await updateDoc(_0x1e0364,{'status':'podium'});});});}function renderSyncLeaderboardView(_0x344d13,_0x5aacbf){const _0x37e9ff=_0x2bcb18,_0x5597da=Object['values'](_0x344d13[_0x37e9ff(0x18b)]||{});_0x5597da[_0x37e9ff(0x41f)]((_0x1c9a33,_0x5c1c04)=>_0x5c1c04[_0x37e9ff(0x853)]-_0x1c9a33['score']);const _0x48a992=_0x5597da[_0x37e9ff(0x9b9)](0x0,0x5);let _0x3ebe68='';if(_0x5aacbf){const _0x57e8f6=_0x344d13[_0x37e9ff(0x907)]>=_0x344d13[_0x37e9ff(0x450)][_0x37e9ff(0xc46)][_0x37e9ff(0x752)]-0x1;_0x3ebe68=_0x37e9ff(0x650)+(_0x57e8f6?_0x37e9ff(0xd10):'ข้อต่อไป')+_0x37e9ff(0xaf5);}else _0x3ebe68=_0x37e9ff(0xc3d);liveGameView['innerHTML']=_0x37e9ff(0xbcf)+_0x48a992[_0x37e9ff(0xe49)]((_0x311157,_0x14f0b4)=>'<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22><span\x20class=\x22font-semibold\x22>'+(_0x14f0b4+0x1)+'.\x20'+_0x311157[_0x37e9ff(0x34a)]+_0x37e9ff(0x5e7)+_0x311157[_0x37e9ff(0x853)]+_0x37e9ff(0x5e3))[_0x37e9ff(0xbb2)]('')+_0x37e9ff(0x151)+_0x3ebe68+_0x37e9ff(0x8bf),_0x5aacbf&&document['getElementById'](_0x37e9ff(0xd38))[_0x37e9ff(0x639)](_0x37e9ff(0x164),async()=>{const _0x453f33=_0x37e9ff,_0x4718f7=doc(db,_0x453f33(0x6e6)+appId+'/public/data/syncGames',currentLiveGameId),_0x389e72=_0x344d13[_0x453f33(0x907)]+0x1;if(_0x389e72<_0x344d13['shuffledQuiz'][_0x453f33(0xc46)]['length']){const _0x538fdb={};Object['keys'](_0x344d13['players'])[_0x453f33(0x39f)](_0x2de6af=>{const _0x4b16b5=_0x453f33;_0x538fdb[_0x4b16b5(0x40a)+_0x2de6af+_0x4b16b5(0x8b5)]=![];}),await updateDoc(_0x4718f7,{'status':'question','currentQuestionIndex':_0x389e72,'questionDisplayedAt':serverTimestamp(),'scoresCalculated':![]});}else await updateDoc(_0x4718f7,{'status':_0x453f33(0x844)});});}async function handleJoinSyncGame(){const _0x457fee=_0x2bcb18,_0x2a7114=prompt(_0x457fee(0x11d));if(!_0x2a7114||_0x2a7114[_0x457fee(0xa4d)]()[_0x457fee(0x752)]!==0x2){showMessage(_0x457fee(0x946));return;}try{const _0x1bd37a=collection(db,'artifacts/'+appId+_0x457fee(0x2ef)),_0x36960a=query(_0x1bd37a,where(_0x457fee(0x365),'==',_0x2a7114[_0x457fee(0xa4d)]()),where('status','==',_0x457fee(0x182))),_0x59c925=await getDocs(_0x36960a);if(_0x59c925[_0x457fee(0xab2)]){showMessage(_0x457fee(0x280));return;}const _0xbb35bc=_0x59c925[_0x457fee(0x9ef)][0x0];currentLiveGameId=_0xbb35bc['id'];const _0x495d03=_0xbb35bc[_0x457fee(0x13f)](),_0x270f6b=doc(db,_0x457fee(0x6e6)+appId+_0x457fee(0x993),_0x495d03[_0x457fee(0xa91)]),_0x3af970=await getDoc(_0x270f6b);if(!_0x3af970[_0x457fee(0x7d2)]())throw new Error(_0x457fee(0xdc8));const _0x2bdc7e=_0x3af970['data'](),_0x3a9800=doc(db,_0x457fee(0x6e6)+appId+_0x457fee(0x53a),_0x2bdc7e['projectId']),_0x5cfd60=await getDoc(_0x3a9800);if(!_0x5cfd60[_0x457fee(0x7d2)]())throw new Error(_0x457fee(0xb34));currentQuizData=_0x495d03['shuffledQuiz'];const _0x4a5add=_0x5cfd60[_0x457fee(0x13f)]();showView(_0x457fee(0x238)),showTeamPlayerSelection(_0x4a5add[_0x457fee(0x950)],_0x2bdc7e['topic']);const _0x474c4c=document[_0x457fee(0x932)](_0x457fee(0x9c3));_0x474c4c[_0x457fee(0xe1b)]=confirmAndJoinSyncGame;}catch(_0x16e49f){console[_0x457fee(0x1ac)]('Error\x20joining\x20sync\x20game:',_0x16e49f),showMessage(_0x457fee(0xb75)+_0x16e49f[_0x457fee(0x523)]);}}function updateStudentSyncView(_0x5520f1){const _0x3941aa=_0x2bcb18,_0x5c0f34=localTeamPlayers[0x0],_0x4b24e8=_0x5520f1[_0x3941aa(0x18b)][_0x5c0f34]||{};if(syncQuestionTimerInterval)clearInterval(syncQuestionTimerInterval);switch(_0x5520f1[_0x3941aa(0x1f8)]){case _0x3941aa(0x182):showView('live-game'),liveGameView[_0x3941aa(0xa16)]='<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>เข้าร่วมสำเร็จ!</h2><p>รอผู้ควบคุมเริ่มเกม...</p></div>';break;case _0x3941aa(0xb8f):if(_0x5520f1[_0x3941aa(0x907)]!==lastSeenQuestionIndex){console[_0x3941aa(0x273)](_0x3941aa(0x254)),sessionStorage['removeItem'](_0x3941aa(0x82f)),sessionStorage[_0x3941aa(0x741)](_0x3941aa(0xa32)),sessionStorage[_0x3941aa(0x741)]('pollUsedThisTurn');const _0x43415f=_0x3941aa(0x5ee)+lastSeenQuestionIndex,_0x3daf2b='powerupUsed_q'+lastSeenQuestionIndex,_0x218308='hiddenOptions_q'+lastSeenQuestionIndex;Object['keys'](sessionStorage)[_0x3941aa(0x39f)](_0x514a53=>{const _0x4d675a=_0x3941aa;(_0x514a53[_0x4d675a(0x646)](_0x43415f)||_0x514a53[_0x4d675a(0x646)](_0x3daf2b)||_0x514a53[_0x4d675a(0x646)](_0x218308))&&sessionStorage['removeItem'](_0x514a53);});if(_0x4b24e8[_0x3941aa(0x40d)]||_0x4b24e8['isForcedConfident']||(_0x4b24e8[_0x3941aa(0x77e)]||0x0)>0x0){const _0x548427=doc(db,_0x3941aa(0x6e6)+appId+_0x3941aa(0xd31)+currentLiveGameId+'/players',_0x5c0f34);updateDoc(_0x548427,{'isJinxed':![],'isForcedConfident':![],'timeBonusThisQuestion':0x0})['catch'](_0x124f79=>console[_0x3941aa(0x1ac)]('Auto-cleanup\x20failed:',_0x124f79));}lastSeenQuestionIndex=_0x5520f1[_0x3941aa(0x907)];}localPlayerTurnIndex=0x0;const _0x4c8c70=localTeamPlayers['every'](_0x6df930=>_0x5520f1[_0x3941aa(0x18b)][_0x6df930]?.['answered']===!![]);if(_0x4c8c70)liveGameView[_0x3941aa(0xa16)]=_0x3941aa(0xbbd);else{renderStudentSyncQuestionView(_0x5520f1);if(_0x5520f1[_0x3941aa(0x33e)]===_0x3941aa(0x1f1)){if(!_0x5520f1['questionDisplayedAt']){console['log'](_0x3941aa(0x3af));return;}const _0x2013d6=_0x5520f1[_0x3941aa(0xcd2)]['toDate']()[_0x3941aa(0xcb8)](),_0x4302ca=_0x5520f1[_0x3941aa(0x460)]*0x3e8,_0x5443c4=localTeamPlayers[_0x3941aa(0xe49)](_0x5ebe82=>_0x5520f1['players'][_0x5ebe82]?.[_0x3941aa(0x77e)]||0x0),_0x44186e=Math[_0x3941aa(0x824)](..._0x5443c4,0x0),_0x2fd905=_0x2013d6+_0x4302ca+_0x44186e;syncQuestionTimerInterval=setInterval(()=>{const _0x53e159=_0x3941aa,_0x235dd7=_0x2fd905-Date[_0x53e159(0x18f)](),_0x1e8d5b=document[_0x53e159(0x932)](_0x53e159(0x473)),_0x5aac68=document[_0x53e159(0x932)](_0x53e159(0x23c));if(_0x235dd7<=0x0){clearInterval(syncQuestionTimerInterval);if(_0x1e8d5b)_0x1e8d5b[_0x53e159(0x6dc)][_0x53e159(0x3c6)]='0%';if(_0x5aac68)_0x5aac68['textContent']='0';liveGameView[_0x53e159(0xa16)]=_0x53e159(0xb29);}else{if(_0x1e8d5b&&_0x5aac68){const _0x41b4d3=_0x4302ca+_0x44186e,_0x37eee0=_0x41b4d3>0x0?_0x235dd7/_0x41b4d3*0x64:0x0;_0x1e8d5b[_0x53e159(0x6dc)][_0x53e159(0x3c6)]=_0x37eee0+'%',_0x5aac68[_0x53e159(0xdec)]=Math[_0x53e159(0xb9d)](_0x235dd7/0x3e8);}}},0x1f4);}}break;case _0x3941aa(0x671):liveGameView[_0x3941aa(0xa16)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ทุกคนตอบครบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case'results':localPlayerTurnIndex=0x0;const _0x244520=_0x5520f1[_0x3941aa(0x35a)]||_0x3941aa(0x4e6);if(_0x244520===_0x3941aa(0x7a4)||_0x244520===_0x3941aa(0x895))renderStudentAnonymousResultsView(_0x5520f1,_0x5520f1[_0x3941aa(0x907)]);else _0x244520===_0x3941aa(0x959)?renderStudentCompetitionResultsView(_0x5520f1,_0x5520f1[_0x3941aa(0x907)]):renderStudentSyncResultsView(_0x5520f1);break;case _0x3941aa(0x844):releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document['removeEventListener'](_0x3941aa(0xd12),handleFullscreenChange),document[_0x3941aa(0x9c9)](_0x3941aa(0x18e),handleVisibilityChange),sessionStorage[_0x3941aa(0x741)](_0x3941aa(0x15d));const _0x5306a8=_0x5520f1['gameVariant']||'classic',_0x26fc88=_0x5520f1[_0x3941aa(0x450)][_0x3941aa(0xc46)][_0x3941aa(0x752)]-0x1;if(_0x5306a8==='anonymous'||_0x5306a8==='anonymous_reveal_end')renderStudentAnonymousResultsView(_0x5520f1,_0x26fc88);else _0x5306a8===_0x3941aa(0x959)?renderStudentCompetitionResultsView(_0x5520f1,_0x26fc88):renderStudentSyncResultsView(_0x5520f1);const _0x1a6bb4=liveGameView[_0x3941aa(0xc60)](_0x3941aa(0x681));_0x1a6bb4&&(_0x1a6bb4[_0x3941aa(0x6dc)][_0x3941aa(0xb59)]=_0x3941aa(0x7dc));const _0x31d66d=liveGameView[_0x3941aa(0xc60)](_0x3941aa(0x7a9));_0x31d66d&&(_0x31d66d[_0x3941aa(0x6dc)][_0x3941aa(0xb59)]=_0x3941aa(0x7dc));const _0x599c03=_0x3941aa(0xb42);liveGameView[_0x3941aa(0x9b4)]?liveGameView['firstElementChild'][_0x3941aa(0x677)]('beforeend',_0x599c03):liveGameView['insertAdjacentHTML']('beforeend',_0x599c03);break;}}function renderStudentSyncResultsView(_0x2a7e30){const _0x3355ea=_0x2bcb18;let _0x3379c2=[];_0x2a7e30[_0x3355ea(0x708)]&&Array['isArray'](_0x2a7e30[_0x3355ea(0x708)])&&_0x2a7e30[_0x3355ea(0x708)][_0x3355ea(0x752)]>0x0?_0x3379c2=_0x2a7e30[_0x3355ea(0x708)]:_0x3379c2=Object[_0x3355ea(0x282)](_0x2a7e30[_0x3355ea(0x18b)]||{});const _0xfdb49=_0x2a7e30[_0x3355ea(0x35a)]||_0x3355ea(0x4e6),_0x394b9b=_0xfdb49===_0x3355ea(0xa68)||_0xfdb49==='anonymous_reveal_end',_0x34f9d0=_0x2a7e30[_0x3355ea(0x450)]['questions'],_0x43a675=_0x394b9b&&_0x2a7e30[_0x3355ea(0x44c)]!==undefined?_0x2a7e30[_0x3355ea(0x44c)]:_0x2a7e30[_0x3355ea(0x907)],_0x200482=_0x394b9b?_0x2a7e30[_0x3355ea(0x44c)]:_0x2a7e30[_0x3355ea(0x907)],_0x3152b8=_0x3379c2[_0x3355ea(0xe49)](_0x3ee2fd=>{const _0x373fc3=_0x3355ea,_0x281509=(_0x3ee2fd['answers']||[])[_0x373fc3(0x9a7)](_0xfb933c=>_0xfb933c['questionIndex']<=_0x43a675);let _0x416a55=0x0,_0x102a6b=0x0;_0x394b9b?(_0x416a55=_0x281509[_0x373fc3(0x9a7)](_0x2f12a7=>_0x2f12a7['isCorrect'])[_0x373fc3(0x752)],_0x102a6b=_0x281509['reduce']((_0x2cbb83,_0x5f3cf1)=>_0x2cbb83+(_0x5f3cf1[_0x373fc3(0xe35)]||0x0),0x0)):(_0x416a55=_0x3ee2fd[_0x373fc3(0x853)]||0x0,_0x102a6b=_0x3ee2fd[_0x373fc3(0xd68)]||0x0);const _0x544ad4=[..._0x281509]['sort']((_0x765583,_0x4eb792)=>_0x765583[_0x373fc3(0xa22)]-_0x4eb792[_0x373fc3(0xa22)]);let _0x453f4f=0x0;return _0x544ad4[_0x373fc3(0x39f)](_0x12c8db=>{const _0x4ffc49=_0x373fc3,_0x5add1f=_0x12c8db[_0x4ffc49(0xd15)]&&_0x12c8db[_0x4ffc49(0xd15)]!==_0x4ffc49(0xac7)||_0x12c8db[_0x4ffc49(0x74a)];_0x12c8db[_0x4ffc49(0x129)]?_0x453f4f=_0x5add1f?0x0:_0x453f4f+0x1:_0x453f4f=0x0;}),{..._0x3ee2fd,'realScore':_0x416a55,'totalPoints':_0x102a6b,'answers':_0x3ee2fd[_0x373fc3(0x8c5)],'correctStreak':_0x453f4f};}),_0x3fe78a=Math[_0x3355ea(0x824)](..._0x3152b8['map'](_0x5adbe9=>_0x5adbe9[_0x3355ea(0xd68)]),-Infinity),_0xee46d9=Math[_0x3355ea(0x824)](..._0x3152b8[_0x3355ea(0xe49)](_0x12fe71=>_0x12fe71[_0x3355ea(0x971)]),-Infinity),_0x2d6f18=_0x2a7e30['isBlackMarketEnabled']===!![],_0x9a7cb8=[..._0x3152b8][_0x3355ea(0x41f)]((_0x1b2e83,_0x51d17c)=>{const _0x5649bf=_0x3355ea;if(_0x2d6f18){const _0x275981=_0x51d17c[_0x5649bf(0xd68)]-_0x1b2e83['totalPoints'];if(_0x275981!==0x0)return _0x275981;const _0x15670b=_0x51d17c[_0x5649bf(0x971)]-_0x1b2e83[_0x5649bf(0x971)];if(_0x15670b!==0x0)return _0x15670b;return(_0x1b2e83[_0x5649bf(0x34a)]||'')[_0x5649bf(0x1bf)](_0x51d17c['name']||'','th');}else{const _0x34063f=_0x51d17c[_0x5649bf(0xd68)]-_0x1b2e83[_0x5649bf(0xd68)];if(_0x34063f!==0x0)return _0x34063f;const _0x346b2f=_0x51d17c[_0x5649bf(0x971)]-_0x1b2e83[_0x5649bf(0x971)];if(_0x346b2f!==0x0)return _0x346b2f;return(_0x1b2e83[_0x5649bf(0x34a)]||'')['localeCompare'](_0x51d17c[_0x5649bf(0x34a)]||'','th');}});let _0x2dcb2a=0x1;for(let _0x7cf5ee=0x0;_0x7cf5ee<_0x9a7cb8[_0x3355ea(0x752)];_0x7cf5ee++){if(_0x7cf5ee>0x0){const _0x5a031b=_0x9a7cb8[_0x7cf5ee-0x1],_0x577dbf=_0x9a7cb8[_0x7cf5ee];let _0x557118=_0x577dbf['totalPoints']===_0x5a031b[_0x3355ea(0xd68)]&&_0x577dbf[_0x3355ea(0x971)]===_0x5a031b[_0x3355ea(0x971)];!_0x557118&&(_0x2dcb2a=_0x7cf5ee+0x1);}_0x9a7cb8[_0x7cf5ee][_0x3355ea(0xdfa)]=_0x2dcb2a;}let _0x414b34=_0x9a7cb8[_0x3355ea(0x9a7)](_0x17455c=>localTeamPlayers[_0x3355ea(0xd2e)](_0x17455c['name']));_0x414b34['sort']((_0x5e1573,_0x24fa6f)=>(_0x24fa6f[_0x3355ea(0xd68)]||0x0)-(_0x5e1573[_0x3355ea(0xd68)]||0x0));let _0x29d249='';const _0x35d492=_0x394b9b?_0x43a675>=_0x34f9d0[_0x3355ea(0x752)]-0x1:_0x2a7e30['currentQuestionIndex']>=_0x34f9d0['length']-0x1;if(_0x2a7e30[_0x3355ea(0x1f8)]===_0x3355ea(0x844))_0x29d249='';else _0x35d492?_0x29d249=_0x3355ea(0x9b1):_0x29d249=_0x3355ea(0xeb2);const _0x610b1=_0x3355ea(0x462)+_0x414b34[_0x3355ea(0xe49)]((_0x3467eb,_0x3c772c)=>{const _0x30eaae=_0x3355ea;let _0xcb76c9='bg-white\x20text-gray-800';const _0x14e0c2=(_0x3467eb[_0x30eaae(0x8c5)]||[])[_0x30eaae(0x7a3)](_0x5304eb=>_0x5304eb['questionIndex']===_0x200482);let _0x5c184f='';if(_0x14e0c2){if(_0x14e0c2[_0x30eaae(0xa86)])_0x5c184f+='<span\x20title=\x22โดนบังคับ\x22>👻</span>';if(_0x14e0c2[_0x30eaae(0x1b7)])_0x5c184f+=_0x30eaae(0xc5c);if(_0x14e0c2[_0x30eaae(0x74a)])_0x5c184f+='<span\x20title=\x22ใช้เวลา\x22>⏳</span>';const _0x29bcb4=_0x14e0c2[_0x30eaae(0xd15)];if(_0x29bcb4){const _0x53efc9={'poll':'📊','cutOne':'✂️','insurance':_0x30eaae(0x712),'fiftyFifty':'🌗','wagerMultiplier':'💰','secondChance':'🔁','revealOptions':'👁️'};if(_0x53efc9[_0x29bcb4])_0x5c184f+=_0x30eaae(0x308)+_0x29bcb4+'\x22>'+_0x53efc9[_0x29bcb4]+_0x30eaae(0x990);}}if(_0x14e0c2){const _0x113546=_0x14e0c2[_0x30eaae(0x129)],_0xbb0546=_0x14e0c2[_0x30eaae(0xcec)]===!![]||_0x14e0c2['wasConfident']==='confident',_0x5f165a=_0x14e0c2[_0x30eaae(0xd15)];if(_0x5f165a===_0x30eaae(0xac7))_0xcb76c9=_0x113546?_0x30eaae(0x653):'bg-red-700\x20text-white\x20font-bold';else{if(_0xbb0546)_0xcb76c9=_0x113546?_0x30eaae(0x9d5):_0x30eaae(0xa05);else _0x113546?_0xcb76c9='bg-[#DCFCE7]\x20text-green-900':_0xcb76c9=_0x30eaae(0xae6);}}let _0xb6c668='';_0x14e0c2&&_0x14e0c2[_0x30eaae(0xd15)]===_0x30eaae(0xac7)&&!_0x14e0c2[_0x30eaae(0x129)]&&(_0xb6c668=_0x30eaae(0x55f));const _0x558990=_0x3467eb[_0x30eaae(0xd68)]>=0x0?'(+'+_0x3467eb[_0x30eaae(0xd68)][_0x30eaae(0x6ee)]()+')':'('+_0x3467eb['totalPoints'][_0x30eaae(0x6ee)]()+')';let _0x28ddd7='';const _0x4cba9e=_0x3467eb[_0x30eaae(0x8c5)][_0x30eaae(0x752)],_0x4ab050=_0x43a675+0x1;if(_0x4cba9e>0x0){if(_0x2d6f18){if(_0x3467eb['totalPoints']===_0x3fe78a&&_0x3fe78a>0x0)_0x28ddd7+=_0x30eaae(0x8d4);if(_0x3467eb[_0x30eaae(0x971)]===_0xee46d9&&_0xee46d9>0x0)_0x28ddd7+=_0x30eaae(0x88b);}else{if(_0x3467eb[_0x30eaae(0x971)]===_0x4ab050)_0x28ddd7+=_0x30eaae(0x475);}const _0x4d6b2b=_0x28ddd7['includes']('👑')||_0x28ddd7['includes']('🎓')||_0x28ddd7['includes']('⭐');if(!_0x4d6b2b&&_0x3467eb['totalPoints']<0x0)_0x28ddd7+=_0x30eaae(0x59c);}let _0x4862c8='';const _0xf7c865=_0x14e0c2&&_0x14e0c2[_0x30eaae(0x74a)],_0x1ba155=_0x14e0c2&&_0x14e0c2[_0x30eaae(0xd15)]&&_0x14e0c2['powerupUsed']!=='wagerMultiplier';if(!_0xf7c865&&!_0x1ba155){const _0x433850=_0x3467eb[_0x30eaae(0xa43)]||0x0;_0x433850>=0x3&&(_0x4862c8='<span\x20class=\x22ml-2\x20text-orange-500\x20animate-pulse\x20font-bold\x22>🔥\x20x'+_0x433850+_0x30eaae(0x990));}return _0x30eaae(0x52d)+_0xcb76c9+'\x20p-3\x20rounded-lg\x20flex\x20flex-col\x20gap-2\x20border-2\x20border-black/10\x20shadow-sm\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20sm:flex-row\x20sm:items-center\x20sm:justify-between\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-3\x20w-full\x20sm:w-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-shrink-0\x20w-8\x20h-8\x20flex\x20items-center\x20justify-center\x20rounded-full\x20bg-black/10\x20font-bold\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3467eb[_0x30eaae(0xdfa)]+_0x30eaae(0xbd8)+_0x3467eb[_0x30eaae(0x34a)]+_0x30eaae(0xe0c)+_0x5c184f+'\x20'+_0x28ddd7+'\x20'+_0x4862c8+_0x30eaae(0x800)+_0x3467eb[_0x30eaae(0x971)]+_0x30eaae(0x468)+_0x558990+_0x30eaae(0xd58)+_0xb6c668+_0x30eaae(0xc1e);})[_0x3355ea(0xbb2)]('')+_0x3355ea(0x9ee)+_0x29d249+_0x3355ea(0x737);liveGameView[_0x3355ea(0xa16)]=_0x610b1;}function renderStudentAnonymousResultsView(_0x27d2b1,_0x4574b3){const _0x3ab904=_0x2bcb18;let _0x50a823=[];_0x27d2b1[_0x3ab904(0x708)]?_0x50a823=_0x27d2b1[_0x3ab904(0x708)]:_0x50a823=Object['values'](_0x27d2b1['players']||{});const _0x27c377=_0x27d2b1['gameVariant']||_0x3ab904(0x4e6),_0x4a46d0=_0x27c377===_0x3ab904(0xa68)||_0x27c377===_0x3ab904(0x895),_0x40822f=_0x27d2b1[_0x3ab904(0x979)]===!![],_0x40bdc2=_0x27d2b1[_0x3ab904(0x450)][_0x3ab904(0xc46)],_0x149fb9=_0x4a46d0&&_0x27d2b1[_0x3ab904(0x44c)]!==undefined?_0x27d2b1['reviewQuestionIndex']:_0x4574b3,_0x5296b5=_0x50a823[_0x3ab904(0xe49)](_0x41e972=>{const _0x270fe7=_0x3ab904,_0x2a4d93=(_0x41e972[_0x270fe7(0x8c5)]||[])['filter'](_0x557038=>_0x557038[_0x270fe7(0xa22)]<=_0x149fb9);let _0x288aba=0x0,_0x1d05f3=0x0;_0x4a46d0?(_0x288aba=_0x2a4d93[_0x270fe7(0x9a7)](_0x1aef9d=>_0x1aef9d[_0x270fe7(0x129)])[_0x270fe7(0x752)],_0x1d05f3=_0x2a4d93['reduce']((_0x361fd2,_0x3644cc)=>_0x361fd2+(_0x3644cc[_0x270fe7(0xe35)]||0x0),0x0)):(_0x288aba=_0x41e972[_0x270fe7(0x853)]||0x0,_0x1d05f3=_0x41e972['totalPoints']||0x0);const _0x1a89eb=[..._0x2a4d93]['sort']((_0x14c5f2,_0x2f97c9)=>_0x14c5f2[_0x270fe7(0xa22)]-_0x2f97c9[_0x270fe7(0xa22)]);let _0x31871b=0x0;return _0x1a89eb[_0x270fe7(0x39f)](_0x561bae=>{const _0x592eea=_0x270fe7,_0x14bd8c=_0x561bae[_0x592eea(0xd15)]&&_0x561bae[_0x592eea(0xd15)]!==_0x592eea(0xac7)||_0x561bae[_0x592eea(0x74a)];_0x561bae[_0x592eea(0x129)]?_0x31871b=_0x14bd8c?0x0:_0x31871b+0x1:_0x31871b=0x0;}),{..._0x41e972,'realScore':_0x288aba,'totalPoints':_0x1d05f3,'answers':_0x2a4d93,'correctStreak':_0x31871b};}),_0x230efd=Math[_0x3ab904(0x824)](..._0x5296b5[_0x3ab904(0xe49)](_0x50226b=>_0x50226b[_0x3ab904(0xd68)]),-Infinity),_0x4a7728=Math['max'](..._0x5296b5[_0x3ab904(0xe49)](_0x39b0e0=>_0x39b0e0['realScore']),-Infinity),_0x1c358e=_0x27d2b1[_0x3ab904(0x42f)]===!![],_0x25ecf5=[..._0x5296b5]['sort']((_0x3c5feb,_0x3dc48f)=>{const _0x50a3d8=_0x3ab904;if(_0x1c358e){if(_0x3dc48f[_0x50a3d8(0xd68)]!==_0x3c5feb['totalPoints'])return _0x3dc48f[_0x50a3d8(0xd68)]-_0x3c5feb[_0x50a3d8(0xd68)];if(_0x3dc48f[_0x50a3d8(0x971)]!==_0x3c5feb['realScore'])return _0x3dc48f['realScore']-_0x3c5feb['realScore'];}else{if(_0x3dc48f[_0x50a3d8(0xd68)]!==_0x3c5feb[_0x50a3d8(0xd68)])return _0x3dc48f['totalPoints']-_0x3c5feb[_0x50a3d8(0xd68)];if(_0x3dc48f[_0x50a3d8(0x971)]!==_0x3c5feb[_0x50a3d8(0x971)])return _0x3dc48f[_0x50a3d8(0x971)]-_0x3c5feb[_0x50a3d8(0x971)];}return(_0x3c5feb['name']||'')[_0x50a3d8(0x1bf)](_0x3dc48f[_0x50a3d8(0x34a)]||'','th');});let _0x1a9666=0x1;for(let _0x21ed31=0x0;_0x21ed31<_0x25ecf5['length'];_0x21ed31++){if(_0x21ed31>0x0){const _0x40bc90=_0x25ecf5[_0x21ed31-0x1],_0x16b089=_0x25ecf5[_0x21ed31];let _0x486c56=_0x16b089[_0x3ab904(0xd68)]===_0x40bc90[_0x3ab904(0xd68)]&&_0x16b089[_0x3ab904(0x971)]===_0x40bc90['realScore'];!_0x486c56&&(_0x1a9666=_0x21ed31+0x1);}_0x25ecf5[_0x21ed31]['displayRank']=_0x1a9666;}let _0x8dfcfb=null;const _0x35f9f0=_0x5296b5[_0x3ab904(0x9a7)](_0x46fa6c=>localTeamPlayers[_0x3ab904(0xd2e)](_0x46fa6c[_0x3ab904(0x34a)]));_0x8dfcfb=_0x35f9f0[_0x3ab904(0x752)]>0x0?_0x35f9f0[_0x3ab904(0x41f)]((_0x245a7f,_0x2c5fc5)=>_0x2c5fc5[_0x3ab904(0xd68)]-_0x245a7f[_0x3ab904(0xd68)])[0x0]:null;if(!_0x8dfcfb){liveGameView[_0x3ab904(0xa16)]='<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>กำลังรอข้อมูลผู้เล่น...</h2></div>';return;}const _0x1d0597=_0x1c358e?_0x8dfcfb[_0x3ab904(0xd68)]:_0x8dfcfb[_0x3ab904(0xd68)],_0xd67dca=_0x149fb9+0x1,_0x492fbd=_0x25ecf5[_0x3ab904(0xe49)]((_0x5b07b1,_0x82624d)=>{const _0x47d281=_0x3ab904,_0x9b92dd=_0x5b07b1[_0x47d281(0x971)],_0x5d6d22=_0x5b07b1[_0x47d281(0xd68)],_0x16aba6=(_0x5b07b1[_0x47d281(0x8c5)]||[])[_0x47d281(0x7a3)](_0x2ea279=>_0x2ea279[_0x47d281(0xa22)]===_0x149fb9);let _0x4da3d2='';if(_0x16aba6){if(_0x16aba6[_0x47d281(0xa86)])_0x4da3d2+='<span\x20title=\x22โดนบังคับ\x22>👻</span>';if(_0x16aba6[_0x47d281(0x1b7)])_0x4da3d2+=_0x47d281(0xc5c);if(_0x16aba6[_0x47d281(0x74a)])_0x4da3d2+=_0x47d281(0x241);const _0x3f7a48=_0x16aba6[_0x47d281(0xd15)];if(_0x3f7a48){const _0x1370d4={'poll':'📊','cutOne':'✂️','insurance':'🛡️','fiftyFifty':'🌗','wagerMultiplier':'💰','secondChance':'🔁','buyTime':'⏳','revealOptions':_0x47d281(0x43c)};if(_0x1370d4[_0x3f7a48])_0x4da3d2+='<span\x20title=\x22ใช้\x20'+_0x3f7a48+'\x22>'+_0x1370d4[_0x3f7a48]+_0x47d281(0x990);}}let _0xc44825='';if(_0xd67dca>0x0){if(_0x1c358e){if(_0x5d6d22===_0x230efd&&_0x230efd>0x0)_0xc44825+=_0x47d281(0x7d4);if(_0x9b92dd===_0x4a7728&&_0x4a7728>0x0)_0xc44825+=_0x47d281(0xe07);}else{const _0x3d041c=_0x5b07b1[_0x47d281(0x971)]===_0xd67dca&&_0xd67dca>0x0;if(_0x3d041c)_0xc44825=_0x47d281(0x688);}if(_0xc44825===''&&_0x5d6d22<0x0)_0xc44825='<span\x20class=\x22text-red-400\x20ml-1\x22>⚠️</span>';}let _0x4080cd='';const _0x42bc70=_0x16aba6&&_0x16aba6['usedBuyTime'],_0x2d8b4c=_0x16aba6&&_0x16aba6[_0x47d281(0xd15)]&&_0x16aba6[_0x47d281(0xd15)]!==_0x47d281(0xac7);if(!_0x42bc70&&!_0x2d8b4c){const _0x210723=_0x5b07b1[_0x47d281(0xa43)]||0x0;_0x210723>=0x3&&(_0x4080cd=_0x47d281(0xbdd)+_0x210723+_0x47d281(0x990));}let _0x43a855=_0x47d281(0xe5f),_0x2a2b8d=![];if(_0x16aba6){const _0x5c555b=_0x16aba6['isCorrect'],_0x4fab86=_0x16aba6[_0x47d281(0xcec)]===!![]||_0x16aba6['wasConfident']===_0x47d281(0x8e9),_0xef07f2=_0x16aba6['powerupUsed'];if(_0xef07f2===_0x47d281(0xac7))_0x5c555b?(_0x43a855='bg-yellow-300\x20text-yellow-900\x20font-bold',_0x2a2b8d=!![]):_0x43a855=_0x47d281(0xad9);else{if(_0x4fab86)_0x43a855=_0x5c555b?'bg-[#4ADE80]\x20text-green-900\x20font-bold':'bg-[#EF4444]\x20text-white\x20font-bold';else _0x5c555b&&(_0x43a855=_0x47d281(0x6b5));}}let _0x9d4fc2='';const _0x1b3e31=_0x5b07b1['name'],_0x22a38c=_0x27d2b1[_0x47d281(0xc70)][_0x5b07b1[_0x47d281(0x34a)]]||'???',_0x392925=localTeamPlayers[_0x47d281(0xd2e)](_0x1b3e31),_0x500e50=_0x2a2b8d?'text-yellow-800':_0x47d281(0x8d5),_0x590a20=_0x1c358e?_0x5b07b1[_0x47d281(0xd68)]:_0x5b07b1[_0x47d281(0xd68)],_0x2a5e69=_0x40822f||_0x392925||_0x1d0597>_0x590a20;_0x2a5e69?_0x9d4fc2=_0x47d281(0xdca)+_0x1b3e31+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20'+_0x500e50+_0x47d281(0x3a8)+_0x22a38c+')</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>':_0x9d4fc2=_0x47d281(0xbe8)+_0x22a38c+'</span>';_0x392925&&(_0x9d4fc2=_0x47d281(0x39c)+_0x9d4fc2+_0x47d281(0xb73));const _0x16135a=_0x47d281(0x931)+_0x4da3d2+'\x20'+_0xc44825+'\x20'+_0x4080cd+'</div>',_0x50435c=_0x5d6d22>=0x0?'(+'+_0x5d6d22[_0x47d281(0x6ee)]()+')':'('+_0x5d6d22[_0x47d281(0x6ee)]()+')';return _0x47d281(0xcef)+_0x43a855+_0x47d281(0x63a)+_0x5b07b1['displayRank']+_0x47d281(0x20a)+_0x9d4fc2+_0x47d281(0x884)+_0x16135a+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20sm:justify-end\x20w-full\x20sm:w-auto\x20pl-11\x20sm:pl-0\x20mt-1\x20sm:mt-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20opacity-70\x20sm:hidden\x22>คะแนนรวม:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-xl\x22>'+_0x9b92dd+_0x47d281(0x301)+_0x50435c+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x3ab904(0xbb2)]('');let _0xef0360='';const _0x27195a=_0x4a46d0?_0x149fb9>=_0x40bdc2['length']-0x1:_0x27d2b1[_0x3ab904(0x907)]>=_0x40bdc2[_0x3ab904(0x752)]-0x1;if(_0x27d2b1[_0x3ab904(0x1f8)]==='podium')_0xef0360='';else _0x27195a?_0xef0360=_0x3ab904(0x9b1):_0xef0360=_0x3ab904(0xeb2);const _0x4132f1=_0x3ab904(0x6f9)+_0x492fbd+_0x3ab904(0x151)+_0xef0360+_0x3ab904(0x8bf);liveGameView[_0x3ab904(0xa16)]=_0x4132f1;}function renderStudentCompetitionResultsView(_0x33d650,_0x1d8dff){const _0xc5bf8f=_0x2bcb18,_0xc84575=Object['values'](_0x33d650[_0xc5bf8f(0x18b)]||{}),_0x4f457a=_0x1d8dff,_0x1f99e2=_0x33d650[_0xc5bf8f(0x35a)]||_0xc5bf8f(0x4e6),_0xcf83ec=_0x33d650['shuffledQuiz'][_0xc5bf8f(0xc46)],_0x4535bb=_0xc84575[_0xc5bf8f(0xe49)](_0x387add=>{const _0x3db332=_0xc5bf8f,_0x33d3e6=_0x387add[_0x3db332(0x853)]||0x0,_0x52e9f5=_0x387add['totalPoints']||0x0,_0x37f981=(_0x387add[_0x3db332(0x8c5)]||[])[_0x3db332(0x9a7)](_0x5855f2=>_0x1f99e2==='reveal_at_end'?_0x5855f2[_0x3db332(0xa22)]<=_0x4f457a:!![]);return{..._0x387add,'realScore':_0x33d3e6,'totalPoints':_0x52e9f5,'answers':_0x37f981};}),_0x5a3dd5=_0x33d650[_0xc5bf8f(0x42f)]===!![],_0x3f0d98=[..._0x4535bb][_0xc5bf8f(0x41f)]((_0xd97158,_0x6a9392)=>{const _0x24ee56=_0xc5bf8f;if(_0x5a3dd5){const _0x12df6b=_0x6a9392[_0x24ee56(0x971)]-_0xd97158[_0x24ee56(0x971)];if(_0x12df6b!==0x0)return _0x12df6b;const _0x30dbef=_0x6a9392[_0x24ee56(0xd68)]-_0xd97158[_0x24ee56(0xd68)];if(_0x30dbef!==0x0)return _0x30dbef;return(_0xd97158[_0x24ee56(0x34a)]||'')['localeCompare'](_0x6a9392['name']||'','th');}else{const _0x43b45b=_0x6a9392[_0x24ee56(0xd68)]-_0xd97158['totalPoints'];if(_0x43b45b!==0x0)return _0x43b45b;const _0x4af58e=_0x6a9392[_0x24ee56(0x971)]-_0xd97158[_0x24ee56(0x971)];if(_0x4af58e!==0x0)return _0x4af58e;return(_0xd97158[_0x24ee56(0x34a)]||'')[_0x24ee56(0x1bf)](_0x6a9392['name']||'','th');}});let _0x4d7d89=0x1;for(let _0xb788a5=0x0;_0xb788a5<_0x3f0d98['length'];_0xb788a5++){if(_0xb788a5>0x0){const _0x50f14c=_0x3f0d98[_0xb788a5-0x1],_0x4f787d=_0x3f0d98[_0xb788a5];let _0x41dbc2=![];_0x5a3dd5?_0x41dbc2=_0x4f787d['realScore']===_0x50f14c[_0xc5bf8f(0x971)]&&_0x4f787d[_0xc5bf8f(0xd68)]===_0x50f14c[_0xc5bf8f(0xd68)]:_0x41dbc2=_0x4f787d['totalPoints']===_0x50f14c[_0xc5bf8f(0xd68)]&&_0x4f787d['realScore']===_0x50f14c[_0xc5bf8f(0x971)],!_0x41dbc2&&(_0x4d7d89=_0xb788a5+0x1);}_0x3f0d98[_0xb788a5][_0xc5bf8f(0xdfa)]=_0x4d7d89;}const _0x4e32c2=_0x3f0d98[_0xc5bf8f(0xe49)]((_0x38908a,_0x3086f7)=>{const _0x145776=_0xc5bf8f,_0x584e52='';let _0x924ef9=_0x145776(0xe5f);const _0x1a4e56=_0x38908a[_0x145776(0x34a)],_0x4760cf=_0x145776(0x350),_0x5989b6='word-break:\x20break-all;',_0x1e4891=_0x145776(0x977)+_0x4760cf+_0x145776(0x23f)+_0x1a4e56+_0x145776(0x892)+_0x5989b6+'\x22>'+_0x1a4e56+'</span>'+_0x584e52+_0x145776(0x1f5),_0x41cd12='';return _0x145776(0xcef)+_0x924ef9+_0x145776(0x608)+_0x38908a[_0x145776(0xdfa)]+_0x145776(0x56d)+_0x1e4891+_0x145776(0x6d9)+_0x41cd12+_0x145776(0xe99);})[_0xc5bf8f(0xbb2)]('');let _0x38048a='';const _0x1dbc7e=_0x1f99e2===_0xc5bf8f(0xa68)?_0x33d650[_0xc5bf8f(0x44c)]>=_0xcf83ec['length']-0x1:_0x33d650[_0xc5bf8f(0x907)]>=_0xcf83ec[_0xc5bf8f(0x752)]-0x1;_0x1dbc7e?_0x38048a=_0xc5bf8f(0x9b1):_0x38048a='<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>';const _0x2c4498=_0xc5bf8f(0x181)+_0x4e32c2+_0xc5bf8f(0x91e)+_0x38048a+_0xc5bf8f(0x8bf);liveGameView['innerHTML']=_0x2c4498;}function renderStudentSyncQuestionView(_0x44cc04){const _0x3f472c=_0x2bcb18;while(localPlayerTurnIndex<localTeamPlayers['length']&&_0x44cc04[_0x3f472c(0x18b)][localTeamPlayers[localPlayerTurnIndex]]?.['answered']===!![]){localPlayerTurnIndex++;}const _0x829958=localTeamPlayers[localPlayerTurnIndex];if(!_0x829958)return;const _0xca58d3=_0x44cc04[_0x3f472c(0x18b)][_0x829958],_0x2faece=_0x44cc04[_0x3f472c(0x907)],_0x558571=_0x44cc04['shuffledQuiz'][_0x3f472c(0xc46)]['length'],_0x9f0d4b=_0x44cc04['shuffledQuiz'][_0x3f472c(0xc46)][_0x2faece],_0x544dab=_0x9f0d4b[_0x3f472c(0x2ed)]||_0x44cc04['shuffledQuiz'][_0x3f472c(0x2de)];let _0x113ca8='',_0x93e730=![];const _0x425aef=_0x3f472c(0x707)+_0x2faece+'_p'+_0x829958,_0x36d8ec=sessionStorage[_0x3f472c(0x577)](_0x425aef),_0x11f31c=_0x36d8ec==='revealOptions',_0x44ec69=_0x3f472c(0x7b6)+_0x2faece+'_p'+_0x829958,_0x26a1cf=JSON[_0x3f472c(0x4bd)](sessionStorage[_0x3f472c(0x577)](_0x44ec69)||'[]')[_0x3f472c(0xe49)](String);if((_0x544dab===_0x3f472c(0xafb)||_0x544dab===_0x3f472c(0xceb))&&_0x11f31c&&_0x9f0d4b[_0x3f472c(0x3e2)]&&_0x9f0d4b['options'][_0x3f472c(0x752)]>0x0)_0x113ca8=_0x9f0d4b[_0x3f472c(0x3e2)][_0x3f472c(0xe49)]((_0x59bea5,_0x9397c)=>{const _0x3a898d=_0x3f472c;if(_0x26a1cf['includes'](String(_0x9397c)))return'';return _0x3a898d(0x80c)+_0x59bea5+'\x22\x20data-index=\x22'+_0x9397c+_0x3a898d(0xb39)+_0x59bea5+'</button>';})['join']('');else{if(_0x544dab===_0x3f472c(0xafb)||_0x544dab===_0x3f472c(0xceb)){_0x93e730=!![];const _0x3b8588=_0x9f0d4b[_0x3f472c(0xbe7)]&&/^-?[\d.,]+$/[_0x3f472c(0x743)](String(_0x9f0d4b[_0x3f472c(0xbe7)])[_0x3f472c(0xa4d)]());let _0x34448a='';_0x3b8588?_0x34448a=_0x3f472c(0x67c):_0x34448a='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22sync-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x113ca8=_0x3f472c(0x451)+_0x34448a+_0x3f472c(0x45a);}else switch(_0x544dab){case'true_false':const _0x4f35c3=_0x26a1cf[_0x3f472c(0xd2e)]('0')?'':_0x3f472c(0xb1a),_0x3de454=_0x26a1cf[_0x3f472c(0xd2e)]('1')?'':_0x3f472c(0xcdd);_0x113ca8=_0x4f35c3+_0x3de454;break;case _0x3f472c(0xb08):_0x93e730=!![],_0x113ca8='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22sync-matching-select\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x9f0d4b['allResponses']||[])[_0x3f472c(0xe49)](_0x89bbc6=>_0x3f472c(0x1bd)+_0x89bbc6+'\x22>'+_0x89bbc6+_0x3f472c(0x194))[_0x3f472c(0xbb2)]('')+_0x3f472c(0xe04);break;case _0x3f472c(0x47e):default:_0x113ca8=(_0x9f0d4b[_0x3f472c(0x3e2)]||[])[_0x3f472c(0xe49)]((_0x3357c3,_0xf6e557)=>{const _0x3a3d4d=_0x3f472c;if(_0x26a1cf[_0x3a3d4d(0xd2e)](String(_0xf6e557)))return'';return'<button\x20data-value=\x22'+_0xf6e557+_0x3a3d4d(0x211)+_0xf6e557+_0x3a3d4d(0x444)+_0x3357c3+_0x3a3d4d(0xa59);})[_0x3f472c(0xbb2)]('');break;}}let _0x8923f8='';_0x44cc04[_0x3f472c(0x33e)]===_0x3f472c(0x1f1)&&(_0x8923f8=_0x3f472c(0xbe9)+_0x44cc04['timerDuration']+_0x3f472c(0x26d));let _0x597c19='';const _0x1269fe=_0x44cc04[_0x3f472c(0x35a)]||_0x3f472c(0x4e6),_0x3f6e95=['reveal_at_end',_0x3f472c(0x895),_0x3f472c(0x959)][_0x3f472c(0xd2e)](_0x1269fe);if(_0x44cc04[_0x3f472c(0x42f)]===!![]){if(_0x3f6e95)!_0x36d8ec&&(_0x597c19=_0x3f472c(0x921));else{const _0x5d2b8b=_0xca58d3[_0x3f472c(0xd68)]||0x0,_0x450f5a=_0xca58d3[_0x3f472c(0x8d1)]||{},_0x2a67f0=[_0x450f5a[_0x3f472c(0xe43)]>0x0?_0x3f472c(0xa14)+_0x450f5a['buyTime']+_0x3f472c(0x61a):'',_0x450f5a[_0x3f472c(0x37b)]>0x0?_0x3f472c(0x477)+_0x450f5a[_0x3f472c(0x37b)]+_0x3f472c(0x61a):'',_0x450f5a[_0x3f472c(0x7a5)]>0x0?_0x3f472c(0x1c0)+_0x450f5a[_0x3f472c(0x7a5)]+_0x3f472c(0x61a):'',_0x450f5a[_0x3f472c(0x593)]>0x0?_0x3f472c(0x373)+_0x450f5a['insurance']+_0x3f472c(0x61a):'',_0x450f5a[_0x3f472c(0xa53)]>0x0?_0x3f472c(0xa3b)+_0x450f5a['fiftyFifty']+_0x3f472c(0x61a):'',_0x450f5a[_0x3f472c(0x4d5)]>0x0?_0x3f472c(0x7bf)+_0x450f5a['secondChance']+_0x3f472c(0x61a):''][_0x3f472c(0x9a7)](Boolean)['join']('\x20'),_0xb84998=_0x3f472c(0x5ee)+_0x2faece+'_p'+_0x829958,_0x3ee3c6=sessionStorage['getItem'](_0xb84998)==='true',_0x2b5659=_0x5d2b8b>0x0&&(!_0x3ee3c6||_0x5d2b8b>=0x1),_0x1656fb=_0x5d2b8b===0x0?_0x3f472c(0x9c2):_0x3ee3c6?'ตลาดมืด\x20(-1\x20P)':_0x3f472c(0xa72)+_0x5d2b8b+_0x3f472c(0xa1e),_0x178b92=_0x2b5659?'bg-purple-600\x20text-white\x20hover:bg-purple-700\x20shadow-md':_0x3f472c(0x77a),_0x2ab4ae=_0x2b5659?'':'disabled';let _0x15c23d='<button\x20id=\x22open-market-btn\x22\x20class=\x22'+_0x178b92+_0x3f472c(0x3c0)+_0x2ab4ae+_0x3f472c(0xb9e)+_0x1656fb+'</button>';if(!_0x36d8ec){const _0xaf76ba=_0x5d2b8b>0x0,_0x54ce11=_0xaf76ba?_0x3f472c(0x9e3):_0x3f472c(0xc6f),_0x130ea4=_0xaf76ba?_0x3f472c(0x9f4):'bg-gray-400\x20text-gray-200\x20cursor-not-allowed\x20border-b-4\x20border-gray-500\x20opacity-70',_0x766024=_0xaf76ba?'':_0x3f472c(0xad6);_0x15c23d+=_0x3f472c(0x706)+_0x54ce11+_0x3f472c(0xc33)+_0x766024+_0x3f472c(0x46a)+_0x130ea4+_0x3f472c(0xc33)+_0x766024+_0x3f472c(0x79e);}_0x597c19='<div\x20class=\x22flex\x20flex-col\x20items-center\x20gap-2\x20my-4\x20p-2\x20bg-black/20\x20rounded-lg\x22><div\x20class=\x22flex\x20flex-wrap\x20justify-center\x20items-stretch\x20gap-2\x20w-full\x22>'+_0x15c23d+_0x3f472c(0xaba)+(_0x2a67f0||'')+_0x3f472c(0xb11);}}let _0x39257e='';_0xca58d3['isJinxed']&&(_0x39257e+=_0x3f472c(0x866));_0xca58d3['isForcedConfident']&&(_0x39257e+=_0x3f472c(0xcbb));(_0xca58d3[_0x3f472c(0x77e)]||0x0)>0x0&&(_0x39257e+=_0x3f472c(0x8ef));if(_0x36d8ec){if(_0x36d8ec===_0x3f472c(0xac7)){const _0x6623e9=_0x3f6e95?_0x3f472c(0x7cd):_0x3f472c(0x7a6);_0x39257e+=_0x3f472c(0xe82)+_0x6623e9+_0x3f472c(0x4eb);}else{if(_0x36d8ec==='cutOne')_0x39257e+=_0x3f472c(0xd6e);else{if(_0x36d8ec===_0x3f472c(0xa53))_0x39257e+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-purple-500\x20to-indigo-600\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-adjust\x20fa-lg\x22></i>\x20<span>50:50\x20ทำงาน!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20opacity-90\x22>ตัดตัวเลือกผิดออก\x202\x20ข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';else{if(_0x36d8ec===_0x3f472c(0x4d5))_0x39257e+=_0x3f472c(0x298);else{if(_0x36d8ec==='revealOptions')_0x39257e+=_0x3f472c(0xac0);else _0x36d8ec===_0x3f472c(0x593)?_0x39257e+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-gray-500\x20to-slate-600\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-shield-alt\x20fa-lg\x22></i>\x20<span>ประกันภัยทำงาน!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20opacity-90\x22>ป้องกันการเสียคะแนนหากตอบผิด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>':_0x39257e+=_0x3f472c(0xd6d)+_0x36d8ec+_0x3f472c(0x36f);}}}}}let _0x3733cc='';if(!_0x3f6e95){const _0x3a15eb=_0xca58d3['correctStreak']||0x0;if(_0x3a15eb>=0x3)_0x3733cc=_0x3f472c(0x871)+_0x3a15eb+_0x3f472c(0x1d6);else _0x3a15eb>0x0&&(_0x3733cc=_0x3f472c(0xbd5)+_0x3a15eb+'/3</span></div>');}liveGameView[_0x3f472c(0xa16)]=_0x3f472c(0xe4c)+(_0x2faece+0x1)+_0x3f472c(0xb54)+_0x558571+_0x3f472c(0x619)+_0x829958+_0x3f472c(0x6a0)+_0x3733cc+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x8923f8+_0x3f472c(0xd4a)+_0x597c19+_0x3f472c(0xe1f)+_0x39257e+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>'+(_0x9f0d4b[_0x3f472c(0xca8)]||_0x9f0d4b[_0x3f472c(0x58b)])+_0x3f472c(0xe12)+_0x113ca8+_0x3f472c(0x3d0);if(window[_0x3f472c(0x7f9)])MathJax[_0x3f472c(0xd3d)]();function _0x152991(_0x4ec9b3,_0x43d19c,_0x4ab464,_0x3f8a47){const _0x5af0e3=_0x3f472c,_0x40ab28=_0x4ab464[_0x5af0e3(0x887)]===!![],_0x45d37c=_0x4ab464[_0x5af0e3(0x907)],_0x33d984=_0x5af0e3(0x707)+_0x45d37c+'_p'+_0x3f8a47,_0x1edd73=sessionStorage[_0x5af0e3(0x577)](_0x33d984),_0x543f7c=_0x1edd73===_0x5af0e3(0xac7),_0x48eec4=_0x4ab464[_0x5af0e3(0x18b)][_0x3f8a47];if(_0x543f7c){const _0x2a931b=sessionStorage[_0x5af0e3(0x577)]('instantWager')===_0x5af0e3(0x1b2);if(_0x3f6e95||_0x2a931b){const _0x3abf5c=_0x48eec4[_0x5af0e3(0xd68)]||0x0;sessionStorage[_0x5af0e3(0x741)](_0x5af0e3(0x270)),handleSyncAnswerSubmit(_0x4ec9b3,_0x43d19c,_0x4ab464,_0x3f8a47,![],_0x3abf5c);}else{const _0x30e352=document[_0x5af0e3(0x932)](_0x5af0e3(0x2b1)),_0x2acea8=document[_0x5af0e3(0x932)]('wager-slider'),_0x2f5e7f=document[_0x5af0e3(0x932)]('wager-amount-display'),_0x1bd3a9=document[_0x5af0e3(0x932)]('wager-max-points'),_0x14ba0c=_0x48eec4['totalPoints']||0x0;_0x2acea8[_0x5af0e3(0x824)]=_0x14ba0c,_0x2acea8[_0x5af0e3(0x99c)]=_0x14ba0c,_0x2f5e7f[_0x5af0e3(0xdec)]=_0x14ba0c,_0x1bd3a9[_0x5af0e3(0xdec)]=_0x14ba0c,_0x2acea8[_0x5af0e3(0x336)]=()=>{const _0x88cac6=_0x5af0e3;_0x2f5e7f[_0x88cac6(0xdec)]=_0x2acea8[_0x88cac6(0x99c)];};const _0x360ef8=document[_0x5af0e3(0x932)](_0x5af0e3(0x590));_0x360ef8[_0x5af0e3(0x134)][_0x5af0e3(0xe47)]=_0x4ec9b3,_0x360ef8[_0x5af0e3(0x134)][_0x5af0e3(0xb8f)]=JSON[_0x5af0e3(0x692)](_0x43d19c),_0x360ef8[_0x5af0e3(0x134)][_0x5af0e3(0xbea)]=JSON[_0x5af0e3(0x692)](_0x4ab464),_0x360ef8[_0x5af0e3(0x134)][_0x5af0e3(0x675)]=_0x3f8a47,_0x30e352[_0x5af0e3(0x360)][_0x5af0e3(0xcc8)](_0x5af0e3(0x2f2));}}else{if(_0x40ab28){document[_0x5af0e3(0x932)](_0x5af0e3(0xe78))[_0x5af0e3(0x134)][_0x5af0e3(0xb4d)]=_0x5af0e3(0xe51);const _0x2a1c85=document[_0x5af0e3(0x932)](_0x5af0e3(0x4b7));_0x2a1c85['dataset'][_0x5af0e3(0xe47)]=_0x4ec9b3,_0x2a1c85[_0x5af0e3(0x134)]['question']=JSON[_0x5af0e3(0x692)](_0x43d19c),_0x2a1c85[_0x5af0e3(0x134)][_0x5af0e3(0xbea)]=JSON[_0x5af0e3(0x692)](_0x4ab464),_0x2a1c85['dataset'][_0x5af0e3(0x675)]=_0x3f8a47,document[_0x5af0e3(0x932)](_0x5af0e3(0xe78))[_0x5af0e3(0x360)][_0x5af0e3(0xcc8)](_0x5af0e3(0x2f2));}else handleSyncAnswerSubmit(_0x4ec9b3,_0x43d19c,_0x4ab464,_0x3f8a47,![],0x0);}}_0x93e730?document['getElementById']('sync-submit-btn')[_0x3f472c(0x639)](_0x3f472c(0x164),()=>{const _0x365c69=_0x3f472c,_0x1bc814=document[_0x365c69(0x932)](_0x365c69(0xd69))||document[_0x365c69(0x932)](_0x365c69(0xd52));if(_0x1bc814[_0x365c69(0x99c)][_0x365c69(0xa4d)]()===''){showMessage(_0x365c69(0x7e2));return;}_0x152991(_0x1bc814[_0x365c69(0x99c)],_0x9f0d4b,_0x44cc04,_0x829958);}):document[_0x3f472c(0x38e)](_0x3f472c(0x433))[_0x3f472c(0x39f)](_0x53e0b1=>{const _0xbfcaeb=_0x3f472c;_0x53e0b1[_0xbfcaeb(0x639)]('click',()=>{const _0x560215=_0xbfcaeb;_0x152991(_0x53e0b1[_0x560215(0x134)][_0x560215(0x99c)],_0x9f0d4b,_0x44cc04,_0x829958);});});if(_0x44cc04['isBlackMarketEnabled']===!![]){if(!_0x3f6e95){const _0x46036a=document[_0x3f472c(0x932)](_0x3f472c(0x2d8));_0x46036a&&_0x46036a['addEventListener'](_0x3f472c(0x164),()=>{const _0x2c68de=_0x3f472c,_0x10eea7=_0x2c68de(0x5ee)+_0x2faece+'_p'+_0x829958,_0x5b0390=sessionStorage[_0x2c68de(0x577)](_0x10eea7)==='true';if(!_0x5b0390)openBlackMarket(_0x44cc04,_0xca58d3),sessionStorage[_0x2c68de(0x798)](_0x10eea7,_0x2c68de(0x1b2)),renderStudentSyncQuestionView(_0x44cc04);else{if(_0xca58d3[_0x2c68de(0xd68)]<0x1){showMessage(_0x2c68de(0x208));return;}showConfirmation(_0x2c68de(0x85f),()=>{handlePayForMarketEntry(_0x829958,_0x44cc04,_0xca58d3);});}}),document[_0x3f472c(0x932)](_0x3f472c(0x7ac))?.[_0x3f472c(0x639)](_0x3f472c(0x164),_0xf8fba5=>{const _0x523847=_0x3f472c;_0xf8fba5[_0x523847(0x5f8)]['disabled']=!![],handleUsePowerup(_0x829958,_0x523847(0xe43),_0x9f0d4b,_0x44cc04,_0xca58d3);}),document[_0x3f472c(0x932)](_0x3f472c(0x68d))?.[_0x3f472c(0x639)](_0x3f472c(0x164),_0x3842b0=>{const _0x279c49=_0x3f472c;_0x3842b0[_0x279c49(0x5f8)][_0x279c49(0xad6)]=!![],handleUsePowerup(_0x829958,_0x279c49(0x7a5),_0x9f0d4b,_0x44cc04,_0xca58d3);}),document[_0x3f472c(0x932)]('use-powerup-insurance')?.[_0x3f472c(0x639)](_0x3f472c(0x164),_0x100851=>{const _0x53a43c=_0x3f472c;_0x100851[_0x53a43c(0x5f8)][_0x53a43c(0xad6)]=!![],handleUsePowerup(_0x829958,_0x53a43c(0x593),_0x9f0d4b,_0x44cc04,_0xca58d3);}),document[_0x3f472c(0x932)](_0x3f472c(0x92d))?.[_0x3f472c(0x639)]('click',_0x56b5cf=>{const _0x25deac=_0x3f472c;_0x56b5cf[_0x25deac(0x5f8)]['disabled']=!![],handleUsePowerup(_0x829958,'fiftyFifty',_0x9f0d4b,_0x44cc04,_0xca58d3);}),document[_0x3f472c(0x932)]('use-powerup-secondChance')?.[_0x3f472c(0x639)](_0x3f472c(0x164),_0x351672=>{const _0x34e581=_0x3f472c;_0x351672[_0x34e581(0x5f8)]['disabled']=!![],handleUsePowerup(_0x829958,_0x34e581(0x4d5),_0x9f0d4b,_0x44cc04,_0xca58d3);}),document[_0x3f472c(0x932)](_0x3f472c(0xb31))?.[_0x3f472c(0x639)]('click',_0xba00c5=>{const _0x18ae18=_0x3f472c;_0xba00c5['target'][_0x18ae18(0xad6)]=!![],handleUsePowerup(_0x829958,_0x18ae18(0x37b),_0x9f0d4b,_0x44cc04,_0xca58d3);}),document[_0x3f472c(0x932)](_0x3f472c(0xc73))?.[_0x3f472c(0x639)](_0x3f472c(0x164),_0xa4b55c=>{const _0x3c8810=_0x3f472c;_0xa4b55c[_0x3c8810(0x5f8)][_0x3c8810(0xad6)]=!![],sessionStorage[_0x3c8810(0x798)](_0x3c8810(0x270),_0x3c8810(0x7ba)),handleUsePowerup(_0x829958,_0x3c8810(0xac7),_0x9f0d4b,_0x44cc04,_0xca58d3);});}document[_0x3f472c(0x932)](_0x3f472c(0xc26))?.['addEventListener'](_0x3f472c(0x164),_0x573bc8=>{const _0x24ff61=_0x3f472c;_0x573bc8['target']['disabled']=!![],sessionStorage['setItem']('instantWager',_0x24ff61(0x1b2)),handleUsePowerup(_0x829958,_0x24ff61(0xac7),_0x9f0d4b,_0x44cc04,_0xca58d3);});}}async function handleSyncAnswerSubmit(_0x363f9f,_0x9e3785,_0x5057af,_0x755547,_0x476e82,_0x282353=0x0){const _0x509414=_0x2bcb18;document[_0x509414(0x38e)](_0x509414(0x78d))['forEach'](_0x471af9=>_0x471af9[_0x509414(0xad6)]=!![]);const _0x447dc4=_0x5057af[_0x509414(0x907)],_0xbb6426=_0x509414(0x707)+_0x447dc4+'_p'+_0x755547,_0x1dfd96=sessionStorage[_0x509414(0x577)](_0xbb6426),_0x1d783a=_0x5057af[_0x509414(0x18b)][_0x755547]||{},_0x397603=_0x1d783a['isForcedConfident']===!![],_0x2dbefb=sessionStorage[_0x509414(0x577)](_0x509414(0xa32))===_0x509414(0x1b2);let _0x3bd878=_0x1d783a[_0x509414(0xa43)]||0x0;_0x1dfd96&&_0x1dfd96!==_0x509414(0xac7)&&(_0x3bd878=0x0);const _0x3b6b96=_0x3bd878>=0x3,_0x505b65=_0x9e3785[_0x509414(0x2ed)]||_0x5057af[_0x509414(0x450)][_0x509414(0x2de)];let _0x1d130f=![],_0x57555e=_0x363f9f;switch(_0x505b65){case'true_false':const _0x54145d=parseInt(_0x363f9f),_0x308e80=_0x9e3785[_0x509414(0x8f4)]===!![]||String(_0x9e3785[_0x509414(0x8f4)])[_0x509414(0x4ea)]()===_0x509414(0x1b2);_0x1d130f=_0x54145d===0x0&&_0x308e80||_0x54145d===0x1&&!_0x308e80,_0x57555e=_0x54145d===0x0?'ใช่\x20/\x20ถูก':'ไม่ใช่\x20/\x20ผิด';break;case'short_answer':case'fill_in_no_choices':_0x1d130f=await gradeShortAnswer(_0x363f9f,_0x9e3785);break;case _0x509414(0xb08):_0x1d130f=_0x363f9f===_0x9e3785[_0x509414(0xd79)];break;case _0x509414(0x47e):default:const _0x179597=parseInt(_0x363f9f);_0x1d130f=_0x179597===_0x9e3785[_0x509414(0x52a)];_0x9e3785[_0x509414(0x3e2)]&&_0x9e3785[_0x509414(0x3e2)][_0x179597]&&(_0x57555e=_0x9e3785[_0x509414(0x3e2)][_0x179597]);break;}if(!_0x1d130f&&_0x1dfd96===_0x509414(0x4d5)&&!_0x2dbefb){sessionStorage['removeItem'](_0xbb6426),sessionStorage['setItem']('onSecondChance',_0x509414(0x1b2)),showMessage(_0x509414(0xbc7)),document[_0x509414(0x38e)](_0x509414(0x78d))[_0x509414(0x39f)](_0x24cffe=>{const _0x73c6eb=_0x509414;if(!_0x24cffe[_0x73c6eb(0x360)][_0x73c6eb(0x3fa)](_0x73c6eb(0x2f2)))_0x24cffe[_0x73c6eb(0xad6)]=![];});return;}let _0x2ec9c5=0x0;const _0x290ba2=_0x1dfd96===_0x509414(0xac7),_0x1285e8=_0x1dfd96==='insurance',_0x547faf=sessionStorage[_0x509414(0x577)](_0x509414(0x72d))===_0x509414(0x1b2),_0x5ce604=_0x1d783a[_0x509414(0x40d)]===!![];if(_0x290ba2){const _0x40814e=parseInt(_0x282353,0xa)||0x0;_0x2ec9c5=_0x1d130f?_0x40814e*0x2:-_0x40814e;}else{if(_0x547faf&&!_0x1d130f)_0x2ec9c5=_0x476e82===!![]||_0x476e82==='confident'||_0x397603?-0x4:-0x2;else{if(_0x397603)_0x2ec9c5=_0x1d130f?0x2:-0x1;else{if(_0x5057af[_0x509414(0x887)]){if(_0x1d130f&&(_0x476e82===!![]||_0x476e82===_0x509414(0x8e9)))_0x2ec9c5=0x2;else{if(_0x1d130f)_0x2ec9c5=0x1;else{if(!_0x1d130f&&(_0x476e82===![]||_0x476e82===_0x509414(0x9e8)||_0x476e82===null))_0x2ec9c5=0x0;else{if(!_0x1d130f&&(_0x476e82===!![]||_0x476e82===_0x509414(0x8e9)))_0x2ec9c5=-0x1;}}}}else _0x2ec9c5=_0x1d130f?0x1:0x0;}}}_0x3b6b96&&_0x2ec9c5>0x0&&(_0x2ec9c5*=0x2);if(_0x5ce604&&!_0x1d130f&&_0x2ec9c5<0x0)_0x2ec9c5*=0x2;if(!_0x1d130f&&_0x1285e8)_0x2ec9c5=0x0;const _0x3a6977=(_0x1d783a['timeBonusThisQuestion']||0x0)>0x0,_0x3e7a9b=_0x1dfd96&&_0x1dfd96!==_0x509414(0xac7);let _0x13c45c=0x0;_0x1d130f&&(_0x13c45c=_0x3e7a9b?0x0:_0x3bd878+0x1);const _0x1814c0={'questionIndex':_0x5057af[_0x509414(0x907)],'questionId':_0x9e3785['id'],'answer':_0x363f9f,'answerText':_0x57555e,'isCorrect':_0x1d130f,'originalQuestionText':_0x9e3785['questionText']||_0x9e3785['stem'],'wasConfident':_0x397603?_0x509414(0x8e9):_0x476e82||![],'pointsAwarded':_0x2ec9c5,'powerupUsed':_0x1dfd96||null,'wasJinxed':_0x5ce604||![],'wasForced':_0x397603||![],'usedPoll':_0x547faf||![],'usedBuyTime':_0x3a6977,'streakActive':_0x3b6b96},_0x506569=doc(db,_0x509414(0x6e6)+appId+_0x509414(0xd31)+currentLiveGameId+'/players',_0x755547),_0x4a7c20=_0x1d783a[_0x509414(0x8c5)]||[],_0x1bafe8=_0x4a7c20[_0x509414(0x9a7)](_0x55b977=>_0x55b977[_0x509414(0xa22)]!==_0x5057af[_0x509414(0x907)]),_0x3051cd=[..._0x1bafe8,_0x1814c0],_0x4d175c=_0x3051cd['filter'](_0x59dec6=>_0x59dec6[_0x509414(0x129)])[_0x509414(0x752)],_0xbea51a={'answers':_0x3051cd,'score':_0x4d175c,'totalPoints':increment(_0x2ec9c5),'answered':!![],'lastAnswerIndex':_0x505b65==='multiple_choice'||_0x505b65===_0x509414(0x827)?parseInt(_0x363f9f):null,'lastAnswerValue':_0x57555e,'isJinxed':![],'isForcedConfident':![],'timeBonusThisQuestion':0x0,'correctStreak':_0x13c45c};if(_0x2dbefb)sessionStorage[_0x509414(0x741)](_0x509414(0xa32));try{await updateDoc(_0x506569,_0xbea51a);}catch(_0x459d8f){console[_0x509414(0x1ac)](_0x509414(0x519),_0x459d8f),showMessage('ส่งคำตอบไม่สำเร็จ\x20กรุณาลองใหม่'),document[_0x509414(0x38e)]('.live-answer-btn,\x20#sync-submit-btn')[_0x509414(0x39f)](_0x5d00db=>_0x5d00db[_0x509414(0xad6)]=![]);}}const allMarketItems=[{'id':_0x2bcb18(0xe43),'name':_0x2bcb18(0xb7a),'price':0x1,'desc':'เพิ่มเวลา\x20+25%\x20ของเวลาเริ่มต้นในข้อนี้\x20(สำหรับคุณ)'},{'id':_0x2bcb18(0x7a5),'name':_0x2bcb18(0x526),'price':0x2,'desc':_0x2bcb18(0x1a5)},{'id':_0x2bcb18(0xa53),'name':_0x2bcb18(0x49d),'price':0x5,'desc':_0x2bcb18(0xd7c)},{'id':_0x2bcb18(0x4d5),'name':_0x2bcb18(0x2e9),'price':0x7,'desc':_0x2bcb18(0x14f)},{'id':_0x2bcb18(0x37b),'name':_0x2bcb18(0xd4e),'price':0xc,'desc':_0x2bcb18(0xaa9)}];function openBlackMarket(_0x369cf4,_0x5a2ed0){const _0x1f0546=_0x2bcb18;let _0x1a9269=null;const _0x3a915f=document[_0x1f0546(0x932)](_0x1f0546(0xa48)),_0xbeaefa=document[_0x1f0546(0x932)](_0x1f0546(0xb48)),_0x29d0e5=document[_0x1f0546(0x932)](_0x1f0546(0x806)),_0x5d68b5=document[_0x1f0546(0x932)](_0x1f0546(0xd46)),_0x1baa57=_0x5a2ed0[_0x1f0546(0xd68)]||0x0;_0x29d0e5[_0x1f0546(0xdec)]=_0x1baa57;const _0x13cf18=_0x369cf4['currentQuestionIndex'],_0x44d051=_0x369cf4['shuffledQuiz']['questions'][_0x13cf18],_0x266e01=_0x44d051['questionType']||_0x369cf4['shuffledQuiz'][_0x1f0546(0x2de)],_0x1b80b9=_0x369cf4[_0x1f0546(0x33e)]===_0x1f0546(0x1f1),_0x331943=allMarketItems;_0xbeaefa[_0x1f0546(0xa16)]=_0x331943[_0x1f0546(0xe49)](_0xf7dea8=>{const _0x870675=_0x1f0546,_0x503c97=_0x1baa57>=_0xf7dea8[_0x870675(0x1ba)];if(_0xf7dea8['id']===_0x870675(0xe43)){const _0x2cd689=_0x503c97?Math['floor'](_0x1baa57/_0xf7dea8['price']):0x0,_0x4d6aed=_0x503c97&&_0x1b80b9;let _0x4ea8de=_0x870675(0xc8e)+_0xf7dea8[_0x870675(0x1ba)]+_0x870675(0x48a),_0x30a1b1=_0x4d6aed?_0x870675(0x3c4):_0x870675(0x14a);return!_0x1b80b9&&(_0x4ea8de=_0x870675(0x498),_0x30a1b1=_0x870675(0xe33)),_0x870675(0x115)+(!_0x4d6aed?_0x870675(0xa45):_0x870675(0x30f))+_0x870675(0xc0d)+_0xf7dea8[_0x870675(0x34a)]+_0x870675(0x122)+_0xf7dea8[_0x870675(0xdf0)]+_0x870675(0xce7)+_0x2cd689+'\x22\x20'+(!_0x4d6aed?'disabled':'')+_0x870675(0x47a)+_0x30a1b1+_0x870675(0x3ed)+_0xf7dea8['id']+_0x870675(0x90d)+_0xf7dea8[_0x870675(0x1ba)]+_0x870675(0x54b)+(!_0x4d6aed?_0x870675(0xad6):'')+_0x870675(0x9ad)+_0x4ea8de+_0x870675(0xdd7);}else{let _0xfae064=!_0x503c97,_0x437b1f=_0x503c97?'bg-indigo-600\x20hover:bg-indigo-700':'bg-gray-400',_0x3bb4d3=_0x870675(0xc8e)+_0xf7dea8[_0x870675(0x1ba)]+'P)';if(_0xf7dea8['id']==='revealOptions'){const _0x4b49c2=_0x44d051[_0x870675(0x3e2)]&&_0x44d051[_0x870675(0x3e2)]['length']>0x0,_0x270bb9=_0x266e01==='short_answer'||_0x266e01===_0x870675(0xceb);(!_0x4b49c2||!_0x270bb9)&&(_0xfae064=!![],_0x437b1f=_0x870675(0xe33),_0x3bb4d3=_0x870675(0xd83));}if(_0xf7dea8['id']==='cutOne'||_0xf7dea8['id']===_0x870675(0xa53)){const _0x11599a=_0x266e01===_0x870675(0xafb)||_0x266e01===_0x870675(0xceb),_0x1d8547=_0x44d051[_0x870675(0x3e2)]&&_0x44d051[_0x870675(0x3e2)]['length']>0x0;(_0x11599a||!_0x1d8547)&&(_0xfae064=!![],_0x437b1f=_0x870675(0xe33),_0x3bb4d3=_0x870675(0x135));}return _0x870675(0x115)+(_0xfae064?_0x870675(0xa45):_0x870675(0x30f))+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>'+_0xf7dea8[_0x870675(0x34a)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>'+_0xf7dea8[_0x870675(0xdf0)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22buy-item-btn\x20text-white\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20text-sm\x20shrink-0\x20'+_0x437b1f+_0x870675(0x9b0)+_0xf7dea8['id']+_0x870675(0x55b)+_0xf7dea8[_0x870675(0x1ba)]+_0x870675(0x67f)+(_0xfae064?_0x870675(0xad6):'')+'>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3bb4d3+_0x870675(0x144);}})['join'](''),_0x3a915f[_0x1f0546(0x360)]['remove']('hidden'),_0x5d68b5[_0x1f0546(0x6dc)][_0x1f0546(0xca4)]=_0x1f0546(0x7dc),_0x5d68b5[_0x1f0546(0x6dc)]['width']=_0x1f0546(0xbf8),setTimeout(()=>{const _0x434ce5=_0x1f0546;_0x5d68b5[_0x434ce5(0x6dc)][_0x434ce5(0xca4)]=_0x434ce5(0x1bc),_0x5d68b5['style'][_0x434ce5(0x3c6)]='0%';},0x32),_0x1a9269=setTimeout(()=>{const _0x3b629f=_0x1f0546;_0x3a915f[_0x3b629f(0x360)][_0x3b629f(0x4a6)](_0x3b629f(0x2f2));},0xea60),document[_0x1f0546(0x932)](_0x1f0546(0xb62))[_0x1f0546(0xe1b)]=()=>{const _0x5dd39f=_0x1f0546;clearTimeout(_0x1a9269),_0x3a915f[_0x5dd39f(0x360)][_0x5dd39f(0x4a6)](_0x5dd39f(0x2f2));},_0xbeaefa['querySelectorAll'](_0x1f0546(0x869))[_0x1f0546(0x39f)](_0x2b7c85=>{_0x2b7c85['onclick']=_0x35f595=>{const _0x41940b=_0x63b3,_0x294d62=_0x35f595[_0x41940b(0x5f8)][_0x41940b(0x134)]['itemId'],_0x77eba7=parseInt(_0x35f595[_0x41940b(0x5f8)][_0x41940b(0x134)][_0x41940b(0x1ba)],0xa);clearTimeout(_0x1a9269),_0x3a915f[_0x41940b(0x360)][_0x41940b(0x4a6)](_0x41940b(0x2f2)),handleBuyItem(_0x5a2ed0[_0x41940b(0x34a)],_0x294d62,_0x77eba7,0x1);};}),_0xbeaefa[_0x1f0546(0x38e)](_0x1f0546(0x6da))[_0x1f0546(0x39f)](_0x4167d1=>{const _0x5fe475=_0x1f0546;_0x4167d1[_0x5fe475(0xe1b)]=_0x474956=>{const _0x459054=_0x5fe475,_0x169187=_0x474956[_0x459054(0x5f8)][_0x459054(0x134)][_0x459054(0xb3a)],_0x48b2b8=parseInt(_0x474956[_0x459054(0x5f8)][_0x459054(0x134)][_0x459054(0x1ba)],0xa),_0x6033b0=document[_0x459054(0x932)](_0x459054(0xe9f)),_0x2b3eb1=parseInt(_0x6033b0['value'],0xa),_0x57e294=parseInt(_0x6033b0['max'],0xa);if(!_0x2b3eb1||_0x2b3eb1<0x1){showMessage(_0x459054(0x3e4));return;}if(_0x2b3eb1>_0x57e294){showMessage(_0x459054(0x310)+_0x57e294+_0x459054(0x256));return;}clearTimeout(_0x1a9269),_0x3a915f['classList'][_0x459054(0x4a6)](_0x459054(0x2f2)),handleBuyItem(_0x5a2ed0['name'],_0x169187,_0x48b2b8,_0x2b3eb1);};});}async function handleBuyItem(_0x918969,_0x15f652,_0x421d61,_0x152398=0x1){const _0x4a997e=_0x2bcb18,_0x4992b5=doc(db,_0x4a997e(0x6e6)+appId+'/public/data/syncGames/'+currentLiveGameId+_0x4a997e(0xaf4),_0x918969);try{await runTransaction(db,async _0x269646=>{const _0x2a65fe=_0x4a997e,_0xab2ab1=await _0x269646['get'](_0x4992b5);if(!_0xab2ab1[_0x2a65fe(0x7d2)]())throw'ไม่พบข้อมูลผู้เล่น';const _0xb929d9=_0xab2ab1['data']()[_0x2a65fe(0xd68)]||0x0,_0x37d2cc=_0x421d61*_0x152398;if(_0xb929d9<_0x37d2cc)throw _0x2a65fe(0x247);const _0x3f2ef5={};_0x3f2ef5[_0x2a65fe(0xd68)]=increment(-_0x37d2cc),_0x3f2ef5[_0x2a65fe(0x89f)+_0x15f652]=increment(_0x152398),_0x269646[_0x2a65fe(0xbe3)](_0x4992b5,_0x3f2ef5);}),showMessage(_0x4a997e(0x4ad)+_0x15f652+_0x4a997e(0xbed)+_0x152398+_0x4a997e(0x508));}catch(_0x301133){console[_0x4a997e(0x1ac)]('Buy\x20Item\x20failed:\x20',_0x301133),showMessage(typeof _0x301133===_0x4a997e(0x57a)?_0x301133:_0x4a997e(0x6c6));}}async function handlePayForMarketEntry(_0x5adac0,_0x243fe3,_0x617c6a){const _0x147cf9=_0x2bcb18,_0x1d6d5f=doc(db,_0x147cf9(0x6e6)+appId+_0x147cf9(0xd31)+currentLiveGameId+_0x147cf9(0xaf4),_0x5adac0);try{await runTransaction(db,async _0x40acf1=>{const _0x23ef30=_0x147cf9,_0x489a60=await _0x40acf1[_0x23ef30(0x964)](_0x1d6d5f);if(!_0x489a60[_0x23ef30(0x7d2)]())throw'ไม่พบข้อมูลผู้เล่น';const _0x31501c=_0x489a60[_0x23ef30(0x13f)]()[_0x23ef30(0xd68)]||0x0;if(_0x31501c<0x1)throw'มี\x20Points\x20ไม่เพียงพอ\x20(ต้องใช้\x201P)';const _0x2bb03f={};_0x2bb03f[_0x23ef30(0xd68)]=increment(-0x1),_0x40acf1[_0x23ef30(0xbe3)](_0x1d6d5f,_0x2bb03f);});const _0x36ae66={..._0x617c6a,'totalPoints':(_0x617c6a[_0x147cf9(0xd68)]||0x0)-0x1};openBlackMarket(_0x243fe3,_0x36ae66);}catch(_0x589098){console['error']('Market\x20entry\x20payment\x20failed:',_0x589098),showMessage(typeof _0x589098==='string'?_0x589098:_0x147cf9(0x33c));}}const audioCtx=new(window['AudioContext']||window[(_0x2bcb18(0x42a))])();function playSystemSound(_0x7435d0){const _0x2e4ddf=_0x2bcb18;if(audioCtx[_0x2e4ddf(0x8c4)]===_0x2e4ddf(0xc7d))audioCtx[_0x2e4ddf(0xc4f)]();const _0x54b79d=audioCtx[_0x2e4ddf(0x986)](),_0x364cc8=audioCtx[_0x2e4ddf(0xdf6)]();_0x54b79d[_0x2e4ddf(0x28f)](_0x364cc8),_0x364cc8[_0x2e4ddf(0x28f)](audioCtx['destination']);const _0x1ec1f7=audioCtx[_0x2e4ddf(0x7ab)];if(_0x7435d0==='correct')_0x54b79d[_0x2e4ddf(0x587)]=_0x2e4ddf(0x304),_0x54b79d[_0x2e4ddf(0xc8b)][_0x2e4ddf(0x8fd)](0x258,_0x1ec1f7),_0x54b79d[_0x2e4ddf(0xc8b)][_0x2e4ddf(0x69c)](0x4b0,_0x1ec1f7+0.1),_0x364cc8[_0x2e4ddf(0x7e0)]['setValueAtTime'](0.1,_0x1ec1f7),_0x364cc8['gain'][_0x2e4ddf(0x69c)](0.01,_0x1ec1f7+0.5),_0x54b79d[_0x2e4ddf(0x9f9)](_0x1ec1f7),_0x54b79d[_0x2e4ddf(0xa51)](_0x1ec1f7+0.5);else{if(_0x7435d0===_0x2e4ddf(0xaad))_0x54b79d[_0x2e4ddf(0x587)]='sawtooth',_0x54b79d[_0x2e4ddf(0xc8b)]['setValueAtTime'](0x96,_0x1ec1f7),_0x54b79d[_0x2e4ddf(0xc8b)][_0x2e4ddf(0x69c)](0x64,_0x1ec1f7+0.2),_0x364cc8[_0x2e4ddf(0x7e0)]['setValueAtTime'](0.1,_0x1ec1f7),_0x364cc8[_0x2e4ddf(0x7e0)]['exponentialRampToValueAtTime'](0.01,_0x1ec1f7+0.3),_0x54b79d[_0x2e4ddf(0x9f9)](_0x1ec1f7),_0x54b79d['stop'](_0x1ec1f7+0.3);else _0x7435d0===_0x2e4ddf(0xa8f)&&(_0x54b79d[_0x2e4ddf(0x587)]=_0x2e4ddf(0x145),_0x54b79d[_0x2e4ddf(0xc8b)][_0x2e4ddf(0x8fd)](0x12c,_0x1ec1f7),_0x54b79d[_0x2e4ddf(0xc8b)][_0x2e4ddf(0x6e8)](0x258,_0x1ec1f7+0.1),_0x364cc8[_0x2e4ddf(0x7e0)][_0x2e4ddf(0x8fd)](0.1,_0x1ec1f7),_0x364cc8[_0x2e4ddf(0x7e0)]['linearRampToValueAtTime'](0.01,_0x1ec1f7+0.3),_0x54b79d[_0x2e4ddf(0x9f9)](_0x1ec1f7),_0x54b79d[_0x2e4ddf(0xa51)](_0x1ec1f7+0.3));}}initialize();
