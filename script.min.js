const _0x530be2=_0x58ae;(function(_0xe0b789,_0x2cee49){const _0x2b97fd=_0x58ae,_0x1f4c59=_0xe0b789();while(!![]){try{const _0x3a3035=-parseInt(_0x2b97fd(0x101))/0x1+-parseInt(_0x2b97fd(0x38f))/0x2*(parseInt(_0x2b97fd(0x3e6))/0x3)+-parseInt(_0x2b97fd(0x4af))/0x4*(-parseInt(_0x2b97fd(0x2d0))/0x5)+-parseInt(_0x2b97fd(0x3ec))/0x6*(-parseInt(_0x2b97fd(0x4d8))/0x7)+parseInt(_0x2b97fd(0x2cc))/0x8+parseInt(_0x2b97fd(0xf9))/0x9+-parseInt(_0x2b97fd(0x21c))/0xa*(parseInt(_0x2b97fd(0x34c))/0xb);if(_0x3a3035===_0x2cee49)break;else _0x1f4c59['push'](_0x1f4c59['shift']());}catch(_0x2e7c13){_0x1f4c59['push'](_0x1f4c59['shift']());}}}(_0x51f2,0x6b218));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,writeBatch,runTransaction,serverTimestamp,increment}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';let db,auth,userId,currentMode='student',currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1;const BADGES={'PERFECT_SCORE':{'id':_0x530be2(0x3bf),'name':_0x530be2(0x32b),'description':_0x530be2(0x2e6),'icon':_0x530be2(0x448)},'QUICK_THINKER':{'id':_0x530be2(0x1b9),'name':'เซียนสมองไว','description':'ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','icon':'fa-bolt\x20text-blue-500'},'ON_FIRE':{'id':'on_fire','name':_0x530be2(0x258),'description':_0x530be2(0x165),'icon':_0x530be2(0x4a4)},'FIRST_TRY_ACE':{'id':'first_try_ace','name':_0x530be2(0x52d),'description':_0x530be2(0x3d8),'icon':_0x530be2(0x213)},'COMEBACK_KING':{'id':_0x530be2(0x3ca),'name':_0x530be2(0x2fc),'description':'สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','icon':_0x530be2(0x257)},'SPECIALIST':{'id':'specialist','name':_0x530be2(0x301),'description':_0x530be2(0x189),'icon':_0x530be2(0x310)},'PERSEVERANCE':{'id':_0x530be2(0x1d9),'name':_0x530be2(0x329),'description':_0x530be2(0x236),'icon':_0x530be2(0x397)}},firebaseConfig={'apiKey':_0x530be2(0x1e6),'authDomain':'ai-quiz-app-aefee.firebaseapp.com','projectId':_0x530be2(0x2ce),'storageBucket':_0x530be2(0x28a),'messagingSenderId':'274192258111','appId':_0x530be2(0x335),'measurementId':_0x530be2(0x4ab)},appId=typeof __app_id!==_0x530be2(0x50d)?__app_id:_0x530be2(0x4d7),adminView=document[_0x530be2(0x131)](_0x530be2(0x3e2)),studentView=document[_0x530be2(0x131)]('student-view'),projectDashboardView=document[_0x530be2(0x131)](_0x530be2(0x135)),projectDetailView=document[_0x530be2(0x131)]('project-detail-view'),quizResultsView=document[_0x530be2(0x131)](_0x530be2(0x440)),projectList=document['getElementById'](_0x530be2(0x193)),noProjectsMsg=document[_0x530be2(0x131)](_0x530be2(0x3d3)),projectTitle=document[_0x530be2(0x131)]('project-title'),projectIdDisplay=document['getElementById'](_0x530be2(0x2df)),studentList=document['getElementById'](_0x530be2(0x242)),messageModal=document[_0x530be2(0x131)](_0x530be2(0x3ea)),modalMessage=document['getElementById'](_0x530be2(0x381)),createProjectModal=document['getElementById']('create-project-modal'),adminPasswordModal=document['getElementById'](_0x530be2(0x30c)),confirmationModal=document['getElementById']('confirmation-modal'),userIdDisplay=document[_0x530be2(0x131)]('user-id-display'),topicTab=document[_0x530be2(0x131)](_0x530be2(0x2da)),textTab=document[_0x530be2(0x131)]('text-tab'),topicInputArea=document[_0x530be2(0x131)]('topic-input-area'),textInputArea=document['getElementById']('text-input-area'),manageTab=document[_0x530be2(0x131)]('manage-tab'),resultsTab=document[_0x530be2(0x131)]('results-tab'),leaderboardTab=document[_0x530be2(0x131)](_0x530be2(0x38d)),manageTabContent=document['getElementById'](_0x530be2(0x2b1)),resultsTabContent=document[_0x530be2(0x131)](_0x530be2(0xec)),leaderboardTabContent=document[_0x530be2(0x131)]('leaderboard-tab-content'),projectQuizzesList=document[_0x530be2(0x131)](_0x530be2(0x14f)),fileTab=document[_0x530be2(0x131)](_0x530be2(0x38c)),fileInputArea=document[_0x530be2(0x131)](_0x530be2(0x496)),fileUploadInput=document[_0x530be2(0x131)](_0x530be2(0x110)),worksheetTab=document[_0x530be2(0x131)]('worksheet-tab'),worksheetInputArea=document['getElementById'](_0x530be2(0x432)),generateWorksheetBtn=document[_0x530be2(0x131)](_0x530be2(0x434)),studentInitialView=document[_0x530be2(0x131)](_0x530be2(0x26a)),studentNameSelectionView=document[_0x530be2(0x131)](_0x530be2(0x18d)),studentQuizArea=document[_0x530be2(0x131)](_0x530be2(0xd1)),studentResultArea=document['getElementById']('student-result-area'),studentReadingArea=document[_0x530be2(0x131)](_0x530be2(0xf0)),loadQuizBtn=document['getElementById'](_0x530be2(0x145)),startQuizBtn=document[_0x530be2(0x131)](_0x530be2(0x292)),studentJoinGameView=document['getElementById'](_0x530be2(0x2b9)),presentationModal=document['getElementById'](_0x530be2(0x337)),renameQuizModal=document[_0x530be2(0x131)]('rename-quiz-modal'),moveQuizModal=document[_0x530be2(0x131)](_0x530be2(0x49b)),quizSettingsModal=document['getElementById'](_0x530be2(0x2ae)),quizStatusModal=document[_0x530be2(0x131)](_0x530be2(0x490)),liveGameView=document[_0x530be2(0x131)]('live-game-view');async function initialize(){const _0xc2ddc1=_0x530be2;try{const _0x5dd95e=initializeApp(firebaseConfig);db=getFirestore(_0x5dd95e),auth=getAuth(_0x5dd95e),setupAuthListener(),setupEventListeners(),showView(_0xc2ddc1(0x16d));}catch(_0x48b19c){console[_0xc2ddc1(0x339)]('Firebase\x20initialization\x20failed:',_0x48b19c),showMessage(_0xc2ddc1(0x44f));}}function compareNumericalAnswers(_0x43a4e4,_0x2284d6){const _0x2b0f69=_0x530be2,_0x5de81e=String(_0x43a4e4)['replace'](',','.')[_0x2b0f69(0x105)](/[^\d.-]/g,'')[_0x2b0f69(0x190)](),_0xe6e209=String(_0x2284d6)[_0x2b0f69(0x105)](',','.')[_0x2b0f69(0x105)](/[^\d.-]/g,'')['trim']();if(_0x5de81e===''||_0xe6e209==='')return![];const _0xca489f=parseFloat(_0x5de81e),_0x21847a=parseFloat(_0xe6e209);if(isNaN(_0xca489f)||isNaN(_0x21847a))return![];return Math[_0x2b0f69(0x2ed)](_0xca489f-_0x21847a)<0.001;}async function gradeShortAnswer(_0x4e0a62,_0x285a62){const _0x1eb415=_0x530be2,_0x42bcfb=_0x285a62[_0x1eb415(0x2d9)];if(String(_0x4e0a62)[_0x1eb415(0x190)]()[_0x1eb415(0x468)]()===String(_0x42bcfb)[_0x1eb415(0x190)]()[_0x1eb415(0x468)]())return!![];if(compareNumericalAnswers(_0x4e0a62,_0x42bcfb))return!![];return console[_0x1eb415(0x281)](_0x1eb415(0x19d)),await gradeShortAnswerWithAI(_0x4e0a62,_0x42bcfb);}async function revealAnswerForAdmin(_0x15798,_0xf4ae9d){const _0x258d84=_0x530be2;if(document[_0x258d84(0x131)](_0x258d84(0x3da)))return;const _0x2491c9=doc(db,_0x258d84(0x412)+appId+_0x258d84(0xd0),currentLiveGameId);await updateDoc(_0x2491c9,{'questionStatus':_0x258d84(0x532)});const _0x1f035e=liveGameView[_0x258d84(0x238)](_0x258d84(0x37e));_0x1f035e&&(_0x1f035e[_0x258d84(0x162)][_0x258d84(0x2db)](_0x258d84(0x392)),_0x1f035e[_0x258d84(0x162)][_0x258d84(0x2bd)](_0x258d84(0x37b),_0x258d84(0x1f3),'font-bold','border-4',_0x258d84(0x33b)),_0x1f035e[_0x258d84(0x19f)]=_0x258d84(0x363)+_0x1f035e[_0x258d84(0x19f)]);const _0xe219f4=document['getElementById'](_0x258d84(0x223));_0xe219f4&&(_0xe219f4[_0x258d84(0x19f)]=_0x258d84(0x4c4)+(_0x15798+0x1===_0xf4ae9d?_0x258d84(0x25b):_0x258d84(0x512))+'\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',document[_0x258d84(0x131)](_0x258d84(0x3da))['addEventListener']('click',async()=>{const _0xee9a4a=_0x258d84,_0x583a54=doc(db,_0xee9a4a(0x412)+appId+_0xee9a4a(0xd0),currentLiveGameId),_0x308711=await getDoc(_0x583a54);if(!_0x308711['exists']())return;const _0x1cb359=_0x308711[_0xee9a4a(0x3af)](),_0x447f86={};if(_0x1cb359[_0xee9a4a(0x526)])for(const _0x40e1a1 in _0x1cb359[_0xee9a4a(0x526)]){_0x447f86['players.'+_0x40e1a1+_0xee9a4a(0x530)]=![];}const _0x5fb607=_0x15798+0x1;_0x5fb607<_0xf4ae9d?(_0x447f86['currentQuestionIndex']=_0x5fb607,_0x447f86[_0xee9a4a(0x3b2)]=serverTimestamp(),_0x447f86['questionStatus']=_0xee9a4a(0x24d),await updateDoc(_0x583a54,_0x447f86)):await updateDoc(_0x583a54,{'status':_0xee9a4a(0x478)});}));}function setupAuthListener(){onAuthStateChanged(auth,async _0x4d3762=>{const _0x11418f=_0x58ae;if(_0x4d3762){userId=_0x4d3762[_0x11418f(0x4f9)],userIdDisplay['textContent']=userId;if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes();}else await authenticateUser();});}function showPodiumView(_0x5dba65){const _0x8a585d=_0x530be2,_0x106385=Object['entries'](_0x5dba65)['map'](([_0x3652f0,_0x5b601b])=>({'name':_0x3652f0,'score':_0x5b601b['score']||0x0,'badges':_0x5b601b[_0x8a585d(0x473)]||[]}));_0x106385[_0x8a585d(0x3e1)]((_0x536800,_0x45b697)=>{const _0x5920de=_0x8a585d,_0x4c5074=_0x45b697[_0x5920de(0x334)]-_0x536800[_0x5920de(0x334)];if(_0x4c5074!==0x0)return _0x4c5074;return(_0x45b697[_0x5920de(0x473)][_0x5920de(0x540)]||0x0)-(_0x536800[_0x5920de(0x473)][_0x5920de(0x540)]||0x0);});const _0x5c0b82=_0x5ef3e2=>{const _0x519bb5=_0x8a585d;if(!_0x5ef3e2||_0x5ef3e2[_0x519bb5(0x540)]===0x0)return'';const _0x4637d0={'quick_thinker':'⚡️','on_fire':'🔥'};return _0x519bb5(0x504)+_0x5ef3e2[_0x519bb5(0x226)](_0x58ff3a=>_0x4637d0[_0x58ff3a]||'')['join']('')+_0x519bb5(0x2c3);},_0x18717a=_0x106385[_0x8a585d(0x196)](0x3),_0x15d98c=_0x18717a[_0x8a585d(0x540)]>0x0?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x18717a[_0x8a585d(0x226)]((_0x44caa5,_0x25eca3)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>'+(_0x25eca3+0x4)+_0x8a585d(0x148)+_0x44caa5[_0x8a585d(0x45c)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>'+_0x44caa5[_0x8a585d(0x334)]+_0x8a585d(0x488))[_0x8a585d(0x4ca)]('')+_0x8a585d(0x3fd):'',_0x385ad4=_0x8a585d(0x120)+(_0x106385[0x1]?_0x8a585d(0xf3)+_0x106385[0x1][_0x8a585d(0x45c)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5c0b82(_0x106385[0x1]['badges'])+_0x8a585d(0x376)+_0x106385[0x1][_0x8a585d(0x334)]+_0x8a585d(0x419):_0x8a585d(0x182))+_0x8a585d(0x13f)+(_0x106385[0x0]?_0x8a585d(0x26e)+_0x106385[0x0][_0x8a585d(0x45c)]+_0x8a585d(0x41e)+_0x5c0b82(_0x106385[0x0][_0x8a585d(0x473)])+_0x8a585d(0x304)+_0x106385[0x0][_0x8a585d(0x334)]+'\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'<div\x20class=\x22flex-1\x22></div>')+_0x8a585d(0x13f)+(_0x106385[0x2]?_0x8a585d(0x4be)+_0x106385[0x2][_0x8a585d(0x45c)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5c0b82(_0x106385[0x2]['badges'])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>'+_0x106385[0x2]['score']+_0x8a585d(0x185):_0x8a585d(0x182))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x15d98c+'\x20\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode===_0x8a585d(0x365)?_0x8a585d(0x144):_0x8a585d(0x133))+_0x8a585d(0x35e);liveGameView[_0x8a585d(0x19f)]=_0x385ad4,currentMode===_0x8a585d(0x365)&&document[_0x8a585d(0x131)]('close-game-final-btn')[_0x8a585d(0x481)]('click',async()=>{const _0x5173ec=_0x8a585d,_0x3585d8=doc(db,'artifacts/'+appId+_0x5173ec(0xd0),currentLiveGameId);await deleteDoc(_0x3585d8),showView('admin-dashboard');});}async function handleStartLiveRace(_0x693e5b){const _0x239671=_0x530be2;let _0x49d1ce=allQuizzes[_0x239671(0x249)](_0x481aad=>_0x481aad['id']===_0x693e5b);if(!_0x49d1ce){const _0x16b73=doc(db,_0x239671(0x412)+appId+'/public/data/quizzes',_0x693e5b),_0x3c9bfb=await getDoc(_0x16b73);if(!_0x3c9bfb['exists']()){showMessage(_0x239671(0xe4));return;}_0x49d1ce={'id':_0x3c9bfb['id'],..._0x3c9bfb[_0x239671(0x3af)]()};}currentQuizData=getShuffledQuiz(_0x49d1ce);const _0x37a2ac=_0x49d1ce[_0x239671(0x4e4)]||currentProjectId||null,_0x93992e=Math['floor'](0xa+Math[_0x239671(0x459)]()*0x5a)[_0x239671(0xf1)]();currentLiveGamePin=_0x93992e;try{const _0xe14382=await addDoc(collection(db,_0x239671(0x412)+appId+_0x239671(0xd0)),{'quizId':_0x693e5b,'projectId':_0x37a2ac,'status':_0x239671(0x4a1),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0x93992e,'createdAt':serverTimestamp()});currentLiveGameId=_0xe14382['id'],showAdminLobbyView(_0x93992e,_0x49d1ce[_0x239671(0x387)]),listenForLiveGameUpdates();}catch(_0x117938){console[_0x239671(0x339)]('Error\x20starting\x20live\x20race:',_0x117938),showMessage(_0x239671(0x4dd));}}async function handleShowStudentRankings(){const _0x474c99=_0x530be2,_0x2b5868=document[_0x474c99(0x238)](_0x474c99(0x451));_0x2b5868&&(_0x2b5868['innerHTML']=_0x474c99(0x159));const _0x3b71df=document['querySelector']('#student-project-leaderboard-content\x20thead');_0x3b71df&&(_0x3b71df[_0x474c99(0x19f)]=_0x474c99(0x270));const _0x280a87=document['getElementById'](_0x474c99(0x3f4));_0x280a87[_0x474c99(0x162)]['remove'](_0x474c99(0x217)),document[_0x474c99(0x131)](_0x474c99(0x460))[_0x474c99(0x3f2)]=()=>_0x280a87['classList']['add']('hidden');const _0x55bcb2=document['getElementById'](_0x474c99(0x3cb)),_0x3f8ed8=document['getElementById'](_0x474c99(0x4e7)),_0x1bd48e=document['getElementById']('student-quiz-leaderboard-content'),_0x4e7409=document[_0x474c99(0x131)]('student-project-leaderboard-content');_0x55bcb2[_0x474c99(0x3f2)]=()=>{const _0x1bf1a1=_0x474c99;_0x55bcb2[_0x1bf1a1(0x162)][_0x1bf1a1(0x2bd)](_0x1bf1a1(0xfa)),_0x3f8ed8['classList'][_0x1bf1a1(0x2db)](_0x1bf1a1(0xfa)),_0x1bd48e[_0x1bf1a1(0x162)][_0x1bf1a1(0x2db)](_0x1bf1a1(0x217)),_0x4e7409[_0x1bf1a1(0x162)]['add'](_0x1bf1a1(0x217));},_0x3f8ed8[_0x474c99(0x3f2)]=()=>{const _0x21fcda=_0x474c99;_0x3f8ed8[_0x21fcda(0x162)][_0x21fcda(0x2bd)](_0x21fcda(0xfa)),_0x55bcb2[_0x21fcda(0x162)][_0x21fcda(0x2db)]('active'),_0x4e7409['classList'][_0x21fcda(0x2db)](_0x21fcda(0x217)),_0x1bd48e[_0x21fcda(0x162)][_0x21fcda(0x2bd)](_0x21fcda(0x217));};try{const _0x1168b1=collection(db,_0x474c99(0x412)+appId+_0x474c99(0x462)+currentQuizData['id']+_0x474c99(0x43d)),_0x3963b6=await getDocs(_0x1168b1),_0x323729=_0x3963b6[_0x474c99(0x51e)][_0x474c99(0x226)](_0x49ab03=>_0x49ab03[_0x474c99(0x3af)]());renderQuizLeaderboard(_0x323729,currentQuizData,_0x474c99(0x183));const _0x3d2e58=collection(db,_0x474c99(0x412)+appId+_0x474c99(0x27a)+currentQuizData['projectId']+_0x474c99(0x2ff)),_0x556f5c=await getDocs(_0x3d2e58),_0x31cc2f=_0x556f5c[_0x474c99(0x51e)][_0x474c99(0x226)](_0x12371a=>_0x12371a[_0x474c99(0x3af)]());renderLeaderboard(_0x31cc2f,_0x474c99(0x4a3));}catch(_0x5eaf70){console['error'](_0x474c99(0x17f),_0x5eaf70),showMessage(_0x474c99(0x2c1));}}async function handleSaveToBank(_0x103de4){const _0x17b6ab=_0x530be2,_0x30b478=_0x103de4[_0x17b6ab(0x45f)],_0x32811b=_0x30b478[_0x17b6ab(0x30a)][_0x17b6ab(0x132)],_0x9b0914=currentQuizData[_0x17b6ab(0x3e7)][_0x32811b];if(!userId){showMessage(_0x17b6ab(0x2e9));return;}try{const _0x2d62f1={..._0x9b0914,'originalTopic':currentQuizData[_0x17b6ab(0x387)],'savedAt':serverTimestamp()},_0x48067b=collection(db,_0x17b6ab(0x412)+appId+_0x17b6ab(0x495)+userId+_0x17b6ab(0x3f1));await addDoc(_0x48067b,_0x2d62f1),showMessage('บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว'),_0x30b478['classList']['remove'](_0x17b6ab(0x506)),_0x30b478[_0x17b6ab(0x162)][_0x17b6ab(0x2bd)]('text-green-600'),_0x30b478[_0x17b6ab(0x136)]=!![];}catch(_0x595dd9){console['error'](_0x17b6ab(0x137),_0x595dd9),showMessage(_0x17b6ab(0x287));}}function listenForStarredQuizzes(){const _0x1986db=_0x530be2;if(!userId)return;const _0x4f861f=collection(db,'artifacts/'+appId+_0x1986db(0x349)),_0x56e12d=query(_0x4f861f,where(_0x1986db(0x1df),'==',!![]));onSnapshot(_0x56e12d,_0x530235=>{const _0x4dd5eb=_0x1986db;starredQuizzes=_0x530235[_0x4dd5eb(0x51e)][_0x4dd5eb(0x226)](_0x5488f9=>({'id':_0x5488f9['id'],..._0x5488f9[_0x4dd5eb(0x3af)]()})),renderProjects();},_0x10b470=>{const _0x4a473b=_0x1986db;console['error'](_0x4a473b(0x476),_0x10b470);});}async function handleToggleStarQuiz(_0x40ec72){const _0x231a9a=_0x530be2,_0xee54f1=doc(db,_0x231a9a(0x412)+appId+_0x231a9a(0x349),_0x40ec72);try{const _0x22bfe3=await getDoc(_0xee54f1);if(_0x22bfe3[_0x231a9a(0x53b)]()){const _0x2a75c9=_0x22bfe3[_0x231a9a(0x3af)]()['isStarred']||![];await updateDoc(_0xee54f1,{'isStarred':!_0x2a75c9});}}catch(_0x40056e){console[_0x231a9a(0x339)]('Error\x20toggling\x20star\x20status:',_0x40056e),showMessage(_0x231a9a(0x436));}}async function displayQuestionBank(){const _0x516dc9=_0x530be2,_0x54e549=document[_0x516dc9(0x131)](_0x516dc9(0x296));_0x54e549[_0x516dc9(0x19f)]=_0x516dc9(0x229);try{const _0x363ab6=collection(db,_0x516dc9(0x412)+appId+_0x516dc9(0x495)+userId+_0x516dc9(0x3f1)),_0x571823=query(_0x363ab6),_0x122944=await getDocs(_0x571823);if(_0x122944[_0x516dc9(0xf7)]){_0x54e549[_0x516dc9(0x19f)]=_0x516dc9(0x142);return;}let _0x23ea4d=_0x122944[_0x516dc9(0x51e)][_0x516dc9(0x226)](_0x264153=>{const _0x131228=_0x516dc9,_0x5e2209=_0x264153[_0x131228(0x3af)](),_0x3afca0=_0x264153['id'];return _0x131228(0x33c)+JSON['stringify'](_0x5e2209)+'\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x5e2209['questionText']||_0x5e2209[_0x131228(0x40e)])+_0x131228(0x1c3)+_0x5e2209['originalTopic']+_0x131228(0x47b);})[_0x516dc9(0x4ca)]('');_0x54e549['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>'+_0x23ea4d+_0x516dc9(0x43a),document['getElementById'](_0x516dc9(0x2ef))['addEventListener']('click',createQuizFromBank);}catch(_0x56e4e3){console[_0x516dc9(0x339)]('Error\x20displaying\x20question\x20bank:',_0x56e4e3),_0x54e549[_0x516dc9(0x19f)]='<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>';}}function showAdminLiveQuestionView(_0x4cf41a,_0x32c32a,_0x2198ea){const _0x375c7d=_0x530be2,_0xcb21af=_0x4cf41a['questionType']||currentQuizData[_0x375c7d(0xff)];let _0x563ba2='';if(_0xcb21af===_0x375c7d(0x46e)||_0xcb21af===_0x375c7d(0x330)){const _0x250784=_0xcb21af==='true_false'?[_0x375c7d(0x4a9),_0x375c7d(0x51a)]:_0x4cf41a[_0x375c7d(0x2b7)],_0x36167f=_0xcb21af===_0x375c7d(0x330)?_0x4cf41a[_0x375c7d(0xe6)]?0x0:0x1:_0x4cf41a[_0x375c7d(0x109)];_0x563ba2=_0x250784[_0x375c7d(0x226)]((_0x45d164,_0x3b384c)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22'+(_0x3b384c===_0x36167f)+_0x375c7d(0x427)+_0x45d164+_0x375c7d(0x49a))[_0x375c7d(0x4ca)]('');}else{if(_0xcb21af===_0x375c7d(0x342)){const _0x35fd8c=_0x4cf41a[_0x375c7d(0x3f7)]||[];_0x563ba2=_0x35fd8c[_0x375c7d(0x226)](_0x3e62a8=>_0x375c7d(0x502)+(_0x3e62a8===_0x4cf41a['correctResponse'])+_0x375c7d(0x427)+_0x3e62a8+_0x375c7d(0x49a))['join']('');}}const _0x549452=_0x4cf41a[_0x375c7d(0x40e)]||_0x4cf41a[_0x375c7d(0xce)],_0x297fa6=_0x375c7d(0x100)+(_0x32c32a+0x1)+_0x375c7d(0x1b1)+_0x2198ea+_0x375c7d(0x501)+_0x549452+_0x375c7d(0x21d)+_0x563ba2+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';liveGameView[_0x375c7d(0x19f)]=_0x297fa6;window[_0x375c7d(0x493)]&&MathJax[_0x375c7d(0x1d4)]&&MathJax['typesetPromise']([liveGameView]);const _0x36d2fe=document['getElementById']('admin-action-buttons');document[_0x375c7d(0x131)](_0x375c7d(0x534))['addEventListener'](_0x375c7d(0x447),async()=>{const _0x7daec6=_0x375c7d,_0x5c2154=doc(db,_0x7daec6(0x412)+appId+_0x7daec6(0xd0),currentLiveGameId);await updateDoc(_0x5c2154,{'questionStatus':_0x7daec6(0x532)});const _0x5ca269=liveGameView[_0x7daec6(0x238)](_0x7daec6(0x37e));_0x5ca269&&(_0x5ca269[_0x7daec6(0x162)][_0x7daec6(0x2db)](_0x7daec6(0x392)),_0x5ca269[_0x7daec6(0x162)][_0x7daec6(0x2bd)](_0x7daec6(0x37b),_0x7daec6(0x1f3),_0x7daec6(0x294),_0x7daec6(0x18f),_0x7daec6(0x33b)),_0x5ca269['innerHTML']=_0x7daec6(0x363)+_0x5ca269[_0x7daec6(0x19f)]),_0x36d2fe[_0x7daec6(0x19f)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-live-question-btn\x22\x20class=\x22bg-blue-500\x20hover:bg-blue-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x32c32a+0x1===_0x2198ea?_0x7daec6(0x25b):_0x7daec6(0x512))+_0x7daec6(0xcd),document[_0x7daec6(0x131)](_0x7daec6(0x3da))['addEventListener'](_0x7daec6(0x447),async()=>{const _0x1cfe68=_0x7daec6,_0x446236=doc(db,'artifacts/'+appId+_0x1cfe68(0xd0),currentLiveGameId),_0x3e6574=await getDoc(_0x446236);if(!_0x3e6574[_0x1cfe68(0x53b)]())return;const _0x271ac4=_0x3e6574['data'](),_0x5f42e4={};if(_0x271ac4[_0x1cfe68(0x526)])for(const _0x559674 in _0x271ac4[_0x1cfe68(0x526)]){_0x5f42e4[_0x1cfe68(0x30b)+_0x559674+'.answeredCurrentQuestion']=![];}const _0x15b29a=_0x32c32a+0x1;_0x15b29a<_0x2198ea?(_0x5f42e4[_0x1cfe68(0xcf)]=_0x15b29a,_0x5f42e4[_0x1cfe68(0x3b2)]=serverTimestamp(),_0x5f42e4['questionStatus']=_0x1cfe68(0x24d),await updateDoc(_0x446236,_0x5f42e4)):await updateDoc(_0x446236,{'status':'podium'});});}),document[_0x375c7d(0x131)](_0x375c7d(0x2b8))['addEventListener']('click',async()=>{const _0x166448=_0x375c7d,_0x5deebe=doc(db,'artifacts/'+appId+_0x166448(0xd0),currentLiveGameId);await deleteDoc(_0x5deebe),showView(_0x166448(0x2e8));});}function showStudentLiveQuestionView(_0x18bfc4,_0x3298d0,_0x2ad096){const _0x297ec0=_0x530be2,_0x3c67d4=_0x18bfc4['questionType']||currentQuizData['quizType'];let _0xe85b37='';if(_0x3c67d4===_0x297ec0(0x46e)||_0x3c67d4==='true_false'){const _0x293e02=_0x3c67d4==='true_false'?[_0x297ec0(0x4a9),_0x297ec0(0x51a)]:_0x18bfc4[_0x297ec0(0x2b7)];_0xe85b37=_0x293e02[_0x297ec0(0x226)]((_0x208228,_0x4af70a)=>_0x297ec0(0x2c7)+_0x4af70a+_0x297ec0(0x37d)+_0x208228+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x297ec0(0x4ca)]('');}else{if(_0x3c67d4===_0x297ec0(0x342)){const _0x5df7c1=_0x18bfc4[_0x297ec0(0x3f7)]||[];_0xe85b37=_0x5df7c1[_0x297ec0(0x226)]((_0x524bc6,_0x1e6c2f)=>_0x297ec0(0x2c7)+_0x1e6c2f+_0x297ec0(0x37d)+_0x524bc6+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x297ec0(0x4ca)]('');}else _0x3c67d4===_0x297ec0(0x515)&&(_0xe85b37=_0x297ec0(0x150));}const _0x1405d3=_0x18bfc4[_0x297ec0(0x40e)]||_0x18bfc4['questionText'],_0xcb9e5a=_0x297ec0(0x289)+(_0x3298d0+0x1)+_0x297ec0(0x1b1)+_0x2ad096+_0x297ec0(0x41b)+_0x1405d3+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xe85b37+_0x297ec0(0x514);liveGameView[_0x297ec0(0x19f)]=_0xcb9e5a;window['MathJax']&&MathJax[_0x297ec0(0x1d4)]&&MathJax[_0x297ec0(0x1d4)]([liveGameView]);const _0x3680c8=document[_0x297ec0(0x131)](_0x297ec0(0x179));_0x3680c8&&_0x3680c8['addEventListener']('click',()=>{const _0x422a62=_0x297ec0,_0x33698c=document[_0x422a62(0x131)](_0x422a62(0x32e))[_0x422a62(0x116)];handleLiveAnswer(_0x33698c,_0x18bfc4);}),document['getElementById'](_0x297ec0(0x175))[_0x297ec0(0x481)]('click',_0x55141e=>{const _0xe29645=_0x297ec0,_0x2d8429=_0x55141e[_0xe29645(0x4e8)][_0xe29645(0x248)](_0xe29645(0x374));if(_0x2d8429){const _0x512fc2=parseInt(_0x2d8429['dataset'][_0xe29645(0x132)]);handleLiveAnswer(_0x512fc2,_0x18bfc4);}});}async function handleLiveAnswer(_0x3c6a2c,_0x5335bb){const _0x1f569e=_0x530be2;document['querySelectorAll'](_0x1f569e(0x10a))[_0x1f569e(0x3be)](_0x474bd3=>_0x474bd3[_0x1f569e(0x136)]=!![]);const _0x417966=_0x5335bb[_0x1f569e(0x3a9)]||currentQuizData[_0x1f569e(0xff)];let _0x3439c6=![];if(_0x417966===_0x1f569e(0x515)){const _0x183ae4=(_0x3c6a2c||'')[_0x1f569e(0xf1)]()[_0x1f569e(0x190)](),_0x4c9c3d=(_0x5335bb[_0x1f569e(0x2d9)]||'')[_0x1f569e(0xf1)]()['trim']();_0x3439c6=_0x183ae4[_0x1f569e(0x468)]()===_0x4c9c3d['toLowerCase']()&&_0x183ae4!=='';}else{if(_0x417966===_0x1f569e(0x46e))_0x3439c6=_0x3c6a2c===_0x5335bb['correctAnswerIndex'];else{if(_0x417966===_0x1f569e(0x330)){const _0x2b224a=_0x5335bb[_0x1f569e(0xe6)];_0x3439c6=_0x3c6a2c===0x0&&_0x2b224a||_0x3c6a2c===0x1&&!_0x2b224a;}else{if(_0x417966===_0x1f569e(0x342)){const _0xbac77=_0x5335bb[_0x1f569e(0x3f7)][_0x3c6a2c];_0x3439c6=_0xbac77===_0x5335bb[_0x1f569e(0x433)];}}}}const _0x12b9f5=doc(db,'artifacts/'+appId+_0x1f569e(0xd0),currentLiveGameId),_0x46aa6e=await getDoc(_0x12b9f5);if(!_0x46aa6e[_0x1f569e(0x53b)]())return;const _0x3e5ae6=_0x46aa6e[_0x1f569e(0x3af)](),_0x4bab9d=_0x3e5ae6[_0x1f569e(0x526)][currentStudentName];let _0xd6882d=_0x4bab9d['badges']||[],_0x59e2e9=_0x4bab9d['correctStreak']||0x0;const _0x10c0a5={};let _0x12bd3a=0x0;if(_0x3e5ae6[_0x1f569e(0x3b2)]){const _0x2fa5aa=_0x3e5ae6[_0x1f569e(0x3b2)][_0x1f569e(0x32a)](),_0x20f2cb=new Date()-_0x2fa5aa;if(_0x3439c6){const _0x2ccb90=0x3e8,_0x4bb6a4=0x1f4,_0x70e460=0x4e20;let _0x38e9d0=_0x20f2cb/_0x70e460;if(_0x38e9d0>0x1)_0x38e9d0=0x1;const _0x4e73ea=Math[_0x1f569e(0x272)](_0x38e9d0*_0x4bb6a4);_0x12bd3a=_0x2ccb90-_0x4e73ea,_0x20f2cb<=0x1388&&!_0xd6882d[_0x1f569e(0x259)](_0x1f569e(0x1b9))&&_0xd6882d[_0x1f569e(0x367)](_0x1f569e(0x1b9));}}_0x3439c6?(_0x59e2e9++,_0x59e2e9===0x3&&!_0xd6882d[_0x1f569e(0x259)](_0x1f569e(0x45a))&&(_0xd6882d[_0x1f569e(0x367)](_0x1f569e(0x45a)),_0x59e2e9=0x0)):_0x59e2e9=0x0,_0x3439c6&&(_0x10c0a5[_0x1f569e(0x30b)+currentStudentName+_0x1f569e(0xc8)]=increment(_0x12bd3a)),_0x10c0a5[_0x1f569e(0x30b)+currentStudentName+_0x1f569e(0x483)]=_0xd6882d,_0x10c0a5[_0x1f569e(0x30b)+currentStudentName+_0x1f569e(0x3cd)]=_0x59e2e9,_0x10c0a5[_0x1f569e(0x30b)+currentStudentName+'.answeredCurrentQuestion']=!![],_0x10c0a5[_0x1f569e(0x30b)+currentStudentName+'.lastAnswerCorrect']=_0x3439c6,_0x10c0a5['players.'+currentStudentName+_0x1f569e(0x1ac)]=_0x12bd3a,await updateDoc(_0x12b9f5,_0x10c0a5),liveGameView[_0x1f569e(0x19f)]=_0x1f569e(0x16e);}function createQuizFromBank(){const _0x146471=_0x530be2,_0x2a8d72=document[_0x146471(0x1f7)](_0x146471(0x195));if(_0x2a8d72[_0x146471(0x540)]===0x0){showMessage(_0x146471(0xd8));return;}const _0x23071f=[];_0x2a8d72['forEach'](_0x2d4af5=>{const _0x5bbfa6=_0x146471;_0x23071f[_0x5bbfa6(0x367)](JSON[_0x5bbfa6(0x3c9)](_0x2d4af5[_0x5bbfa6(0x116)]));});const _0x42b43b={'topic':_0x146471(0x28f),'questions':_0x23071f};displayGeneratedQuiz(_0x42b43b);}function showAdminLobbyView(_0x38fb4c,_0x369026){const _0x13d723=_0x530be2;showView(_0x13d723(0x4c8));const _0x21e76f=_0x13d723(0x49e)+_0x369026+_0x13d723(0x16c)+_0x38fb4c+_0x13d723(0x1b6);liveGameView[_0x13d723(0x19f)]=_0x21e76f,document[_0x13d723(0x131)](_0x13d723(0x1bf))[_0x13d723(0x481)](_0x13d723(0x447),async()=>{const _0x3e4544=_0x13d723;if(!currentQuizData||!currentQuizData[_0x3e4544(0x3e7)]||currentQuizData[_0x3e4544(0x3e7)]['length']===0x0){showMessage(_0x3e4544(0x3df));return;}try{const _0x4786d2=doc(db,_0x3e4544(0x412)+appId+_0x3e4544(0xd0),currentLiveGameId);await updateDoc(_0x4786d2,{'status':_0x3e4544(0x49d),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x276ac6=currentQuizData[_0x3e4544(0x3e7)][0x0],_0x3210f6=currentQuizData[_0x3e4544(0x3e7)][_0x3e4544(0x540)];showAdminLiveQuestionView(_0x276ac6,0x0,_0x3210f6);}catch(_0x4cee73){console[_0x3e4544(0x339)]('Error\x20starting\x20game:',_0x4cee73),showMessage(_0x3e4544(0x487));}});}async function openGlobalLiveModal(){const _0x28a0ca=_0x530be2;if(allQuizzesGlobal['length']===0x0){const _0x16b93f=await getDocs(collection(db,_0x28a0ca(0x412)+appId+_0x28a0ca(0x349)));allQuizzesGlobal=_0x16b93f[_0x28a0ca(0x51e)][_0x28a0ca(0x226)](_0xe3bea8=>({'id':_0xe3bea8['id'],..._0xe3bea8[_0x28a0ca(0x3af)]()}));}renderGlobalQuizList(''),document[_0x28a0ca(0x131)](_0x28a0ca(0x26c))[_0x28a0ca(0x162)][_0x28a0ca(0x2db)]('hidden');}function renderGlobalQuizList(_0x45bece=''){const _0x4b6ebf=_0x530be2,_0x1bf15e=document[_0x4b6ebf(0x131)](_0x4b6ebf(0x4de)),_0x3b8f0a=_0x45bece[_0x4b6ebf(0x468)]()['trim'](),_0x1ff731=allQuizzesGlobal[_0x4b6ebf(0x226)](_0x394b70=>({..._0x394b70,'projectName':allProjects[_0x4b6ebf(0x249)](_0x5b86b8=>_0x5b86b8['id']===_0x394b70[_0x4b6ebf(0x4e4)])?.[_0x4b6ebf(0xe0)]||_0x394b70[_0x4b6ebf(0x4e4)]}))[_0x4b6ebf(0x40b)](_0x3f234d=>(_0x3f234d[_0x4b6ebf(0x387)]||'')[_0x4b6ebf(0x468)]()['includes'](_0x3b8f0a)||(_0x3f234d['projectName']||'')['toLowerCase']()[_0x4b6ebf(0x259)](_0x3b8f0a));_0x1bf15e[_0x4b6ebf(0x19f)]=_0x1ff731[_0x4b6ebf(0x540)]?_0x1ff731[_0x4b6ebf(0x226)](_0xa23f7e=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0xa23f7e['id']+_0x4b6ebf(0x3e0)+(_0xa23f7e[_0x4b6ebf(0x387)]||_0x4b6ebf(0x411))+_0x4b6ebf(0x3ed)+(_0xa23f7e[_0x4b6ebf(0x3e7)]?.[_0x4b6ebf(0x540)]||0x0)+_0x4b6ebf(0x47d)+_0xa23f7e[_0x4b6ebf(0xe0)]+_0x4b6ebf(0x354))[_0x4b6ebf(0x4ca)](''):'<div\x20class=\x22p-3\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>',selectedGlobalQuizId=null,document[_0x4b6ebf(0x131)](_0x4b6ebf(0x40f))[_0x4b6ebf(0x136)]=!![],_0x1bf15e['querySelectorAll'](_0x4b6ebf(0x1d3))[_0x4b6ebf(0x3be)](_0x252ec4=>{const _0x39b650=_0x4b6ebf;_0x252ec4[_0x39b650(0x481)]('click',()=>{const _0x3e443d=_0x39b650;selectedGlobalQuizId=_0x252ec4[_0x3e443d(0x30a)]['id'],_0x1bf15e[_0x3e443d(0x1f7)](_0x3e443d(0x2a1))[_0x3e443d(0x3be)](_0x430100=>_0x430100[_0x3e443d(0x162)][_0x3e443d(0x2db)](_0x3e443d(0x32f),_0x3e443d(0x49c),_0x3e443d(0x2f5))),_0x252ec4[_0x3e443d(0x162)][_0x3e443d(0x2bd)](_0x3e443d(0x32f),'ring-2','ring-purple-400'),document[_0x3e443d(0x131)](_0x3e443d(0x40f))[_0x3e443d(0x136)]=![];});});}function listenForLiveGameUpdates(){const _0x281c8c=_0x530be2;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x4775ac=doc(db,'artifacts/'+appId+_0x281c8c(0xd0),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x4775ac,_0x24b12c=>{const _0x52d9fd=_0x281c8c;if(!_0x24b12c[_0x52d9fd(0x53b)]()){showMessage(_0x52d9fd(0x2b5)),showView(currentMode);return;}const _0x206c3f=_0x24b12c[_0x52d9fd(0x3af)]();!currentQuizData&&_0x206c3f[_0x52d9fd(0x385)]&&((async()=>{const _0x512a3f=_0x52d9fd;try{const _0x5d688c=doc(db,_0x512a3f(0x412)+appId+_0x512a3f(0x349),_0x206c3f[_0x512a3f(0x385)]),_0x4c871a=await getDoc(_0x5d688c);_0x4c871a[_0x512a3f(0x53b)]()&&(currentQuizData={'id':_0x4c871a['id'],..._0x4c871a['data']()});}catch(_0xdaf50a){console[_0x512a3f(0x339)]('Failed\x20to\x20fetch\x20quiz\x20for\x20admin:',_0xdaf50a);}})());switch(_0x206c3f['status']){case _0x52d9fd(0x4a1):if(currentMode==='admin'){const _0xd27c3=_0x206c3f[_0x52d9fd(0x526)]?Object['keys'](_0x206c3f['players']):[];document[_0x52d9fd(0x131)](_0x52d9fd(0x2d2))[_0x52d9fd(0x361)]=_0xd27c3[_0x52d9fd(0x540)],document[_0x52d9fd(0x131)]('player-list-lobby')[_0x52d9fd(0x19f)]=_0xd27c3[_0x52d9fd(0x226)](_0x2fc08c=>_0x52d9fd(0x21f)+_0x2fc08c+_0x52d9fd(0x51c))[_0x52d9fd(0x4ca)]('');const _0x435646=document[_0x52d9fd(0x131)](_0x52d9fd(0x1bf));_0x435646&&(_0x435646[_0x52d9fd(0x136)]=_0xd27c3['length']===0x0);}else showView('live-game'),liveGameView['innerHTML']=_0x52d9fd(0x3ee)+currentStudentName+_0x52d9fd(0x53a);break;case'question':const _0x22e79e=_0x206c3f[_0x52d9fd(0xcf)];if(currentQuizData&&currentQuizData['questions'][_0x22e79e]){const _0x12e58a=currentQuizData[_0x52d9fd(0x3e7)][_0x22e79e],_0x571a58=currentQuizData['questions'][_0x52d9fd(0x540)];if(currentMode===_0x52d9fd(0x365)){lastRenderedAdminQuestionIndex!==_0x22e79e&&(showAdminLiveQuestionView(_0x12e58a,_0x22e79e,_0x571a58),lastRenderedAdminQuestionIndex=_0x22e79e);const _0x510f45=document[_0x52d9fd(0x131)](_0x52d9fd(0x4a7));if(_0x510f45&&_0x206c3f[_0x52d9fd(0x526)]){const _0xab77a3=Object[_0x52d9fd(0x22d)](_0x206c3f['players'])['length'],_0x251271=Object[_0x52d9fd(0x119)](_0x206c3f[_0x52d9fd(0x526)])[_0x52d9fd(0x40b)](_0x176208=>_0x176208[_0x52d9fd(0x14b)]===!![])[_0x52d9fd(0x540)];_0x510f45['textContent']=_0x251271+'/'+_0xab77a3,_0xab77a3>0x0&&_0x251271===_0xab77a3&&_0x206c3f['questionStatus']!==_0x52d9fd(0x532)&&revealAnswerForAdmin(_0x22e79e,_0x571a58);}}else{const _0x2f673a=_0x206c3f[_0x52d9fd(0x526)][currentStudentName];if(_0x206c3f['questionStatus']==='revealed'){if(_0x2f673a[_0x52d9fd(0x14b)]){const _0xf6c417=_0x2f673a[_0x52d9fd(0x2dc)],_0x397f58=_0x2f673a['pointsLastQuestion']||0x0,_0x4b01fd=_0xf6c417?_0x52d9fd(0x491)+_0x397f58+'\x20คะแนน':'คำตอบผิด';liveGameView[_0x52d9fd(0x19f)]=_0x52d9fd(0x3aa)+_0x4b01fd+_0x52d9fd(0x4a5);}else liveGameView[_0x52d9fd(0x19f)]=_0x52d9fd(0x51b);}else!_0x2f673a[_0x52d9fd(0x14b)]&&showStudentLiveQuestionView(_0x12e58a,_0x22e79e,_0x571a58);}}break;case _0x52d9fd(0x478):showPodiumView(_0x206c3f[_0x52d9fd(0x526)]);break;}});}async function authenticateUser(){const _0x290a8a=_0x530be2;try{typeof __initial_auth_token!==_0x290a8a(0x50d)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x455cc4){console[_0x290a8a(0x339)]('Authentication\x20failed:',_0x455cc4),showMessage(_0x290a8a(0x168));}}function showView(_0x53c70f){const _0xdc2f2b=_0x530be2,_0x526429=[_0xdc2f2b(0x3e2),_0xdc2f2b(0x102),_0xdc2f2b(0x135),_0xdc2f2b(0x1f4),'quiz-results-view','live-game-view'];_0x526429[_0xdc2f2b(0x3be)](_0x1911c4=>document[_0xdc2f2b(0x131)](_0x1911c4)?.[_0xdc2f2b(0x162)][_0xdc2f2b(0x2bd)]('hidden'));if(_0x53c70f===_0xdc2f2b(0x2e8))adminView[_0xdc2f2b(0x162)][_0xdc2f2b(0x2db)](_0xdc2f2b(0x217)),projectDashboardView[_0xdc2f2b(0x162)][_0xdc2f2b(0x2db)]('hidden');else{if(_0x53c70f===_0xdc2f2b(0x16d))studentView[_0xdc2f2b(0x162)][_0xdc2f2b(0x2db)](_0xdc2f2b(0x217)),studentInitialView[_0xdc2f2b(0x162)][_0xdc2f2b(0x2db)](_0xdc2f2b(0x217)),studentNameSelectionView['classList'][_0xdc2f2b(0x2bd)](_0xdc2f2b(0x217)),studentQuizArea[_0xdc2f2b(0x162)][_0xdc2f2b(0x2bd)](_0xdc2f2b(0x217)),studentResultArea['classList']['add']('hidden'),studentReadingArea['classList']['add'](_0xdc2f2b(0x217)),studentJoinGameView[_0xdc2f2b(0x162)][_0xdc2f2b(0x2bd)]('hidden');else{if(_0x53c70f===_0xdc2f2b(0xf4))adminView[_0xdc2f2b(0x162)]['remove'](_0xdc2f2b(0x217)),projectDetailView['classList']['remove'](_0xdc2f2b(0x217));else{if(_0x53c70f===_0xdc2f2b(0x318))adminView[_0xdc2f2b(0x162)]['remove'](_0xdc2f2b(0x217)),quizResultsView[_0xdc2f2b(0x162)]['remove']('hidden');else _0x53c70f===_0xdc2f2b(0x4c8)&&liveGameView[_0xdc2f2b(0x162)]['remove'](_0xdc2f2b(0x217));}}}}function showJoinGameView(){const _0x329b7a=_0x530be2;studentInitialView[_0x329b7a(0x162)][_0x329b7a(0x2bd)](_0x329b7a(0x217)),studentJoinGameView['classList'][_0x329b7a(0x2db)]('hidden');}function setupEventListeners(){const _0x545934=_0x530be2;document['getElementById'](_0x545934(0x4b2))[_0x545934(0x481)](_0x545934(0x447),handleModeSwitch),document['getElementById'](_0x545934(0x43b))[_0x545934(0x481)]('click',()=>{const _0x360cdb=_0x545934;currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0x360cdb(0x2e8));}),document[_0x545934(0x131)](_0x545934(0x237))['addEventListener'](_0x545934(0x447),()=>{const _0x5c780f=_0x545934;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0x5c780f(0xf4));}),document[_0x545934(0x131)](_0x545934(0x455))['addEventListener'](_0x545934(0x447),()=>{showView('admin-dashboard');}),document[_0x545934(0x131)](_0x545934(0x4bc))[_0x545934(0x481)](_0x545934(0x447),()=>messageModal['classList'][_0x545934(0x2bd)](_0x545934(0x217))),document[_0x545934(0x131)](_0x545934(0x1bd))[_0x545934(0x481)](_0x545934(0x447),()=>createProjectModal[_0x545934(0x162)][_0x545934(0x2db)](_0x545934(0x217))),document[_0x545934(0x131)](_0x545934(0x4d2))[_0x545934(0x481)](_0x545934(0x447),()=>createProjectModal[_0x545934(0x162)]['add']('hidden')),document[_0x545934(0x131)](_0x545934(0x206))[_0x545934(0x481)](_0x545934(0x447),()=>adminPasswordModal[_0x545934(0x162)][_0x545934(0x2bd)](_0x545934(0x217))),document[_0x545934(0x131)](_0x545934(0x218))[_0x545934(0x481)](_0x545934(0x447),handleAdminLogin),document[_0x545934(0x131)](_0x545934(0x20d))[_0x545934(0x481)]('keyup',_0x2005a7=>{const _0x2b73cd=_0x545934;if(_0x2005a7[_0x2b73cd(0x396)]===_0x2b73cd(0x31d))handleAdminLogin();}),document['getElementById'](_0x545934(0x161))[_0x545934(0x481)](_0x545934(0x447),()=>{const _0x1eec19=_0x545934;confirmationModal[_0x1eec19(0x162)]['add'](_0x1eec19(0x217)),confirmAction=null;}),document[_0x545934(0x131)](_0x545934(0x2c6))['addEventListener'](_0x545934(0x447),()=>{const _0x1cf81b=_0x545934;confirmAction&&confirmAction(),confirmationModal[_0x1cf81b(0x162)][_0x1cf81b(0x2bd)](_0x1cf81b(0x217)),confirmAction=null;}),document[_0x545934(0x131)]('cancel-rename-quiz-btn')['addEventListener'](_0x545934(0x447),()=>renameQuizModal['classList'][_0x545934(0x2bd)](_0x545934(0x217))),document['getElementById'](_0x545934(0x10f))[_0x545934(0x481)](_0x545934(0x447),confirmRenameQuiz),document[_0x545934(0x131)]('cancel-move-quiz-btn')['addEventListener'](_0x545934(0x447),()=>moveQuizModal[_0x545934(0x162)]['add']('hidden')),document['getElementById'](_0x545934(0x4b6))[_0x545934(0x481)](_0x545934(0x447),confirmMoveQuiz),document[_0x545934(0x131)]('cancel-quiz-settings-btn')['addEventListener'](_0x545934(0x447),()=>quizSettingsModal[_0x545934(0x162)][_0x545934(0x2bd)](_0x545934(0x217))),document[_0x545934(0x131)](_0x545934(0x31a))[_0x545934(0x481)]('click',confirmQuizSettings),document[_0x545934(0x131)](_0x545934(0x442))[_0x545934(0x481)](_0x545934(0x447),()=>quizStatusModal[_0x545934(0x162)][_0x545934(0x2bd)](_0x545934(0x217))),document[_0x545934(0x131)](_0x545934(0x4cf))[_0x545934(0x481)]('click',confirmQuizStatus),document[_0x545934(0x131)](_0x545934(0x52e))['addEventListener']('click',openGlobalLiveModal),document[_0x545934(0x131)]('cancel-global-live-btn')['addEventListener'](_0x545934(0x447),()=>{const _0x92a9ae=_0x545934;document[_0x92a9ae(0x131)](_0x92a9ae(0x26c))[_0x92a9ae(0x162)][_0x92a9ae(0x2bd)](_0x92a9ae(0x217)),selectedGlobalQuizId=null;}),document['getElementById'](_0x545934(0x14e))[_0x545934(0x481)](_0x545934(0x231),_0x16e658=>renderGlobalQuizList(_0x16e658[_0x545934(0x4e8)][_0x545934(0x116)])),document[_0x545934(0x131)](_0x545934(0x40f))[_0x545934(0x481)]('click',()=>{const _0x4bc580=_0x545934,_0x461ec5=selectedGlobalQuizId;if(!_0x461ec5)return;document[_0x4bc580(0x131)]('global-live-game-modal')[_0x4bc580(0x162)][_0x4bc580(0x2bd)](_0x4bc580(0x217)),handleStartLiveRace(_0x461ec5);}),document[_0x545934(0x131)](_0x545934(0x445))[_0x545934(0x481)]('input',renderProjects),document[_0x545934(0x131)]('project-sort-select')[_0x545934(0x481)]('change',renderProjects),document[_0x545934(0x131)](_0x545934(0x19c))[_0x545934(0x481)]('input',renderQuizzes),manageTab[_0x545934(0x481)](_0x545934(0x447),()=>switchProjectTab('manage')),resultsTab[_0x545934(0x481)](_0x545934(0x447),()=>switchProjectTab(_0x545934(0x295))),leaderboardTab['addEventListener']('click',()=>switchProjectTab('leaderboard')),document[_0x545934(0x131)](_0x545934(0x36e))[_0x545934(0x481)](_0x545934(0x447),()=>switchQuizDetailTab(_0x545934(0x1db))),document['getElementById'](_0x545934(0x425))[_0x545934(0x481)](_0x545934(0x447),()=>switchQuizDetailTab(_0x545934(0xf5))),document[_0x545934(0x131)](_0x545934(0x2f9))[_0x545934(0x481)](_0x545934(0x447),()=>switchQuizDetailTab(_0x545934(0x426))),document['getElementById'](_0x545934(0x498))[_0x545934(0x481)](_0x545934(0x447),handleAnalyzeClass),generateWorksheetBtn[_0x545934(0x481)](_0x545934(0x447),generateWorksheet);const _0xcc1b64=document[_0x545934(0x131)](_0x545934(0x29e)),_0x366119=document[_0x545934(0x131)](_0x545934(0x1c1));topicTab[_0x545934(0x481)](_0x545934(0x447),()=>{const _0x137be8=_0x545934;topicTab[_0x137be8(0x162)][_0x137be8(0x2bd)](_0x137be8(0xfa)),textTab[_0x137be8(0x162)]['remove'](_0x137be8(0xfa)),fileTab[_0x137be8(0x162)][_0x137be8(0x2db)](_0x137be8(0xfa)),worksheetTab[_0x137be8(0x162)]['remove'](_0x137be8(0xfa));if(_0xcc1b64)_0xcc1b64[_0x137be8(0x162)][_0x137be8(0x2db)]('active');topicInputArea[_0x137be8(0x162)][_0x137be8(0x2db)]('hidden'),textInputArea[_0x137be8(0x162)]['add'](_0x137be8(0x217)),fileInputArea['classList'][_0x137be8(0x2bd)](_0x137be8(0x217)),worksheetInputArea[_0x137be8(0x162)]['add'](_0x137be8(0x217));if(_0x366119)_0x366119[_0x137be8(0x162)][_0x137be8(0x2bd)](_0x137be8(0x217));}),textTab['addEventListener'](_0x545934(0x447),()=>{const _0x459ff0=_0x545934;textTab[_0x459ff0(0x162)][_0x459ff0(0x2bd)]('active'),topicTab[_0x459ff0(0x162)][_0x459ff0(0x2db)](_0x459ff0(0xfa)),fileTab['classList'][_0x459ff0(0x2db)](_0x459ff0(0xfa)),worksheetTab[_0x459ff0(0x162)][_0x459ff0(0x2db)](_0x459ff0(0xfa));if(_0xcc1b64)_0xcc1b64['classList']['remove'](_0x459ff0(0xfa));textInputArea[_0x459ff0(0x162)]['remove'](_0x459ff0(0x217)),topicInputArea[_0x459ff0(0x162)][_0x459ff0(0x2bd)]('hidden'),fileInputArea[_0x459ff0(0x162)]['add']('hidden'),worksheetInputArea['classList'][_0x459ff0(0x2bd)]('hidden');if(_0x366119)_0x366119[_0x459ff0(0x162)][_0x459ff0(0x2bd)](_0x459ff0(0x217));}),fileTab[_0x545934(0x481)]('click',()=>{const _0x1948c7=_0x545934;fileTab[_0x1948c7(0x162)][_0x1948c7(0x2bd)](_0x1948c7(0xfa)),topicTab[_0x1948c7(0x162)]['remove'](_0x1948c7(0xfa)),textTab[_0x1948c7(0x162)][_0x1948c7(0x2db)](_0x1948c7(0xfa)),worksheetTab[_0x1948c7(0x162)][_0x1948c7(0x2db)](_0x1948c7(0xfa));if(_0xcc1b64)_0xcc1b64[_0x1948c7(0x162)]['remove']('active');fileInputArea[_0x1948c7(0x162)][_0x1948c7(0x2db)](_0x1948c7(0x217)),topicInputArea[_0x1948c7(0x162)][_0x1948c7(0x2bd)](_0x1948c7(0x217)),textInputArea[_0x1948c7(0x162)][_0x1948c7(0x2bd)](_0x1948c7(0x217)),worksheetInputArea[_0x1948c7(0x162)][_0x1948c7(0x2bd)](_0x1948c7(0x217));if(_0x366119)_0x366119[_0x1948c7(0x162)][_0x1948c7(0x2bd)](_0x1948c7(0x217));}),worksheetTab[_0x545934(0x481)]('click',()=>{const _0x780280=_0x545934;worksheetTab[_0x780280(0x162)]['add'](_0x780280(0xfa)),topicTab[_0x780280(0x162)][_0x780280(0x2db)]('active'),textTab[_0x780280(0x162)][_0x780280(0x2db)](_0x780280(0xfa)),fileTab['classList'][_0x780280(0x2db)](_0x780280(0xfa));if(_0xcc1b64)_0xcc1b64[_0x780280(0x162)][_0x780280(0x2db)]('active');worksheetInputArea[_0x780280(0x162)]['remove'](_0x780280(0x217)),topicInputArea[_0x780280(0x162)]['add'](_0x780280(0x217)),textInputArea[_0x780280(0x162)][_0x780280(0x2bd)](_0x780280(0x217)),fileInputArea[_0x780280(0x162)][_0x780280(0x2bd)](_0x780280(0x217));if(_0x366119)_0x366119[_0x780280(0x162)]['add'](_0x780280(0x217));});const _0x4d56ed=document['getElementById'](_0x545934(0x2ea)),_0x474a74=document[_0x545934(0x131)](_0x545934(0x296));_0x4d56ed&&_0x4d56ed[_0x545934(0x481)]('click',()=>{const _0x27d3a0=_0x545934;topicTab['classList']['remove']('active'),textTab[_0x27d3a0(0x162)][_0x27d3a0(0x2db)](_0x27d3a0(0xfa)),fileTab[_0x27d3a0(0x162)][_0x27d3a0(0x2db)]('active'),worksheetTab[_0x27d3a0(0x162)]['remove'](_0x27d3a0(0xfa));if(_0xcc1b64)_0xcc1b64[_0x27d3a0(0x162)][_0x27d3a0(0x2db)](_0x27d3a0(0xfa));_0x4d56ed[_0x27d3a0(0x162)]['add'](_0x27d3a0(0xfa)),topicInputArea[_0x27d3a0(0x162)][_0x27d3a0(0x2bd)](_0x27d3a0(0x217)),textInputArea['classList'][_0x27d3a0(0x2bd)](_0x27d3a0(0x217)),fileInputArea[_0x27d3a0(0x162)][_0x27d3a0(0x2bd)](_0x27d3a0(0x217)),worksheetInputArea[_0x27d3a0(0x162)][_0x27d3a0(0x2bd)](_0x27d3a0(0x217));if(_0x366119)_0x366119[_0x27d3a0(0x162)][_0x27d3a0(0x2bd)](_0x27d3a0(0x217));_0x474a74[_0x27d3a0(0x162)][_0x27d3a0(0x2db)](_0x27d3a0(0x217)),displayQuestionBank();});_0xcc1b64&&(_0xcc1b64['addEventListener'](_0x545934(0x447),()=>{const _0x1f209c=_0x545934;topicTab['classList']['remove'](_0x1f209c(0xfa)),textTab[_0x1f209c(0x162)][_0x1f209c(0x2db)](_0x1f209c(0xfa)),fileTab['classList'][_0x1f209c(0x2db)](_0x1f209c(0xfa)),worksheetTab['classList'][_0x1f209c(0x2db)](_0x1f209c(0xfa)),_0xcc1b64['classList'][_0x1f209c(0x2bd)]('active'),topicInputArea['classList'][_0x1f209c(0x2bd)](_0x1f209c(0x217)),textInputArea[_0x1f209c(0x162)][_0x1f209c(0x2bd)]('hidden'),fileInputArea[_0x1f209c(0x162)][_0x1f209c(0x2bd)](_0x1f209c(0x217)),worksheetInputArea[_0x1f209c(0x162)][_0x1f209c(0x2bd)]('hidden'),_0x366119[_0x1f209c(0x162)][_0x1f209c(0x2db)]('hidden');}),document['getElementById']('generate-from-link-btn')[_0x545934(0x481)]('click',handleGenerateFromLink));loadQuizBtn[_0x545934(0x481)](_0x545934(0x447),handleLoadQuiz),startQuizBtn['addEventListener'](_0x545934(0x447),()=>{const _0x52b344=_0x545934,_0x168e37=document[_0x52b344(0x131)]('student-name-select');currentStudentName=_0x168e37[_0x52b344(0x116)];if(!currentStudentName){showMessage(_0x52b344(0x4da));return;}studentNameSelectionView[_0x52b344(0x162)][_0x52b344(0x2bd)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document['getElementById'](_0x545934(0xfc))['addEventListener'](_0x545934(0x447),showJoinGameView),document['getElementById']('confirm-join-game-btn')[_0x545934(0x481)]('click',handleJoinLiveGame),document[_0x545934(0x131)]('back-to-student-initial-btn')[_0x545934(0x481)]('click',()=>showView(_0x545934(0x16d)));const _0x41cf3d=()=>{const _0x5bbbdc=_0x545934,_0x8e3ee0=document[_0x5bbbdc(0x131)](_0x5bbbdc(0x4fc))[_0x5bbbdc(0x361)][_0x5bbbdc(0x105)](/[^a-z0-9]/gi,'_')[_0x5bbbdc(0x468)]();return _0x5bbbdc(0x359)+(_0x8e3ee0||_0x5bbbdc(0x1fb));};document[_0x545934(0x131)](_0x545934(0x389))[_0x545934(0x481)](_0x545934(0x447),()=>exportTableAsImage(_0x545934(0x13d),_0x41cf3d())),document['getElementById'](_0x545934(0x4c5))[_0x545934(0x481)](_0x545934(0x447),()=>exportTableAsPDF('results-table',_0x41cf3d())),document[_0x545934(0x131)](_0x545934(0x4c2))['addEventListener'](_0x545934(0x447),()=>exportTableAsWord(_0x545934(0x13d),_0x41cf3d())),document[_0x545934(0x131)](_0x545934(0x253))['addEventListener'](_0x545934(0x447),()=>exportTableAsExcel(_0x545934(0x42e),_0x41cf3d()));const _0x538770=()=>{const _0x44de33=_0x545934,_0x1d915d=document[_0x44de33(0x131)](_0x44de33(0x4fc))['textContent'][_0x44de33(0x105)](/[^a-z0-9]/gi,'_')['toLowerCase']();return _0x44de33(0x234)+(_0x1d915d||_0x44de33(0x1fb));};document[_0x545934(0x131)](_0x545934(0x37f))[_0x545934(0x481)](_0x545934(0x447),()=>exportTableAsImage(_0x545934(0x358),_0x538770())),document[_0x545934(0x131)](_0x545934(0x4d1))[_0x545934(0x481)](_0x545934(0x447),()=>exportTableAsPDF(_0x545934(0x53f),_0x538770())),document[_0x545934(0x131)](_0x545934(0x241))['addEventListener'](_0x545934(0x447),()=>exportTableAsWord(_0x545934(0x358),_0x538770())),document['getElementById']('export-leaderboard-excel-btn')[_0x545934(0x481)](_0x545934(0x447),()=>exportTableAsExcel(_0x545934(0x53f),_0x538770())),projectQuizzesList[_0x545934(0x481)]('click',async _0x3ae78=>{const _0x16d307=_0x545934,_0x364c6a=_0x3ae78[_0x16d307(0x4e8)][_0x16d307(0x248)](_0x16d307(0x50c)),_0x5b8e20=_0x3ae78['target'][_0x16d307(0x248)]('.delete-quiz-btn'),_0x13634a=_0x3ae78['target'][_0x16d307(0x248)](_0x16d307(0x32d)),_0x261caf=_0x3ae78[_0x16d307(0x4e8)]['closest'](_0x16d307(0x15f)),_0x18329f=_0x3ae78[_0x16d307(0x4e8)][_0x16d307(0x248)]('.admin-try-quiz-list-btn'),_0x5afdaa=_0x3ae78[_0x16d307(0x4e8)]['closest']('.rename-quiz-btn'),_0x398d52=_0x3ae78[_0x16d307(0x4e8)][_0x16d307(0x248)]('.move-quiz-btn'),_0x544720=_0x3ae78['target'][_0x16d307(0x248)](_0x16d307(0x219)),_0x26a959=_0x3ae78['target'][_0x16d307(0x248)]('.quiz-status-btn'),_0x54108f=_0x3ae78['target']['closest'](_0x16d307(0x227)),_0x36f53c=_0x3ae78[_0x16d307(0x4e8)]['closest'](_0x16d307(0x25c)),_0x237072=_0x3ae78[_0x16d307(0x4e8)][_0x16d307(0x248)](_0x16d307(0x12a));if(_0x237072){const _0x2d8cd5=_0x237072['dataset']['quizId'];handleOpenQuizEditor(_0x2d8cd5);}else{if(_0x364c6a){const _0x34b323=_0x364c6a[_0x16d307(0x30a)]['quizId'];handleToggleStarQuiz(_0x34b323);}else{if(_0x36f53c){const _0x5b152d=_0x36f53c[_0x16d307(0x30a)][_0x16d307(0x385)];handleStartLiveRace(_0x5b152d);}else{if(_0x5b8e20){const _0x563820=_0x5b8e20[_0x16d307(0x30a)][_0x16d307(0x385)],_0x5897bf=_0x5b8e20[_0x16d307(0x30a)][_0x16d307(0x387)];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22'+_0x5897bf+_0x16d307(0x1f2),()=>handleDeleteQuiz(_0x563820));}else{if(_0x13634a){const _0x29d1fd=_0x13634a['dataset'][_0x16d307(0x385)];copyTextToClipboard(_0x29d1fd,'คัดลอกรหัสแล้ว!');}else{if(_0x261caf){const _0x2deb48=_0x261caf[_0x16d307(0x30a)][_0x16d307(0x385)],_0x2bfbcf=doc(db,_0x16d307(0x412)+appId+_0x16d307(0x349),_0x2deb48),_0xf9455c=await getDoc(_0x2bfbcf);if(_0xf9455c['exists']()){const _0x1c608c=sanitizeQuizData({'id':_0xf9455c['id'],..._0xf9455c['data']()});startPresentation(_0x1c608c);}else showMessage(_0x16d307(0xe4));}else{if(_0x18329f){const _0x315c40=_0x18329f[_0x16d307(0x30a)]['quizId'],_0x195641=doc(db,_0x16d307(0x412)+appId+_0x16d307(0x349),_0x315c40),_0x3aff6e=await getDoc(_0x195641);_0x3aff6e[_0x16d307(0x53b)]()?(currentQuizData=sanitizeQuizData({'id':_0x3aff6e['id'],..._0x3aff6e[_0x16d307(0x3af)]()}),startAdminTest()):showMessage('ไม่พบข้อมูลแบบทดสอบ');}else{if(_0x5afdaa){const _0x3181cf=_0x5afdaa[_0x16d307(0x30a)][_0x16d307(0x385)],_0x31d117=_0x5afdaa[_0x16d307(0x30a)]['topic'];handleRenameQuiz(_0x3181cf,_0x31d117);}else{if(_0x398d52){const _0x54bf56=_0x398d52[_0x16d307(0x30a)][_0x16d307(0x385)];handleMoveQuiz(_0x54bf56);}else{if(_0x544720){const _0x160679=_0x544720[_0x16d307(0x30a)][_0x16d307(0x385)];handleQuizSettings(_0x160679);}else{if(_0x26a959){const _0x3752e2=_0x26a959[_0x16d307(0x30a)]['quizId'];handleQuizStatus(_0x3752e2);}else{if(_0x54108f){const _0x20c596=_0x54108f[_0x16d307(0x30a)][_0x16d307(0x385)];handleDuplicateQuiz(_0x20c596);}}}}}}}}}}}}}),document[_0x545934(0x131)](_0x545934(0x152))[_0x545934(0x481)](_0x545934(0x447),closePresentation),document[_0x545934(0x131)](_0x545934(0x3a4))['addEventListener']('click',()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0x545934(0x131)]('next-question-btn')[_0x545934(0x481)](_0x545934(0x447),()=>{const _0x551646=_0x545934;currentQuizData[_0x551646(0x3e7)]&&currentPresentationSlide<currentQuizData[_0x551646(0x3e7)][_0x551646(0x540)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x545934(0x481)](_0x545934(0x479),()=>{const _0x1a7ff1=_0x545934;!document[_0x1a7ff1(0x2ec)]&&(presentationModal[_0x1a7ff1(0x4ce)][_0x1a7ff1(0x509)]='none');}),document[_0x545934(0x131)](_0x545934(0x539))[_0x545934(0x481)](_0x545934(0x447),handleDeleteAllStudents),studentList[_0x545934(0x481)](_0x545934(0x447),_0x2801ee=>{const _0x3fd28b=_0x545934,_0x426e16=_0x2801ee[_0x3fd28b(0x4e8)][_0x3fd28b(0x248)]('.delete-student-btn');if(_0x426e16){const _0x9d75bf=_0x426e16[_0x3fd28b(0x30a)][_0x3fd28b(0x37a)];handleDeleteStudent(_0x9d75bf);}}),fileUploadInput[_0x545934(0x481)](_0x545934(0x1c7),handleFileUpload),document[_0x545934(0x131)](_0x545934(0xe8))['addEventListener'](_0x545934(0x1c7),_0x3d3c05=>{const _0x24a657=_0x545934,_0xa20504=document['getElementById']('timer-duration-container'),_0x2eb632=document[_0x24a657(0x131)](_0x24a657(0x346)),_0x53f26f=document[_0x24a657(0x131)](_0x24a657(0x48b));_0x3d3c05[_0x24a657(0x4e8)][_0x24a657(0x116)]==='none'?_0xa20504[_0x24a657(0x162)]['add'](_0x24a657(0x217)):(_0xa20504[_0x24a657(0x162)][_0x24a657(0x2db)](_0x24a657(0x217)),_0x3d3c05[_0x24a657(0x4e8)][_0x24a657(0x116)]==='whole_quiz'?(_0x2eb632['textContent']=_0x24a657(0x230),_0x53f26f[_0x24a657(0x116)]='10'):(_0x2eb632[_0x24a657(0x361)]=_0x24a657(0x15a),_0x53f26f[_0x24a657(0x116)]='30'));}),document[_0x545934(0x131)]('quiz-type-select')[_0x545934(0x481)]('change',_0x3c8493=>{const _0x37da02=_0x545934,_0x206d59=document[_0x37da02(0x131)](_0x37da02(0x27f)),_0x524a17=_0x3c8493[_0x37da02(0x4e8)]['value'],_0x358ca0=document[_0x37da02(0x238)]('label[for=\x22num-questions\x22]'),_0x13b5fa=document[_0x37da02(0x131)]('passing-score-input'),_0x5c05c0=document[_0x37da02(0x131)](_0x37da02(0x369));_0x524a17===_0x37da02(0x3fb)?_0x358ca0[_0x37da02(0x361)]=_0x37da02(0x531):_0x358ca0[_0x37da02(0x361)]=_0x37da02(0x14a),_0x524a17==='multiple_choice'||_0x524a17==='fill_in_with_choices'||_0x524a17===_0x37da02(0x3b4)?_0x206d59[_0x37da02(0x162)][_0x37da02(0x2db)](_0x37da02(0x217)):_0x206d59[_0x37da02(0x162)][_0x37da02(0x2bd)](_0x37da02(0x217)),_0x13b5fa[_0x37da02(0x12f)]=_0x5c05c0[_0x37da02(0x116)];}),document['getElementById'](_0x545934(0x369))[_0x545934(0x481)]('input',_0x3b9e7d=>{const _0x322811=_0x545934;document['getElementById'](_0x322811(0x40a))[_0x322811(0x12f)]=_0x3b9e7d[_0x322811(0x4e8)]['value'];}),document[_0x545934(0x131)](_0x545934(0x457))[_0x545934(0x481)](_0x545934(0x1c7),_0x25fa4a=>{const _0x1603f8=_0x545934,_0x234f0c=document[_0x1603f8(0x131)](_0x1603f8(0x2b4)),_0x1a38be=document[_0x1603f8(0x131)](_0x1603f8(0x35b)),_0x52b7ab=document[_0x1603f8(0x131)]('modal-timer-duration-input');_0x25fa4a[_0x1603f8(0x4e8)][_0x1603f8(0x116)]==='none'?_0x234f0c['classList'][_0x1603f8(0x2bd)](_0x1603f8(0x217)):(_0x234f0c[_0x1603f8(0x162)]['remove'](_0x1603f8(0x217)),_0x25fa4a[_0x1603f8(0x4e8)][_0x1603f8(0x116)]==='whole_quiz'?_0x1a38be[_0x1603f8(0x361)]=_0x1603f8(0x230):_0x1a38be[_0x1603f8(0x361)]='ระยะเวลา\x20(วินาที):');}),document[_0x545934(0x131)]('cancel-quiz-edits-btn')[_0x545934(0x481)]('click',()=>{const _0x199708=_0x545934;document[_0x199708(0x131)](_0x199708(0x3d2))[_0x199708(0x162)]['add'](_0x199708(0x217));}),document[_0x545934(0x131)]('cancel-quiz-edits-btn-footer')[_0x545934(0x481)]('click',()=>{const _0x264334=_0x545934;document['getElementById'](_0x264334(0x3d2))[_0x264334(0x162)][_0x264334(0x2bd)]('hidden');}),document['getElementById'](_0x545934(0x252))[_0x545934(0x481)](_0x545934(0x447),()=>{const _0x3a6841=_0x545934;document[_0x3a6841(0x131)](_0x3a6841(0x3d2))[_0x3a6841(0x162)][_0x3a6841(0x2bd)]('hidden'),showConfirmation(_0x3a6841(0x533),handleSaveChanges);});}function handleModeSwitch(){const _0x286e2b=_0x530be2,_0x1ba4ba=document[_0x286e2b(0x131)](_0x286e2b(0x4b2));currentMode===_0x286e2b(0x16d)?(adminPasswordModal['classList'][_0x286e2b(0x2db)](_0x286e2b(0x217)),document[_0x286e2b(0x131)]('admin-password-input')[_0x286e2b(0x1e1)]()):(currentMode=_0x286e2b(0x16d),_0x1ba4ba[_0x286e2b(0x19f)]=_0x286e2b(0x384),_0x1ba4ba[_0x286e2b(0x33d)]=_0x286e2b(0x52b),showView(_0x286e2b(0x16d)));}function handleAdminLogin(){const _0xab6b53=_0x530be2,_0x203aa2=document['getElementById']('admin-password-input'),_0x5562db=document[_0xab6b53(0x131)](_0xab6b53(0x22b));if(_0x203aa2[_0xab6b53(0x116)]===_0xab6b53(0x41f)){adminPasswordModal[_0xab6b53(0x162)][_0xab6b53(0x2bd)]('hidden'),_0x203aa2['value']='',_0x5562db[_0xab6b53(0x162)]['add'](_0xab6b53(0x217)),currentMode=_0xab6b53(0x365);const _0x83e954=document[_0xab6b53(0x131)]('mode-switcher-btn');_0x83e954[_0xab6b53(0x19f)]=_0xab6b53(0x31b),_0x83e954[_0xab6b53(0x33d)]='สลับไปโหมดนักเรียน',showView(_0xab6b53(0x2e8));}else _0x5562db[_0xab6b53(0x162)]['remove']('hidden'),_0x203aa2[_0xab6b53(0x116)]='';}function switchProjectTab(_0x4a0f43){const _0x101d38=_0x530be2;[_0x101d38(0xda),_0x101d38(0x295),'leaderboard']['forEach'](_0x41d60e=>{const _0x2b6bff=_0x101d38;document[_0x2b6bff(0x131)](_0x41d60e+_0x2b6bff(0x429))[_0x2b6bff(0x162)][_0x2b6bff(0x2db)]('active'),document[_0x2b6bff(0x131)](_0x41d60e+_0x2b6bff(0x315))[_0x2b6bff(0x162)][_0x2b6bff(0x2bd)]('hidden');}),document[_0x101d38(0x131)](_0x4a0f43+'-tab')[_0x101d38(0x162)]['add'](_0x101d38(0xfa)),document[_0x101d38(0x131)](_0x4a0f43+_0x101d38(0x315))[_0x101d38(0x162)]['remove'](_0x101d38(0x217));}function switchQuizDetailTab(_0x27eb93){const _0x68f3e3=_0x530be2,_0x5c0a37={'analytics':{'btn':_0x68f3e3(0x36e),'content':'analytics-tab-content'},'scores':{'btn':_0x68f3e3(0x425),'content':_0x68f3e3(0x482)},'leaderboard-quiz':{'btn':'leaderboard-quiz-tab-btn','content':_0x68f3e3(0x209)}};for(const _0x5e9550 in _0x5c0a37){document[_0x68f3e3(0x131)](_0x5c0a37[_0x5e9550][_0x68f3e3(0x43e)])[_0x68f3e3(0x162)][_0x68f3e3(0x2db)](_0x68f3e3(0xfa)),document[_0x68f3e3(0x131)](_0x5c0a37[_0x5e9550][_0x68f3e3(0x291)])[_0x68f3e3(0x162)][_0x68f3e3(0x2bd)]('hidden');}document[_0x68f3e3(0x131)](_0x5c0a37[_0x27eb93]['btn'])[_0x68f3e3(0x162)]['add']('active'),document[_0x68f3e3(0x131)](_0x5c0a37[_0x27eb93][_0x68f3e3(0x291)])['classList'][_0x68f3e3(0x2db)]('hidden');}function showMessage(_0x93dbcf){const _0x485245=_0x530be2;modalMessage['textContent']=_0x93dbcf,messageModal[_0x485245(0x162)]['remove'](_0x485245(0x217));}function showConfirmation(_0x18099d,_0x4deb88){const _0x2342b9=_0x530be2;document['getElementById'](_0x2342b9(0x1d8))[_0x2342b9(0x361)]=_0x18099d,document[_0x2342b9(0x131)]('confirmation-modal')[_0x2342b9(0x238)]('h3')[_0x2342b9(0x361)]='ยืนยันการกระทำ',confirmAction=_0x4deb88,confirmationModal[_0x2342b9(0x162)][_0x2342b9(0x2db)](_0x2342b9(0x217));}function listenForProjects(){const _0x835227=_0x530be2,_0x47a6f7=collection(db,_0x835227(0x412)+appId+_0x835227(0x441));unsubscribeProjectsListener=onSnapshot(_0x47a6f7,_0x3a38c9=>{const _0x138cd6=_0x835227;allProjects=_0x3a38c9[_0x138cd6(0x51e)][_0x138cd6(0x226)](_0x2dc33e=>({'id':_0x2dc33e['id'],..._0x2dc33e[_0x138cd6(0x3af)]()})),renderProjects();},_0xb6abd2=>{const _0x4cdf6e=_0x835227;console[_0x4cdf6e(0x339)](_0x4cdf6e(0x228),_0xb6abd2),showMessage(_0x4cdf6e(0x220));});}async function renderProjects(){const _0x3eadd0=_0x530be2,_0x3c7c69=document['getElementById'](_0x3eadd0(0x445))[_0x3eadd0(0x116)][_0x3eadd0(0x468)](),_0x17f378=document['getElementById']('project-sort-select')[_0x3eadd0(0x116)];let _0x3fa8c8=allProjects[_0x3eadd0(0x40b)](_0x382256=>_0x382256[_0x3eadd0(0xe0)][_0x3eadd0(0x468)]()[_0x3eadd0(0x259)](_0x3c7c69));_0x3fa8c8[_0x3eadd0(0x3e1)]((_0x17851b,_0xce3cdf)=>{const _0x155380=_0x3eadd0;switch(_0x17f378){case _0x155380(0x543):return _0x17851b[_0x155380(0xe0)][_0x155380(0x27c)](_0xce3cdf[_0x155380(0xe0)],'th');case _0x155380(0x4c7):return _0xce3cdf[_0x155380(0xe0)][_0x155380(0x27c)](_0x17851b[_0x155380(0xe0)],'th');case'date_asc':return new Date(_0x17851b[_0x155380(0x2aa)])-new Date(_0xce3cdf[_0x155380(0x2aa)]);case _0x155380(0x169):default:return new Date(_0xce3cdf[_0x155380(0x2aa)])-new Date(_0x17851b[_0x155380(0x2aa)]);}});const _0x38f6b3={};await Promise[_0x3eadd0(0x51f)](_0x3fa8c8[_0x3eadd0(0x226)](async _0x13896b=>{const _0x38084c=_0x3eadd0,_0x2951e4=query(collection(db,_0x38084c(0x412)+appId+_0x38084c(0x349)),where(_0x38084c(0x4e4),'==',_0x13896b['id'])),_0x229de4=await getDocs(_0x2951e4);_0x38f6b3[_0x13896b['id']]=_0x229de4[_0x38084c(0x2e7)];}));let _0x3ceda1='';starredQuizzes[_0x3eadd0(0x540)]>0x0&&(_0x3ceda1+=_0x3eadd0(0x414)+starredQuizzes['length']+_0x3eadd0(0x113)),_0x3fa8c8[_0x3eadd0(0x3be)](_0x18d748=>{const _0x8eb7f7=_0x3eadd0,_0x5bfec5=_0x38f6b3[_0x18d748['id']]??0x0;_0x3ceda1+=_0x8eb7f7(0x1e0)+_0x18d748['id']+_0x8eb7f7(0x191)+_0x18d748[_0x8eb7f7(0xe0)]+_0x8eb7f7(0x284)+new Date(_0x18d748[_0x8eb7f7(0x2aa)])[_0x8eb7f7(0x163)](_0x8eb7f7(0x3bc))+_0x8eb7f7(0x352)+_0x5bfec5+'\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x18d748['id']+'\x22\x20data-name=\x22'+_0x18d748[_0x8eb7f7(0xe0)]+_0x8eb7f7(0x187);}),projectList['innerHTML']=_0x3ceda1,noProjectsMsg['classList'][_0x3eadd0(0xd4)](_0x3eadd0(0x217),_0x3ceda1[_0x3eadd0(0x540)]>0x0);}document['getElementById'](_0x530be2(0x3f8))[_0x530be2(0x481)](_0x530be2(0x447),async()=>{const _0x42e5e9=_0x530be2,_0x5cbbe9=document[_0x42e5e9(0x131)](_0x42e5e9(0x121)),_0x4f61c7=_0x5cbbe9[_0x42e5e9(0x116)][_0x42e5e9(0x190)]();if(!_0x4f61c7){showMessage(_0x42e5e9(0x245));return;}try{const _0x50257a=doc(collection(db,_0x42e5e9(0x412)+appId+'/public/data/projects'));await setDoc(_0x50257a,{'projectName':_0x4f61c7,'students':[],'settings':{'resultsDisplay':_0x42e5e9(0x46d),'shuffleSetting':_0x42e5e9(0x44b),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x42e5e9(0x44b),'timerDuration':0xa},'createdBy':userId,'createdAt':new Date()[_0x42e5e9(0x355)]()}),_0x5cbbe9[_0x42e5e9(0x116)]='',createProjectModal[_0x42e5e9(0x162)][_0x42e5e9(0x2bd)](_0x42e5e9(0x217)),showMessage('สร้างโปรเจคสำเร็จ!');}catch(_0x543a06){console[_0x42e5e9(0x339)](_0x42e5e9(0x269),_0x543a06),showMessage(_0x42e5e9(0x3c8));}}),projectList[_0x530be2(0x481)](_0x530be2(0x447),async _0x4646c1=>{const _0x53cc68=_0x530be2,_0xfe2049=_0x4646c1[_0x53cc68(0x4e8)]['closest'](_0x53cc68(0x357)),_0x197319=_0x4646c1[_0x53cc68(0x4e8)][_0x53cc68(0x248)]('.delete-project-btn');if(_0xfe2049){const _0x1d275b=_0xfe2049[_0x53cc68(0x30a)]['id'];_0x1d275b===_0x53cc68(0x53d)?showStarredProjectView():(currentProjectId=_0x1d275b,await loadProjectDetails(currentProjectId),showView(_0x53cc68(0xf4)));}else{if(_0x197319){const _0x16da93=_0x197319['dataset']['id'],_0x3630e5=_0x197319[_0x53cc68(0x30a)][_0x53cc68(0x45c)];showConfirmation(_0x53cc68(0x288)+_0x3630e5+'\x22?\x20ข้อมูลทั้งหมดในโปรเจคนี้\x20(รวมถึงแบบทดสอบและผลการส่งงาน)\x20จะถูกลบอย่างถาวร',()=>handleDeleteProject(_0x16da93));}}});function showStarredProjectView(){const _0x5c85f=_0x530be2;currentProjectId=_0x5c85f(0x1aa),currentProjectData=null,projectTitle[_0x5c85f(0x361)]=_0x5c85f(0x27b),projectIdDisplay['textContent']=_0x5c85f(0x1c4),showView(_0x5c85f(0xf4)),manageTab[_0x5c85f(0x162)][_0x5c85f(0x2bd)](_0x5c85f(0x217)),leaderboardTab[_0x5c85f(0x162)][_0x5c85f(0x2bd)](_0x5c85f(0x217)),switchProjectTab(_0x5c85f(0x295)),renderQuizzes();}async function loadProjectDetails(_0x514d47){const _0x1561dc=_0x530be2,_0x4b8e43=doc(db,_0x1561dc(0x412)+appId+_0x1561dc(0x441),_0x514d47),_0x372bc6=await getDoc(_0x4b8e43);if(_0x372bc6[_0x1561dc(0x53b)]()){manageTab['classList'][_0x1561dc(0x2db)](_0x1561dc(0x217)),leaderboardTab[_0x1561dc(0x162)][_0x1561dc(0x2db)](_0x1561dc(0x217)),currentProjectData=_0x372bc6[_0x1561dc(0x3af)](),projectTitle[_0x1561dc(0x361)]=currentProjectData['projectName'],projectIdDisplay['textContent']=_0x514d47;const _0x34501c=currentProjectData[_0x1561dc(0x48f)]||{};document[_0x1561dc(0x131)](_0x1561dc(0x369))[_0x1561dc(0x116)]=_0x34501c[_0x1561dc(0x4fd)]||0x5,document[_0x1561dc(0x131)](_0x1561dc(0x2b3))[_0x1561dc(0x116)]=_0x34501c[_0x1561dc(0x375)]||0x4,document['getElementById'](_0x1561dc(0x40a))[_0x1561dc(0x116)]=_0x34501c[_0x1561dc(0x275)]||Math[_0x1561dc(0xdf)]((_0x34501c['defaultNumQuestions']||0x5)/0x2),document[_0x1561dc(0x131)]('passing-score-input')[_0x1561dc(0x12f)]=_0x34501c[_0x1561dc(0x4fd)]||0x5,document['getElementById'](_0x1561dc(0x17e))[_0x1561dc(0x116)]=_0x34501c[_0x1561dc(0x17c)]||_0x1561dc(0x46d),document[_0x1561dc(0x131)](_0x1561dc(0x1d0))[_0x1561dc(0x116)]=_0x34501c[_0x1561dc(0x1cf)]||'none';const _0x4bc4a5=_0x34501c[_0x1561dc(0x49f)]||_0x1561dc(0x44b),_0x2265e8=_0x34501c[_0x1561dc(0x194)]||0xa,_0x126333=document['getElementById'](_0x1561dc(0xe8)),_0x39c5a0=document[_0x1561dc(0x131)](_0x1561dc(0x12e)),_0x171108=document[_0x1561dc(0x131)](_0x1561dc(0x48b));_0x126333['value']=_0x4bc4a5,_0x171108[_0x1561dc(0x116)]=_0x2265e8;_0x4bc4a5===_0x1561dc(0x44b)?_0x39c5a0['classList'][_0x1561dc(0x2bd)](_0x1561dc(0x217)):_0x39c5a0[_0x1561dc(0x162)][_0x1561dc(0x2db)]('hidden');_0x126333[_0x1561dc(0x443)](new Event(_0x1561dc(0x1c7)));if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x514d47),listenForProjectQuizzes(_0x514d47),listenForStudentProfiles(_0x514d47);}else showMessage(_0x1561dc(0x4f3)),showView(_0x1561dc(0x2e8));}async function handleDeleteProject(_0x52cec5){const _0x445e9a=_0x530be2;try{const _0x429599=writeBatch(db),_0x366e1c=collection(db,_0x445e9a(0x412)+appId+_0x445e9a(0x349)),_0x43c405=query(_0x366e1c,where('projectId','==',_0x52cec5)),_0x5c0c47=await getDocs(_0x43c405);for(const _0x154509 of _0x5c0c47[_0x445e9a(0x51e)]){const _0x1c3d49=collection(db,_0x445e9a(0x412)+appId+_0x445e9a(0x462)+_0x154509['id']+_0x445e9a(0x43d)),_0x528875=await getDocs(_0x1c3d49);_0x528875[_0x445e9a(0x3be)](_0x534607=>{const _0x3310eb=_0x445e9a;_0x429599[_0x3310eb(0x1fd)](_0x534607['ref']);}),_0x429599[_0x445e9a(0x1fd)](_0x154509[_0x445e9a(0x2d7)]);}const _0x11ad87=collection(db,_0x445e9a(0x412)+appId+'/public/data/projects/'+_0x52cec5+'/studentProfiles'),_0x54c31a=await getDocs(_0x11ad87);_0x54c31a[_0x445e9a(0x3be)](_0x594dbd=>{const _0x51b450=_0x445e9a;_0x429599[_0x51b450(0x1fd)](_0x594dbd[_0x51b450(0x2d7)]);});const _0x52cc54=doc(db,_0x445e9a(0x412)+appId+_0x445e9a(0x441),_0x52cec5);_0x429599[_0x445e9a(0x1fd)](_0x52cc54),await _0x429599[_0x445e9a(0x3db)](),showMessage(_0x445e9a(0x39d)),showView('admin-dashboard');}catch(_0xa5d102){console[_0x445e9a(0x339)](_0x445e9a(0x492),_0xa5d102),showMessage(_0x445e9a(0x3c2));}}document[_0x530be2(0x131)](_0x530be2(0x391))[_0x530be2(0x481)](_0x530be2(0x447),async()=>{const _0x564116=_0x530be2;if(!currentProjectId)return;const _0x1837dd={'defaultNumQuestions':parseInt(document[_0x564116(0x131)](_0x564116(0x369))[_0x564116(0x116)]),'defaultNumChoices':parseInt(document[_0x564116(0x131)](_0x564116(0x2b3))[_0x564116(0x116)]),'defaultPassingScore':parseInt(document['getElementById'](_0x564116(0x40a))[_0x564116(0x116)]),'resultsDisplay':document[_0x564116(0x131)](_0x564116(0x17e))[_0x564116(0x116)],'shuffleSetting':document[_0x564116(0x131)](_0x564116(0x1d0))[_0x564116(0x116)],'timerMode':document[_0x564116(0x131)]('timer-mode-select')[_0x564116(0x116)],'timerDuration':parseInt(document[_0x564116(0x131)](_0x564116(0x48b))['value'])};try{const _0x320ac4=doc(db,_0x564116(0x412)+appId+_0x564116(0x441),currentProjectId);await updateDoc(_0x320ac4,{'settings':_0x1837dd}),showMessage('บันทึกการตั้งค่าแล้ว');}catch(_0x19431a){console[_0x564116(0x339)]('Error\x20saving\x20settings:',_0x19431a),showMessage(_0x564116(0xd5));}});function listenForStudents(_0x1e6a5d){const _0x3be454=_0x530be2,_0x4ee883=doc(db,_0x3be454(0x412)+appId+_0x3be454(0x441),_0x1e6a5d);unsubscribeStudentsListener=onSnapshot(_0x4ee883,_0x28ad29=>{const _0x1d7d63=_0x3be454;if(_0x28ad29[_0x1d7d63(0x53b)]()){const _0x7d6527=_0x28ad29[_0x1d7d63(0x3af)]();currentProjectData=_0x7d6527,renderStudentList(_0x7d6527['students']||[]);}});}function renderStudentList(_0x1c8460){const _0x121320=_0x530be2,_0x504580=document[_0x121320(0x131)](_0x121320(0x539));_0x1c8460[_0x121320(0x540)]===0x0?(studentList[_0x121320(0x19f)]=_0x121320(0x4f0),_0x504580[_0x121320(0x162)][_0x121320(0x2bd)](_0x121320(0x217))):(studentList[_0x121320(0x19f)]=_0x1c8460[_0x121320(0x226)](_0x594760=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x594760+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22'+_0x594760+_0x121320(0x103))[_0x121320(0x4ca)](''),_0x504580[_0x121320(0x162)][_0x121320(0x2db)]('hidden'));}document[_0x530be2(0x131)]('add-student-btn')[_0x530be2(0x481)](_0x530be2(0x447),async()=>{const _0x45ddb4=_0x530be2;if(!currentProjectId)return;const _0x31c603=document[_0x45ddb4(0x131)]('student-name-input'),_0x1dbac7=_0x31c603[_0x45ddb4(0x116)][_0x45ddb4(0x190)]();if(!_0x1dbac7){showMessage('กรุณาใส่ชื่อนักเรียน');return;}const _0x2a9e78=_0x1dbac7[_0x45ddb4(0x461)]('\x0a')[_0x45ddb4(0x226)](_0xd08160=>_0xd08160[_0x45ddb4(0x190)]())['filter'](_0x5a8aab=>_0x5a8aab);if(_0x2a9e78[_0x45ddb4(0x540)]===0x0)return;try{const _0x2af413=doc(db,_0x45ddb4(0x412)+appId+_0x45ddb4(0x441),currentProjectId),_0x2882d7=await getDoc(_0x2af413);if(_0x2882d7[_0x45ddb4(0x53b)]()){const _0x150b70=_0x2882d7[_0x45ddb4(0x3af)]()[_0x45ddb4(0x1c2)]||[],_0x462e21=[...new Set([..._0x150b70,..._0x2a9e78])];await updateDoc(_0x2af413,{'students':_0x462e21}),_0x31c603[_0x45ddb4(0x116)]='';}}catch(_0x375cfc){console[_0x45ddb4(0x339)](_0x45ddb4(0x1c9),_0x375cfc),showMessage('ไม่สามารถเพิ่มนักเรียนได้');}});function handleDeleteStudent(_0x2d3fe8){const _0x37a8df=_0x530be2;showConfirmation(_0x37a8df(0x44a)+_0x2d3fe8+_0x37a8df(0x13c),async()=>{const _0x22cabf=_0x37a8df;if(!currentProjectId||!currentProjectData)return;const _0xa51f93=currentProjectData[_0x22cabf(0x1c2)][_0x22cabf(0x40b)](_0x4669eb=>_0x4669eb!==_0x2d3fe8);try{const _0x5c6b0e=doc(db,_0x22cabf(0x412)+appId+'/public/data/projects',currentProjectId),_0x12d762=doc(db,_0x22cabf(0x412)+appId+'/public/data/projects/'+currentProjectId+_0x22cabf(0x2ff),_0x2d3fe8),_0x165024=writeBatch(db);_0x165024[_0x22cabf(0x331)](_0x5c6b0e,{'students':_0xa51f93}),_0x165024[_0x22cabf(0x1fd)](_0x12d762),await _0x165024[_0x22cabf(0x3db)]();}catch(_0x4f5cfb){console[_0x22cabf(0x339)](_0x22cabf(0x2fb),_0x4f5cfb),showMessage(_0x22cabf(0x366));}});}function handleDeleteAllStudents(){showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้',async()=>{const _0x5971eb=_0x58ae;if(!currentProjectId)return;try{const _0x293c83=doc(db,_0x5971eb(0x412)+appId+'/public/data/projects',currentProjectId),_0x490594=collection(db,_0x5971eb(0x412)+appId+_0x5971eb(0x27a)+currentProjectId+_0x5971eb(0x2ff)),_0x1b7c89=await getDocs(_0x490594),_0x338666=writeBatch(db);_0x338666[_0x5971eb(0x331)](_0x293c83,{'students':[]}),_0x1b7c89[_0x5971eb(0x3be)](_0x17bc4b=>_0x338666[_0x5971eb(0x1fd)](_0x17bc4b[_0x5971eb(0x2d7)])),await _0x338666['commit']();}catch(_0x2dbffd){console[_0x5971eb(0x339)](_0x5971eb(0x4ac),_0x2dbffd),showMessage(_0x5971eb(0x423));}});}async function handleFileUpload(_0x26178a){const _0x34db5c=_0x530be2,_0x89f059=_0x26178a['target']['files'][0x0];if(!_0x89f059)return;if(_0x89f059['type']!==_0x34db5c(0x44e)&&!_0x89f059['name'][_0x34db5c(0x22c)](_0x34db5c(0x2f7))){showMessage(_0x34db5c(0x3a2)),_0x26178a[_0x34db5c(0x4e8)]['value']='';return;}const _0x2b745e=document[_0x34db5c(0x131)](_0x34db5c(0x435)),_0x2aba22=document['getElementById'](_0x34db5c(0x3e4)),_0x124ad2=document[_0x34db5c(0x131)]('generated-quiz-container');document[_0x34db5c(0x131)](_0x34db5c(0x166))['classList']['remove']('hidden'),_0x124ad2[_0x34db5c(0x19f)]='',_0x2b745e[_0x34db5c(0x162)][_0x34db5c(0x2db)](_0x34db5c(0x217)),_0x2aba22[_0x34db5c(0x361)]=_0x34db5c(0x4fa);const _0x1ca2ce=new FileReader();_0x1ca2ce[_0x34db5c(0x323)](_0x89f059),_0x1ca2ce[_0x34db5c(0x16f)]=async()=>{const _0x1660ee=_0x34db5c;try{const _0x121aa3=_0x1ca2ce[_0x1660ee(0xea)][_0x1660ee(0x461)](',')[0x1],_0xef7019=_0x89f059['type'];await generateQuizFromFile(_0xef7019,_0x121aa3);}catch(_0x3158be){console[_0x1660ee(0x339)](_0x1660ee(0x338),_0x3158be),showMessage(_0x1660ee(0x4b3)+_0x3158be['message']),_0x2b745e[_0x1660ee(0x162)][_0x1660ee(0x2bd)](_0x1660ee(0x217));}finally{_0x26178a[_0x1660ee(0x4e8)]['value']='';}},_0x1ca2ce[_0x34db5c(0x36c)]=_0x5d6356=>{const _0x4513d8=_0x34db5c;console['error'](_0x4513d8(0x3ae),_0x5d6356),showMessage(_0x4513d8(0x2d3)),_0x2b745e[_0x4513d8(0x162)][_0x4513d8(0x2bd)](_0x4513d8(0x217));};}function sanitizeQuizData(_0xb67f08){const _0x121497=_0x530be2;if(!_0xb67f08||!_0xb67f08[_0x121497(0x3e7)])return _0xb67f08;const _0x3b7dbf={'imes':_0x121497(0x19b),'div':_0x121497(0x18a)},_0x329d4c=_0x1f940d=>{const _0x6b5a63=_0x121497;if(typeof _0x1f940d!==_0x6b5a63(0x208))return _0x1f940d;let _0x32e904=_0x1f940d;for(const [_0x2c0cc6,_0x4c7fc3]of Object[_0x6b5a63(0x308)](_0x3b7dbf)){const _0xc4a0dc=new RegExp('\x5cb'+_0x2c0cc6+'\x5cb','g');_0x32e904=_0x32e904['replace'](_0xc4a0dc,_0x4c7fc3);}return _0x32e904;};return _0xb67f08[_0x121497(0x387)]&&(_0xb67f08['topic']=_0x329d4c(_0xb67f08[_0x121497(0x387)])),_0xb67f08[_0x121497(0x3e7)]['forEach'](_0x4860db=>{const _0x319178=_0x121497;_0x4860db['questionText']=_0x329d4c(_0x4860db[_0x319178(0xce)]),_0x4860db[_0x319178(0x2b7)]&&(_0x4860db['options']=_0x4860db[_0x319178(0x2b7)]['map'](_0x329d4c)),_0x4860db[_0x319178(0x439)]&&(_0x4860db[_0x319178(0x439)]=_0x329d4c(_0x4860db[_0x319178(0x439)])),_0x4860db[_0x319178(0x40e)]&&(_0x4860db[_0x319178(0x40e)]=_0x329d4c(_0x4860db[_0x319178(0x40e)])),_0x4860db[_0x319178(0x433)]&&(_0x4860db[_0x319178(0x433)]=_0x329d4c(_0x4860db[_0x319178(0x433)])),_0x4860db['allResponses']&&(_0x4860db[_0x319178(0x3f7)]=_0x4860db[_0x319178(0x3f7)][_0x319178(0x226)](_0x329d4c));}),_0xb67f08;}const mathPromptInstruction='กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว\x20ตัวอย่างเช่น\x20\x27ผลลัพธ์ของ\x20$3^2\x20\x5ctimes\x203^4$\x20คืออะไร\x27\x20หรือ\x20\x27คำตอบคือ\x20$3^{2+4}\x20=\x203^6$\x27\x20กฎเพิ่มเติม:\x201.\x20ใช้\x20`\x5ctimes`\x20สำหรับการคูณ\x20และ\x20`\x5cdiv`\x20สำหรับการหารเสมอ\x20ห้ามใช้คำอื่น\x202.\x20ตรวจสอบให้แน่ใจว่าวงเล็บปีกกา\x20`{}`\x20ทั้งหมดมีการเปิดและปิดที่ถูกต้อง\x203.\x20ห้ามใส่เครื่องหมายดอลลาร์ซ้อนกันหรือครอบแต่ละสัญลักษณ์เด็ดขาด\x20ให้ครอบทั้งนิพจน์เท่านั้น';async function handleGenerateFromLink(){const _0x5228ba=_0x530be2,_0x306cc5=document['getElementById'](_0x5228ba(0x373)),_0x3f5b41=document[_0x5228ba(0x131)](_0x5228ba(0x377)),_0x3cd716=_0x306cc5['value'][_0x5228ba(0x190)](),_0xaa8df2=_0x3f5b41['value']['trim']();if(!_0x3cd716){showMessage(_0x5228ba(0x48d));return;}const _0x34b7d5=document['getElementById'](_0x5228ba(0x435)),_0x26172c=document[_0x5228ba(0x131)](_0x5228ba(0x3e4)),_0x301df6=document[_0x5228ba(0x131)]('generated-quiz-container'),_0xb62e54=document[_0x5228ba(0x131)](_0x5228ba(0x378));document[_0x5228ba(0x131)](_0x5228ba(0x166))[_0x5228ba(0x162)]['remove'](_0x5228ba(0x217)),_0x301df6['innerHTML']='',_0x34b7d5[_0x5228ba(0x162)]['remove'](_0x5228ba(0x217)),_0x26172c['textContent']=_0x5228ba(0x356),_0xb62e54['disabled']=!![];try{const _0x36c26a=_0x5228ba(0x277)+encodeURIComponent(_0x3cd716),_0x20b013=await fetch(_0x36c26a);if(!_0x20b013['ok'])throw new Error(_0x5228ba(0x3d1)+_0x20b013[_0x5228ba(0x4dc)]+')');const _0x78cb17=await _0x20b013[_0x5228ba(0x2a8)](),_0x2fdd1b=extractTextFromHtml(_0x78cb17);if(!_0x2fdd1b||_0x2fdd1b[_0x5228ba(0x540)]<0x64)throw new Error(_0x5228ba(0x370));await generateQuiz(_0xaa8df2,_0x2fdd1b);}catch(_0x50bba6){console['error'](_0x5228ba(0x4f7),_0x50bba6),showMessage(_0x5228ba(0x186)+_0x50bba6[_0x5228ba(0x3c7)]),_0x301df6[_0x5228ba(0x19f)]=_0x5228ba(0x529);}finally{_0x34b7d5[_0x5228ba(0x162)]['add'](_0x5228ba(0x217)),_0xb62e54[_0x5228ba(0x136)]=![];}}function extractTextFromHtml(_0x1d5a57){const _0x428de5=_0x530be2,_0x283344=new DOMParser()['parseFromString'](_0x1d5a57,_0x428de5(0x1a3));return _0x283344[_0x428de5(0x1f7)](_0x428de5(0x500))['forEach'](_0x47c617=>_0x47c617[_0x428de5(0x2db)]()),_0x283344['body']['textContent']||'';}document['getElementById'](_0x530be2(0x246))[_0x530be2(0x481)](_0x530be2(0x447),()=>{const _0x1da83b=_0x530be2,_0x3bd91e=document[_0x1da83b(0x131)]('topic-input')[_0x1da83b(0x116)]['trim']();if(!_0x3bd91e){showMessage(_0x1da83b(0x298));return;}generateQuiz(_0x3bd91e,null);}),document[_0x530be2(0x131)](_0x530be2(0x4b7))[_0x530be2(0x481)](_0x530be2(0x447),()=>{const _0x4682f9=_0x530be2,_0x14e2f3=document[_0x4682f9(0x131)](_0x4682f9(0x420))[_0x4682f9(0x116)]['trim']();if(!_0x14e2f3){showMessage(_0x4682f9(0x393));return;}generateQuiz(null,_0x14e2f3);});async function generateQuiz(_0x3ec9cd,_0xad03ca,_0x32d7bb=null){const _0x383fe5=_0x530be2,_0x466d81=document['getElementById'](_0x383fe5(0x41a))['checked'],_0x392171=document['getElementById'](_0x383fe5(0x27d))['value'],_0x320266=document['getElementById']('num-questions')[_0x383fe5(0x116)],_0x265d04=document[_0x383fe5(0x131)](_0x383fe5(0x2b3))['value'];let _0x53acce='',_0x150696='',_0x312d4a,_0x4a6cda=_0x383fe5(0xc7)+_0x3ec9cd+'\x22';if(!_0x3ec9cd&&_0xad03ca)_0x4a6cda=_0x383fe5(0x106);else!_0x3ec9cd&&!_0xad03ca&&(_0x4a6cda='เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27');const _0x400876={'type':_0x383fe5(0x1a9),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x383fe5(0x362),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x383fe5(0x23a)},'imageCode':{'type':_0x383fe5(0x23a)}},'required':[_0x383fe5(0xce),_0x383fe5(0x2b7),_0x383fe5(0x109),'explanation']},_0x289899={'type':_0x383fe5(0x1a9),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':_0x383fe5(0x23a)},'explanation':{'type':_0x383fe5(0x23a)},'imageCode':{'type':'STRING'}},'required':[_0x383fe5(0xce),_0x383fe5(0x2d9),_0x383fe5(0x439)]},_0x5a1800={'type':_0x383fe5(0x1a9),'properties':{'questionText':{'type':_0x383fe5(0x23a)},'questionType':{'type':_0x383fe5(0x23a),'enum':[_0x383fe5(0x46e),_0x383fe5(0x515)]},'options':{'type':_0x383fe5(0x362),'items':{'type':_0x383fe5(0x23a)}},'correctAnswerIndex':{'type':_0x383fe5(0x43f)},'idealAnswer':{'type':_0x383fe5(0x23a)},'explanation':{'type':_0x383fe5(0x23a)},'imageCode':{'type':_0x383fe5(0x23a)}},'required':[_0x383fe5(0xce),_0x383fe5(0x3a9),_0x383fe5(0x439)]},_0x18c2d0={'type':_0x383fe5(0x1a9),'properties':{'questionText':{'type':_0x383fe5(0x23a)},'correctAnswer':{'type':_0x383fe5(0x2bc)},'explanation':{'type':_0x383fe5(0x23a)},'imageCode':{'type':'STRING'}},'required':['questionText',_0x383fe5(0xe6),_0x383fe5(0x439)]},_0xd64d6e={'type':_0x383fe5(0x1a9),'properties':{'questionType':{'type':_0x383fe5(0x23a),'enum':['matching_item']},'stem':{'type':_0x383fe5(0x23a)},'correctResponse':{'type':_0x383fe5(0x23a)},'allResponses':{'type':'ARRAY','items':{'type':_0x383fe5(0x23a)}},'explanation':{'type':_0x383fe5(0x23a)},'imageCode':{'type':_0x383fe5(0x23a)}},'required':[_0x383fe5(0x3a9),_0x383fe5(0x40e),'correctResponse',_0x383fe5(0x3f7),_0x383fe5(0x439)]};let _0x4e778b;if(_0x32d7bb!==null){const _0x9e498f=currentQuizData[_0x383fe5(0x3e7)][_0x32d7bb][_0x383fe5(0x3a9)],_0x141954=_0x466d81?_0x383fe5(0x11b):'';if(_0x9e498f==='multiple_choice')_0x53acce=_0x383fe5(0x197)+_0x4a6cda+_0x383fe5(0x222)+_0x265d04+_0x383fe5(0x251)+_0x141954+'\x20'+mathPromptInstruction,_0x312d4a=_0x400876;else _0x9e498f==='matching_item'?(_0x53acce='จากหัวข้อ\x20'+_0x4a6cda+_0x383fe5(0x467)+_0x141954+'\x20'+mathPromptInstruction,_0x312d4a={'type':_0x383fe5(0x1a9),'properties':{'questionType':{'type':_0x383fe5(0x23a),'enum':[_0x383fe5(0x342)]},'stem':{'type':_0x383fe5(0x23a)},'correctResponse':{'type':_0x383fe5(0x23a)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x383fe5(0x23a)}},'required':[_0x383fe5(0x3a9),_0x383fe5(0x40e),'correctResponse',_0x383fe5(0x439)]}):(_0x53acce=_0x383fe5(0x413)+_0x4a6cda+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20'+_0x141954+'\x20'+mathPromptInstruction,_0x312d4a=_0x289899);_0x4e778b=_0x312d4a;}else{const _0x94e9ed=_0x466d81?_0x383fe5(0x180):'';switch(_0x392171){case _0x383fe5(0x46e):_0x53acce=_0x383fe5(0x477)+_0x320266+_0x383fe5(0x34b)+_0x4a6cda+'.\x20แต่ละข้อมี\x20'+_0x265d04+_0x383fe5(0x251)+_0x94e9ed+'\x20'+mathPromptInstruction,_0x312d4a=_0x400876;break;case'fill_in_with_choices':_0x53acce=_0x383fe5(0x383)+_0x320266+_0x383fe5(0x34b)+_0x4a6cda+_0x383fe5(0x47f)+_0x265d04+'\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20'+_0x94e9ed+'\x20'+mathPromptInstruction,_0x312d4a=_0x400876;break;case'fill_in_no_choices':_0x53acce='สร้างคำถามแบบเติมคำในช่องว่าง\x20'+_0x320266+_0x383fe5(0x34b)+_0x4a6cda+_0x383fe5(0x17a)+_0x94e9ed+'\x20'+mathPromptInstruction,_0x312d4a=_0x289899;break;case _0x383fe5(0x3b4):_0x53acce=_0x383fe5(0x513)+_0x320266+_0x383fe5(0x34b)+_0x4a6cda+_0x383fe5(0x4e0)+_0x265d04+_0x383fe5(0x520)+_0x94e9ed+'\x20'+mathPromptInstruction+_0x383fe5(0x18b),_0x312d4a=_0x5a1800;break;case _0x383fe5(0x330):_0x53acce=_0x383fe5(0x42f)+_0x320266+_0x383fe5(0x34b)+_0x4a6cda+_0x383fe5(0x2a0)+_0x94e9ed+'\x20'+mathPromptInstruction,_0x312d4a=_0x18c2d0;break;case _0x383fe5(0x3fb):_0x53acce=_0x383fe5(0x2f3)+_0x320266+_0x383fe5(0x1ef)+_0x4a6cda+_0x383fe5(0x1b3)+_0x320266+'\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20'+_0x94e9ed+'\x20'+mathPromptInstruction,_0x312d4a=_0xd64d6e;break;}_0x4e778b={'type':_0x383fe5(0x1a9),'properties':{'topic':{'type':_0x383fe5(0x23a)},'questions':{'type':_0x383fe5(0x362),'items':_0x312d4a}},'required':[_0x383fe5(0x387),'questions']};}return _0xad03ca?(_0x53acce=_0x383fe5(0x2e1)+_0xad03ca+_0x383fe5(0x39c)+_0x53acce,_0x150696=_0x383fe5(0x30e)):_0x150696='กำลังสร้างแบบทดสอบจากหัวข้อ...',handleApiCall(_0x53acce,_0x150696,_0x4e778b,_0x32d7bb);}async function generateQuizFromFile(_0x4d7c9b,_0x3f1ab4){const _0x375736=_0x530be2,_0x55589c=document[_0x375736(0x131)](_0x375736(0x27d))[_0x375736(0x116)],_0x571eb7=document['getElementById'](_0x375736(0x369))['value'],_0xef0c55=document[_0x375736(0x131)](_0x375736(0x2b3))['value'],_0x190390=document[_0x375736(0x131)]('include-images-checkbox')['checked'];let _0x42eb2a='',_0x4afc78;const _0x240670=_0x190390?'สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.':'';switch(_0x55589c){case _0x375736(0x46e):_0x42eb2a=_0x375736(0x477)+_0x571eb7+_0x375736(0xde)+_0xef0c55+_0x375736(0x251)+_0x240670+'\x20'+mathPromptInstruction,_0x4afc78={'type':_0x375736(0x1a9),'properties':{'questionText':{'type':_0x375736(0x23a)},'options':{'type':_0x375736(0x362),'items':{'type':_0x375736(0x23a)}},'correctAnswerIndex':{'type':_0x375736(0x43f)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x375736(0x23a)}},'required':[_0x375736(0xce),_0x375736(0x2b7),_0x375736(0x109),'explanation']};break;case'fill_in_with_choices':_0x42eb2a=_0x375736(0x383)+_0x571eb7+_0x375736(0x4fe)+_0xef0c55+_0x375736(0x450)+_0x240670+'\x20'+mathPromptInstruction,_0x4afc78={'type':_0x375736(0x1a9),'properties':{'questionText':{'type':_0x375736(0x23a)},'options':{'type':'ARRAY','items':{'type':_0x375736(0x23a)}},'correctAnswerIndex':{'type':_0x375736(0x43f)},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x375736(0xce),'options',_0x375736(0x109),_0x375736(0x439)]};break;case _0x375736(0x1d2):_0x42eb2a='สร้างคำถามแบบเติมคำในช่องว่าง\x20'+_0x571eb7+_0x375736(0x21a)+_0x240670+'\x20'+mathPromptInstruction,_0x4afc78={'type':_0x375736(0x1a9),'properties':{'questionText':{'type':_0x375736(0x23a)},'idealAnswer':{'type':'STRING'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x375736(0x23a)}},'required':[_0x375736(0xce),_0x375736(0x2d9),_0x375736(0x439)]};break;case _0x375736(0x3b4):_0x42eb2a='สร้างแบบทดสอบ\x20'+_0x571eb7+_0x375736(0x125)+_0xef0c55+_0x375736(0x520)+_0x240670+'\x20'+mathPromptInstruction+_0x375736(0x18b),_0x4afc78={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'questionType':{'type':'STRING','enum':['multiple_choice',_0x375736(0x515)]},'options':{'type':_0x375736(0x362),'items':{'type':_0x375736(0x23a)}},'correctAnswerIndex':{'type':_0x375736(0x43f)},'idealAnswer':{'type':_0x375736(0x23a)},'explanation':{'type':_0x375736(0x23a)},'imageCode':{'type':_0x375736(0x23a)}},'required':[_0x375736(0xce),_0x375736(0x3a9),_0x375736(0x439)]};break;case'true_false':_0x42eb2a=_0x375736(0x42f)+_0x571eb7+_0x375736(0x3a0)+_0x240670+'\x20'+mathPromptInstruction,_0x4afc78={'type':_0x375736(0x1a9),'properties':{'questionText':{'type':'STRING'},'correctAnswer':{'type':_0x375736(0x2bc)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x375736(0x23a)}},'required':[_0x375736(0xce),_0x375736(0xe6),_0x375736(0x439)]};break;case _0x375736(0x3fb):_0x42eb2a='สร้างชุดคำถามจับคู่\x20'+_0x571eb7+_0x375736(0x418)+_0x571eb7+'\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20'+_0x240670+'\x20'+mathPromptInstruction,_0x4afc78={'type':_0x375736(0x1a9),'properties':{'questionType':{'type':_0x375736(0x23a),'enum':[_0x375736(0x342)]},'stem':{'type':'STRING'},'correctResponse':{'type':_0x375736(0x23a)},'allResponses':{'type':_0x375736(0x362),'items':{'type':_0x375736(0x23a)}},'explanation':{'type':_0x375736(0x23a)},'imageCode':{'type':_0x375736(0x23a)}},'required':[_0x375736(0x3a9),_0x375736(0x40e),_0x375736(0x433),_0x375736(0x3f7),_0x375736(0x439)]};break;}const _0x1f21ed={'type':_0x375736(0x1a9),'properties':{'topic':{'type':_0x375736(0x23a)},'questions':{'type':_0x375736(0x362),'items':_0x4afc78}},'required':['topic','questions']},_0x4f0e3f='จากไฟล์ที่แนบมานี้,\x20'+_0x42eb2a,_0x29b8b5={'contents':[{'parts':[{'text':_0x4f0e3f},{'inlineData':{'mimeType':_0x4d7c9b,'data':_0x3f1ab4}}]}],'generationConfig':{'responseMimeType':_0x375736(0xe3),'responseSchema':_0x1f21ed}};return handleApiCall(_0x29b8b5[_0x375736(0x314)][0x0][_0x375736(0x3b3)],'AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...',_0x1f21ed);}async function handleApiCall(_0x4cb809,_0x9b27fc,_0x3a1faf,_0x2b3a3e=null){const _0x38adc0=_0x530be2,_0x217145=document[_0x38adc0(0x131)](_0x38adc0(0x166)),_0x6dcfe2=document[_0x38adc0(0x131)](_0x38adc0(0x435)),_0x31dccf=document['getElementById']('loader-text'),_0x4471cc=document[_0x38adc0(0x131)]('generated-quiz-container');_0x217145['classList'][_0x38adc0(0x2db)](_0x38adc0(0x217));_0x2b3a3e===null&&(_0x4471cc[_0x38adc0(0x19f)]='');_0x6dcfe2['classList']['remove']('hidden'),_0x31dccf['textContent']=_0x9b27fc,document[_0x38adc0(0x131)](_0x38adc0(0x246))[_0x38adc0(0x136)]=!![],document[_0x38adc0(0x131)](_0x38adc0(0x4b7))[_0x38adc0(0x136)]=!![],document[_0x38adc0(0x131)](_0x38adc0(0x378))[_0x38adc0(0x136)]=!![];try{const _0x21af52={'responseMimeType':'application/json','responseSchema':_0x3a1faf},_0x38d9fd=Array[_0x38adc0(0x4f2)](_0x4cb809)?_0x4cb809:[{'text':_0x4cb809}],_0x52ac97={'contents':[{'role':_0x38adc0(0x24a),'parts':_0x38d9fd}],'generationConfig':_0x21af52},_0xb21b60=_0x38adc0(0x350),_0x59e3a8=_0x38adc0(0x456)+_0xb21b60,_0x4f96e9=await fetch(_0x59e3a8,{'method':_0x38adc0(0x541),'headers':{'Content-Type':_0x38adc0(0xe3)},'body':JSON[_0x38adc0(0x53e)](_0x52ac97)});if(!_0x4f96e9['ok'])throw new Error(_0x38adc0(0x345)+_0x4f96e9['status']);const _0x48242f=await _0x4f96e9[_0x38adc0(0x3a7)]();if(_0x48242f[_0x38adc0(0x333)]?.[0x0]?.[_0x38adc0(0x291)]?.[_0x38adc0(0x3b3)]?.[0x0]){let _0x4ba630=_0x48242f[_0x38adc0(0x333)][0x0][_0x38adc0(0x291)][_0x38adc0(0x3b3)][0x0][_0x38adc0(0x2a8)],_0x57f823;try{if(_0x4ba630['startsWith'](_0x38adc0(0x20c)))_0x4ba630=_0x4ba630[_0x38adc0(0x23b)](0x7,_0x4ba630[_0x38adc0(0x540)]-0x3)[_0x38adc0(0x190)]();else _0x4ba630[_0x38adc0(0x13e)](_0x38adc0(0x2e3))&&(_0x4ba630=_0x4ba630[_0x38adc0(0x23b)](0x3,_0x4ba630['length']-0x3)[_0x38adc0(0x190)]());_0x57f823=JSON[_0x38adc0(0x3c9)](_0x4ba630);}catch(_0x4873e8){console['error'](_0x38adc0(0x50a),_0x4873e8,_0x4ba630);throw new Error(_0x38adc0(0xf8));}if(_0x2b3a3e!==null){if(_0x57f823['questionType']===_0x38adc0(0x342)){const _0x16249f=currentQuizData[_0x38adc0(0x3e7)][_0x38adc0(0x226)](_0x5242c9=>_0x5242c9['correctResponse']);_0x57f823[_0x38adc0(0x3f7)]=_0x16249f;const _0x1f1c62=currentQuizData['questions'][_0x2b3a3e]['correctResponse'],_0x4c2fe9=_0x16249f[_0x38adc0(0x28b)](_0x1f1c62);_0x4c2fe9>-0x1&&(_0x16249f[_0x4c2fe9]=_0x57f823[_0x38adc0(0x433)]),currentQuizData[_0x38adc0(0x3e7)][_0x38adc0(0x3be)](_0x14a29c=>{const _0x108943=_0x38adc0;if(_0x14a29c[_0x108943(0x3a9)]===_0x108943(0x342))_0x14a29c[_0x108943(0x3f7)]=_0x16249f;});}currentQuizData[_0x38adc0(0x3e7)][_0x2b3a3e]=_0x57f823,displayGeneratedQuiz(currentQuizData);}else{currentQuizData=sanitizeQuizData(_0x57f823);const _0x361f9c=document['getElementById'](_0x38adc0(0x27d))['value'];currentQuizData['quizType']=_0x361f9c,currentQuizData[_0x38adc0(0x3e7)]&&currentQuizData[_0x38adc0(0x3e7)][_0x38adc0(0x3be)](_0x17ad0b=>{const _0x149d4b=_0x38adc0;if(!_0x17ad0b[_0x149d4b(0x3a9)]){if(_0x361f9c===_0x149d4b(0x34e))_0x17ad0b[_0x149d4b(0x3a9)]=_0x149d4b(0x46e);else _0x361f9c==='fill_in_no_choices'?_0x17ad0b[_0x149d4b(0x3a9)]=_0x149d4b(0x515):_0x17ad0b[_0x149d4b(0x3a9)]=_0x361f9c;}}),displayGeneratedQuiz(currentQuizData);}}else{console[_0x38adc0(0x339)]('Invalid\x20response\x20structure\x20from\x20AI:',JSON['stringify'](_0x48242f));throw new Error(_0x38adc0(0xf8));}}catch(_0x5c355e){console[_0x38adc0(0x339)](_0x38adc0(0x3b7),_0x5c355e),showMessage(_0x38adc0(0x20a)),_0x2b3a3e===null&&(_0x4471cc[_0x38adc0(0x19f)]=_0x38adc0(0x273));}finally{_0x6dcfe2['classList'][_0x38adc0(0x2bd)](_0x38adc0(0x217)),document['getElementById'](_0x38adc0(0x246))[_0x38adc0(0x136)]=![],document[_0x38adc0(0x131)](_0x38adc0(0x4b7))[_0x38adc0(0x136)]=![],document['getElementById']('generate-from-link-btn')[_0x38adc0(0x136)]=![];}}function displayGeneratedQuiz(_0x1fc35f){const _0x21ff9f=_0x530be2,_0x57d115=document[_0x21ff9f(0x131)](_0x21ff9f(0x3e3));let _0x137016=_0x21ff9f(0x3e8)+_0x1fc35f[_0x21ff9f(0x387)]+_0x21ff9f(0x3cc);_0x1fc35f[_0x21ff9f(0x3e7)][_0x21ff9f(0x3be)]((_0x5f110f,_0x408d38)=>{const _0x3fc3f9=_0x21ff9f,_0x1bd7a1=_0x5f110f[_0x3fc3f9(0x3a9)]||_0x1fc35f[_0x3fc3f9(0xff)];_0x137016+=_0x3fc3f9(0x265)+_0x408d38+'\x22\x20class=\x22save-to-bank-btn\x20text-purple-600\x20hover:text-purple-800\x20p-1\x22\x20title=\x22เก็บเข้าคลังข้อสอบส่วนตัว\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-university\x22></i>\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x408d38+_0x3fc3f9(0x3d7)+_0x408d38+_0x3fc3f9(0x31f);switch(_0x1bd7a1){case _0x3fc3f9(0x342):_0x137016+=_0x3fc3f9(0x1bb)+_0x408d38+'\x22>'+(_0x408d38+0x1)+'.\x20'+_0x5f110f[_0x3fc3f9(0x40e)]+_0x3fc3f9(0x2a7);_0x5f110f[_0x3fc3f9(0x382)]&&(_0x137016+='<div\x20id=\x22q-image-container-'+_0x408d38+_0x3fc3f9(0x1eb)+_0x5f110f[_0x3fc3f9(0x382)]+_0x3fc3f9(0x2c3));_0x137016+=_0x3fc3f9(0x29d)+_0x408d38+'\x22>'+_0x5f110f[_0x3fc3f9(0x433)]+_0x3fc3f9(0x408),_0x137016+=_0x3fc3f9(0x386)+_0x408d38+'\x22>'+_0x5f110f['explanation']+_0x3fc3f9(0x408);break;case _0x3fc3f9(0x515):_0x137016+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x408d38+'\x22>'+(_0x408d38+0x1)+'.\x20'+_0x5f110f[_0x3fc3f9(0xce)]+'</p>';_0x5f110f['imageCode']&&(_0x137016+=_0x3fc3f9(0x18e)+_0x408d38+_0x3fc3f9(0x1eb)+_0x5f110f[_0x3fc3f9(0x382)]+_0x3fc3f9(0x2c3));_0x137016+=_0x3fc3f9(0x4fb)+_0x408d38+'\x22>'+_0x5f110f['idealAnswer']+_0x3fc3f9(0x408),_0x137016+=_0x3fc3f9(0x386)+_0x408d38+'\x22>'+_0x5f110f['explanation']+_0x3fc3f9(0x408);break;case _0x3fc3f9(0x330):_0x137016+=_0x3fc3f9(0x1bb)+_0x408d38+'\x22>'+(_0x408d38+0x1)+'.\x20'+_0x5f110f['questionText']+_0x3fc3f9(0x2a7);_0x5f110f[_0x3fc3f9(0x382)]&&(_0x137016+=_0x3fc3f9(0x18e)+_0x408d38+'\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x5f110f[_0x3fc3f9(0x382)]+_0x3fc3f9(0x2c3));_0x137016+='<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22'+(_0x5f110f[_0x3fc3f9(0xe6)]===!![]?_0x3fc3f9(0x470):'')+_0x3fc3f9(0xf2)+(_0x5f110f['correctAnswer']===![]?_0x3fc3f9(0x470):'')+'\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',_0x137016+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x408d38+'\x22>'+_0x5f110f['explanation']+_0x3fc3f9(0x408);break;case _0x3fc3f9(0x124):case _0x3fc3f9(0x46e):default:_0x137016+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x408d38+'\x22>'+(_0x408d38+0x1)+'.\x20'+_0x5f110f[_0x3fc3f9(0xce)]+_0x3fc3f9(0x2a7);_0x5f110f['imageCode']&&(_0x137016+=_0x3fc3f9(0x18e)+_0x408d38+_0x3fc3f9(0x1eb)+_0x5f110f[_0x3fc3f9(0x382)]+_0x3fc3f9(0x2c3));_0x137016+='<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-'+_0x408d38+_0x3fc3f9(0x279)+_0x5f110f[_0x3fc3f9(0x2b7)][_0x3fc3f9(0x226)]((_0x936470,_0x315647)=>_0x3fc3f9(0x347)+(_0x315647===_0x5f110f['correctAnswerIndex']?'text-green-600\x20font-bold':'')+'\x22>'+_0x936470+_0x3fc3f9(0x2a2))[_0x3fc3f9(0x4ca)]('')+_0x3fc3f9(0x1f5),_0x137016+=_0x3fc3f9(0x386)+_0x408d38+'\x22>'+_0x5f110f['explanation']+'</span></div>';break;}_0x137016+=_0x3fc3f9(0x2c3);}),_0x137016+='<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',_0x57d115['innerHTML']=_0x137016,document[_0x21ff9f(0x1f7)](_0x21ff9f(0x343))[_0x21ff9f(0x3be)](_0x3817e9=>_0x3817e9[_0x21ff9f(0x481)]('click',handleEditQuestion)),document[_0x21ff9f(0x1f7)](_0x21ff9f(0x38e))[_0x21ff9f(0x3be)](_0x56251e=>_0x56251e[_0x21ff9f(0x481)]('click',handleRegenerateQuestion)),document[_0x21ff9f(0x1f7)](_0x21ff9f(0x2dd))['forEach'](_0x35465f=>_0x35465f[_0x21ff9f(0x481)](_0x21ff9f(0x447),handleSaveToBank)),document['getElementById'](_0x21ff9f(0x129))['addEventListener'](_0x21ff9f(0x447),saveQuiz);if(window['MathJax'])window[_0x21ff9f(0x493)][_0x21ff9f(0x1d4)]([_0x57d115]);}function handleRegenerateQuestion(_0x363f8a){const _0x53ce38=_0x530be2,_0x4be72e=_0x363f8a[_0x53ce38(0x45f)][_0x53ce38(0x30a)][_0x53ce38(0x132)],_0x2664ca=currentQuizData[_0x53ce38(0x387)];showMessage(_0x53ce38(0x2d6)+(parseInt(_0x4be72e)+0x1)+_0x53ce38(0x173)),generateQuiz(_0x2664ca,null,parseInt(_0x4be72e));}function getPointerPosition(_0x27032c,_0x170871){const _0x2c7fb4=_0x530be2,_0x2034e1=_0x27032c[_0x2c7fb4(0x128)]();let _0x537781,_0x54bc9d;return _0x170871[_0x2c7fb4(0x517)]&&_0x170871[_0x2c7fb4(0x517)][_0x2c7fb4(0x540)]>0x0?(_0x537781=_0x170871[_0x2c7fb4(0x517)][0x0][_0x2c7fb4(0x23e)],_0x54bc9d=_0x170871['touches'][0x0][_0x2c7fb4(0x1b4)]):(_0x537781=_0x170871[_0x2c7fb4(0x23e)],_0x54bc9d=_0x170871['clientY']),{'x':(_0x537781-_0x2034e1['e'])/_0x2034e1['a'],'y':(_0x54bc9d-_0x2034e1['f'])/_0x2034e1['d']};}function startDrag(_0x5d9740){const _0x4ec82e=_0x530be2;_0x5d9740[_0x4ec82e(0x2e2)]==='touchstart'&&_0x5d9740[_0x4ec82e(0x188)]();const _0x13c0e1=_0x5d9740[_0x4ec82e(0x4e8)][_0x4ec82e(0x248)]('.draggable-text');if(_0x13c0e1){draggedSvgElement=_0x13c0e1;const _0x54db44=draggedSvgElement[_0x4ec82e(0x348)],_0x2ee454=getPointerPosition(_0x54db44,_0x5d9740);svgOffset['x']=_0x2ee454['x']-parseFloat(draggedSvgElement[_0x4ec82e(0x341)](null,'x')),svgOffset['y']=_0x2ee454['y']-parseFloat(draggedSvgElement[_0x4ec82e(0x341)](null,'y'));}}function _0x51f2(){const _0x38e027=['Error\x20generating\x20quiz:','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','show_results_only','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','totalQuestions','th-TH','autoTable','forEach','perfect_score','remedialContent','modal-timer-duration-input','เกิดข้อผิดพลาดในการลบโปรเจค','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','body','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','message','ไม่สามารถสร้างโปรเจคได้','parse','comeback_king','student-quiz-leaderboard-tab','</h3>','.correctStreak','ส่งคำตอบ','fas\x20fa-star\x20text-yellow-500','ไม่พบตารางสำหรับ\x20Export','ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20','quiz-editor-modal','no-projects-msg','strength-weakness-analysis-container','กรุณาใส่ชื่อใหม่','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','ทำคะแนนเต็มในการทำครั้งแรก','editable-text-','next-live-question-btn','commit','\x20คนที่ส่ง\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','border-green-300\x20bg-green-50','mouseleave','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20text-left\x20p-2\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x22>\x0a\x20\x20','sort','admin-view','generated-quiz-container','loader-text','targetId','51wZKrRC','questions','<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>','dataIndex','message-modal','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question','97386DOkYjv','\x0a\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','helvetica','Error\x20fetching\x20project\x20quizzes:','/questionBank','onclick','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','student-rankings-modal','flex','Original\x20quiz\x20not\x20found','allResponses','confirm-create-project-btn','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','matching','q-text-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','setFont','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','now','copy-quiz-id-btn','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','findIndex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้','fill','</span></div>','image/png','passing-score-input','filter','modal-shuffle-select','bg-red-100\x20text-red-800','stem','confirm-global-live-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','(ไม่มีชื่อ)','artifacts/','สร้างคำถามแบบเติมคำในช่องว่าง\x201\x20ข้อ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20bg-indigo-50\x20border-indigo-200\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20flex\x20flex-col\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x22\x20data-id=\x22starred-project\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-indigo-800\x20pointer-events-none\x22>แบบทดสอบที่ติดดาว\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-400\x22></i></h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>ทางลัดสำหรับแบบทดสอบที่ใช้บ่อย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-700\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','modal-passing-score-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','\x22>ไม่ใช่</p>','\x20คู่.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','include-images-checkbox','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','next-question-timed-btn','leaderboard-table-body','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','2741','text-content-input','touchstart','\x22\x20data-topic=\x22','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','both','scores-tab-btn','leaderboard-quiz','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','_opt0\x22>ใช่</label></div>','-tab','cancel-test-btn','next-question-btn','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','checked','results-table','สร้างคำถามแบบใช่/ไม่ใช่\x20','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','worksheet-input-area','correctResponse','generate-worksheet-btn','loader','เกิดข้อผิดพลาดในการติดดาว','</td>','padStart','explanation','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','back-to-dashboard-btn','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','/submissions','btn','NUMBER','quiz-results-view','/public/data/projects','cancel-quiz-status-btn','dispatchEvent','\x22>ใช่</p>','project-search-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22active\x22\x20id=\x22status-active\x22\x20','click','fa-crown\x20text-yellow-500','</form>','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22','none','กรุณาเลือกโปรเจคปลายทาง','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-end\x20flex-wrap\x20gap-2\x20mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','application/pdf','ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','#student-quiz-leaderboard-content\x20thead','#per-question-options\x20textarea','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20','back-to-dashboard-from-results-btn','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','modal-timer-mode-select','สอบซ่อม','random','on_fire','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>','name','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','generated-quiz-actions','currentTarget','close-student-rankings-btn','split','/public/data/quizzes/','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q_opt','latestSubmittedAt','ปิดใช้งาน','toFixed','\x20สร้างคำถามจับคู่\x201\x20ข้อ\x20(1\x20คู่)\x20ที่อยู่ในหมวดหมู่เดียวกันกับคำถามเดิม\x20แต่ต้องแตกต่างออกไป.\x20รูปแบบคือ:\x20stem,\x20correctResponse,\x20และ\x20explanation.\x20','toLowerCase','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','font-bold\x20text-green-700','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','show_results_and_answers','multiple_choice','qType','text-green-600\x20font-bold','textarea','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','badges','_opt0\x22\x20name=\x22question','width','Error\x20listening\x20for\x20starred\x20quizzes:','สร้างแบบทดสอบปรนัย\x20','podium','fullscreenchange','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','description','\x20ข้อ)</span>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','cursor','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','.delete-svg-btn','addEventListener','scores-tab-content','.badges','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20','บันทึกการแก้ไขสำเร็จ','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x20\x20\x20\x20','ไม่สามารถเริ่มเกมได้','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','timer-duration-input','Error\x20renaming\x20quiz:','กรุณาวาง\x20URL\x20ของบทความก่อน','Error\x20opening\x20quiz\x20editor:','settings','quiz-status-modal','คำตอบถูกต้อง!\x20+','Error\x20deleting\x20project:','MathJax','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>','/users/','file-input-area','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','analyze-strengths-btn','border-green-700','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','move-quiz-modal','ring-2','question','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20','timerMode','ไม่พบเกมด้วยรหัสนี้\x20กรุณาตรวจสอบอีกครั้ง','lobby','blockReason','student-project-leaderboard-table-body','fa-fire\x20text-orange-500','</h2>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<p\x20class=\x22mt-8\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x20</div>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>','answer-counter','min','ใช่','toLocaleString','G-V90KRM0L63','Error\x20deleting\x20all\x20students:','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>(','52NTMBYQ','<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','mode-switcher-btn','เกิดข้อผิดพลาดในการเตรียมไฟล์:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','appendChild','confirm-move-quiz-btn','generate-from-text-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22','Error\x20fetching\x20quiz\x20status:','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','modal-close-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','removeEventListener','<li>','export-word-btn','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-live-question-btn\x22\x20class=\x22bg-blue-500\x20hover:bg-blue-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','export-pdf-btn','AI\x20request\x20was\x20blocked.\x20Reason:\x20','name_desc','live-game','quiz-status-options','join','<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Error\x20loading\x20quiz\x20for\x20student:','style','confirm-quiz-status-btn','\x22\x20value=\x22','export-leaderboard-pdf-btn','cancel-create-project-btn','modal-results-display-select','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','http://www.w3.org/2000/svg','execCommand','ai-quiz-generator-v3','203mwYqzq','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','กรุณาเลือกชื่อของคุณ','confirm-join-game-btn','status','เกิดข้อผิดพลาดในการสร้างห้องเกม','global-quiz-list','ตั้งเวลา\x20(เปิด)',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','game-pin-input','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20','removeChild','projectId','nickname-input','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','student-project-leaderboard-tab','target','classStrengths','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','COMEBACK_KING','#F59E0B','Error\x20during\x20class\x20analysis:','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>','\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','isArray','ไม่พบโปรเจค','toDataURL','href','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Error\x20generating\x20from\x20link:','admin-testing','uid','กำลังอ่านและเตรียมไฟล์...','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','results-quiz-title','defaultNumQuestions','\x20ข้อ.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน','<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x20ml-auto\x22\x20title=\x22ลบแบบทดสอบ\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-purple-600','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','<h1></h1>','display','Failed\x20to\x20parse\x20JSON\x20from\x20AI','per-question-timer-container','.star-quiz-btn','undefined','inactive','presentation-explanation','คัดลอกไม่สำเร็จ','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ข้อต่อไป','สร้างแบบทดสอบ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','short_answer','%\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','touches','\x0a\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>','mousemove','ไม่ใช่','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<h2\x20class=\x22text-3xl\x20font-bold\x22>หมดเวลา!</h2>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเฉลยและไปข้อต่อไป...</p>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x20</div>','</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','docs','all','\x20ตัวเลือก.\x20','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','gamePin','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.png','\x20จาก\x20','players','Error\x20showing\x20quiz\x20detail\x20view:','after','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','teacherSuggestions','สลับไปโหมดผู้ควบคุม','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ผ่านฉลุย','open-global-live-btn','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','.answeredCurrentQuestion','จำนวนคู่:','revealed','การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?','reveal-answer-btn','แบบทดสอบไม่มีชื่อ','download','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','doughnut','delete-all-students-btn','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','exists','reduce','starred-project','stringify','quiz-leaderboard-table','length','POST','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>','name_asc','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','หมดเวลาสำหรับข้อนี้!','beforeend','mousedown','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q','เกี่ยวกับหัวข้อ\x20\x22','.score','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','\x20ครั้ง)</span></td>','slide-counter','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','questionText','currentQuestionIndex','/public/data/liveGames','student-quiz-area','touchmove','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','toggle','ไม่สามารถบันทึกการตั้งค่าได้','shuffle','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','<i\x20class=\x22fas\x20fa-save\x22></i>','manage','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','\x20ข้อ.\x20แต่ละข้อมี\x20','floor','projectName','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','application/json','ไม่พบข้อมูลแบบทดสอบ','opacity-50','correctAnswer','Error\x20duplicating\x20quiz:','timer-mode-select','quiz-editor-questions-container','result','manual_release','results-tab-content','.doc','submission','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-reading-area','toString','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>','project-detail','scores','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>','empty','Invalid\x20response\x20structure\x20from\x20AI.','534798CPRYyt','active','input[name=\x22status-option\x22]','join-live-game-btn','modal-adaptive-quiz-checkbox','bg-yellow-200\x20text-yellow-800','quizType','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','644173IqQmdY','student-view','\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','replace','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_true\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_true\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_false\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_false\x22>ไม่ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','correctAnswerIndex','.live-answer-btn,\x20#live-submit-short-answer-btn','contains','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','classWeaknesses','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confirm-rename-quiz-btn','file-upload-input','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','quiz-start-time','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x20h-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','_opt','):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x222\x22>','value','\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','values','แก้ไขข้อนี้','สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','setAttribute','N/A','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','button[type=\x22submit\x22]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','project-name-input','questions_only','บันทึกแบบทดสอบสำเร็จแล้ว!','fill_in_the_blank','\x20ข้อ,\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','quiz-form','schedule','getScreenCTM','save-quiz-btn','.edit-quiz-btn','instructions','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','timer-duration-container','max','</option>','getElementById','index','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<option\x20value=\x22','project-dashboard-view','disabled','Error\x20saving\x20to\x20question\x20bank:','เปิดใช้งาน','touchend','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','results-table-container','startsWith','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','get','endTime','<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>','_opt1\x22\x20name=\x22question','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','load-quiz-btn','jspdf','rgba(79,\x2070,\x20229,\x201)','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','input[name=\x22question_single\x22]:checked','จำนวนข้อ:','answeredCurrentQuestion','กำลังสร้างรูปภาพ...','save','global-quiz-search-input','project-quizzes-list','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','input[type=\x22radio\x22]:checked','close-presentation-btn','<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม','API\x20call\x20failed','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ชื่อเล่นนี้ถูกใช้ไปแล้ว\x20กรุณาใช้ชื่ออื่น','คัดลอกรหัสแล้ว!','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','ระยะเวลา\x20(วินาที):','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','presentation-ai-result','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์จุดอ่อนและสร้างเนื้อหาทบทวนให้คุณโดยเฉพาะ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','.start-presentation-list-btn','svg','cancel-delete-btn','classList','toLocaleDateString','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ตอบถูก\x203\x20ข้อติดต่อกัน','quiz-generation-area','>\x20<label\x20for=\x22status-inactive\x22>ปิดใช้งาน\x20(Inactive)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22schedule\x22\x20id=\x22status-schedule\x22\x20','การยืนยันตัวตนล้มเหลว','date_desc','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนหนึ่งทำแบบทดสอบเรื่อง\x20\x22','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','student','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','onload','scheduled','\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงานที่พิมพ์ได้\x20จำนวน\x20','Error\x20updating\x20quiz\x20settings:','\x20ใหม่...','td,\x20th','live-options-container','STOP','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>','_opt1\x22>ไม่ใช่</label></div>','live-submit-short-answer-btn','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','resultsDisplay','<p\x20class=\x22','results-display-select','Error\x20fetching\x20student\x20rankings:','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','</body></html>','<div\x20class=\x22flex-1\x22></div>','student-quiz-leaderboard-table-body','bestScore','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาด:\x20','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20p-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','preventDefault','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','\x5cdiv','.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.','หมดเวลา!\x20กำลังส่งคำตอบ...','student-name-selection-view','<div\x20id=\x22q-image-container-','border-4','trim','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-indigo-800\x20pointer-events-none\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','project-list','timerDuration','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','slice','สร้างแบบทดสอบปรนัย\x201\x20ข้อ\x20','quiz-results-table-body','<option>กำลังโหลดโปรเจค...</option>','ไม่ผ่าน','\x5ctimes','quiz-search-input','Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','innerHTML','passingScore','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','false','text/html','presentation-short-answer-input','รอเปิด','#view-rankings-btn','isCorrect','<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20','OBJECT','starred','(คัดลอก)\x20','.pointsLastQuestion','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20h-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','text-white','totalPoints','\x20/\x20','destroy','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','clientY','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','quick_thinker','แบบทดสอบซ่อมเสริม','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','create-project-btn','\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','start-game-btn','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','link-input-area','students','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20','pinned-items','text-green-700\x20bg-green-100','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3/4\x20truncate\x22>ข้อ\x20','change','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20(','Error\x20adding\x20students:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-sm\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','setAttributeNS','write','start-remedial-quiz-btn','shuffleSetting','shuffle-setting-select','student-quiz-topic','fill_in_no_choices','button[data-id]','typesetPromise','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','00:00','confirmation-message','perseverance','quiz-end-time','analytics','ผ่าน','เกิดข้อผิดพลาดในการอัปเดตสถานะ','firstScore','isStarred','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20bg-white\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20border-gray-200\x20flex\x20flex-col\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x22\x20data-id=\x22','focus','Error\x20saving\x20quiz:','contentEditable','\x22\x20name=\x22question_single\x22\x20value=\x22','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','Error\x20saving\x20quiz\x20edits:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20','\x20ข้อ)</span></p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','from','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x20คู่\x20','Error\x20deleting\x20quiz:','</div><div\x20class=\x22space-y-2\x22>','\x22?\x20ผลการส่งงานทั้งหมดของแบบทดสอบนี้จะถูกลบอย่างถาวร','text-green-900','project-detail-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','querySelectorAll','raw','.draggable-text','ไม่สามารถโหลดรายการโปรเจคได้','quiz','Leaderboard\x20update\x20transaction\x20failed:\x20','delete','</span></td>','question-analytics-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22></i>\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','print','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','cancel-admin-login-btn','<textarea\x20name=\x22question','string','leaderboard-quiz-tab-content','เกิดข้อผิดพลาดในการสร้างแบบทดสอบ\x20โปรดลองอีกครั้ง','first_try_ace','```json','admin-password-input','\x22\x20value=\x22false\x22\x20','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','\x22\x20name=\x22question','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','fa-rocket\x20text-purple-500','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','set','back-from-results-btn','hidden','confirm-admin-login-btn','.quiz-settings-btn','\x20ข้อ.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','AI\x20กำลังสร้างใบงาน...','813670ARfqUW','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>(','<span\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x22>','เกิดข้อผิดพลาดในการโหลดโปรเจค','\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','.\x20ให้มี\x20','admin-action-buttons','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','map','.duplicate-quiz-btn','Error\x20listening\x20for\x20projects:','<div\x20class=\x22loader\x20mx-auto\x22></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','password-error-msg','endsWith','keys','answers','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ระยะเวลา\x20(นาที):','input','AI\x20grading\x20failed:','worksheet-topic-input','leaderboard_','rgba(79,\x2070,\x20229,\x200.8)','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','back-to-project-btn','querySelector','border-red-300\x20bg-red-50','STRING','substring','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x22\x20data-q-type=\x22','</textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','clientX','>\x20<label\x20for=\x22status-active\x22>เปิดใช้งาน\x20(Active)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22inactive\x22\x20id=\x22status-inactive\x22\x20','bottom','export-leaderboard-word-btn','student-list','input[name=\x22status-option\x22]:checked','data:application/vnd.ms-word;charset=utf-8,','กรุณาใส่ชื่อโปรเจค','generate-from-topic-btn','\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20','closest','find','user','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','ไม่พบแบบทดสอบสำหรับรหัสนี้','answering','timer-container','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','presentation-slide-container','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','save-quiz-edits-btn','export-excel-btn','position','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20ไม่ผ่าน\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือคำอธิบายจากข้อที่นักเรียนตอบผิด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','fa-shield-alt\x20text-gray-600','ท็อปฟอร์ม','includes','Adaptive\x20flow\x20failed:','ดูสรุปผล','.start-live-race-btn','red','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20px-2\x20py-1\x20rounded\x20','baseVal','isRemedial','innerText','line-through\x20text-red-700','#ffffff','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','.quiz-result-card','open','Error\x20creating\x20project:','student-initial-view','_blank','global-live-game-modal','icon','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-3xl\x22>','bg-green-100\x20text-green-800','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','admin-try-quiz-btn','round','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','defaultPassingScore','เกิดข้อผิดพลาดในการสร้างใบงาน','https://corsproxy.io/?','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/public/data/projects/','แบบทดสอบที่ติดดาว','localeCompare','quiz-type-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','num-choices-container','isAdaptive','log','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','Error\x20updating\x20quiz\x20status:','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการบันทึก','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','ai-quiz-app-aefee.appspot.com','indexOf','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','เกิดข้อผิดพลาดในการสร้างเนื้อหาทบทวน','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','แบบทดสอบจากคลังส่วนตัว','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','content','start-quiz-btn','<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>','font-bold','results','bank-input-area','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x09\x09\x09\x09\x09\x09\x09\x20<button\x20data-quiz-id=\x22','กรุณาป้อนหัวข้อก่อน','กรุณาป้อนหัวข้อสำหรับใบงาน','Error\x20fetching\x20quiz\x20settings:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','earned-badges-container','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','link-tab','latestScore','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20','button','</li>','move','true','fa-pen','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','</p>','text','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','createdAt','specialist','bg-green-200\x20text-green-800','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','quiz-settings-modal','bg-blue-100\x20text-blue-800','ลบแบบทดสอบสำเร็จแล้ว','manage-tab-content','ผู้ควบคุม\x20(ทดสอบ)','num-choices','modal-timer-duration-container','เกมสิ้นสุดลงแล้ว','whole_quiz','options','end-game-btn','student-join-game-view','ไม่มี','.pdf','BOOLEAN','add','bg-green-500','per-q-countdown','<br>','ไม่สามารถโหลดข้อมูลอันดับได้','start-presentation-btn','</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20value=\x22true\x22\x20','confirm-delete-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','border-red-700','text-blue-700\x20bg-blue-100','ย้ายแบบทดสอบสำเร็จ','2-digit','6603144zCcRnu','finishReason','ai-quiz-app-aefee','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','67275oTlhCF','Error\x20moving\x20quiz:','player-count','เกิดข้อผิดพลาดในการอ่านไฟล์','startTime','getBBox','กำลังสร้างคำถามข้อ\x20','ref','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','idealAnswer','topic-tab','remove','lastAnswerCorrect','.save-to-bank-btn','Error\x20fetching\x20projects\x20for\x20move:','project-id-display','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','จากเนื้อหาต่อไปนี้:\x20\x22','type','```','>\x20<label\x20for=\x22status-schedule\x22>ตั้งเวลาเปิด/ปิด\x20(Schedule)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่ได้ตอบ','ตอบถูกทุกข้อในแบบทดสอบนี้','size','admin-dashboard','ไม่พบข้อมูลผู้ใช้','bank-tab','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลข้างต้น\x20โปรดสรุปเนื้อหาสำคัญเพื่อสอนซ่อมเสริมนักเรียนคนนี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้อธิบายด้วยภาษาที่เข้าใจง่าย\x20เป็นกันเอง\x20เหมือนติวเตอร์ใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20สรุปมาเป็นย่อหน้าเดียวหรือสองย่อหน้าสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มี\x20key\x20ชื่อ\x20\x22remedialContent\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','fullscreenElement','abs','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20','create-from-bank-btn','touchcancel','close','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','สร้างชุดคำถามจับคู่\x20','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','ring-purple-400','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22','.docx','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20','leaderboard-quiz-tab-btn','points','Error\x20deleting\x20student:','ราชาคัมแบ็ก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','answer','/studentProfiles','\x20คน):</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','ผู้เชี่ยวชาญ','createElement','mouseup','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x22>','.csv','quiz-schedule-end-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','entries','option','dataset','players.','admin-password-modal','rows','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','attempts','fa-user-astronaut\x20text-blue-700','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','score-distribution-chart','getContext','contents','-tab-content','<div><input\x20type=\x22radio\x22\x20id=\x22q','createObjectURL','quiz-results','countdown-display','confirm-quiz-settings-btn','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','Enter','บันทึกการแก้ไข','\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.presentation-option','.question-editor-item','rename-quiz-input','readAsDataURL','removeAttribute','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','ผู้ไม่ยอมแพ้','toDate','คะแนนเต็ม','text-red-700\x20bg-red-100','.copy-quiz-id-list-btn','live-short-answer-input','bg-purple-50','true_false','update','แบบทดสอบ:\x20','candidates','score','1:274192258111:web:4120c9118229b5644dd48a','ไม่มีคำอธิบาย','presentation-modal','Error\x20processing\x20file\x20for\x20AI:','error','badgesCount','border-green-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','title','timer-bar','height','editor-quiz-topic','getAttributeNS','matching_item','.edit-question-btn','คะแนน','API\x20call\x20failed\x20with\x20status:\x20','timer-duration-label','<li\x20class=\x22','ownerSVGElement','/public/data/quizzes','\x0a---\x0a','\x20ข้อ\x20','55XLJwEl','<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','fill_in_with_choices','editable-quiz-topic','AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-700\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','opacity','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x20text-purple-600\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20','toISOString','กำลังดึงข้อมูลจากลิงก์...','.project-card-content','quiz-leaderboard-table-container','results_','move-quiz-project-select','modal-timer-duration-label','ไม่พบแบบทดสอบ','delete-svg-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','draggable-text','originalQuestion','textContent','ARRAY','<i\x20class=\x22fas\x20fa-check\x20mr-3\x22></i>','quiz-schedule-start-container','admin','เกิดข้อผิดพลาดในการลบนักเรียน','push','normal','num-questions','check-presentation-answer-btn','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','onerror','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','analytics-tab-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','scheduled_pending','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','link-url-input','.live-answer-btn','defaultNumChoices','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>','link-topic-input','generate-from-link-btn','input[type=\x22text\x22]','studentName','bg-green-300','\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','[data-is-correct=\x22true\x22]','export-leaderboard-image-btn','default','modal-message','imageCode','สร้างคำถามแบบเติมคำในช่องว่าง\x20','<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>','quizId','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','topic','<p>','export-image-btn','PERFECT_SCORE','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','file-tab','leaderboard-tab','.regenerate-question-btn','4778iyLXKZ','Error\x20generating\x20worksheet:','save-settings-btn','bg-white/30','กรุณาวางเนื้อหาก่อน','hover:bg-indigo-100','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','key','fa-dumbbell\x20text-gray-700','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>','document','<textarea\x20id=\x22per-q-textarea\x22\x20name=\x22question_single_text\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณที่นี่...\x22></textarea>','</span></p>','\x22,\x20','ลบโปรเจคสำเร็จแล้ว','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','Error\x20joining\x20live\x20game:','\x20ข้อ.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20','some','รูปแบบไฟล์ไม่รองรับ\x20กรุณาเลือก\x20PDF\x20หรือ\x20.docx','คัดลอกแบบทดสอบสำเร็จ','prev-question-btn','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','label','json','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','questionType','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<h2\x20class=\x22text-3xl\x20font-bold\x22>','bg-red-200\x20text-red-800','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20leading-relaxed\x20text-center\x22>','Copy\x20command\x20failed','FileReader\x20error:','data','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','quiz-id-input','questionDisplayedAt','parts','mixed','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','ส่งแล้ว'];_0x51f2=function(){return _0x38e027;};return _0x51f2();}function drag(_0x277062){const _0xd272a2=_0x530be2;if(draggedSvgElement){_0x277062[_0xd272a2(0x188)]();const _0xc574a6=draggedSvgElement['ownerSVGElement'],_0x113687=getPointerPosition(_0xc574a6,_0x277062),_0x414974=_0xc574a6['viewBox'][_0xd272a2(0x25f)];let _0x572efe=_0x113687['x']-svgOffset['x'],_0x20dd59=_0x113687['y']-svgOffset['y'];const _0x2debea=draggedSvgElement[_0xd272a2(0x2d5)]();_0x572efe=Math[_0xd272a2(0x12f)](_0x414974['x'],Math[_0xd272a2(0x4a8)](_0x572efe,_0x414974['x']+_0x414974[_0xd272a2(0x475)]-_0x2debea[_0xd272a2(0x475)])),_0x20dd59=Math['max'](_0x414974['y'],Math[_0xd272a2(0x4a8)](_0x20dd59,_0x414974['y']+_0x414974[_0xd272a2(0x33f)]-_0x2debea[_0xd272a2(0x33f)])),draggedSvgElement[_0xd272a2(0x1cc)](null,'x',_0x572efe),draggedSvgElement[_0xd272a2(0x1cc)](null,'y',_0x20dd59);}}function endDrag(_0x3963b0){draggedSvgElement=null;}function handleSvgEditClick(_0x5f3f4c){const _0x177af9=_0x530be2;if(_0x5f3f4c['target'][_0x177af9(0x162)][_0x177af9(0x10b)](_0x177af9(0x35d))){const _0x572fb7=_0x5f3f4c[_0x177af9(0x4e8)][_0x177af9(0x30a)]['targetId'],_0xf207ff=_0x5f3f4c[_0x177af9(0x45f)],_0xb18774=_0xf207ff['querySelector']('#'+_0x572fb7);_0xb18774&&_0xb18774[_0x177af9(0x2db)](),_0x5f3f4c[_0x177af9(0x4e8)][_0x177af9(0x2db)]();}}function handleEditQuestion(_0x44a5fa){const _0xf3620b=_0x530be2,_0x3c12f6=_0x44a5fa[_0xf3620b(0x45f)],_0x725742=_0x3c12f6[_0xf3620b(0x30a)]['index'],_0x1224ee=currentQuizData[_0xf3620b(0x3e7)][_0x725742],_0x3504ae=document[_0xf3620b(0x131)](_0xf3620b(0x3fc)+_0x725742),_0x4a3585=document[_0xf3620b(0x131)]('q-explanation-'+_0x725742),_0x385674=document['getElementById']('q-image-container-'+_0x725742);if(_0x3c12f6[_0xf3620b(0x19f)][_0xf3620b(0x259)](_0xf3620b(0x2a5))){_0x3c12f6[_0xf3620b(0x19f)]=_0xf3620b(0xd9),_0x3c12f6[_0xf3620b(0x33d)]=_0xf3620b(0x31e);if(_0x3504ae)_0x3504ae[_0xf3620b(0x1e3)]=!![];if(_0x4a3585)_0x4a3585[_0xf3620b(0x1e3)]=!![];if(_0x385674){const _0x572379=_0x385674[_0xf3620b(0x238)]('svg');if(_0x572379){const _0x4c730c=_0x572379[_0xf3620b(0x1f7)](_0xf3620b(0x2a8));_0x4c730c[_0xf3620b(0x3be)]((_0x13cc18,_0x4cd2ae)=>{const _0x58edb3=_0xf3620b,_0x35e63c=_0x58edb3(0x3d9)+_0x725742+'-'+_0x4cd2ae;_0x13cc18['id']=_0x35e63c,_0x13cc18[_0x58edb3(0x162)]['add'](_0x58edb3(0x35f)),_0x13cc18[_0x58edb3(0x4ce)][_0x58edb3(0x47e)]=_0x58edb3(0x2a3);const _0x4f655a=document['createElementNS'](_0x58edb3(0x4d5),'circle'),_0x5768bc=_0x13cc18[_0x58edb3(0x2d5)]();_0x4f655a['setAttribute']('cx',String(_0x5768bc['x']+_0x5768bc[_0x58edb3(0x475)]+0x5)),_0x4f655a[_0x58edb3(0x11c)]('cy',String(_0x5768bc['y']+_0x5768bc['height']/0x2-0x5)),_0x4f655a[_0x58edb3(0x11c)]('r','5'),_0x4f655a[_0x58edb3(0x11c)](_0x58edb3(0x407),_0x58edb3(0x25d)),_0x4f655a[_0x58edb3(0x11c)]('class',_0x58edb3(0x35d)),_0x4f655a[_0x58edb3(0x30a)][_0x58edb3(0x3e5)]=_0x35e63c,_0x13cc18[_0x58edb3(0x528)](_0x4f655a);}),_0x572379[_0xf3620b(0x481)](_0xf3620b(0xc5),startDrag),_0x572379['addEventListener']('mousemove',drag),_0x572379[_0xf3620b(0x481)](_0xf3620b(0x303),endDrag),_0x572379['addEventListener'](_0xf3620b(0x3de),endDrag),_0x572379[_0xf3620b(0x481)](_0xf3620b(0x421),startDrag,{'passive':![]}),_0x572379[_0xf3620b(0x481)](_0xf3620b(0xd2),drag,{'passive':![]}),_0x572379['addEventListener'](_0xf3620b(0x139),endDrag),_0x572379[_0xf3620b(0x481)](_0xf3620b(0x2f0),endDrag),_0x572379[_0xf3620b(0x481)](_0xf3620b(0x447),handleSvgEditClick);}}if(_0x3504ae)_0x3504ae[_0xf3620b(0x1e1)]();}else{_0x3c12f6[_0xf3620b(0x19f)]='<i\x20class=\x22fas\x20fa-pen\x22></i>',_0x3c12f6[_0xf3620b(0x33d)]=_0xf3620b(0x11a);if(_0x3504ae){_0x3504ae[_0xf3620b(0x1e3)]=![];const _0x4b1e29=_0x1224ee[_0xf3620b(0x3a9)]||currentQuizData[_0xf3620b(0xff)];_0x4b1e29==='matching_item'?_0x1224ee[_0xf3620b(0x40e)]=_0x3504ae['innerText'][_0xf3620b(0x23b)](_0x3504ae[_0xf3620b(0x261)]['indexOf']('.')+0x2)['trim']():_0x1224ee['questionText']=_0x3504ae[_0xf3620b(0x261)][_0xf3620b(0x23b)](_0x3504ae[_0xf3620b(0x261)][_0xf3620b(0x28b)]('.')+0x2)[_0xf3620b(0x190)]();}_0x4a3585&&(_0x4a3585[_0xf3620b(0x1e3)]=![],_0x1224ee[_0xf3620b(0x439)]=_0x4a3585[_0xf3620b(0x261)]);if(_0x385674){const _0x591853=_0x385674[_0xf3620b(0x238)](_0xf3620b(0x160));if(_0x591853){const _0x1e1aaa=_0x591853['cloneNode'](!![]);_0x1e1aaa[_0xf3620b(0x1f7)](_0xf3620b(0x480))[_0xf3620b(0x3be)](_0x556d67=>_0x556d67[_0xf3620b(0x2db)]()),_0x1e1aaa[_0xf3620b(0x1f7)](_0xf3620b(0x1f9))[_0xf3620b(0x3be)](_0x29d07e=>{const _0x336b21=_0xf3620b;_0x29d07e[_0x336b21(0x162)][_0x336b21(0x2db)](_0x336b21(0x35f)),_0x29d07e[_0x336b21(0x4ce)][_0x336b21(0x47e)]=_0x336b21(0x380),_0x29d07e[_0x336b21(0x324)]('id');}),_0x1224ee[_0xf3620b(0x382)]=_0x1e1aaa['outerHTML'],_0x591853[_0xf3620b(0x4c0)](_0xf3620b(0xc5),startDrag),_0x591853[_0xf3620b(0x4c0)](_0xf3620b(0x519),drag),_0x591853[_0xf3620b(0x4c0)](_0xf3620b(0x303),endDrag),_0x591853['removeEventListener'](_0xf3620b(0x3de),endDrag),_0x591853[_0xf3620b(0x4c0)]('touchstart',startDrag),_0x591853[_0xf3620b(0x4c0)](_0xf3620b(0xd2),drag),_0x591853[_0xf3620b(0x4c0)](_0xf3620b(0x139),endDrag),_0x591853[_0xf3620b(0x4c0)](_0xf3620b(0x2f0),endDrag),_0x591853[_0xf3620b(0x4c0)](_0xf3620b(0x447),handleSvgEditClick),_0x591853['querySelectorAll'](_0xf3620b(0x480))[_0xf3620b(0x3be)](_0x15e8da=>_0x15e8da[_0xf3620b(0x2db)]()),_0x591853[_0xf3620b(0x1f7)](_0xf3620b(0x1f9))[_0xf3620b(0x3be)](_0x3ad70e=>{const _0x1e309c=_0xf3620b;_0x3ad70e['classList']['remove'](_0x1e309c(0x35f)),_0x3ad70e[_0x1e309c(0x4ce)][_0x1e309c(0x47e)]=_0x1e309c(0x380);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x18c00f){const _0xdcf820=_0x530be2,_0x3ab20d=document[_0xdcf820(0x131)](_0xdcf820(0x3d2)),_0x3b9448=document[_0xdcf820(0x131)](_0xdcf820(0xe9));_0x3b9448[_0xdcf820(0x19f)]=_0xdcf820(0x229),_0x3ab20d['classList'][_0xdcf820(0x2db)](_0xdcf820(0x217));try{const _0x3cb18e=doc(db,_0xdcf820(0x412)+appId+_0xdcf820(0x349),_0x18c00f),_0x19879=await getDoc(_0x3cb18e);if(!_0x19879[_0xdcf820(0x53b)]())throw new Error(_0xdcf820(0x35c));currentEditingQuizData={'id':_0x18c00f,..._0x19879[_0xdcf820(0x3af)]()},renderQuizEditor(currentEditingQuizData);}catch(_0xfbc71c){console['error'](_0xdcf820(0x48e),_0xfbc71c),showMessage(_0xdcf820(0x3f3)),_0x3ab20d[_0xdcf820(0x162)][_0xdcf820(0x2bd)](_0xdcf820(0x217));}}function renderQuizEditor(_0x5d4809){const _0x56db27=_0x530be2;document[_0x56db27(0x131)](_0x56db27(0x340))['value']=_0x5d4809[_0x56db27(0x387)];const _0x17e461=document[_0x56db27(0x131)](_0x56db27(0xe9));let _0x2fd43e=_0x5d4809[_0x56db27(0x3e7)][_0x56db27(0x226)]((_0x4e2bda,_0x2ab6ff)=>{const _0x5a3a77=_0x56db27;let _0x4585a6='';const _0x3085a2=_0x4e2bda[_0x5a3a77(0x3a9)]||_0x5d4809[_0x5a3a77(0xff)];switch(_0x3085a2){case _0x5a3a77(0x46e):const _0x469926=(_0x4e2bda[_0x5a3a77(0x2b7)]||[])[_0x5a3a77(0x226)]((_0x3766e1,_0x29bad5)=>_0x5a3a77(0x31c)+_0x2ab6ff+'\x22\x20value=\x22'+_0x29bad5+'\x22\x20'+(_0x29bad5===_0x4e2bda[_0x5a3a77(0x109)]?'checked':'')+_0x5a3a77(0x1d6)+_0x3766e1+_0x5a3a77(0x2d8))[_0x5a3a77(0x4ca)]('');_0x4585a6=_0x5a3a77(0x15e)+_0x469926+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x5a3a77(0x515):_0x4585a6='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+(_0x4e2bda[_0x5a3a77(0x2d9)]||'')+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x5a3a77(0x330):_0x4585a6=_0x5a3a77(0x544)+_0x2ab6ff+_0x5a3a77(0x2c5)+(_0x4e2bda[_0x5a3a77(0xe6)]===!![]?_0x5a3a77(0x42d):'')+_0x5a3a77(0x12d)+_0x2ab6ff+_0x5a3a77(0x20e)+(_0x4e2bda[_0x5a3a77(0xe6)]===![]?'checked':'')+_0x5a3a77(0x523);break;case _0x5a3a77(0x342):_0x4585a6='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+(_0x4e2bda[_0x5a3a77(0x433)]||'')+_0x5a3a77(0x255);break;}const _0x2f81cd=_0x4e2bda[_0x5a3a77(0xce)]||_0x4e2bda[_0x5a3a77(0x40e)]||'';return _0x5a3a77(0x23c)+_0x3085a2+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20'+(_0x2ab6ff+0x1)+'\x20('+_0x3085a2+_0x5a3a77(0x115)+_0x2f81cd+_0x5a3a77(0x23d)+_0x4585a6+_0x5a3a77(0x10c);})['join']('');_0x17e461['innerHTML']=_0x2fd43e;}async function handleSaveChanges(){const _0x257580=_0x530be2,_0x4b700f=document[_0x257580(0x131)](_0x257580(0x252));_0x4b700f['disabled']=!![],_0x4b700f[_0x257580(0x19f)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...';try{const _0x859a8e=document['getElementById']('editor-quiz-topic')[_0x257580(0x116)],_0x368347=document['querySelectorAll'](_0x257580(0x321));let _0x3ac2aa=[];const _0x9484bd=Array[_0x257580(0x1ec)](_0x368347)[_0x257580(0x226)]((_0x25c61,_0x2e2ec6)=>{const _0x58965c=_0x257580,_0x3a1b1d=_0x25c61[_0x58965c(0x30a)][_0x58965c(0x46f)],_0x421fc1=_0x25c61[_0x58965c(0x238)](_0x58965c(0x471))['value'];let _0x55d56b={'questionType':_0x3a1b1d};const _0x261552=currentEditingQuizData[_0x58965c(0x3e7)][_0x2e2ec6];switch(_0x3a1b1d){case _0x58965c(0x46e):_0x55d56b[_0x58965c(0xce)]=_0x421fc1;const _0x467c80=_0x25c61[_0x58965c(0x1f7)](_0x58965c(0x379));_0x55d56b[_0x58965c(0x2b7)]=Array[_0x58965c(0x1ec)](_0x467c80)[_0x58965c(0x226)](_0x512444=>_0x512444[_0x58965c(0x116)]);const _0x1164ea=_0x25c61[_0x58965c(0x238)]('input[type=\x22radio\x22]:checked');_0x55d56b[_0x58965c(0x109)]=_0x1164ea?parseInt(_0x1164ea[_0x58965c(0x116)]):0x0;break;case _0x58965c(0x515):_0x55d56b['questionText']=_0x421fc1,_0x55d56b[_0x58965c(0x2d9)]=_0x25c61['querySelector']('.ideal-answer-input')[_0x58965c(0x116)];break;case _0x58965c(0x330):_0x55d56b['questionText']=_0x421fc1;const _0x38955a=_0x25c61[_0x58965c(0x238)](_0x58965c(0x151));_0x55d56b[_0x58965c(0xe6)]=_0x38955a?_0x38955a[_0x58965c(0x116)]===_0x58965c(0x2a4):!![];break;case _0x58965c(0x342):_0x55d56b[_0x58965c(0x40e)]=_0x421fc1;const _0x3ad036=_0x25c61[_0x58965c(0x238)]('.correct-response-input');_0x55d56b['correctResponse']=_0x3ad036?_0x3ad036[_0x58965c(0x116)]:'',_0x3ac2aa['push'](_0x55d56b[_0x58965c(0x433)]);break;default:_0x55d56b[_0x58965c(0xce)]=_0x421fc1;break;}return{..._0x261552,..._0x55d56b};});_0x3ac2aa[_0x257580(0x540)]>0x0&&_0x9484bd[_0x257580(0x3be)](_0x513cc2=>{const _0x3cc93f=_0x257580;_0x513cc2['questionType']===_0x3cc93f(0x342)&&(_0x513cc2[_0x3cc93f(0x3f7)]=_0x3ac2aa);});const _0xb27ed0=doc(db,_0x257580(0x412)+appId+_0x257580(0x349),currentEditingQuizData['id']);await updateDoc(_0xb27ed0,{'topic':_0x859a8e,'questions':_0x9484bd}),showMessage(_0x257580(0x485)),document[_0x257580(0x131)]('quiz-editor-modal')[_0x257580(0x162)][_0x257580(0x2bd)]('hidden');}catch(_0x58e46e){console[_0x257580(0x339)](_0x257580(0x1e8),_0x58e46e),showMessage(_0x257580(0x287));}finally{_0x4b700f[_0x257580(0x136)]=![],_0x4b700f[_0x257580(0x19f)]=_0x257580(0x13a);}}async function saveQuiz(){const _0xb71973=_0x530be2;if(!currentQuizData||!currentQuizData['questions']||!userId||!currentProjectId){showMessage(_0xb71973(0x274));return;}const _0x372f12=document[_0xb71973(0x131)]('save-quiz-btn');_0x372f12[_0xb71973(0x136)]=!![],_0x372f12[_0xb71973(0x19f)]=_0xb71973(0x4eb),currentQuizData[_0xb71973(0x387)]=document[_0xb71973(0x131)](_0xb71973(0x34f))[_0xb71973(0x261)];try{const _0x46693e={'resultsDisplay':document['getElementById'](_0xb71973(0x17e))['value'],'shuffle':document[_0xb71973(0x131)](_0xb71973(0x1d0))[_0xb71973(0x116)],'timerMode':document[_0xb71973(0x131)]('timer-mode-select')['value'],'timerDuration':parseInt(document['getElementById'](_0xb71973(0x48b))[_0xb71973(0x116)])||0xa,'passingScore':parseInt(document['getElementById'](_0xb71973(0x40a))[_0xb71973(0x116)])||0x0,'passingScore':parseInt(document[_0xb71973(0x131)](_0xb71973(0x40a))[_0xb71973(0x116)])||0x0,'isAdaptive':document[_0xb71973(0x131)]('adaptive-quiz-checkbox')['checked']},_0x51eea9=(currentQuizData[_0xb71973(0x3e7)]||[])[_0xb71973(0x226)](_0x5c80cd=>{const _0x260e37=_0xb71973,_0x49c88f=document[_0x260e37(0x131)](_0x260e37(0x27d))[_0x260e37(0x116)],_0x3a9693={'questionText':_0x5c80cd['questionText']||'','explanation':_0x5c80cd[_0x260e37(0x439)]||_0x260e37(0x336),'questionType':_0x5c80cd['questionType']||_0x49c88f,'imageCode':_0x5c80cd['imageCode']||null};return(_0x3a9693[_0x260e37(0x3a9)]===_0x260e37(0x46e)||_0x3a9693['questionType']===_0x260e37(0x34e)||_0x3a9693[_0x260e37(0x3a9)]==='mixed'&&_0x5c80cd[_0x260e37(0x2b7)])&&(_0x3a9693[_0x260e37(0x2b7)]=_0x5c80cd[_0x260e37(0x2b7)]||[],_0x3a9693[_0x260e37(0x109)]=_0x5c80cd['correctAnswerIndex']!==undefined?_0x5c80cd[_0x260e37(0x109)]:0x0),(_0x3a9693[_0x260e37(0x3a9)]==='short_answer'||_0x3a9693[_0x260e37(0x3a9)]==='fill_in_no_choices'||_0x3a9693['questionType']===_0x260e37(0x3b4)&&_0x5c80cd[_0x260e37(0x2d9)])&&(_0x3a9693[_0x260e37(0x2d9)]=_0x5c80cd[_0x260e37(0x2d9)]||''),_0x3a9693[_0x260e37(0x3a9)]===_0x260e37(0x330)&&(_0x3a9693[_0x260e37(0xe6)]=_0x5c80cd[_0x260e37(0xe6)]===!![]),_0x3a9693['questionType']===_0x260e37(0x342)&&(_0x3a9693[_0x260e37(0x40e)]=_0x5c80cd[_0x260e37(0x40e)]||'',_0x3a9693[_0x260e37(0x433)]=_0x5c80cd[_0x260e37(0x433)]||'',_0x3a9693[_0x260e37(0x3f7)]=_0x5c80cd[_0x260e37(0x3f7)]||[]),_0x3a9693;}),_0x5b5296={'topic':currentQuizData[_0xb71973(0x387)]||_0xb71973(0x535),'quizType':currentQuizData['quizType']||_0xb71973(0x46e),'questions':_0x51eea9,'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0xb71973(0x355)](),'status':_0xb71973(0xfa),'settings':_0x46693e};let _0x4ef857;while(!![]){_0x4ef857=Math[_0xb71973(0xdf)](0x3e8+Math[_0xb71973(0x459)]()*0x2328)[_0xb71973(0xf1)]();const _0xe13327=await getDoc(doc(db,_0xb71973(0x412)+appId+'/public/data/quizzes',_0x4ef857));if(!_0xe13327['exists']())break;}await setDoc(doc(db,_0xb71973(0x412)+appId+'/public/data/quizzes',_0x4ef857),_0x5b5296),currentQuizData['settings']=_0x46693e,currentQuizData['id']=_0x4ef857;const _0x4dd53a=document[_0xb71973(0x131)](_0xb71973(0x45e));_0x4dd53a['innerHTML']=_0xb71973(0x51d)+_0x4ef857+_0xb71973(0xd3),document[_0xb71973(0x131)](_0xb71973(0x402))[_0xb71973(0x481)]('click',()=>copyTextToClipboard(_0x4ef857,_0xb71973(0x157))),document[_0xb71973(0x131)]('start-live-race-generated-btn')['addEventListener'](_0xb71973(0x447),()=>handleStartLiveRace(_0x4ef857)),document[_0xb71973(0x131)](_0xb71973(0x2c2))[_0xb71973(0x481)]('click',()=>startPresentation(currentQuizData)),document[_0xb71973(0x131)](_0xb71973(0x271))[_0xb71973(0x481)](_0xb71973(0x447),startAdminTest),showMessage(_0xb71973(0x123));}catch(_0x2b2964){console['error'](_0xb71973(0x1e2),_0x2b2964),showMessage('เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ'),_0x372f12[_0xb71973(0x136)]=![],_0x372f12[_0xb71973(0x19f)]=_0xb71973(0x266);}}function copyTextToClipboard(_0x527637,_0x4834c6){const _0x2f4ffe=_0x530be2,_0x2a3021=document['createElement'](_0x2f4ffe(0x471));_0x2a3021[_0x2f4ffe(0x116)]=_0x527637,_0x2a3021['style'][_0x2f4ffe(0x254)]='fixed',_0x2a3021[_0x2f4ffe(0x4ce)][_0x2f4ffe(0x353)]='0',document[_0x2f4ffe(0x3c4)][_0x2f4ffe(0x4b5)](_0x2a3021),_0x2a3021[_0x2f4ffe(0x1e1)](),_0x2a3021['select']();try{const _0x11aee4=document[_0x2f4ffe(0x4d6)]('copy');showMessage(_0x11aee4?_0x4834c6:_0x2f4ffe(0x510));}catch(_0x10d3d5){showMessage('คัดลอกไม่สำเร็จ'),console[_0x2f4ffe(0x339)](_0x2f4ffe(0x3ad),_0x10d3d5);}document['body'][_0x2f4ffe(0x4e3)](_0x2a3021);}function listenForProjectQuizzes(_0x2201dd){const _0x2f829d=_0x530be2,_0x163d45=collection(db,'artifacts/'+appId+_0x2f829d(0x349)),_0x87a38c=query(_0x163d45,where(_0x2f829d(0x4e4),'==',_0x2201dd));unsubscribeQuizzesListener=onSnapshot(_0x87a38c,async _0x5a1997=>{const _0x1732bd=_0x2f829d;allQuizzes=_0x5a1997[_0x1732bd(0x51e)][_0x1732bd(0x226)](_0x4e70ca=>({'id':_0x4e70ca['id'],..._0x4e70ca[_0x1732bd(0x3af)]()})),renderQuizzes();},_0x2f1992=>{const _0x470f27=_0x2f829d;console['error'](_0x470f27(0x3f0),_0x2f1992),document['getElementById'](_0x470f27(0x14f))[_0x470f27(0x19f)]=_0x470f27(0x4c3);});}async function renderQuizzes(){const _0x1fa4e8=_0x530be2,_0x268125=document['getElementById'](_0x1fa4e8(0x14f)),_0x4fee7d=document[_0x1fa4e8(0x131)]('quiz-search-input')[_0x1fa4e8(0x116)][_0x1fa4e8(0x468)]();let _0x36c11c;currentProjectId==='starred'?_0x36c11c=starredQuizzes:_0x36c11c=allQuizzes;let _0x2561c3=_0x36c11c['filter'](_0x3258f1=>_0x3258f1[_0x1fa4e8(0x387)][_0x1fa4e8(0x468)]()[_0x1fa4e8(0x259)](_0x4fee7d));_0x2561c3['sort']((_0x5932e9,_0x3a1a73)=>new Date(_0x3a1a73[_0x1fa4e8(0x2aa)])-new Date(_0x5932e9[_0x1fa4e8(0x2aa)]));if(_0x2561c3['length']===0x0){_0x268125[_0x1fa4e8(0x19f)]=_0x1fa4e8(0x3a8);return;}const _0x32bae3={},_0x1b2bde=_0x2561c3['map'](async _0x5b8af2=>{const _0x404a71=_0x1fa4e8,_0x377736=collection(db,_0x404a71(0x412)+appId+'/public/data/quizzes/'+_0x5b8af2['id']+_0x404a71(0x43d)),_0x38a39b=await getDocs(_0x377736);_0x32bae3[_0x5b8af2['id']]=_0x38a39b[_0x404a71(0x2e7)];});await Promise[_0x1fa4e8(0x51f)](_0x1b2bde);let _0x54e392='';_0x2561c3[_0x1fa4e8(0x3be)](_0x1dc71f=>{const _0x33c48e=_0x1fa4e8,_0x3c88ba=_0x32bae3[_0x1dc71f['id']]||0x0,_0x36c14a=_0x1dc71f['status']||_0x33c48e(0xfa),_0xd861be=_0x1dc71f[_0x33c48e(0x48f)]?.[_0x33c48e(0x49f)]||_0x33c48e(0x44b);let _0x55a639='',_0xc4f6f0='';const _0x2ad0de=new Date();let _0x48fbc8=_0x36c14a;if(_0x36c14a===_0x33c48e(0x170)){const _0x957b37=_0x1dc71f['startTime']?new Date(_0x1dc71f[_0x33c48e(0x2d4)]):null,_0x1fec0f=_0x1dc71f[_0x33c48e(0x141)]?new Date(_0x1dc71f[_0x33c48e(0x141)]):null;if(_0x1fec0f&&_0x2ad0de>_0x1fec0f)_0x48fbc8=_0x33c48e(0x50e);else _0x957b37&&_0x2ad0de<_0x957b37?_0x48fbc8=_0x33c48e(0x371):_0x48fbc8=_0x33c48e(0xfa);}switch(_0x48fbc8){case'inactive':_0x55a639=_0x33c48e(0x465),_0xc4f6f0=_0x33c48e(0x32c);break;case'scheduled_pending':_0x55a639=_0x33c48e(0x1a5),_0xc4f6f0=_0x33c48e(0x2c9);break;case _0x33c48e(0xfa):_0x55a639=_0xd861be!==_0x33c48e(0x44b)?'เปิด\x20(จับเวลา)':_0x33c48e(0x138),_0xc4f6f0=_0x33c48e(0x1c5);break;default:_0x55a639=_0x33c48e(0x4df),_0xc4f6f0=_0x33c48e(0x1c5);}let _0x459953='';const _0x221eac={'day':_0x33c48e(0x2cb),'month':_0x33c48e(0x2cb),'year':'numeric','hour':_0x33c48e(0x2cb),'minute':_0x33c48e(0x2cb),'hour12':![]};_0x36c14a===_0x33c48e(0x170)&&(_0x1dc71f[_0x33c48e(0x2d4)]&&(_0x459953+='<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20'+new Date(_0x1dc71f[_0x33c48e(0x2d4)])[_0x33c48e(0x4aa)](_0x33c48e(0x3bc),_0x221eac)+'</p>'),_0x1dc71f['endTime']&&(_0x459953+='<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20'+new Date(_0x1dc71f[_0x33c48e(0x141)])['toLocaleString'](_0x33c48e(0x3bc),_0x221eac)+'</p>')),_0x54e392+=_0x33c48e(0x4b8)+_0x1dc71f['id']+_0x33c48e(0x1bc)+_0x1dc71f[_0x33c48e(0x387)]+_0x33c48e(0x4ae)+_0x1dc71f['questions']['length']+_0x33c48e(0x1ea)+new Date(_0x1dc71f[_0x33c48e(0x2aa)])['toLocaleString']('th-TH')+_0x33c48e(0x1ca)+_0x3c88ba+_0x33c48e(0x10e)+_0x459953+_0x33c48e(0x3c6)+_0xc4f6f0+'\x22>'+_0x55a639+_0x33c48e(0x155)+_0x1dc71f['id']+_0x33c48e(0x44d)+_0x1dc71f['id']+'\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22'+(_0x1dc71f[_0x33c48e(0x1df)]?_0x33c48e(0x3cf):'far\x20fa-star')+_0x33c48e(0x203)+_0x1dc71f['id']+_0x33c48e(0x1be)+_0x1dc71f['id']+_0x33c48e(0x422)+_0x1dc71f['topic']+_0x33c48e(0x297)+_0x1dc71f['id']+_0x33c48e(0x4ad)+_0x1dc71f['id']+'\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x1dc71f['id']+_0x33c48e(0x3a5)+_0x1dc71f['id']+_0x33c48e(0x221)+_0x1dc71f['id']+_0x33c48e(0x12c)+_0x1dc71f['id']+_0x33c48e(0x4f1)+_0x1dc71f['id']+_0x33c48e(0x1ee)+_0x1dc71f['id']+'\x22\x20data-topic=\x22'+_0x1dc71f[_0x33c48e(0x387)]+_0x33c48e(0x505);}),_0x268125['innerHTML']=_0x54e392,document[_0x1fa4e8(0x1f7)](_0x1fa4e8(0x267))[_0x1fa4e8(0x3be)](_0x1a14ff=>{const _0x4c798f=_0x1fa4e8;_0x1a14ff[_0x4c798f(0x481)](_0x4c798f(0x447),()=>{const _0x285749=_0x4c798f,_0x7fbae=_0x1a14ff[_0x285749(0x30a)][_0x285749(0x385)];showQuizDetailView(_0x7fbae);});});}async function handleDuplicateQuiz(_0x1af5fe){const _0x7c3578=_0x530be2;try{const _0x5b349c=doc(db,_0x7c3578(0x412)+appId+_0x7c3578(0x349),_0x1af5fe),_0x57e6ba=await getDoc(_0x5b349c);if(_0x57e6ba[_0x7c3578(0x53b)]()){const _0x46ab8f=_0x57e6ba['data'](),_0x410950={..._0x46ab8f,'topic':_0x7c3578(0x1ab)+_0x46ab8f[_0x7c3578(0x387)],'createdAt':new Date()[_0x7c3578(0x355)]()};await addDoc(collection(db,_0x7c3578(0x412)+appId+_0x7c3578(0x349)),_0x410950),showMessage(_0x7c3578(0x3a3));}else throw new Error(_0x7c3578(0x3f6));}catch(_0x1eb051){console['error'](_0x7c3578(0xe7),_0x1eb051),showMessage(_0x7c3578(0x3b5));}}async function handleDeleteQuiz(_0x292574,_0x81352b=!![]){const _0x2b46c0=_0x530be2;try{const _0x76865c=writeBatch(db),_0x8dbf16=collection(db,_0x2b46c0(0x412)+appId+_0x2b46c0(0x462)+_0x292574+_0x2b46c0(0x43d)),_0x4864c9=await getDocs(_0x8dbf16);_0x4864c9[_0x2b46c0(0x3be)](_0x21e5e7=>{const _0x4d84c9=_0x2b46c0;_0x76865c[_0x4d84c9(0x1fd)](doc(_0x8dbf16,_0x21e5e7['id']));});const _0x47b4ae=doc(db,_0x2b46c0(0x412)+appId+_0x2b46c0(0x349),_0x292574);_0x76865c['delete'](_0x47b4ae),await _0x76865c[_0x2b46c0(0x3db)](),_0x81352b&&showMessage(_0x2b46c0(0x2b0));}catch(_0x5c7113){console[_0x2b46c0(0x339)](_0x2b46c0(0x1f0),_0x5c7113),_0x81352b&&showMessage('เกิดข้อผิดพลาดในการลบแบบทดสอบ');}}async function showQuizDetailView(_0x40058d){const _0x26af2d=_0x530be2;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0x26af2d(0x1db));try{const _0x34a3ec=doc(db,_0x26af2d(0x412)+appId+_0x26af2d(0x349),_0x40058d),_0x4df37b=await getDoc(_0x34a3ec);if(!_0x4df37b[_0x26af2d(0x53b)]()){showMessage(_0x26af2d(0xe4));return;}const _0x3d0e2c={'id':_0x4df37b['id'],..._0x4df37b[_0x26af2d(0x3af)]()};currentQuizData=_0x3d0e2c;const _0x6d229d=doc(db,_0x26af2d(0x412)+appId+_0x26af2d(0x441),_0x3d0e2c[_0x26af2d(0x4e4)]),_0x4861a5=await getDoc(_0x6d229d);_0x4861a5[_0x26af2d(0x53b)]()?(currentProjectData=_0x4861a5[_0x26af2d(0x3af)](),currentProjectId=_0x3d0e2c['projectId']):(currentProjectData={'students':[]},currentProjectId=_0x3d0e2c[_0x26af2d(0x4e4)]);document[_0x26af2d(0x131)](_0x26af2d(0x4fc))['textContent']=_0x3d0e2c['topic'],document[_0x26af2d(0x131)]('results-quiz-id-display')[_0x26af2d(0x361)]=_0x40058d;const _0x214bbb=collection(db,_0x26af2d(0x412)+appId+_0x26af2d(0x349),_0x40058d,'submissions');unsubscribeSubmissionsListener=onSnapshot(_0x214bbb,_0x18a61e=>{const _0x2a34af=_0x26af2d,_0x558d30=_0x18a61e[_0x2a34af(0x51e)][_0x2a34af(0x226)](_0x584e70=>({'id':_0x584e70['id'],..._0x584e70[_0x2a34af(0x3af)]()}));renderAnalytics(_0x3d0e2c,_0x558d30),renderQuizResultsTable(currentProjectData[_0x2a34af(0x1c2)],_0x558d30,_0x3d0e2c),renderQuizLeaderboard(_0x558d30,_0x3d0e2c,'quiz-leaderboard-table-body');}),showView('quiz-results');}catch(_0x743b43){console[_0x26af2d(0x339)](_0x26af2d(0x527),_0x743b43),showMessage(_0x26af2d(0x2a6));}}function renderQuizResultsTable(_0x31012f,_0x2ef0e4,_0x4d6484){const _0x1fc7bd=_0x530be2,_0x36f6ef=_0x2ef0e4['reduce']((_0x28ef3b,_0x4af427)=>{return _0x28ef3b[_0x4af427['studentName']]=_0x4af427,_0x28ef3b;},{}),_0x35b74b=document[_0x1fc7bd(0x131)](_0x1fc7bd(0x198));if(!_0x31012f||_0x31012f[_0x1fc7bd(0x540)]===0x0){_0x35b74b['innerHTML']=_0x1fc7bd(0xe1);return;}const _0x435184=_0x4d6484['isRemedial']===!![],_0x36b19b=_0x4d6484[_0x1fc7bd(0x48f)]?.[_0x1fc7bd(0x1a0)]??-0x1;let _0x12aa5b='';_0x31012f['forEach'](_0x8d80f=>{const _0x48e5de=_0x1fc7bd,_0x8ea161=_0x36f6ef[_0x8d80f];let _0x5d6f72=_0x48e5de(0x4cb),_0x3cb0a1=_0x48e5de(0x46a)+(_0x435184?'bg-amber-100\x20text-amber-800':_0x48e5de(0x2af))+'\x22>'+(_0x435184?_0x48e5de(0x458):'สอบปกติ')+_0x48e5de(0x1fe);if(_0x8ea161){let _0x205d5a;_0x435184?_0x205d5a=_0x8ea161[_0x48e5de(0x184)]===_0x8ea161[_0x48e5de(0x3bb)]:_0x205d5a=_0x36b19b!==-0x1&&_0x8ea161[_0x48e5de(0x184)]>=_0x36b19b;if(_0x435184||_0x36b19b!==-0x1){const _0x50d62b=_0x205d5a?_0x48e5de(0x26f):_0x48e5de(0x40d),_0x5c2e8b=_0x205d5a?'ผ่าน':_0x48e5de(0x19a);_0x5d6f72=_0x48e5de(0x2cf)+_0x50d62b+'\x22>'+_0x5c2e8b+'</span></td>';}const _0x5309ff=_0x48e5de(0x1c8)+(_0x8ea161[_0x48e5de(0x30f)]?.[_0x48e5de(0x540)]||0x1)+_0x48e5de(0xcb);_0x12aa5b+=_0x48e5de(0x2fd)+_0x8d80f+_0x48e5de(0x205)+_0x8ea161[_0x48e5de(0x184)]+'\x20/\x20'+_0x8ea161[_0x48e5de(0x3bb)]+_0x48e5de(0x36f)+_0x5d6f72+_0x48e5de(0x2c4)+_0x3cb0a1+_0x48e5de(0xdd)+_0x8ea161[_0x48e5de(0x1de)]+_0x48e5de(0x1b1)+_0x8ea161[_0x48e5de(0x3bb)]+_0x48e5de(0x507)+_0x8ea161[_0x48e5de(0x29f)]+_0x48e5de(0x326)+(_0x8ea161[_0x48e5de(0x2fa)]||0x0)+_0x48e5de(0x36f)+_0x5309ff+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>'+new Date(_0x8ea161['latestSubmittedAt'])[_0x48e5de(0x4aa)](_0x48e5de(0x3bc))+_0x48e5de(0x201);}else{const _0x365f24=_0x48e5de(0x264);_0x12aa5b+=_0x48e5de(0x2fd)+_0x8d80f+_0x48e5de(0x511)+_0x3cb0a1+_0x48e5de(0x27e)+_0x365f24+_0x48e5de(0x311);}}),_0x35b74b['innerHTML']=_0x12aa5b;}function handleRenameQuiz(_0x29d17e,_0x316640){const _0x348cb7=_0x530be2;actionTargetId=_0x29d17e,document[_0x348cb7(0x131)]('rename-quiz-input')['value']=_0x316640,renameQuizModal[_0x348cb7(0x162)][_0x348cb7(0x2db)]('hidden');}async function confirmRenameQuiz(){const _0x3d5371=_0x530be2,_0x2bea5d=document[_0x3d5371(0x131)](_0x3d5371(0x322))[_0x3d5371(0x116)][_0x3d5371(0x190)]();if(!_0x2bea5d){showMessage(_0x3d5371(0x3d5));return;}if(!actionTargetId)return;const _0x21b150=doc(db,_0x3d5371(0x412)+appId+_0x3d5371(0x349),actionTargetId);try{await updateDoc(_0x21b150,{'topic':_0x2bea5d}),showMessage('เปลี่ยนชื่อแบบทดสอบสำเร็จ'),renameQuizModal[_0x3d5371(0x162)][_0x3d5371(0x2bd)](_0x3d5371(0x217)),actionTargetId=null;}catch(_0x471fa5){console[_0x3d5371(0x339)](_0x3d5371(0x48c),_0x471fa5),showMessage('เกิดข้อผิดพลาดในการเปลี่ยนชื่อ');}}async function handleMoveQuiz(_0x5d7c2c){const _0x4f21ed=_0x530be2;actionTargetId=_0x5d7c2c;const _0x3f898a=document[_0x4f21ed(0x131)](_0x4f21ed(0x35a));_0x3f898a['innerHTML']=_0x4f21ed(0x199),moveQuizModal[_0x4f21ed(0x162)][_0x4f21ed(0x2db)]('hidden');try{const _0x464c68=collection(db,_0x4f21ed(0x412)+appId+'/public/data/projects'),_0x2d8cb5=await getDocs(_0x464c68),_0x36074e=_0x2d8cb5[_0x4f21ed(0x51e)][_0x4f21ed(0x226)](_0x2d0a9b=>({'id':_0x2d0a9b['id'],..._0x2d0a9b['data']()})),_0x3addd3=_0x36074e[_0x4f21ed(0x40b)](_0x34665d=>_0x34665d['id']!==currentProjectId);if(_0x3addd3[_0x4f21ed(0x540)]===0x0){_0x3f898a[_0x4f21ed(0x19f)]=_0x4f21ed(0x1f6),document[_0x4f21ed(0x131)](_0x4f21ed(0x4b6))['disabled']=!![];return;}_0x3f898a[_0x4f21ed(0x19f)]=_0x3addd3[_0x4f21ed(0x226)](_0x4fdcc2=>_0x4f21ed(0x134)+_0x4fdcc2['id']+'\x22>'+_0x4fdcc2[_0x4f21ed(0xe0)]+_0x4f21ed(0x130))[_0x4f21ed(0x4ca)](''),document['getElementById'](_0x4f21ed(0x4b6))[_0x4f21ed(0x136)]=![];}catch(_0x529b81){console['error'](_0x4f21ed(0x2de),_0x529b81),showMessage(_0x4f21ed(0x1fa)),moveQuizModal['classList']['add'](_0x4f21ed(0x217));}}async function confirmMoveQuiz(){const _0x4e6c48=_0x530be2,_0x3f8fe4=document[_0x4e6c48(0x131)](_0x4e6c48(0x35a))[_0x4e6c48(0x116)];if(!_0x3f8fe4){showMessage(_0x4e6c48(0x44c));return;}if(!actionTargetId)return;const _0x4fa40f=doc(db,_0x4e6c48(0x412)+appId+_0x4e6c48(0x349),actionTargetId);try{await updateDoc(_0x4fa40f,{'projectId':_0x3f8fe4}),showMessage(_0x4e6c48(0x2ca)),moveQuizModal[_0x4e6c48(0x162)]['add'](_0x4e6c48(0x217)),actionTargetId=null;}catch(_0x2e9512){console[_0x4e6c48(0x339)](_0x4e6c48(0x2d1),_0x2e9512),showMessage(_0x4e6c48(0x3fa));}}async function handleQuizSettings(_0x535d0d){const _0x340be5=_0x530be2;actionTargetId=_0x535d0d;const _0x57ec4a=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x535d0d);try{const _0x241383=await getDoc(_0x57ec4a);if(_0x241383[_0x340be5(0x53b)]()){const _0x43cf2c=_0x241383[_0x340be5(0x3af)](),_0x34fcd0=_0x43cf2c[_0x340be5(0x48f)]||{},_0x3a5bf2=_0x43cf2c['questions'][_0x340be5(0x540)];document['getElementById'](_0x340be5(0x40c))[_0x340be5(0x116)]=_0x34fcd0[_0x340be5(0xd6)]||_0x340be5(0x44b),document[_0x340be5(0x131)](_0x340be5(0x4d3))[_0x340be5(0x116)]=_0x34fcd0[_0x340be5(0x17c)]||_0x340be5(0x46d),document['getElementById'](_0x340be5(0x457))[_0x340be5(0x116)]=_0x34fcd0['timerMode']||_0x340be5(0x44b),document['getElementById'](_0x340be5(0x3c1))[_0x340be5(0x116)]=_0x34fcd0['timerDuration']||0xa,document[_0x340be5(0x131)](_0x340be5(0x415))[_0x340be5(0x116)]=_0x34fcd0[_0x340be5(0x1a0)]||Math[_0x340be5(0xdf)](_0x3a5bf2/0x2),document[_0x340be5(0x131)](_0x340be5(0x415))[_0x340be5(0x12f)]=_0x3a5bf2,document['getElementById'](_0x340be5(0xfd))[_0x340be5(0x42d)]=_0x34fcd0[_0x340be5(0x280)]||![],document['getElementById'](_0x340be5(0x457))[_0x340be5(0x443)](new Event(_0x340be5(0x1c7))),quizSettingsModal[_0x340be5(0x162)]['remove'](_0x340be5(0x217));}else showMessage(_0x340be5(0xe4));}catch(_0x22ad3c){console[_0x340be5(0x339)](_0x340be5(0x29a),_0x22ad3c),showMessage('เกิดข้อผิดพลาดในการโหลดการตั้งค่า');}}async function confirmQuizSettings(){const _0x11ff06=_0x530be2;if(!actionTargetId)return;const _0xe49ff2=doc(db,_0x11ff06(0x412)+appId+_0x11ff06(0x349),actionTargetId),_0x5db547={'shuffle':document['getElementById'](_0x11ff06(0x40c))['value'],'resultsDisplay':document[_0x11ff06(0x131)](_0x11ff06(0x4d3))[_0x11ff06(0x116)],'timerMode':document[_0x11ff06(0x131)](_0x11ff06(0x457))[_0x11ff06(0x116)],'timerDuration':parseInt(document[_0x11ff06(0x131)](_0x11ff06(0x3c1))['value'])||0xa,'passingScore':parseInt(document[_0x11ff06(0x131)](_0x11ff06(0x415))['value'])||0x0,'passingScore':parseInt(document[_0x11ff06(0x131)](_0x11ff06(0x415))[_0x11ff06(0x116)])||0x0,'isAdaptive':document['getElementById']('modal-adaptive-quiz-checkbox')['checked']};try{await updateDoc(_0xe49ff2,{'settings':_0x5db547}),showMessage('บันทึกการตั้งค่าสำเร็จ'),quizSettingsModal[_0x11ff06(0x162)][_0x11ff06(0x2bd)](_0x11ff06(0x217)),actionTargetId=null;}catch(_0x377b5f){console[_0x11ff06(0x339)](_0x11ff06(0x172),_0x377b5f),showMessage(_0x11ff06(0x287));}}async function handleQuizStatus(_0x4148b0){const _0xf4d84d=_0x530be2;actionTargetId=_0x4148b0;const _0x32aece=doc(db,'artifacts/'+appId+_0xf4d84d(0x349),_0x4148b0);try{const _0x25078b=await getDoc(_0x32aece);if(_0x25078b[_0xf4d84d(0x53b)]()){const _0x177de9=_0x25078b[_0xf4d84d(0x3af)](),_0x20af21=_0x177de9[_0xf4d84d(0x4dc)]||_0xf4d84d(0xfa),_0x47ee73=document['getElementById'](_0xf4d84d(0x4c9)),_0x25c7b1=document[_0xf4d84d(0x131)](_0xf4d84d(0x364)),_0x8925ea=document['getElementById'](_0xf4d84d(0x306));let _0x541129=_0xf4d84d(0x446)+(_0x20af21===_0xf4d84d(0xfa)?'checked':'')+_0xf4d84d(0x23f)+(_0x20af21==='inactive'?_0xf4d84d(0x42d):'')+_0xf4d84d(0x167)+(_0x20af21===_0xf4d84d(0x170)?_0xf4d84d(0x42d):'')+_0xf4d84d(0x2e4);_0x47ee73[_0xf4d84d(0x19f)]=_0x541129;const _0x1b6e7f=_0x20af21==='scheduled';_0x25c7b1[_0xf4d84d(0x162)]['toggle'](_0xf4d84d(0x217),!_0x1b6e7f),_0x8925ea['classList'][_0xf4d84d(0xd4)](_0xf4d84d(0x217),!_0x1b6e7f),document[_0xf4d84d(0x131)](_0xf4d84d(0x112))['value']=_0x177de9[_0xf4d84d(0x2d4)]?_0x177de9[_0xf4d84d(0x2d4)]['substring'](0x0,0x10):'',document[_0xf4d84d(0x131)](_0xf4d84d(0x1da))[_0xf4d84d(0x116)]=_0x177de9[_0xf4d84d(0x141)]?_0x177de9[_0xf4d84d(0x141)][_0xf4d84d(0x23b)](0x0,0x10):'',_0x47ee73[_0xf4d84d(0x1f7)](_0xf4d84d(0xfb))['forEach'](_0x2c5239=>{const _0x198b0e=_0xf4d84d;_0x2c5239['addEventListener'](_0x198b0e(0x1c7),_0x594702=>{const _0x786b8b=_0x198b0e,_0x2b5c45=_0x594702['target'][_0x786b8b(0x116)]===_0x786b8b(0x127);_0x25c7b1[_0x786b8b(0x162)][_0x786b8b(0xd4)]('hidden',!_0x2b5c45),_0x8925ea[_0x786b8b(0x162)]['toggle'](_0x786b8b(0x217),!_0x2b5c45);});}),quizStatusModal['classList']['remove'](_0xf4d84d(0x217));}}catch(_0x4c8f08){console['error'](_0xf4d84d(0x4b9),_0x4c8f08),showMessage('เกิดข้อผิดพลาดในการโหลดสถานะ');}}async function confirmQuizStatus(){const _0x2921ad=_0x530be2;if(!actionTargetId)return;const _0x1da3d2=doc(db,_0x2921ad(0x412)+appId+_0x2921ad(0x349),actionTargetId),_0x5c3c51=document[_0x2921ad(0x238)](_0x2921ad(0x243));if(!_0x5c3c51){showMessage('กรุณาเลือกสถานะ');return;}const _0x184169=_0x5c3c51[_0x2921ad(0x116)];let _0x517f57={};if(_0x184169==='active'||_0x184169===_0x2921ad(0x50e))_0x517f57={'status':_0x184169,'startTime':null,'endTime':null};else{if(_0x184169===_0x2921ad(0x127)){const _0x51ae0b=document[_0x2921ad(0x131)](_0x2921ad(0x112))[_0x2921ad(0x116)],_0x183ffd=document[_0x2921ad(0x131)](_0x2921ad(0x1da))[_0x2921ad(0x116)];if(!_0x51ae0b&&!_0x183ffd){showMessage(_0x2921ad(0x20f));return;}_0x517f57={'status':'scheduled','startTime':_0x51ae0b?new Date(_0x51ae0b)[_0x2921ad(0x355)]():null,'endTime':_0x183ffd?new Date(_0x183ffd)[_0x2921ad(0x355)]():null};}}try{await updateDoc(_0x1da3d2,_0x517f57),showMessage('อัปเดตสถานะสำเร็จ'),quizStatusModal['classList'][_0x2921ad(0x2bd)]('hidden'),actionTargetId=null;}catch(_0x199b0d){console[_0x2921ad(0x339)](_0x2921ad(0x283),_0x199b0d),showMessage(_0x2921ad(0x1dd));}}function _0x58ae(_0x16ad8f,_0x538daf){const _0x51f20f=_0x51f2();return _0x58ae=function(_0x58aeca,_0x24a04c){_0x58aeca=_0x58aeca-0xc3;let _0x11cef3=_0x51f20f[_0x58aeca];return _0x11cef3;},_0x58ae(_0x16ad8f,_0x538daf);}function listenForStudentProfiles(_0x4e1e0a){const _0x1a442f=_0x530be2,_0x2c269d=collection(db,_0x1a442f(0x412)+appId+_0x1a442f(0x27a)+_0x4e1e0a+'/studentProfiles');unsubscribeStudentProfilesListener=onSnapshot(_0x2c269d,_0x4a28c8=>{const _0xa632a=_0x1a442f,_0x55717e=_0x4a28c8[_0xa632a(0x51e)][_0xa632a(0x226)](_0x7701db=>_0x7701db[_0xa632a(0x3af)]());renderLeaderboard(_0x55717e,'leaderboard-table-body');},_0x41f469=>{const _0x5b62ef=_0x1a442f;console['error']('Error\x20listening\x20for\x20student\x20profiles:',_0x41f469),document[_0x5b62ef(0x131)](_0x5b62ef(0x41d))[_0x5b62ef(0x19f)]=_0x5b62ef(0x521);});}function renderLeaderboard(_0xf74627,_0x573793){const _0x1a00d1=_0x530be2,_0x15de54=document['getElementById'](_0x573793);if(!_0xf74627||_0xf74627['length']===0x0){_0x15de54[_0x1a00d1(0x19f)]=_0x1a00d1(0x4bf);return;}_0xf74627[_0x1a00d1(0x3e1)]((_0x3086b2,_0x1c1194)=>{const _0x44756f=_0x1a00d1,_0x4b4a1b=(_0x1c1194['totalPoints']||0x0)-(_0x3086b2[_0x44756f(0x1b0)]||0x0);if(_0x4b4a1b!==0x0)return _0x4b4a1b;const _0x5e4e7e=(_0x1c1194[_0x44756f(0x33a)]?.[_0x44756f(0x2ab)]||0x0)-(_0x3086b2[_0x44756f(0x33a)]?.[_0x44756f(0x2ab)]||0x0);if(_0x5e4e7e!==0x0)return _0x5e4e7e;const _0x3b4717=(_0x1c1194[_0x44756f(0x33a)]?.[_0x44756f(0x20b)]||0x0)-(_0x3086b2[_0x44756f(0x33a)]?.['first_try_ace']||0x0);if(_0x3b4717!==0x0)return _0x3b4717;const _0x3d53ce=(_0x1c1194['badgesCount']?.['perfect_score']||0x0)-(_0x3086b2[_0x44756f(0x33a)]?.['perfect_score']||0x0);if(_0x3d53ce!==0x0)return _0x3d53ce;const _0x390e88=(_0x1c1194[_0x44756f(0x33a)]?.[_0x44756f(0x1b9)]||0x0)-(_0x3086b2[_0x44756f(0x33a)]?.[_0x44756f(0x1b9)]||0x0);if(_0x390e88!==0x0)return _0x390e88;return _0x3086b2[_0x44756f(0x37a)][_0x44756f(0x27c)](_0x1c1194[_0x44756f(0x37a)],'th');});let _0x54a2e3='';_0xf74627[_0x1a00d1(0x3be)]((_0x37228a,_0x49a499)=>{const _0x2163eb=_0x1a00d1,_0x34f9a4=_0x49a499+0x1,_0x5040fb=_0x37228a[_0x2163eb(0x33a)]||{};let _0xb8693a='';const _0xa3f989=[_0x2163eb(0x2ab),_0x2163eb(0x3bf),_0x2163eb(0x20b),_0x2163eb(0x1b9)];_0xa3f989[_0x2163eb(0x3be)](_0xec4264=>{const _0x104b92=_0x2163eb;if(_0x5040fb[_0xec4264]>0x0){const _0x1f72e9=Object[_0x104b92(0x119)](BADGES)[_0x104b92(0x249)](_0xb75608=>_0xb75608['id']===_0xec4264);_0x1f72e9&&(_0xec4264===_0x104b92(0x2ab)?_0xb8693a+=_0x104b92(0x4bb)+_0x1f72e9[_0x104b92(0x45c)]+_0x104b92(0x4d9)+_0x1f72e9[_0x104b92(0x26d)]+_0x104b92(0x202):_0xb8693a+=_0x104b92(0x4bb)+_0x1f72e9[_0x104b92(0x45c)]+'\x20('+_0x5040fb[_0xec4264]+_0x104b92(0x24f)+_0x1f72e9['icon']+_0x104b92(0x494)+_0x5040fb[_0xec4264]+_0x104b92(0x537));}}),_0x54a2e3+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>'+_0x34f9a4+_0x2163eb(0x2a9)+_0x37228a[_0x2163eb(0x37a)]+_0x2163eb(0x4a6)+(_0x37228a[_0x2163eb(0x1b0)]||0x0)+_0x2163eb(0x2a9)+(_0xb8693a||'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x15de54['innerHTML']=_0x54a2e3;}function renderQuizLeaderboard(_0x266313,_0x156257,_0x1bba90){const _0x5d9956=_0x530be2,_0x3bec72=document[_0x5d9956(0x131)](_0x1bba90),_0x58ab53=_0x1bba90===_0x5d9956(0x183),_0x38c291=_0x156257[_0x5d9956(0x3e7)]['length'];if(!_0x266313||_0x266313[_0x5d9956(0x540)]===0x0){_0x3bec72['innerHTML']='<tr><td\x20colspan=\x22'+(_0x58ab53?0x6:0x8)+_0x5d9956(0x117);return;}_0x266313[_0x5d9956(0x3e1)]((_0x413686,_0x1ed3a1)=>{const _0x33e11e=_0x5d9956;if(_0x1ed3a1['bestScore']!==_0x413686[_0x33e11e(0x184)])return _0x1ed3a1[_0x33e11e(0x184)]-_0x413686['bestScore'];return new Date(_0x413686[_0x33e11e(0x464)])-new Date(_0x1ed3a1['latestSubmittedAt']);});const _0x561e32=_0x156257[_0x5d9956(0x260)]===!![],_0x5c020a=_0x156257['settings']?.[_0x5d9956(0x1a0)]??-0x1;let _0x4281f5='';_0x266313[_0x5d9956(0x3be)]((_0x100ecf,_0x1f954c)=>{const _0x953d35=_0x5d9956,_0x12f276=_0x1f954c+0x1;let _0x55a219=_0x953d35(0x52f);if(_0x561e32||_0x5c020a!==-0x1){let _0x4edf0a;_0x561e32?_0x4edf0a=_0x100ecf[_0x953d35(0x184)]===_0x38c291:_0x4edf0a=_0x100ecf['bestScore']>=_0x5c020a;const _0x589ad3=_0x4edf0a?_0x953d35(0x26f):'bg-red-100\x20text-red-800',_0x191030=_0x4edf0a?_0x953d35(0x1dc):'ไม่ผ่าน';_0x55a219=_0x953d35(0x1e7)+_0x589ad3+'\x22>'+_0x191030+_0x953d35(0x1fe);}const _0x9af9d9=_0x100ecf[_0x953d35(0x30f)][_0x100ecf[_0x953d35(0x30f)][_0x953d35(0x540)]-0x1],_0x4a8926=(_0x9af9d9[_0x953d35(0x473)]||[])[_0x953d35(0x226)](_0x4fb08c=>{const _0x7d4d8e=_0x953d35,_0x3acc2f=Object[_0x7d4d8e(0x119)](BADGES)[_0x7d4d8e(0x249)](_0x286bc2=>_0x286bc2['id']===_0x4fb08c);return _0x3acc2f?'<span\x20title=\x22'+_0x3acc2f[_0x7d4d8e(0x45c)]+'\x22><i\x20class=\x22fas\x20'+_0x3acc2f[_0x7d4d8e(0x26d)]+'\x20mx-1\x20text-lg\x22></i></span>':'';})[_0x953d35(0x4ca)]('');_0x4281f5+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>'+_0x12f276+_0x953d35(0x2a9)+_0x100ecf[_0x953d35(0x37a)]+_0x953d35(0x542)+_0x100ecf[_0x953d35(0x184)]+_0x953d35(0x1b1)+_0x38c291+_0x953d35(0x192)+_0x55a219+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>'+(_0x100ecf[_0x953d35(0x2fa)]||0x0)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x58ab53?'':'<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>'+(_0x100ecf[_0x953d35(0x30f)]?.[_0x953d35(0x540)]||0x1)+_0x953d35(0x437))+_0x953d35(0x224)+(_0x58ab53?'':_0x953d35(0x1b8)+new Date(_0x100ecf[_0x953d35(0x464)])[_0x953d35(0x4aa)]('th-TH')+_0x953d35(0x437))+_0x953d35(0x3c5)+(_0x4a8926||'-')+_0x953d35(0x400);}),_0x3bec72[_0x5d9956(0x19f)]=_0x4281f5;}async function handleLoadQuiz(){const _0x1e5698=_0x530be2,_0x57fdb4=document['getElementById'](_0x1e5698(0x3b1)),_0x3dea5e=_0x57fdb4[_0x1e5698(0x116)][_0x1e5698(0x190)]();if(!_0x3dea5e){showMessage('กรุณาป้อนรหัสแบบทดสอบ');return;}loadQuizBtn[_0x1e5698(0x136)]=!![],loadQuizBtn[_0x1e5698(0x19f)]=_0x1e5698(0x4ba);try{const _0x26020b=doc(db,_0x1e5698(0x412)+appId+_0x1e5698(0x349),_0x3dea5e),_0x2407a7=await getDoc(_0x26020b);if(!_0x2407a7[_0x1e5698(0x53b)]()){showMessage(_0x1e5698(0x24c));return;}currentQuizData=sanitizeQuizData({'id':_0x2407a7['id'],..._0x2407a7[_0x1e5698(0x3af)]()});const _0x2c986c=currentQuizData[_0x1e5698(0x4dc)]||_0x1e5698(0xfa),_0xe8a9b6=new Date();if(_0x2c986c===_0x1e5698(0x50e)){showMessage('แบบทดสอบนี้ปิดใช้งานอยู่');return;}if(_0x2c986c===_0x1e5698(0x170)){const _0x1eef00=currentQuizData[_0x1e5698(0x2d4)]?new Date(currentQuizData[_0x1e5698(0x2d4)]):null,_0x103dae=currentQuizData[_0x1e5698(0x141)]?new Date(currentQuizData[_0x1e5698(0x141)]):null;if(_0x1eef00&&_0xe8a9b6<_0x1eef00){showMessage(_0x1e5698(0x3c3)+_0x1eef00[_0x1e5698(0x4aa)](_0x1e5698(0x3bc),{'hour12':![]}));return;}if(_0x103dae&&_0xe8a9b6>_0x103dae){showMessage('แบบทดสอบนี้หมดเวลาแล้ว');return;}}const _0x2609ae=currentQuizData[_0x1e5698(0x4e4)];currentProjectId=_0x2609ae;const _0x14edad=doc(db,_0x1e5698(0x412)+appId+_0x1e5698(0x441),_0x2609ae),_0x646c29=await getDoc(_0x14edad);if(!_0x646c29[_0x1e5698(0x53b)]()){showMessage(_0x1e5698(0x42c));return;}const _0x4b0133=_0x646c29[_0x1e5698(0x3af)]();currentStudentProjectData=_0x4b0133,displayStudentNameSelector(_0x4b0133['students'],currentQuizData['topic']);}catch(_0x1c0b27){console[_0x1e5698(0x339)](_0x1e5698(0x4cd),_0x1c0b27),showMessage(_0x1e5698(0x328));}finally{loadQuizBtn[_0x1e5698(0x136)]=![],loadQuizBtn[_0x1e5698(0x19f)]=_0x1e5698(0x1e5);}}async function handleJoinLiveGame(){const _0xe36b46=_0x530be2,_0x1a335d=document[_0xe36b46(0x131)](_0xe36b46(0x4e1)),_0x265179=document[_0xe36b46(0x131)](_0xe36b46(0x4e5)),_0x4a42dc=document['getElementById'](_0xe36b46(0x4db)),_0x5b3c3d=_0x1a335d[_0xe36b46(0x116)][_0xe36b46(0x190)](),_0x24442e=_0x265179['value']['trim']();if(!_0x5b3c3d||!_0x24442e){showMessage('กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน');return;}_0x4a42dc[_0xe36b46(0x136)]=!![],_0x4a42dc[_0xe36b46(0x19f)]=_0xe36b46(0x325);try{const _0x2120bd=collection(db,_0xe36b46(0x412)+appId+_0xe36b46(0xd0)),_0x53c5c7=query(_0x2120bd,where(_0xe36b46(0x522),'==',_0x5b3c3d)),_0x1e949d=await getDocs(_0x53c5c7);if(_0x1e949d[_0xe36b46(0xf7)]){showMessage(_0xe36b46(0x4a0));return;}const _0x48fc54=_0x1e949d['docs'][0x0],_0x31f8f0=_0x48fc54[_0xe36b46(0x3af)]();if(_0x31f8f0[_0xe36b46(0x4dc)]!=='lobby'){showMessage('ขออภัย\x20เกมนี้ได้เริ่มไปแล้ว\x20ไม่สามารถเข้าร่วมได้');return;}currentLiveGameId=_0x48fc54['id'];const _0x2e8b6c=_0x31f8f0['quizId'],_0x3fea53=doc(db,_0xe36b46(0x412)+appId+_0xe36b46(0x349),_0x2e8b6c),_0x20b93b=await getDoc(_0x3fea53);if(!_0x20b93b['exists']()){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้');return;}currentQuizData=sanitizeQuizData({'id':_0x20b93b['id'],..._0x20b93b[_0xe36b46(0x3af)]()});if(_0x31f8f0['players']&&_0x31f8f0[_0xe36b46(0x526)][_0x24442e]){showMessage(_0xe36b46(0x156));return;}const _0x181e25={};_0x181e25['players.'+_0x24442e]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0},await updateDoc(doc(db,_0xe36b46(0x412)+appId+'/public/data/liveGames',currentLiveGameId),_0x181e25),currentStudentName=_0x24442e,listenForLiveGameUpdates();}catch(_0x509077){console[_0xe36b46(0x339)](_0xe36b46(0x39f),_0x509077),showMessage('เกิดข้อผิดพลาดในการเข้าร่วมเกม');}finally{_0x4a42dc[_0xe36b46(0x136)]=![],_0x4a42dc['innerHTML']=_0xe36b46(0x153);}}function displayStudentNameSelector(_0x4cc64f,_0x5779c6){const _0x110c98=_0x530be2,_0x28ecd2=document[_0x110c98(0x131)]('student-name-select');document['getElementById'](_0x110c98(0x1d1))[_0x110c98(0x361)]=_0x110c98(0x332)+_0x5779c6,!_0x4cc64f||_0x4cc64f[_0x110c98(0x540)]===0x0?(_0x28ecd2['innerHTML']=_0x110c98(0x4b0),startQuizBtn[_0x110c98(0x136)]=!![]):(_0x28ecd2['innerHTML']='<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>',_0x4cc64f['forEach'](_0x57f5d9=>{const _0x397008=_0x110c98,_0x40cad9=document[_0x397008(0x302)](_0x397008(0x309));_0x40cad9[_0x397008(0x116)]=_0x57f5d9,_0x40cad9[_0x397008(0x361)]=_0x57f5d9,_0x28ecd2['appendChild'](_0x40cad9);}),startQuizBtn[_0x110c98(0x136)]=![]),studentInitialView[_0x110c98(0x162)]['add'](_0x110c98(0x217)),studentNameSelectionView[_0x110c98(0x162)][_0x110c98(0x2db)](_0x110c98(0x217));}function shuffleArray(_0x4457fb){const _0x120093=_0x530be2;for(let _0x43d042=_0x4457fb[_0x120093(0x540)]-0x1;_0x43d042>0x0;_0x43d042--){const _0x47ee34=Math[_0x120093(0xdf)](Math[_0x120093(0x459)]()*(_0x43d042+0x1));[_0x4457fb[_0x43d042],_0x4457fb[_0x47ee34]]=[_0x4457fb[_0x47ee34],_0x4457fb[_0x43d042]];}}function getShuffledQuiz(_0x4a6964){const _0x18e3a1=_0x530be2;let _0x40e014=JSON[_0x18e3a1(0x3c9)](JSON['stringify'](_0x4a6964));const _0x3fe186=_0x40e014[_0x18e3a1(0x48f)]?.[_0x18e3a1(0xd6)]||_0x18e3a1(0x44b);if(_0x3fe186===_0x18e3a1(0x44b))return _0x40e014;return(_0x3fe186===_0x18e3a1(0x122)||_0x3fe186===_0x18e3a1(0x424))&&shuffleArray(_0x40e014[_0x18e3a1(0x3e7)]),(_0x3fe186==='choices_only'||_0x3fe186===_0x18e3a1(0x424))&&_0x40e014[_0x18e3a1(0x3e7)][_0x18e3a1(0x3be)](_0x2b7a9f=>{const _0x32a26e=_0x18e3a1,_0x496827=_0x2b7a9f['questionType']||_0x40e014[_0x32a26e(0xff)];if(_0x2b7a9f[_0x32a26e(0x2b7)]){let _0x69cc35=_0x2b7a9f[_0x32a26e(0x2b7)][_0x32a26e(0x226)]((_0x15035a,_0xe05f4b)=>({'text':_0x15035a,'isCorrect':_0xe05f4b===_0x2b7a9f['correctAnswerIndex']}));shuffleArray(_0x69cc35),_0x2b7a9f['options']=_0x69cc35[_0x32a26e(0x226)](_0x32ec71=>_0x32ec71[_0x32a26e(0x2a8)]),_0x2b7a9f[_0x32a26e(0x109)]=_0x69cc35[_0x32a26e(0x404)](_0xb03a5c=>_0xb03a5c[_0x32a26e(0x1a7)]);}_0x496827===_0x32a26e(0x342)&&_0x2b7a9f[_0x32a26e(0x3f7)]&&shuffleArray(_0x2b7a9f[_0x32a26e(0x3f7)]);}),_0x40e014;}function displayQuizForStudent(_0x5524c6){const _0x1a681e=_0x530be2;studentQuizArea[_0x1a681e(0x162)][_0x1a681e(0x2db)](_0x1a681e(0x217)),currentDisplayedQuiz=getShuffledQuiz(_0x5524c6);const _0x88ac26=currentDisplayedQuiz['settings']?.[_0x1a681e(0x49f)]||_0x1a681e(0x44b);if(_0x88ac26===_0x1a681e(0x2b6))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0x1a681e(0x48f)]['timerDuration']);else _0x88ac26==='per_question'?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x5d76e2=_0x530be2;let _0x627909=_0x5d76e2(0x1e9)+currentDisplayedQuiz['topic']+_0x5d76e2(0x4ff)+(currentMode===_0x5d76e2(0x4f8)?_0x5d76e2(0x4ea):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';currentDisplayedQuiz[_0x5d76e2(0x3e7)]['forEach']((_0x3cdd4e,_0x19af21)=>{const _0x5c839f=_0x5d76e2,_0x1ec11f=_0x3cdd4e[_0x5c839f(0x3a9)]||currentDisplayedQuiz[_0x5c839f(0xff)];_0x627909+=_0x5c839f(0x1cb);_0x1ec11f===_0x5c839f(0x342)?_0x627909+=_0x5c839f(0x518)+(_0x19af21+0x1)+'.\x20'+_0x3cdd4e[_0x5c839f(0x40e)]+_0x5c839f(0x3eb)+_0x19af21+_0x5c839f(0x52c)+_0x3cdd4e['allResponses']['map'](_0x12c913=>_0x5c839f(0x134)+_0x12c913+'\x22>'+_0x12c913+_0x5c839f(0x130))[_0x5c839f(0x4ca)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a':(_0x627909+=_0x5c839f(0x388)+(_0x19af21+0x1)+'.\x20'+(_0x3cdd4e[_0x5c839f(0x12b)]||_0x3cdd4e[_0x5c839f(0xce)])+_0x5c839f(0x2a7),_0x3cdd4e[_0x5c839f(0x382)]&&(_0x627909+='<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x3cdd4e['imageCode']+'</div>'));_0x627909+=_0x5c839f(0x1f1);switch(_0x1ec11f){case _0x5c839f(0x515):_0x627909+=_0x5c839f(0x207)+_0x19af21+_0x5c839f(0x2f2);break;case _0x5c839f(0x330):_0x627909+=_0x5c839f(0x316)+_0x19af21+_0x5c839f(0x474)+_0x19af21+_0x5c839f(0x212)+_0x19af21+_0x5c839f(0x428),_0x627909+=_0x5c839f(0x316)+_0x19af21+_0x5c839f(0x143)+_0x19af21+_0x5c839f(0x36b)+_0x19af21+_0x5c839f(0x178);break;case _0x5c839f(0x342):break;case _0x5c839f(0x124):case _0x5c839f(0x46e):default:_0x627909+=_0x3cdd4e[_0x5c839f(0x2b7)][_0x5c839f(0x226)]((_0x385e9b,_0x290713)=>'\x0a\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q'+_0x19af21+'_opt'+_0x290713+_0x5c839f(0x210)+_0x19af21+_0x5c839f(0x4d0)+_0x290713+_0x5c839f(0xc6)+_0x19af21+_0x5c839f(0x114)+_0x290713+'\x22>'+_0x385e9b+'</label>\x0a\x20\x20\x20\x20</div>\x0a')['join']('');break;}_0x627909+=_0x5c839f(0xef);}),_0x627909+=_0x5d76e2(0x34d),_0x627909+=_0x5d76e2(0x449),studentQuizArea['innerHTML']=_0x627909;if(currentMode===_0x5d76e2(0x4f8)){const _0x525941=document['getElementById'](_0x5d76e2(0x42a));if(_0x525941)_0x525941[_0x5d76e2(0x481)](_0x5d76e2(0x447),cancelAdminTest);}document[_0x5d76e2(0x131)](_0x5d76e2(0x126))[_0x5d76e2(0x481)]('submit',handleSubmitQuiz);if(window[_0x5d76e2(0x493)])window['MathJax']['typesetPromise']([studentQuizArea]);}async function handleSubmitQuiz(_0x2f20e6){const _0x4cfd6e=_0x530be2;if(_0x2f20e6)_0x2f20e6['preventDefault']();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x194ee5=document[_0x4cfd6e(0x131)](_0x4cfd6e(0x126));if(!_0x194ee5)return;const _0x4e3d80=_0x194ee5['querySelector'](_0x4cfd6e(0x11f)),_0x433e01=currentDisplayedQuiz['questions'][_0x4cfd6e(0x3a1)](_0x3fa7b3=>_0x3fa7b3[_0x4cfd6e(0x3a9)]==='short_answer');_0x4e3d80&&(_0x4e3d80['disabled']=!![],_0x433e01?_0x4e3d80[_0x4cfd6e(0x19f)]=_0x4cfd6e(0x3f9):_0x4e3d80[_0x4cfd6e(0x19f)]=_0x4cfd6e(0x43c));const _0x77e7db=new FormData(_0x194ee5),_0x2a3572=currentDisplayedQuiz[_0x4cfd6e(0x3e7)][_0x4cfd6e(0x226)]((_0xa3a930,_0x59d5c1)=>{const _0x49c244=_0x4cfd6e,_0x587ec1=_0xa3a930[_0x49c244(0x3a9)]||currentDisplayedQuiz[_0x49c244(0xff)],_0x48abde=_0x77e7db[_0x49c244(0x140)]('question'+_0x59d5c1);if(_0x48abde!==null&&_0x48abde!==undefined){if(_0x587ec1===_0x49c244(0x46e)||_0x587ec1===_0x49c244(0x124))return parseInt(_0x48abde);return _0x48abde;}return null;}),_0x378b4b=currentQuizData['id'],_0x151ccf=doc(db,'artifacts/'+appId+_0x4cfd6e(0x462)+_0x378b4b+_0x4cfd6e(0x43d),currentStudentName),_0x52aa22=await getDoc(_0x151ccf),_0x2540c4=_0x52aa22[_0x4cfd6e(0x53b)]()?_0x52aa22[_0x4cfd6e(0x3af)]():{},_0x1346f3=_0x2540c4[_0x4cfd6e(0x30f)]||[];await processAndSubmitAnswers(_0x2a3572,_0x1346f3);}async function gradeShortAnswerWithAI(_0x53ed3d,_0x1a36bf){const _0x5e5d05=_0x530be2;if(!_0x53ed3d||!_0x1a36bf)return![];try{const _0x23129b=_0x5e5d05(0xdc)+_0x53ed3d+'\x22.\x20Ideal\x20Answer:\x20\x22'+_0x1a36bf+_0x5e5d05(0x1ae),_0x3eb7e5={'contents':[{'role':_0x5e5d05(0x24a),'parts':[{'text':_0x23129b}]}]},_0x4342bc=_0x5e5d05(0x350),_0x38262f=_0x5e5d05(0x456)+_0x4342bc,_0x1caeb9=await fetch(_0x38262f,{'method':'POST','headers':{'Content-Type':'application/json'},'body':JSON[_0x5e5d05(0x53e)](_0x3eb7e5)});if(!_0x1caeb9['ok'])throw new Error(_0x5e5d05(0x154));const _0x506abd=await _0x1caeb9['json'](),_0x3d291b=_0x506abd['candidates'][0x0]['content'][_0x5e5d05(0x3b3)][0x0][_0x5e5d05(0x2a8)][_0x5e5d05(0x190)]()['toLowerCase']();return _0x3d291b==='true';}catch(_0x115442){return console[_0x5e5d05(0x339)](_0x5e5d05(0x232),_0x115442),![];}}async function processAndSubmitAnswers(_0x1af113,_0x1599fd){const _0x2e98ba=_0x530be2;let _0x1fc5a4=0x0,_0x445662=0x0,_0x389b95=[];const _0x4f7a2a=[],_0xd420ab=currentDisplayedQuiz[_0x2e98ba(0x3e7)][_0x2e98ba(0x540)];let _0x254b3c=0x0;const _0x5c43f0=currentDisplayedQuiz['questions'];for(let _0x52b0e6=0x0;_0x52b0e6<_0x5c43f0[_0x2e98ba(0x540)];_0x52b0e6++){const _0x14a1f8=_0x5c43f0[_0x52b0e6],_0x42559d=_0x1af113[_0x52b0e6],_0x1b2f1d=_0x14a1f8[_0x2e98ba(0x3a9)]||currentDisplayedQuiz[_0x2e98ba(0xff)];let _0x578c4e=![];if(_0x42559d!==null&&_0x42559d!=='')switch(_0x1b2f1d){case _0x2e98ba(0x342):_0x578c4e=_0x42559d===_0x14a1f8[_0x2e98ba(0x433)];break;case'true_false':const _0xb5bf4a=_0x42559d===!![]||_0x42559d===_0x2e98ba(0x2a4);_0x578c4e=_0xb5bf4a===_0x14a1f8['correctAnswer'];break;case'fill_in_the_blank':case _0x2e98ba(0x46e):default:_0x578c4e=Number(_0x42559d)===_0x14a1f8[_0x2e98ba(0x109)];break;case _0x2e98ba(0x515):_0x578c4e=await gradeShortAnswer(_0x42559d,_0x14a1f8);break;}_0x578c4e?(_0x1fc5a4++,_0x254b3c++,_0x254b3c===0x3&&(_0x389b95[_0x2e98ba(0x367)](BADGES['ON_FIRE']['id']),_0x254b3c=0x0)):_0x254b3c=0x0,_0x4f7a2a[_0x2e98ba(0x367)]({'answer':_0x42559d,'isCorrect':_0x578c4e,'originalQuestionText':_0x14a1f8[_0x2e98ba(0x40e)]||_0x14a1f8[_0x2e98ba(0xce)]});}_0x445662=_0x1fc5a4*0xa;_0x1fc5a4===_0xd420ab&&_0xd420ab>0x0&&!currentDisplayedQuiz['isRemedial']&&(_0x445662+=0x32,_0x389b95[_0x2e98ba(0x367)](BADGES[_0x2e98ba(0x38a)]['id']));const _0x34b29f=currentDisplayedQuiz[_0x2e98ba(0x48f)]?.[_0x2e98ba(0x1a0)]??Math['floor'](_0xd420ab/0x2),_0x49b91f=currentDisplayedQuiz[_0x2e98ba(0x48f)]?.[_0x2e98ba(0x49f)];if(_0x49b91f==='whole_quiz'&&quizStartTime){const _0x1358eb=(new Date()-quizStartTime)/0x3e8,_0x550655=currentDisplayedQuiz['settings'][_0x2e98ba(0x194)]*0x3c;_0x1fc5a4>=_0x34b29f&&_0x1358eb<_0x550655/0x2&&(_0x445662+=0x14,_0x389b95[_0x2e98ba(0x367)](BADGES['QUICK_THINKER']['id']));}_0x1599fd[_0x2e98ba(0x540)]===0x0&&_0x1fc5a4===_0xd420ab&&_0xd420ab>0x0&&_0x389b95[_0x2e98ba(0x367)](BADGES['FIRST_TRY_ACE']['id']);if(_0x1599fd['length']>0x0){const _0xdbe9bb=_0x1599fd[0x0][_0x2e98ba(0x334)];if(_0xdbe9bb<_0x34b29f&&_0x1fc5a4>=_0x34b29f){const _0x33321e=_0x1599fd[_0x2e98ba(0x3a1)](_0x56efbc=>(_0x56efbc[_0x2e98ba(0x473)]||[])[_0x2e98ba(0x259)](BADGES['COMEBACK_KING']['id']));!_0x33321e&&_0x389b95[_0x2e98ba(0x367)](BADGES[_0x2e98ba(0x4ec)]['id']);}}_0x1599fd[_0x2e98ba(0x540)]===0x4&&_0x389b95['push'](BADGES['PERSEVERANCE']['id']);const _0x2b07b4=currentDisplayedQuiz[_0x2e98ba(0x48f)][_0x2e98ba(0x17c)];if(currentMode===_0x2e98ba(0x4f8)){handleResultDisplay(_0x2b07b4,_0x1fc5a4,_0x445662,_0x389b95,_0x4f7a2a,_0xd420ab);return;}const _0x473159=currentQuizData['id'],_0x3d6f81=doc(db,_0x2e98ba(0x412)+appId+_0x2e98ba(0x462)+_0x473159+'/submissions',currentStudentName);try{const _0x24d1c2=[..._0x1599fd],_0x381fb9={'score':_0x1fc5a4,'points':_0x445662,'badges':_0x389b95,'submittedAt':new Date()['toISOString'](),'answers':_0x4f7a2a};_0x24d1c2[_0x2e98ba(0x367)](_0x381fb9);const _0x2dd09a=_0x24d1c2[0x0][_0x2e98ba(0x334)],_0x2976d8=Math[_0x2e98ba(0x12f)](..._0x24d1c2[_0x2e98ba(0x226)](_0x2ffe32=>_0x2ffe32[_0x2e98ba(0x334)])),_0x34e865=_0x1fc5a4,_0x26618e=_0x381fb9['submittedAt'];await setDoc(_0x3d6f81,{'studentName':currentStudentName,'totalQuestions':_0xd420ab,'attempts':_0x24d1c2,'firstScore':_0x2dd09a,'bestScore':_0x2976d8,'latestScore':_0x34e865,'points':_0x445662,'latestSubmittedAt':_0x26618e}),await updateStudentProfile(currentQuizData['projectId'],currentStudentName),handleResultDisplay(_0x2b07b4,_0x1fc5a4,_0x445662,_0x389b95,_0x4f7a2a,_0xd420ab);}catch(_0x298cc8){console[_0x2e98ba(0x339)]('Error\x20saving\x20submission:',_0x298cc8),showMessage(_0x2e98ba(0x24b));}}async function updateStudentProfile(_0x3cb709,_0x121dfd){const _0x3fba11=_0x530be2,_0x529775=doc(db,_0x3fba11(0x412)+appId+'/public/data/projects/'+_0x3cb709+_0x3fba11(0x2ff),_0x121dfd);try{const _0x51547f=query(collection(db,_0x3fba11(0x412)+appId+_0x3fba11(0x349)),where(_0x3fba11(0x4e4),'==',_0x3cb709)),_0x2afd4a=await getDocs(_0x51547f),_0x437b16=new Map(_0x2afd4a[_0x3fba11(0x51e)][_0x3fba11(0x226)](_0x18b562=>[_0x18b562['id'],_0x18b562['data']()])),_0x5cee80=Array[_0x3fba11(0x1ec)](_0x437b16['keys']());await runTransaction(db,async _0x54290d=>{const _0x19a7f5=_0x3fba11;let _0x4af76f=0x0;const _0x5d0d3b={};let _0x147bc0=!![],_0x2bb7b0=0x0,_0x50075e=0x0;for(const _0x1ebee8 of _0x5cee80){const _0x14d857=_0x437b16[_0x19a7f5(0x140)](_0x1ebee8),_0x2fed26=doc(db,_0x19a7f5(0x412)+appId+_0x19a7f5(0x462)+_0x1ebee8+_0x19a7f5(0x43d),_0x121dfd),_0x504000=await _0x54290d[_0x19a7f5(0x140)](_0x2fed26);if(_0x504000['exists']()){const _0xbb0c32=_0x504000[_0x19a7f5(0x3af)](),_0x109085=_0xbb0c32[_0x19a7f5(0x30f)]||[];if(_0x109085[_0x19a7f5(0x540)]>0x0){const _0x3e6a79=_0x109085[_0x19a7f5(0x53c)]((_0x407eb7,_0x3be1ce)=>{const _0x340272=_0x19a7f5;if(_0x3be1ce[_0x340272(0x334)]>_0x407eb7['score'])return _0x3be1ce;if(_0x3be1ce[_0x340272(0x334)]===_0x407eb7[_0x340272(0x334)])return(_0x3be1ce[_0x340272(0x2fa)]||0x0)>(_0x407eb7['points']||0x0)?_0x3be1ce:_0x407eb7;return _0x407eb7;},{'score':-0x1,'points':-0x1});_0x3e6a79[_0x19a7f5(0x334)]>-0x1&&(_0x4af76f+=_0x3e6a79[_0x19a7f5(0x2fa)]||0x0,(_0x3e6a79[_0x19a7f5(0x473)]||[])[_0x19a7f5(0x3be)](_0x1ec67f=>{_0x5d0d3b[_0x1ec67f]=(_0x5d0d3b[_0x1ec67f]||0x0)+0x1;}));}}if(_0x14d857[_0x19a7f5(0x387)]!==_0x19a7f5(0x1ba)){_0x50075e++;if(_0x504000[_0x19a7f5(0x53b)]()){_0x2bb7b0++;const _0x2f8108=_0x504000['data']();_0x2f8108['bestScore']!==_0x2f8108[_0x19a7f5(0x3bb)]&&(_0x147bc0=![]);}else _0x147bc0=![];}}_0x50075e>0x0&&_0x2bb7b0===_0x50075e&&_0x147bc0?_0x5d0d3b['specialist']=0x1:_0x5d0d3b['specialist']=0x0,_0x54290d[_0x19a7f5(0x215)](_0x529775,{'studentName':_0x121dfd,'totalPoints':_0x4af76f,'unlockedBadges':Object[_0x19a7f5(0x22d)](_0x5d0d3b)[_0x19a7f5(0x40b)](_0xa7443=>_0x5d0d3b[_0xa7443]>0x0),'badgesCount':_0x5d0d3b},{'merge':!![]});});}catch(_0x34776c){console[_0x3fba11(0x339)](_0x3fba11(0x1fc),_0x34776c),showMessage(_0x3fba11(0x211));}}function startAdminTest(){const _0x40d220=_0x530be2;if(!currentQuizData){showMessage(_0x40d220(0x4b1));return;}let _0xf5b458=JSON['parse'](JSON[_0x40d220(0x53e)](currentQuizData));currentMode=_0x40d220(0x4f8),currentStudentName=_0x40d220(0x2b2),adminView[_0x40d220(0x162)]['add']('hidden'),studentView[_0x40d220(0x162)][_0x40d220(0x2db)]('hidden'),studentInitialView[_0x40d220(0x162)][_0x40d220(0x2bd)](_0x40d220(0x217)),studentNameSelectionView[_0x40d220(0x162)][_0x40d220(0x2bd)](_0x40d220(0x217)),studentResultArea['classList'][_0x40d220(0x2bd)]('hidden'),studentQuizArea[_0x40d220(0x162)][_0x40d220(0x2db)](_0x40d220(0x217)),quizStartTime=new Date(),displayQuizForStudent(_0xf5b458);}function handleResultDisplay(_0x337819,_0x58b1e6,_0x56bc67,_0x195e2d,_0x3fe5e9,_0xf1a667){const _0x512a83=_0x530be2,_0x1314b8=currentDisplayedQuiz[_0x512a83(0x48f)]?.[_0x512a83(0x1a0)]??Math[_0x512a83(0xdf)](_0xf1a667/0x2),_0x389226=currentDisplayedQuiz[_0x512a83(0x48f)]?.[_0x512a83(0x280)]??![];if(_0x389226&&_0x58b1e6<_0x1314b8){startAdaptiveFlow(_0x3fe5e9,_0x58b1e6,_0xf1a667);return;}switch(_0x337819){case _0x512a83(0x46d):displayResultsWithAnswers(_0x58b1e6,_0x56bc67,_0x195e2d,_0x3fe5e9,_0xf1a667);break;case _0x512a83(0x3b9):displayResultsScoreOnly(_0x58b1e6,_0x56bc67,_0x195e2d,_0xf1a667);break;case _0x512a83(0xeb):default:displaySubmissionConfirmation();break;}}async function startAdaptiveFlow(_0x57dc8d,_0x4de7bc,_0x30fd51){const _0x58fbfb=_0x530be2,_0x563711=_0x57dc8d[_0x58fbfb(0x226)]((_0x470d80,_0x2e4599)=>({..._0x470d80,'originalQuestion':currentDisplayedQuiz[_0x58fbfb(0x3e7)][_0x2e4599]}))[_0x58fbfb(0x40b)](_0x433fed=>!_0x433fed['isCorrect']&&_0x433fed[_0x58fbfb(0x360)]['explanation'])[_0x58fbfb(0x226)](_0x22b3e4=>'-\x20'+_0x22b3e4[_0x58fbfb(0x360)][_0x58fbfb(0x439)])['join']('\x0a');if(!_0x563711){displayResultsScoreOnly(_0x4de7bc,0x0,[],_0x30fd51);return;}studentQuizArea[_0x58fbfb(0x162)]['add']('hidden'),studentReadingArea['classList'][_0x58fbfb(0x2db)](_0x58fbfb(0x217)),studentReadingArea[_0x58fbfb(0x19f)]=_0x58fbfb(0x15d);const _0x2a14ed=_0x58fbfb(0x16b)+currentDisplayedQuiz[_0x58fbfb(0x387)]+_0x58fbfb(0x256)+_0x563711+_0x58fbfb(0x2eb),_0x36c30c={'type':_0x58fbfb(0x1a9),'properties':{'remedialContent':{'type':'STRING'}},'required':[_0x58fbfb(0x3c0)]};try{const _0x52ca2a=await callAnalysisApi(_0x2a14ed,_0x36c30c),_0x42bafe=_0x52ca2a[_0x58fbfb(0x3c0)];studentReadingArea[_0x58fbfb(0x19f)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-6\x20bg-amber-50\x20border-l-4\x20border-amber-400\x20rounded-r-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20text-amber-800\x22>ทบทวนก่อนไปต่อนะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x20text-gray-700\x22>'+_0x42bafe['replace'](/\n/g,_0x58fbfb(0x2c0))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-remedial-quiz-btn\x22\x20class=\x22mt-4\x20bg-indigo-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เข้าใจแล้ว\x20ลองอีกครั้ง!\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',document[_0x58fbfb(0x131)](_0x58fbfb(0x1ce))[_0x58fbfb(0x481)]('click',()=>generateRemedialQuiz(_0x563711));}catch(_0x435952){console['error'](_0x58fbfb(0x25a),_0x435952),showMessage(_0x58fbfb(0x28d)),displayResultsScoreOnly(_0x4de7bc,0x0,[],_0x30fd51);}}async function generateRemedialQuiz(_0xe73b14){const _0x3059c0=_0x530be2;studentReadingArea[_0x3059c0(0x19f)]=_0x3059c0(0x4cc);const _0x159b59=_0x3059c0(0x395)+_0xe73b14+_0x3059c0(0x486),_0x356061={'type':_0x3059c0(0x1a9),'properties':{'questionText':{'type':_0x3059c0(0x23a)},'options':{'type':'ARRAY','items':{'type':_0x3059c0(0x23a)}},'correctAnswerIndex':{'type':_0x3059c0(0x43f)},'explanation':{'type':_0x3059c0(0x23a)}},'required':['questionText','options','correctAnswerIndex',_0x3059c0(0x439)]},_0x4f7d95={'type':_0x3059c0(0x1a9),'properties':{'topic':{'type':_0x3059c0(0x23a)},'questions':{'type':_0x3059c0(0x362),'items':_0x356061}},'required':[_0x3059c0(0x387),'questions']};try{const _0x6f5024=await callAnalysisApi(_0x159b59,_0x4f7d95);_0x6f5024[_0x3059c0(0x260)]=!![],studentReadingArea['classList'][_0x3059c0(0x2bd)](_0x3059c0(0x217));const _0x438d3e={...currentDisplayedQuiz['settings'],'isAdaptive':![],'resultsDisplay':'show_results_and_answers'};_0x6f5024[_0x3059c0(0x48f)]=_0x438d3e,displayQuizForStudent(_0x6f5024);}catch(_0x49c579){console[_0x3059c0(0x339)]('Remedial\x20quiz\x20generation\x20failed:',_0x49c579),showMessage(_0x3059c0(0x453)),showView('student');}}function cancelAdminTest(){const _0x1a2e1e=_0x530be2;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);currentMode=_0x1a2e1e(0x365),studentView[_0x1a2e1e(0x162)][_0x1a2e1e(0x2bd)](_0x1a2e1e(0x217)),adminView['classList']['remove']('hidden'),showView(_0x1a2e1e(0xf4));}function setupResultScreenBackButton(){const _0x43bc5b=_0x530be2,_0x261b75=_0x43bc5b(0x216),_0x57262e=currentMode===_0x43bc5b(0x4f8),_0x54bee0=_0x57262e?'<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการโปรเจค':'<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก',_0xf8cf42=_0x43bc5b(0x2f6)+_0x261b75+_0x43bc5b(0x37c)+_0x54bee0+_0x43bc5b(0x405);studentResultArea['insertAdjacentHTML'](_0x43bc5b(0xc4),_0xf8cf42),studentResultArea[_0x43bc5b(0x238)](_0x43bc5b(0x1a6))['addEventListener'](_0x43bc5b(0x447),handleShowStudentRankings),document[_0x43bc5b(0x131)](_0x261b75)[_0x43bc5b(0x481)]('click',()=>{const _0x32c3b1=_0x43bc5b;_0x57262e?(currentMode=_0x32c3b1(0x365),studentView['classList'][_0x32c3b1(0x2bd)](_0x32c3b1(0x217)),adminView[_0x32c3b1(0x162)][_0x32c3b1(0x2db)](_0x32c3b1(0x217)),showView('project-detail')):(showView(_0x32c3b1(0x16d)),document[_0x32c3b1(0x131)](_0x32c3b1(0x3b1))[_0x32c3b1(0x116)]='');});}function displayResultsWithAnswers(_0x537e90,_0x8da943,_0x2b1ee1,_0x2b2799,_0x20941f){const _0x5eed1a=_0x530be2,_0x319df2=_0x20941f>0x0?_0x537e90/_0x20941f*0x64:0x0,_0x1125d3=currentDisplayedQuiz['settings']?.['passingScore']??-0x1,_0x3d84fe=currentDisplayedQuiz[_0x5eed1a(0x260)]===!![];let _0x4817b5='';if(_0x3d84fe||_0x1125d3!==-0x1){let _0x1952ae=_0x3d84fe?_0x537e90===_0x20941f:_0x537e90>=_0x1125d3;const _0x54d1fe=_0x1952ae?_0x5eed1a(0x26f):_0x5eed1a(0x40d),_0x3d84ec=_0x1952ae?_0x5eed1a(0x1dc):_0x5eed1a(0x19a);_0x4817b5=_0x5eed1a(0x214)+_0x54d1fe+'\x22>'+_0x3d84ec+'</p>';}let _0x4dab25=_0x5eed1a(0x497)+currentStudentName+_0x5eed1a(0x45b)+_0x537e90+_0x5eed1a(0x118)+_0x20941f+_0x5eed1a(0x11e)+_0x4817b5+_0x5eed1a(0x1d5)+_0x8da943+_0x5eed1a(0x351)+_0x319df2[_0x5eed1a(0x466)](0x0)+_0x5eed1a(0x2ee);currentDisplayedQuiz[_0x5eed1a(0x3e7)]['forEach']((_0x558b46,_0x63b59c)=>{const _0x467e73=_0x5eed1a,_0x3323ec=_0x2b2799[_0x63b59c],_0x1d931f=_0x3323ec[_0x467e73(0x2fe)],_0x27dc70=_0x3323ec[_0x467e73(0x1a7)],_0x1272b5=_0x558b46['questionType']||currentDisplayedQuiz[_0x467e73(0xff)];_0x4dab25+=_0x467e73(0x416)+(_0x27dc70?_0x467e73(0x3dd):_0x467e73(0x239))+_0x467e73(0x472)+(_0x63b59c+0x1)+'.\x20'+(_0x558b46[_0x467e73(0x40e)]||_0x558b46[_0x467e73(0xce)])+_0x467e73(0x38b);switch(_0x1272b5){case'matching_item':const _0x38b5ff=_0x1d931f||_0x467e73(0x2e5),_0x2a2284=_0x558b46[_0x467e73(0x433)];_0x4dab25+=_0x467e73(0x285)+(!_0x27dc70?_0x467e73(0x262):'')+'\x22>'+_0x38b5ff+_0x467e73(0x39b);!_0x27dc70&&(_0x4dab25+='<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20'+_0x2a2284+_0x467e73(0x2a7));break;case'short_answer':_0x4dab25+='<p><strong>คำตอบของคุณ:</strong>\x20'+(_0x1d931f||_0x467e73(0x2e5))+'</p>',_0x4dab25+=_0x467e73(0x36d)+_0x558b46[_0x467e73(0x2d9)]+'</p>';break;case'true_false':_0x4dab25+=_0x467e73(0x17d)+(_0x558b46[_0x467e73(0xe6)]===!![]?_0x467e73(0x46b):'')+'\x20'+(_0x1d931f===_0x467e73(0x2a4)&&!_0x27dc70?_0x467e73(0x262):'')+_0x467e73(0x444),_0x4dab25+=_0x467e73(0x17d)+(_0x558b46[_0x467e73(0xe6)]===![]?'font-bold\x20text-green-700':'')+'\x20'+(_0x1d931f===_0x467e73(0x1a2)&&!_0x27dc70?_0x467e73(0x262):'')+_0x467e73(0x417);break;case _0x467e73(0x124):case _0x467e73(0x46e):default:_0x4dab25+=_0x558b46[_0x467e73(0x2b7)][_0x467e73(0x226)]((_0x3c19f2,_0x56b0bb)=>{const _0x2272e5=_0x467e73;let _0x2e052e='',_0x309170='';if(_0x56b0bb===_0x558b46[_0x2272e5(0x109)])_0x2e052e=_0x2272e5(0x46b),_0x309170=_0x2272e5(0x16a);else _0x56b0bb===_0x1d931f&&(_0x2e052e='font-bold\x20text-red-700\x20line-through',_0x309170='<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>');return _0x2272e5(0x489)+_0x2e052e+'\x22>'+_0x309170+_0x3c19f2+_0x2272e5(0x2c3);})['join']('');break;}_0x4dab25+=_0x467e73(0xc9)+(_0x558b46[_0x467e73(0x439)]||_0x467e73(0x336))+_0x467e73(0x2ad);}),studentResultArea[_0x5eed1a(0x19f)]=_0x4dab25,renderEarnedBadges(_0x2b1ee1,'earned-badges-container'),studentResultArea[_0x5eed1a(0x162)][_0x5eed1a(0x2db)]('hidden'),studentQuizArea[_0x5eed1a(0x162)][_0x5eed1a(0x2bd)](_0x5eed1a(0x217)),setupResultScreenBackButton();if(window[_0x5eed1a(0x493)])window[_0x5eed1a(0x493)]['typesetPromise']([studentResultArea]);}function displayResultsScoreOnly(_0x3da0be,_0x2f4772,_0x53ccb5,_0xd02ce5){const _0x2738a5=_0x530be2,_0x17fc49=_0xd02ce5>0x0?_0x3da0be/_0xd02ce5*0x64:0x0,_0x38a494=currentDisplayedQuiz[_0x2738a5(0x48f)]?.[_0x2738a5(0x1a0)]??-0x1,_0x3ad4ef=currentDisplayedQuiz[_0x2738a5(0x260)]===!![];let _0x4a8f35='';if(_0x3ad4ef||_0x38a494!==-0x1){let _0x577920;_0x3ad4ef?_0x577920=_0x3da0be===_0xd02ce5:_0x577920=_0x3da0be>=_0x38a494;const _0x60f404=_0x577920?_0x2738a5(0x26f):_0x2738a5(0x40d),_0x30592e=_0x577920?_0x2738a5(0x1dc):_0x2738a5(0x19a);_0x4a8f35=_0x2738a5(0x214)+_0x60f404+'\x22>'+_0x30592e+'</p>';}let _0x42931a=_0x2738a5(0xca)+currentStudentName+_0x2738a5(0xf6)+_0x3da0be+_0x2738a5(0x247)+_0xd02ce5+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4a8f35+_0x2738a5(0x1d5)+_0x2f4772+_0x2738a5(0x3b0)+_0x17fc49['toFixed'](0x0)+_0x2738a5(0x403);studentResultArea[_0x2738a5(0x19f)]=_0x42931a,renderEarnedBadges(_0x53ccb5,_0x2738a5(0x29c)),studentResultArea[_0x2738a5(0x162)][_0x2738a5(0x2db)](_0x2738a5(0x217)),studentQuizArea[_0x2738a5(0x162)]['add'](_0x2738a5(0x217)),setupResultScreenBackButton();}function displaySubmissionConfirmation(){const _0x5d339d=_0x530be2;let _0x349f4c=_0x5d339d(0x398)+currentStudentName+_0x5d339d(0x4f6);studentResultArea[_0x5d339d(0x19f)]=_0x349f4c,studentResultArea['classList']['remove'](_0x5d339d(0x217)),studentQuizArea[_0x5d339d(0x162)][_0x5d339d(0x2bd)](_0x5d339d(0x217)),document[_0x5d339d(0x131)]('back-to-home-manual-release')['addEventListener'](_0x5d339d(0x447),()=>{const _0x3f2f20=_0x5d339d;showView(_0x3f2f20(0x16d)),document['getElementById'](_0x3f2f20(0x3b1))[_0x3f2f20(0x116)]='';});}function renderEarnedBadges(_0x199133,_0x4ab7d9){const _0x3ef188=_0x530be2,_0x450bff=document['getElementById'](_0x4ab7d9);if(!_0x450bff||!_0x199133||_0x199133['length']===0x0)return;let _0x388696='';_0x199133['forEach']((_0x801d79,_0x4b9942)=>{const _0x24a0a8=_0x58ae,_0x7d1a31=Object[_0x24a0a8(0x119)](BADGES)[_0x24a0a8(0x249)](_0x3f9d0d=>_0x3f9d0d['id']===_0x801d79);_0x7d1a31&&(_0x388696+=_0x24a0a8(0x48a)+_0x4b9942*0.2+'s;\x22\x20title=\x22'+_0x7d1a31[_0x24a0a8(0x47c)]+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0x7d1a31[_0x24a0a8(0x26d)]+_0x24a0a8(0x4ef)+_0x7d1a31[_0x24a0a8(0x45c)]+_0x24a0a8(0x431));}),_0x450bff[_0x3ef188(0x19f)]=_0x388696;}function startPresentation(_0x4397a8){const _0x115c79=_0x530be2;currentQuizData=getShuffledQuiz(_0x4397a8),currentPresentationSlide=0x0,presentationModal[_0x115c79(0x4ce)][_0x115c79(0x509)]=_0x115c79(0x3f5),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x53ac95=_0x530be2;document[_0x53ac95(0x2ec)]&&document['exitFullscreen'](),presentationModal[_0x53ac95(0x4ce)]['display']=_0x53ac95(0x44b);}function renderPresentationSlide(_0x7015bc){const _0x331286=_0x530be2,_0x12dc46=document['getElementById'](_0x331286(0x250));if(!currentQuizData||!currentQuizData[_0x331286(0x3e7)]||!currentQuizData[_0x331286(0x3e7)][_0x7015bc]){_0x12dc46[_0x331286(0x19f)]='<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>';return;}const _0x205651=currentQuizData[_0x331286(0x3e7)][_0x7015bc],_0x364388=_0x205651[_0x331286(0x3a9)]||currentQuizData[_0x331286(0xff)];_0x12dc46[_0x331286(0x19f)]='';let _0x2d6bf2=_0x331286(0x1ad)+(_0x205651[_0x331286(0x382)]?'<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x205651['imageCode']+_0x331286(0x2c3):'')+_0x331286(0x3ac)+(_0x7015bc+0x1)+'.\x20'+(_0x205651[_0x331286(0x40e)]||_0x205651[_0x331286(0xce)])+_0x331286(0x290);switch(_0x364388){case _0x331286(0x342):_0x2d6bf2+=_0x205651[_0x331286(0x3f7)][_0x331286(0x226)](_0x321c26=>_0x331286(0x286)+_0x321c26+_0x331286(0x1a1))[_0x331286(0x4ca)]('');break;case _0x331286(0x330):_0x2d6bf2+=_0x331286(0x2f4),_0x2d6bf2+=_0x331286(0x108);break;case'fill_in_no_choices':case'short_answer':_0x2d6bf2+=_0x331286(0xdb);break;case _0x331286(0x124):case _0x331286(0x46e):default:_0x2d6bf2+=_0x205651[_0x331286(0x2b7)]['map']((_0xccdb7a,_0x2fce8d)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22'+_0x2fce8d+_0x331286(0x28e)+_0xccdb7a+_0x331286(0x1a1))[_0x331286(0x4ca)]('');break;}_0x2d6bf2+=_0x331286(0x278)+(_0x205651[_0x331286(0x439)]||_0x331286(0x336))+_0x331286(0x3fd),_0x12dc46[_0x331286(0x19f)]=_0x2d6bf2;if(window[_0x331286(0x493)])window[_0x331286(0x493)]['typesetPromise']([_0x12dc46]);document['querySelectorAll'](_0x331286(0x320))[_0x331286(0x3be)](_0x51f3f3=>{const _0x258efd=_0x331286;_0x51f3f3[_0x258efd(0x481)](_0x258efd(0x447),_0x18685d=>revealAnswerForPresentation(_0x7015bc,_0x18685d[_0x258efd(0x45f)]));});const _0x297985=document[_0x331286(0x131)](_0x331286(0x36a));_0x297985&&_0x297985[_0x331286(0x481)](_0x331286(0x447),()=>checkShortAnswerForPresentation(_0x7015bc)),document[_0x331286(0x131)](_0x331286(0xcc))['textContent']='ข้อที่\x20'+(_0x7015bc+0x1)+_0x331286(0x1b1)+currentQuizData[_0x331286(0x3e7)][_0x331286(0x540)],document[_0x331286(0x131)]('prev-question-btn')[_0x331286(0x136)]=_0x7015bc===0x0,document[_0x331286(0x131)](_0x331286(0x42b))[_0x331286(0x136)]=_0x7015bc===currentQuizData[_0x331286(0x3e7)][_0x331286(0x540)]-0x1;}async function checkShortAnswerForPresentation(_0x328d38){const _0x437008=_0x530be2,_0x180b55=currentQuizData['questions'][_0x328d38],_0x3cef86=document['getElementById'](_0x437008(0x1a4)),_0x50326c=document[_0x437008(0x131)](_0x437008(0x36a)),_0x1ed837=document[_0x437008(0x131)](_0x437008(0x15c)),_0xfe9b0=document[_0x437008(0x131)](_0x437008(0x50f));if(!_0x3cef86||!_0x50326c||!_0x1ed837||!_0xfe9b0)return;const _0x4d3b0d=_0x3cef86[_0x437008(0x116)][_0x437008(0x190)]();if(_0x4d3b0d==='')return;_0x50326c['disabled']=!![],_0x50326c[_0x437008(0x19f)]=_0x437008(0x19e),_0x3cef86[_0x437008(0x136)]=!![];const _0x592210=await gradeShortAnswer(_0x4d3b0d,_0x180b55);_0x592210?_0x1ed837[_0x437008(0x19f)]='<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>':_0x1ed837[_0x437008(0x19f)]=_0x437008(0x1a8)+_0x180b55[_0x437008(0x2d9)]+')',_0x1ed837['classList'][_0x437008(0x2db)](_0x437008(0x217)),_0xfe9b0[_0x437008(0x162)]['remove']('hidden'),_0x50326c['classList'][_0x437008(0x2bd)](_0x437008(0x217));}function revealAnswerForPresentation(_0x2a23f1,_0x438aff){const _0x1c0759=_0x530be2,_0x5ab6dc=currentQuizData[_0x1c0759(0x3e7)][_0x2a23f1],_0x18a6d7=_0x5ab6dc['questionType']||currentQuizData[_0x1c0759(0xff)];document[_0x1c0759(0x1f7)](_0x1c0759(0x320))[_0x1c0759(0x3be)](_0x49058b=>{const _0x5c4347=_0x1c0759;_0x49058b['disabled']=!![],_0x49058b['classList']['remove'](_0x5c4347(0x394));let _0x2a5acd=![];if(_0x18a6d7===_0x5c4347(0x46e)||_0x18a6d7===_0x5c4347(0x124)){const _0x2ea341=parseInt(_0x49058b['dataset']['index']);_0x2a5acd=_0x2ea341===_0x5ab6dc[_0x5c4347(0x109)];}else{if(_0x18a6d7===_0x5c4347(0x330)){const _0x6fa625=_0x49058b[_0x5c4347(0x30a)]['answer']==='true';_0x2a5acd=_0x6fa625===_0x5ab6dc[_0x5c4347(0xe6)];}else _0x18a6d7==='matching_item'&&(_0x2a5acd=_0x49058b['textContent']['trim']()===_0x5ab6dc[_0x5c4347(0x433)]);}_0x2a5acd?_0x49058b[_0x5c4347(0x162)][_0x5c4347(0x2bd)](_0x5c4347(0x2be),_0x5c4347(0x1af),_0x5c4347(0x499)):_0x49058b[_0x5c4347(0x162)][_0x5c4347(0x2bd)](_0x5c4347(0xe5));}),_0x438aff[_0x1c0759(0x162)][_0x1c0759(0x2db)]('opacity-50');let _0x4af2c3=![];if(_0x18a6d7===_0x1c0759(0x46e))_0x4af2c3=parseInt(_0x438aff[_0x1c0759(0x30a)][_0x1c0759(0x132)])===_0x5ab6dc[_0x1c0759(0x109)];else{if(_0x18a6d7===_0x1c0759(0x330))_0x4af2c3=_0x438aff[_0x1c0759(0x30a)][_0x1c0759(0x2fe)]===_0x1c0759(0x2a4)===_0x5ab6dc[_0x1c0759(0xe6)];else _0x18a6d7===_0x1c0759(0x342)&&(_0x4af2c3=_0x438aff[_0x1c0759(0x361)][_0x1c0759(0x190)]()===_0x5ab6dc[_0x1c0759(0x433)]);}!_0x4af2c3&&_0x438aff[_0x1c0759(0x162)][_0x1c0759(0x2bd)]('bg-red-500',_0x1c0759(0x1af),_0x1c0759(0x2c8)),document[_0x1c0759(0x131)](_0x1c0759(0x50f))['classList']['remove'](_0x1c0759(0x217));}function startWholeQuizTimer(_0x5f01a1){const _0x1662e7=_0x530be2,_0x510a2d=document[_0x1662e7(0x131)](_0x1662e7(0x24e));if(!_0x510a2d)return;const _0x4c23fb=Date[_0x1662e7(0x401)]()+_0x5f01a1*0x3c*0x3e8;_0x510a2d[_0x1662e7(0x19f)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';const _0x962383=document[_0x1662e7(0x131)](_0x1662e7(0x319));quizTimerInterval=setInterval(()=>{const _0x28d47a=_0x1662e7,_0x3c4f7b=_0x4c23fb-Date[_0x28d47a(0x401)]();if(_0x3c4f7b<=0x0)clearInterval(quizTimerInterval),_0x962383[_0x28d47a(0x361)]=_0x28d47a(0x1d7),showMessage(_0x28d47a(0x18c)),handleSubmitQuiz(null);else{const _0x389a9b=Math['floor'](_0x3c4f7b/0x3e8/0x3c%0x3c)[_0x28d47a(0xf1)]()[_0x28d47a(0x438)](0x2,'0'),_0x4d1607=Math[_0x28d47a(0xdf)](_0x3c4f7b/0x3e8%0x3c)[_0x28d47a(0xf1)]()[_0x28d47a(0x438)](0x2,'0');_0x962383[_0x28d47a(0x361)]=_0x389a9b+':'+_0x4d1607;}},0x3e8);}function renderPerQuestionView(){const _0x22c3ea=_0x530be2;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x492e19=currentDisplayedQuiz[_0x22c3ea(0x3e7)][currentQuestionIndex],_0x1c22aa=_0x492e19[_0x22c3ea(0x3a9)]||currentDisplayedQuiz[_0x22c3ea(0xff)];let _0x4f9730=_0x22c3ea(0x484)+(currentQuestionIndex+0x1)+_0x22c3ea(0x525)+currentDisplayedQuiz[_0x22c3ea(0x3e7)][_0x22c3ea(0x540)]+_0x22c3ea(0x3ff)+(currentMode===_0x22c3ea(0x4f8)?_0x22c3ea(0x4ea):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20'+currentDisplayedQuiz[_0x22c3ea(0x387)]+_0x22c3ea(0x22f)+(currentQuestionIndex===currentDisplayedQuiz[_0x22c3ea(0x3e7)][_0x22c3ea(0x540)]-0x1?_0x22c3ea(0x3ce):'คำถามถัดไป')+_0x22c3ea(0x307);studentQuizArea[_0x22c3ea(0x19f)]=_0x4f9730;let _0x33b457='',_0x37e3d4='';switch(_0x1c22aa){case _0x22c3ea(0x342):_0x33b457=currentQuestionIndex+0x1+'.\x20'+_0x492e19[_0x22c3ea(0x40e)],_0x37e3d4=_0x22c3ea(0x22a)+_0x492e19[_0x22c3ea(0x3f7)][_0x22c3ea(0x226)](_0x24a978=>_0x22c3ea(0x134)+_0x24a978+'\x22>'+_0x24a978+_0x22c3ea(0x130))['join']('')+_0x22c3ea(0x200);break;case _0x22c3ea(0x330):_0x33b457=currentQuestionIndex+0x1+'.\x20'+_0x492e19[_0x22c3ea(0xce)],_0x37e3d4=_0x22c3ea(0x107);break;case _0x22c3ea(0x515):case'fill_in_no_choices':_0x33b457=currentQuestionIndex+0x1+'.\x20'+_0x492e19[_0x22c3ea(0xce)],_0x37e3d4=_0x22c3ea(0x39a);break;case _0x22c3ea(0x46e):case _0x22c3ea(0x34e):default:_0x33b457=currentQuestionIndex+0x1+'.\x20'+_0x492e19['questionText'],_0x37e3d4=_0x492e19[_0x22c3ea(0x2b7)][_0x22c3ea(0x226)]((_0x269b16,_0x2fc5be)=>_0x22c3ea(0x463)+_0x2fc5be+_0x22c3ea(0x1e4)+_0x2fc5be+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q_opt'+_0x2fc5be+'\x22>'+_0x269b16+_0x22c3ea(0x164))[_0x22c3ea(0x4ca)]('');break;}_0x492e19[_0x22c3ea(0x382)]&&(_0x33b457+='<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x492e19[_0x22c3ea(0x382)]+'</div>');document[_0x22c3ea(0x131)]('per-question-text')['innerHTML']=_0x33b457,document['getElementById']('per-question-options')[_0x22c3ea(0x19f)]=_0x37e3d4;if(currentMode==='admin-testing'){const _0x2a8b5d=document[_0x22c3ea(0x131)](_0x22c3ea(0x42a));if(_0x2a8b5d)_0x2a8b5d[_0x22c3ea(0x481)](_0x22c3ea(0x447),cancelAdminTest);}document[_0x22c3ea(0x131)](_0x22c3ea(0x41c))[_0x22c3ea(0x481)]('click',()=>handleNextQuestionInTimedMode(![]));if(window[_0x22c3ea(0x493)])window[_0x22c3ea(0x493)][_0x22c3ea(0x1d4)]([studentQuizArea]);startPerQuestionTimer();}function startPerQuestionTimer(){const _0x5d3336=_0x530be2,_0x2eefec=currentDisplayedQuiz[_0x5d3336(0x48f)][_0x5d3336(0x194)],_0x3de18d=document[_0x5d3336(0x131)](_0x5d3336(0x50b));if(!_0x3de18d)return;let _0x266f24=_0x2eefec;_0x3de18d['innerHTML']=_0x5d3336(0x177)+_0x266f24+_0x5d3336(0x158);const _0x47d56a=document[_0x5d3336(0x131)](_0x5d3336(0x33e)),_0x442066=document[_0x5d3336(0x131)](_0x5d3336(0x2bf));perQuestionTimerInterval=setInterval(()=>{const _0x27c92b=_0x5d3336;_0x266f24--;const _0x124224=_0x266f24/_0x2eefec*0x64;_0x47d56a['style'][_0x27c92b(0x475)]=_0x124224+'%',_0x442066['textContent']=_0x266f24,_0x266f24<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0x27c92b(0xc3)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x3e56b3=![]){const _0x4be504=_0x530be2;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x6cb21b=null;if(!_0x3e56b3){const _0x3f8321=currentDisplayedQuiz[_0x4be504(0x3e7)][currentQuestionIndex],_0x56508e=_0x3f8321[_0x4be504(0x3a9)]||currentDisplayedQuiz[_0x4be504(0xff)];if(_0x56508e===_0x4be504(0x515)||_0x56508e==='fill_in_no_choices'){const _0x583d3=document[_0x4be504(0x238)](_0x4be504(0x452));_0x6cb21b=_0x583d3?_0x583d3['value'][_0x4be504(0x190)]():'';}else{if(_0x56508e===_0x4be504(0x342)){const _0x456ee5=document[_0x4be504(0x238)]('#per-question-options\x20select');_0x6cb21b=_0x456ee5?_0x456ee5[_0x4be504(0x116)]:'';}else{const _0xc752a3=document['querySelector'](_0x4be504(0x149));if(_0xc752a3){const _0x37930c=_0xc752a3[_0x4be504(0x116)];_0x6cb21b=!isNaN(parseInt(_0x37930c,0xa))&&_0x37930c[_0x4be504(0x190)]()!==''?parseInt(_0x37930c,0xa):_0x37930c;}}}}studentAnswersPerQuestion[_0x4be504(0x367)](_0x6cb21b),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz[_0x4be504(0x3e7)][_0x4be504(0x540)]?finalizePerQuestionQuiz():renderPerQuestionView();}async function finalizePerQuestionQuiz(){const _0x137050=_0x530be2,_0xbd89ce=currentDisplayedQuiz[_0x137050(0x3e7)]['some'](_0x48388f=>_0x48388f[_0x137050(0x3a9)]===_0x137050(0x515));_0xbd89ce?showMessage(_0x137050(0x39e)):showMessage('สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...');const _0x1ab467=currentQuizData['id'],_0x3f1b3f=doc(db,_0x137050(0x412)+appId+_0x137050(0x462)+_0x1ab467+_0x137050(0x43d),currentStudentName),_0x57fa94=await getDoc(_0x3f1b3f),_0x479c5e=_0x57fa94['exists']()?_0x57fa94[_0x137050(0x3af)]():{},_0x5c9cf9=_0x479c5e[_0x137050(0x30f)]||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x5c9cf9);}function getResultsFilename(){const _0x4e8230=_0x530be2,_0x2f188c=document[_0x4e8230(0x131)]('results-quiz-title')[_0x4e8230(0x361)]['replace'](/[^a-z0-9]/gi,'_')[_0x4e8230(0x468)]();return'results_'+(_0x2f188c||_0x4e8230(0x1fb));}function exportResultsAsImage(){const _0x81bd6a=_0x530be2,_0x16b081=document['getElementById'](_0x81bd6a(0x13d));showMessage(_0x81bd6a(0x14c)),html2canvas(_0x16b081)['then'](_0x45fc14=>{const _0x335328=_0x81bd6a,_0x4c54ee=document['createElement']('a');_0x4c54ee['download']=getResultsFilename()+_0x335328(0x524),_0x4c54ee['href']=_0x45fc14['toDataURL'](_0x335328(0x409)),_0x4c54ee[_0x335328(0x447)](),messageModal[_0x335328(0x162)][_0x335328(0x2bd)](_0x335328(0x217));});}function exportResultsAsPDF(){const _0x3cfbde=_0x530be2,{jsPDF:_0x5e3c8d}=window[_0x3cfbde(0x146)],_0x24c9dd=new _0x5e3c8d();_0x24c9dd[_0x3cfbde(0x3fe)](_0x3cfbde(0x3ef),_0x3cfbde(0x368)),_0x24c9dd[_0x3cfbde(0x3bd)]({'html':'#results-table'}),_0x24c9dd[_0x3cfbde(0x14d)](getResultsFilename()+_0x3cfbde(0x2bb));}function exportResultsAsWord(){const _0x1fab3d=_0x530be2,_0x9cc489=_0x1fab3d(0x46c)+_0x1fab3d(0x430)+_0x1fab3d(0x47a)+_0x1fab3d(0x327),_0x508116=_0x1fab3d(0x181),_0x338738=_0x9cc489+document[_0x1fab3d(0x131)](_0x1fab3d(0x13d))[_0x1fab3d(0x19f)]+_0x508116,_0x71502c=_0x1fab3d(0x244)+encodeURIComponent(_0x338738),_0x41eb10=document['createElement']('a');document[_0x1fab3d(0x3c4)][_0x1fab3d(0x4b5)](_0x41eb10),_0x41eb10['href']=_0x71502c,_0x41eb10['download']=getResultsFilename()+_0x1fab3d(0xed),_0x41eb10[_0x1fab3d(0x447)](),document['body'][_0x1fab3d(0x4e3)](_0x41eb10);}function exportResultsAsExcel(){const _0x4526e5=_0x530be2,_0x1a764e=document[_0x4526e5(0x131)](_0x4526e5(0x42e));let _0x2e4ca5=[];for(let _0x47070f=0x0;_0x47070f<_0x1a764e['rows']['length'];_0x47070f++){let _0x598dcf=[],_0x49cd39=_0x1a764e[_0x4526e5(0x30d)][_0x47070f]['querySelectorAll'](_0x4526e5(0x174));for(let _0x2889d4=0x0;_0x2889d4<_0x49cd39[_0x4526e5(0x540)];_0x2889d4++){_0x598dcf[_0x4526e5(0x367)]('\x22'+_0x49cd39[_0x2889d4][_0x4526e5(0x261)][_0x4526e5(0x105)](/"/g,'\x22\x22')+'\x22');}_0x2e4ca5[_0x4526e5(0x367)](_0x598dcf[_0x4526e5(0x4ca)](','));}const _0xfb1535=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x2e4ca5[_0x4526e5(0x4ca)]('\x0a')],{'type':'text/csv;charset=utf-8;'}),_0x9dc584=document[_0x4526e5(0x302)]('a');_0x9dc584['href']=URL[_0x4526e5(0x317)](_0xfb1535),_0x9dc584['download']=getResultsFilename()+_0x4526e5(0x305),_0x9dc584[_0x4526e5(0x447)]();}function exportTableAsImage(_0x1d423f,_0x9aa8fc){const _0x292da2=_0x530be2,_0xe5a88e=document[_0x292da2(0x131)](_0x1d423f);if(!_0xe5a88e){showMessage(_0x292da2(0x3d0));return;}showMessage(_0x292da2(0x14c)),html2canvas(_0xe5a88e)['then'](_0x29603d=>{const _0x32febc=_0x292da2,_0x4c99c8=document[_0x32febc(0x302)]('a');_0x4c99c8[_0x32febc(0x536)]=_0x9aa8fc+_0x32febc(0x524),_0x4c99c8[_0x32febc(0x4f5)]=_0x29603d[_0x32febc(0x4f4)](_0x32febc(0x409)),_0x4c99c8[_0x32febc(0x447)](),messageModal['classList'][_0x32febc(0x2bd)](_0x32febc(0x217));});}function exportTableAsPDF(_0x24308b,_0x2db6e5){const _0x18ff3c=_0x530be2,{jsPDF:_0x401cea}=window[_0x18ff3c(0x146)],_0x249de6=new _0x401cea();_0x249de6[_0x18ff3c(0x3fe)]('helvetica',_0x18ff3c(0x368)),_0x249de6[_0x18ff3c(0x3bd)]({'html':'#'+_0x24308b}),_0x249de6['save'](_0x2db6e5+_0x18ff3c(0x2bb));}function exportTableAsWord(_0x55f32a,_0x5ccd24){const _0x405453=_0x530be2,_0x28ee07=document[_0x405453(0x131)](_0x55f32a);if(!_0x28ee07){showMessage(_0x405453(0x3d0));return;}const _0x303349=_0x405453(0x46c)+_0x405453(0x430)+'xmlns=\x27http://www.w3.org/TR/REC-html40\x27>'+'<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>',_0x2e59e8=_0x405453(0x181),_0x100754=_0x303349+_0x28ee07[_0x405453(0x19f)]+_0x2e59e8,_0x5dc321=_0x405453(0x244)+encodeURIComponent(_0x100754),_0x5621fb=document[_0x405453(0x302)]('a');document[_0x405453(0x3c4)]['appendChild'](_0x5621fb),_0x5621fb[_0x405453(0x4f5)]=_0x5dc321,_0x5621fb['download']=_0x5ccd24+_0x405453(0xed),_0x5621fb[_0x405453(0x447)](),document[_0x405453(0x3c4)][_0x405453(0x4e3)](_0x5621fb);}function exportTableAsExcel(_0x3051b2,_0x1e26cf){const _0x1478fc=_0x530be2,_0x5ee262=document[_0x1478fc(0x131)](_0x3051b2);if(!_0x5ee262){showMessage(_0x1478fc(0x3d0));return;}let _0x4e7fba=[];for(let _0x5e9661=0x0;_0x5e9661<_0x5ee262[_0x1478fc(0x30d)][_0x1478fc(0x540)];_0x5e9661++){let _0xeaa268=[],_0x19a7e5=_0x5ee262['rows'][_0x5e9661][_0x1478fc(0x1f7)]('td,\x20th');for(let _0x5350c6=0x0;_0x5350c6<_0x19a7e5['length'];_0x5350c6++){_0xeaa268[_0x1478fc(0x367)]('\x22'+_0x19a7e5[_0x5350c6][_0x1478fc(0x261)][_0x1478fc(0x105)](/"/g,'\x22\x22')+'\x22');}_0x4e7fba[_0x1478fc(0x367)](_0xeaa268[_0x1478fc(0x4ca)](','));}const _0x4febc1=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x4e7fba[_0x1478fc(0x4ca)]('\x0a')],{'type':'text/csv;charset=utf-8;'}),_0x42fb6b=document[_0x1478fc(0x302)]('a');_0x42fb6b[_0x1478fc(0x4f5)]=URL[_0x1478fc(0x317)](_0x4febc1),_0x42fb6b['download']=_0x1e26cf+_0x1478fc(0x305),_0x42fb6b[_0x1478fc(0x447)]();}function renderAnalytics(_0x579c9c,_0x5db26d){const _0x4862d7=_0x530be2,_0x21ecb3=currentProjectData['students'][_0x4862d7(0x540)],_0x11f655=_0x5db26d[_0x4862d7(0x540)],_0x4fbe66=_0x21ecb3-_0x11f655,_0x40729b=_0x21ecb3>0x0?_0x11f655/_0x21ecb3*0x64:0x0,_0x3088e2=_0x5db26d['map'](_0x7ea29c=>_0x7ea29c[_0x4862d7(0x29f)]),_0x155e08=_0x3088e2[_0x4862d7(0x540)]>0x0?_0x3088e2[_0x4862d7(0x53c)]((_0x1c9463,_0x33a6f4)=>_0x1c9463+_0x33a6f4,0x0)/_0x3088e2[_0x4862d7(0x540)]:0x0,_0x4f60b9=_0x579c9c[_0x4862d7(0x3e7)][_0x4862d7(0x540)],_0x2ff220=_0x4f60b9>0x0?_0x155e08/_0x4f60b9*0x64:0x0,_0x21dfa1=document[_0x4862d7(0x131)]('analytics-summary-cards');_0x21dfa1['innerHTML']=_0x4862d7(0x2e0)+_0x40729b[_0x4862d7(0x466)](0x0)+_0x4862d7(0x21e)+_0x11f655+'/'+_0x21ecb3+_0x4862d7(0x1b5)+_0x155e08[_0x4862d7(0x466)](0x2)+_0x4862d7(0x4b4)+_0x2ff220[_0x4862d7(0x466)](0x0)+_0x4862d7(0x111)+(_0x3088e2[_0x4862d7(0x540)]>0x0?Math[_0x4862d7(0x12f)](..._0x3088e2):_0x4862d7(0x11d))+_0x4862d7(0x282)+(_0x3088e2['length']>0x0?Math[_0x4862d7(0x4a8)](..._0x3088e2):'N/A')+_0x4862d7(0x13b);const _0x4641e9=currentProjectData['students']||[];renderSubmissionChart(_0x11f655,_0x4fbe66,_0x5db26d,_0x4641e9),renderScoreDistributionChart(_0x5db26d,_0x4f60b9),renderQuestionAnalytics(_0x579c9c,_0x5db26d,_0x4641e9);}function renderSubmissionChart(_0x2106a8,_0x2ab758,_0x332ddc,_0x34b2f5){const _0x4c427f=_0x530be2,_0x46a0bb=document[_0x4c427f(0x131)]('submission-status-chart')[_0x4c427f(0x313)]('2d'),_0x48f697=_0x332ddc[_0x4c427f(0x226)](_0x15f5b2=>_0x15f5b2[_0x4c427f(0x37a)]),_0x400c0c=_0x34b2f5[_0x4c427f(0x40b)](_0x2cab84=>!_0x48f697[_0x4c427f(0x259)](_0x2cab84));chartInstances['submission']&&chartInstances[_0x4c427f(0xee)][_0x4c427f(0x1b2)](),chartInstances['submission']=new Chart(_0x46a0bb,{'type':_0x4c427f(0x538),'data':{'labels':[_0x4c427f(0x3b6),'ยังไม่ส่ง'],'datasets':[{'data':[_0x2106a8,_0x2ab758],'backgroundColor':['#10B981',_0x4c427f(0x4ed)],'borderColor':[_0x4c427f(0x263),'#ffffff'],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':_0x4c427f(0x240)},'tooltip':{'callbacks':{'label':function(_0x1f239a){const _0x3e70b2=_0x4c427f;let _0x194cd5=_0x1f239a[_0x3e70b2(0x3a6)]||'';return _0x194cd5&&(_0x194cd5+=':\x20'),_0x194cd5+=_0x1f239a[_0x3e70b2(0x1f8)],_0x194cd5;},'afterLabel':function(_0x319db2){const _0x18f38f=_0x4c427f;let _0x5474ca;return _0x319db2[_0x18f38f(0x3e9)]===0x0?_0x5474ca=_0x48f697:_0x5474ca=_0x400c0c,_0x5474ca[_0x18f38f(0x540)]>0x0?_0x5474ca['join']('\x0a'):_0x18f38f(0x2ba);}}}}}});}function renderScoreDistributionChart(_0x12ec2e,_0x20f68e){const _0x6f84d4=_0x530be2,_0x3ff6e9=document[_0x6f84d4(0x131)](_0x6f84d4(0x312))[_0x6f84d4(0x313)]('2d'),_0x5e003b={};for(let _0x4a2418=0x0;_0x4a2418<=_0x20f68e;_0x4a2418++){_0x5e003b[_0x4a2418]=0x0;}_0x12ec2e['forEach'](_0xd43a59=>{const _0x342fb0=_0x6f84d4;_0x5e003b[_0xd43a59[_0x342fb0(0x29f)]]!==undefined&&_0x5e003b[_0xd43a59[_0x342fb0(0x29f)]]++;}),chartInstances[_0x6f84d4(0x334)]&&chartInstances[_0x6f84d4(0x334)]['destroy'](),chartInstances[_0x6f84d4(0x334)]=new Chart(_0x3ff6e9,{'type':'bar','data':{'labels':Object[_0x6f84d4(0x22d)](_0x5e003b),'datasets':[{'label':'จำนวนนักเรียน','data':Object['values'](_0x5e003b),'backgroundColor':_0x6f84d4(0x235),'borderColor':_0x6f84d4(0x147),'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x6f84d4(0x344)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x42b25e){const _0x3bd273=_0x6f84d4,_0x970424=_0x42b25e['label'],_0x14a9b1=_0x12ec2e[_0x3bd273(0x40b)](_0x3eee52=>_0x3eee52[_0x3bd273(0x29f)]==_0x970424)['map'](_0x3a9c43=>_0x3a9c43['studentName']);return _0x14a9b1['length']>0x0?_0x14a9b1[_0x3bd273(0x4ca)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x384c75,_0x3d33b2,_0x1b6e41){const _0x3188fe=_0x530be2,_0x4d01af=document[_0x3188fe(0x131)](_0x3188fe(0x1ff));if(_0x1b6e41[_0x3188fe(0x540)]===0x0){_0x4d01af[_0x3188fe(0x19f)]=_0x3188fe(0x293);return;}let _0x516703='';const _0x140743=_0x3d33b2[_0x3188fe(0x226)](_0x1913f6=>_0x1913f6[_0x3188fe(0x37a)]);_0x384c75[_0x3188fe(0x3e7)][_0x3188fe(0x3be)]((_0x3c977a,_0x5344fe)=>{const _0x4f0933=_0x3188fe;let _0x5ee3e1=0x0;const _0x2fa16b=[],_0x15b2c9=[],_0x39467c=_0x3c977a[_0x4f0933(0x40e)]||_0x3c977a[_0x4f0933(0xce)]||_0x3c977a[_0x4f0933(0x12b)];_0x3d33b2[_0x4f0933(0x3be)](_0x4504f8=>{const _0xb21e62=_0x4f0933,_0x512b92=_0x4504f8['attempts'][_0x4504f8[_0xb21e62(0x30f)][_0xb21e62(0x540)]-0x1];if(_0x512b92&&_0x512b92[_0xb21e62(0x22e)]){const _0xacde9f=_0x512b92[_0xb21e62(0x22e)][_0xb21e62(0x249)](_0x1c6cfe=>_0x1c6cfe['originalQuestionText']===_0x39467c);_0xacde9f&&(_0xacde9f[_0xb21e62(0x1a7)]?(_0x5ee3e1++,_0x2fa16b['push'](_0x4504f8[_0xb21e62(0x37a)])):_0x15b2c9[_0xb21e62(0x367)](_0x4504f8[_0xb21e62(0x37a)]));}});const _0x373e30=_0x1b6e41[_0x4f0933(0x40b)](_0x26c9ed=>!_0x140743[_0x4f0933(0x259)](_0x26c9ed)),_0x16599d=_0x3d33b2[_0x4f0933(0x540)]>0x0?_0x5ee3e1/_0x3d33b2[_0x4f0933(0x540)]*0x64:0x0;_0x516703+=_0x4f0933(0x1c6)+(_0x5344fe+0x1)+':\x20'+_0x39467c+_0x4f0933(0x25e)+(_0x16599d>=0x46?_0x4f0933(0x2ac):_0x16599d>=0x28?_0x4f0933(0xfe):_0x4f0933(0x3ab))+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบถูก\x20'+_0x16599d[_0x4f0933(0x466)](0x0)+_0x4f0933(0x516)+_0x39467c+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20'+_0x5ee3e1+_0x4f0933(0x525)+_0x3d33b2[_0x4f0933(0x540)]+_0x4f0933(0x3dc)+_0x2fa16b[_0x4f0933(0x540)]+_0x4f0933(0x300)+(_0x2fa16b[_0x4f0933(0x540)]>0x0?_0x2fa16b[_0x4f0933(0x4ca)](',\x20'):_0x4f0933(0x2ba))+_0x4f0933(0x4bd)+_0x15b2c9[_0x4f0933(0x540)]+_0x4f0933(0x300)+(_0x15b2c9[_0x4f0933(0x540)]>0x0?_0x15b2c9[_0x4f0933(0x4ca)](',\x20'):_0x4f0933(0x2ba))+_0x4f0933(0x45d)+_0x373e30['length']+_0x4f0933(0x300)+(_0x373e30[_0x4f0933(0x540)]>0x0?_0x373e30['join'](',\x20'):_0x4f0933(0x2ba))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x4d01af[_0x3188fe(0x19f)]=_0x516703;try{window['MathJax']&&MathJax['typesetPromise']&&MathJax[_0x3188fe(0x1d4)]([_0x4d01af]);}catch(_0x4e009a){console[_0x3188fe(0x339)]('MathJax\x20typeset\x20error\x20(analytics):',_0x4e009a);}}async function handleAnalyzeClass(){const _0x47c291=_0x530be2;if(!currentQuizData||!currentQuizData['id']){showMessage(_0x47c291(0x503));return;}const _0x30c6e5=collection(db,_0x47c291(0x412)+appId+'/public/data/quizzes/'+currentQuizData['id']+_0x47c291(0x43d)),_0x46603f=await getDocs(_0x30c6e5),_0x4fdf4f=_0x46603f[_0x47c291(0x51e)][_0x47c291(0x226)](_0x2a7184=>_0x2a7184['data']());if(_0x4fdf4f['length']<0x2){showMessage(_0x47c291(0x406));return;}const _0x20e240=document[_0x47c291(0x131)](_0x47c291(0x3d4));_0x20e240[_0x47c291(0x19f)]=_0x47c291(0x104),document['getElementById'](_0x47c291(0x498))['disabled']=!![];const _0x342f44=_0x4fdf4f['map']((_0xece4a8,_0x122fbb)=>{const _0xacd7ae=_0x47c291,_0x352d1d=_0xece4a8[_0xacd7ae(0x30f)][_0xece4a8[_0xacd7ae(0x30f)]['length']-0x1];if(!_0x352d1d)return'';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20'+(_0x122fbb+0x1)+'\x20('+_0xece4a8['studentName']+_0xacd7ae(0x28c)+_0x352d1d['score']+'/'+_0xece4a8['totalQuestions']+_0xacd7ae(0x372)+JSON[_0xacd7ae(0x53e)](_0x352d1d[_0xacd7ae(0x22e)])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x47c291(0x4ca)](_0x47c291(0x34a)),_0x224008=_0x47c291(0xd7)+currentQuizData[_0x47c291(0x387)]+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20'+JSON[_0x47c291(0x53e)](currentQuizData['questions'])+_0x47c291(0x4d4)+_0x342f44+_0x47c291(0x1ed),_0x13be3f={'type':_0x47c291(0x1a9),'properties':{'classStrengths':{'type':_0x47c291(0x362),'items':{'type':_0x47c291(0x23a)}},'classWeaknesses':{'type':_0x47c291(0x362),'items':{'type':_0x47c291(0x23a)}},'teacherSuggestions':{'type':_0x47c291(0x362),'items':{'type':_0x47c291(0x23a)}}},'required':[_0x47c291(0x4e9),_0x47c291(0x10d),_0x47c291(0x52a)]};try{const _0x49cedb=await callAnalysisApi(_0x224008,_0x13be3f);displayClassAnalysis(_0x49cedb);}catch(_0x5c2f49){console['error'](_0x47c291(0x4ee),_0x5c2f49),_0x20e240[_0x47c291(0x19f)]=_0x47c291(0x17b)+_0x5c2f49['message']+'</p></div>';}finally{document[_0x47c291(0x131)]('analyze-strengths-btn')[_0x47c291(0x136)]=![];}}function displayClassAnalysis(_0x379f18){const _0x5c88a5=_0x530be2,_0x3ac253=document[_0x5c88a5(0x131)](_0x5c88a5(0x3d4));if(!_0x379f18){_0x3ac253[_0x5c88a5(0x19f)]=_0x5c88a5(0x3ba);return;}_0x3ac253[_0x5c88a5(0x19f)]=_0x5c88a5(0x469)+_0x379f18[_0x5c88a5(0x4e9)][_0x5c88a5(0x226)](_0x165b57=>_0x5c88a5(0x4c1)+_0x165b57+_0x5c88a5(0x2a2))['join']('')+_0x5c88a5(0x225)+_0x379f18[_0x5c88a5(0x10d)][_0x5c88a5(0x226)](_0x2ae086=>_0x5c88a5(0x4c1)+_0x2ae086+'</li>')[_0x5c88a5(0x4ca)]('')+_0x5c88a5(0xe2)+_0x379f18[_0x5c88a5(0x52a)][_0x5c88a5(0x226)](_0x73154f=>_0x5c88a5(0x4c1)+_0x73154f+_0x5c88a5(0x2a2))[_0x5c88a5(0x4ca)]('')+_0x5c88a5(0x29b);}function formatAndPrintWorksheet(_0x5099a8,_0x29275d){const _0x3e85f4=_0x530be2,_0x1def75=_0x3e85f4(0x2f8)+_0x5099a8[_0x3e85f4(0x387)]+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20'+_0x5099a8[_0x3e85f4(0x387)]+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5099a8[_0x3e85f4(0x3e7)][_0x3e85f4(0x226)]((_0x204294,_0x29d7c4)=>_0x3e85f4(0x410)+(_0x29d7c4+0x1)+'.\x20'+_0x204294['questionText']+_0x3e85f4(0x3d6)+(_0x204294['imageCode']?_0x3e85f4(0x15b)+_0x204294[_0x3e85f4(0x382)]+_0x3e85f4(0x2c3):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x3e85f4(0x4ca)]('')+_0x3e85f4(0x1b7);_0x29275d[_0x3e85f4(0x399)]['write'](_0x1def75),_0x29275d[_0x3e85f4(0x399)]['close'](),_0x29275d['onload']=function(){const _0xc9048c=_0x3e85f4;_0x29275d[_0xc9048c(0x204)]();};}async function generateWorksheet(){const _0x2ae7ad=_0x530be2,_0x23a957=document['getElementById'](_0x2ae7ad(0x233))[_0x2ae7ad(0x116)]['trim']();if(!_0x23a957){showMessage(_0x2ae7ad(0x299));return;}const _0x2ea9d4=window[_0x2ae7ad(0x268)]('',_0x2ae7ad(0x26b));_0x2ea9d4[_0x2ae7ad(0x399)][_0x2ae7ad(0x1cd)](_0x2ae7ad(0x508));const _0x2e460a=parseInt(document['getElementById'](_0x2ae7ad(0x369))[_0x2ae7ad(0x116)]),_0x5d81f1=document[_0x2ae7ad(0x131)](_0x2ae7ad(0x41a))['checked'],_0x1adad1=_0x5d81f1?_0x2ae7ad(0x4e6):'',_0x1eaddd=_0x2ae7ad(0x171)+_0x2e460a+_0x2ae7ad(0x3b8)+_0x23a957+_0x2ae7ad(0x1c0)+_0x1adad1+_0x2ae7ad(0x4e2),_0x1d4f99={'type':_0x2ae7ad(0x1a9),'properties':{'topic':{'type':_0x2ae7ad(0x23a)},'questions':{'type':'ARRAY','items':{'type':_0x2ae7ad(0x1a9),'properties':{'questionText':{'type':'STRING'},'imageCode':{'type':_0x2ae7ad(0x23a)}},'required':[_0x2ae7ad(0xce)]}}},'required':[_0x2ae7ad(0x387),'questions']};document[_0x2ae7ad(0x131)](_0x2ae7ad(0x3e4))[_0x2ae7ad(0x361)]=_0x2ae7ad(0x21b),document[_0x2ae7ad(0x131)](_0x2ae7ad(0x435))[_0x2ae7ad(0x162)][_0x2ae7ad(0x2db)](_0x2ae7ad(0x217)),document[_0x2ae7ad(0x131)]('quiz-generation-area')['classList']['remove'](_0x2ae7ad(0x217)),generateWorksheetBtn['disabled']=!![];try{const _0x594fbd=await callAnalysisApi(_0x1eaddd,_0x1d4f99);formatAndPrintWorksheet(_0x594fbd,_0x2ea9d4);}catch(_0x124928){console[_0x2ae7ad(0x339)](_0x2ae7ad(0x390),_0x124928);if(_0x2ea9d4)_0x2ea9d4[_0x2ae7ad(0x2f1)]();showMessage(_0x2ae7ad(0x276));}finally{document[_0x2ae7ad(0x131)](_0x2ae7ad(0x435))[_0x2ae7ad(0x162)][_0x2ae7ad(0x2bd)]('hidden'),document[_0x2ae7ad(0x131)](_0x2ae7ad(0x166))[_0x2ae7ad(0x162)][_0x2ae7ad(0x2bd)](_0x2ae7ad(0x217)),generateWorksheetBtn['disabled']=![];}}async function callAnalysisApi(_0x368d5d,_0x2c1dfe){const _0x5d8cca=_0x530be2,_0x4789e0={'contents':[{'role':_0x5d8cca(0x24a),'parts':[{'text':_0x368d5d}]}],'generationConfig':{'responseMimeType':_0x5d8cca(0xe3),'responseSchema':_0x2c1dfe}},_0x2d6f41=_0x5d8cca(0x350),_0x570e08=_0x5d8cca(0x456)+_0x2d6f41,_0xf27db8=await fetch(_0x570e08,{'method':_0x5d8cca(0x541),'headers':{'Content-Type':_0x5d8cca(0xe3)},'body':JSON[_0x5d8cca(0x53e)](_0x4789e0)});if(!_0xf27db8['ok'])throw new Error('API\x20call\x20failed\x20with\x20status:\x20'+_0xf27db8['status']);const _0x4dc154=await _0xf27db8[_0x5d8cca(0x3a7)]();if(_0x4dc154[_0x5d8cca(0x333)]?.[0x0]?.[_0x5d8cca(0x291)]?.[_0x5d8cca(0x3b3)]?.[0x0])return JSON[_0x5d8cca(0x3c9)](_0x4dc154[_0x5d8cca(0x333)][0x0][_0x5d8cca(0x291)][_0x5d8cca(0x3b3)][0x0][_0x5d8cca(0x2a8)]);else{let _0x136187=_0x5d8cca(0xf8);if(_0x4dc154['promptFeedback']?.[_0x5d8cca(0x4a2)])_0x136187=_0x5d8cca(0x4c6)+_0x4dc154['promptFeedback'][_0x5d8cca(0x4a2)]+'.';else _0x4dc154[_0x5d8cca(0x333)]?.[0x0]?.['finishReason']&&_0x4dc154['candidates'][0x0][_0x5d8cca(0x2cd)]!==_0x5d8cca(0x176)&&(_0x136187=_0x5d8cca(0x454)+_0x4dc154[_0x5d8cca(0x333)][0x0][_0x5d8cca(0x2cd)]+'.');console[_0x5d8cca(0x339)](_0x136187,JSON['stringify'](_0x4dc154));throw new Error(_0x136187);}}initialize();
