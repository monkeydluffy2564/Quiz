const _0x5b6af5=_0x2b61;(function(_0x113e78,_0xf080b0){const _0xa85f68=_0x2b61,_0x57303d=_0x113e78();while(!![]){try{const _0x50de10=parseInt(_0xa85f68(0x74d))/0x1*(parseInt(_0xa85f68(0x8bb))/0x2)+parseInt(_0xa85f68(0x7bc))/0x3+parseInt(_0xa85f68(0x3eb))/0x4+-parseInt(_0xa85f68(0x36c))/0x5*(parseInt(_0xa85f68(0x52f))/0x6)+-parseInt(_0xa85f68(0x730))/0x7*(-parseInt(_0xa85f68(0xad1))/0x8)+parseInt(_0xa85f68(0x4ee))/0x9+-parseInt(_0xa85f68(0x97e))/0xa;if(_0x50de10===_0xf080b0)break;else _0x57303d['push'](_0x57303d['shift']());}catch(_0x18b270){_0x57303d['push'](_0x57303d['shift']());}}}(_0xc703,0x845d3));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';let wakeLock=null,localGroupQuestionIndex=0x0;const requestWakeLock=async()=>{const _0x57644b=_0x2b61;if(_0x57644b(0x7d5)in navigator)try{wakeLock=await navigator[_0x57644b(0x7d5)][_0x57644b(0x560)](_0x57644b(0x226)),console[_0x57644b(0xaa8)]('Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง'),wakeLock[_0x57644b(0x78c)](_0x57644b(0xaf0),()=>{const _0x406ad2=_0x57644b;console[_0x406ad2(0xaa8)](_0x406ad2(0xb05));});}catch(_0x448b88){console[_0x57644b(0x581)](_0x57644b(0x2a9)+_0x448b88[_0x57644b(0x59f)]+',\x20'+_0x448b88[_0x57644b(0x8a6)]);}else console[_0x57644b(0x51a)](_0x57644b(0x8ab));},releaseWakeLock=async()=>{const _0x23ca06=_0x2b61;wakeLock!==null&&(await wakeLock[_0x23ca06(0xaf0)](),wakeLock=null,console[_0x23ca06(0xaa8)](_0x23ca06(0x425)));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0x51a57c=_0x2b61;if(dimTimer)clearTimeout(dimTimer);document['body'][_0x51a57c(0x821)][_0x51a57c(0x981)]('dimmed'),dimTimer=setTimeout(()=>{const _0x121768=_0x51a57c;document['body'][_0x121768(0x821)][_0x121768(0x231)]('dimmed'),console[_0x121768(0xaa8)](_0x121768(0xa70));},inactivityTime);}function stopDimTimer(){const _0x5970f9=_0x2b61;if(dimTimer)clearTimeout(dimTimer);document[_0x5970f9(0x228)][_0x5970f9(0x821)]['remove'](_0x5970f9(0x45c)),window[_0x5970f9(0x7d1)](_0x5970f9(0x4af),resetDimTimer),window[_0x5970f9(0x7d1)](_0x5970f9(0x9f9),resetDimTimer),window['removeEventListener'](_0x5970f9(0xad3),resetDimTimer),window['removeEventListener'](_0x5970f9(0x506),resetDimTimer),console[_0x5970f9(0xaa8)]('หยุดระบบจับเวลาหรี่หน้าจอ');}let currentTeamQuizId=null,unsubscribeTeamQuizListener=null,localTeamPlayers=[],localPlayerTurnIndex=0x0;async function handleStartTeamQuiz(_0x1500fd,_0x57b233=![]){const _0x4c81af=_0x2b61,_0x558eea=allQuizzes[_0x4c81af(0xa93)](_0x30aced=>_0x30aced['id']===_0x1500fd)||allQuizzesGlobal[_0x4c81af(0xa93)](_0x4a6516=>_0x4a6516['id']===_0x1500fd);if(!_0x558eea){showMessage(_0x4c81af(0x1f2));return;}currentQuizData=getShuffledQuiz(_0x558eea);const _0x327240=Math['floor'](0x3e8+Math['random']()*0x2328)[_0x4c81af(0x742)]();try{const _0x1375f9=await addDoc(collection(db,_0x4c81af(0x58b)+appId+'/public/data/teamQuizzes'),{'quizId':_0x558eea['id'],'projectId':_0x558eea[_0x4c81af(0x1f9)],'status':_0x4c81af(0x45d),'pin':_0x327240,'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'responses':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x57b233});currentTeamQuizId=_0x1375f9['id'],showView(_0x4c81af(0x7a3)),renderAdminTeamQuizDashboard(_0x327240,_0x558eea['topic']),listenForTeamQuizUpdates();}catch(_0x469a78){console[_0x4c81af(0x581)](_0x4c81af(0x960),_0x469a78),showMessage('เกิดข้อผิดพลาดในการสร้างห้อง\x20Team\x20Quiz');}}function renderAdminTeamQuizDashboard(_0x2a026c,_0x4e6582,_0x11777b='team'){const _0x59d309=_0x2b61,_0xe52d1a=_0x11777b==='group'?'Group\x20Mode':_0x59d309(0x948);liveGameView[_0x59d309(0x993)]=_0x59d309(0x321)+_0xe52d1a+':\x20'+_0x4e6582+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>'+_0x2a026c+_0x59d309(0x9de),document[_0x59d309(0x318)]('end-team-quiz-btn')['addEventListener']('click',async()=>{const _0x502996=_0x59d309;showConfirmation(_0x502996(0xaf9),async()=>{const _0x59a5f1=_0x502996;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();await deleteDoc(doc(db,_0x59a5f1(0x58b)+appId+_0x59a5f1(0x963),currentTeamQuizId)),showView(_0x59a5f1(0xb16));});});}function listenForTeamQuizUpdates(){const _0x1685fe=_0x2b61;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();const _0x45ea3c=doc(db,_0x1685fe(0x58b)+appId+_0x1685fe(0x963),currentTeamQuizId);unsubscribeTeamQuizListener=onSnapshot(_0x45ea3c,_0x1eaab9=>{const _0x3ef343=_0x1685fe;if(!_0x1eaab9[_0x3ef343(0xa76)]()){sessionStorage[_0x3ef343(0x1e0)](_0x3ef343(0x7f5));if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();if(currentMode===_0x3ef343(0x6a3))showMessage('กิจกรรม\x20Team\x20Quiz\x20สิ้นสุดลงแล้ว');showView(currentMode===_0x3ef343(0x6a3)?_0x3ef343(0xb16):_0x3ef343(0x73a));return;}const _0x203e43=_0x1eaab9['data']();if(currentMode===_0x3ef343(0x6a3)){if(_0x203e43[_0x3ef343(0x3b8)]===_0x3ef343(0x20d)&&_0x203e43[_0x3ef343(0x6d0)]!==_0x3ef343(0x3ce)&&_0x203e43[_0x3ef343(0x6d0)]!==_0x3ef343(0x467)){const _0x50f4f2=Object['values'](_0x203e43[_0x3ef343(0x253)]||{});if(_0x50f4f2[_0x3ef343(0x326)]>0x0){const _0x621851=_0x50f4f2[_0x3ef343(0x724)](_0x5da2e8=>_0x5da2e8[_0x3ef343(0x429)]===!![]);_0x621851&&endGroupModeGame(currentTeamQuizId);}}updateAdminTeamDashboard(_0x203e43);}else{if(_0x203e43[_0x3ef343(0x6d0)]===_0x3ef343(0x3ce)||_0x203e43[_0x3ef343(0x6d0)]==='finished'){if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();displayTeamQuizFinalResults();}else{if(_0x203e43['mode']===_0x3ef343(0x20d)){const _0x5a540d=_0x203e43[_0x3ef343(0x253)][userId];(!_0x5a540d||!_0x5a540d['isFinished'])&&renderTeamQuizQuestion();}}}});}async function endGroupModeGame(_0x478378){const _0x2799ee=_0x2b61;console[_0x2799ee(0xaa8)](_0x2799ee(0x3ba));const _0x270efb=doc(db,_0x2799ee(0x58b)+appId+_0x2799ee(0x963),_0x478378);try{const _0x2c7710=await getDoc(_0x270efb);if(_0x2c7710[_0x2799ee(0xa76)]()){const _0x11d259=_0x2c7710['data']();_0x11d259[_0x2799ee(0x745)]&&await saveGameResultsAsSubmissions(_0x11d259);}await updateDoc(_0x270efb,{'status':_0x2799ee(0x3ce)});}catch(_0x52a4b1){console[_0x2799ee(0x581)](_0x2799ee(0x576),_0x52a4b1);}}function updateAdminTeamDashboard(_0x466eb6){const _0x4d5d00=_0x2b61,_0x50767d=document['getElementById'](_0x4d5d00(0x762));if(!_0x50767d)return;const _0x4644a7=_0x466eb6[_0x4d5d00(0x3b8)]||_0x4d5d00(0x643);if(_0x4644a7===_0x4d5d00(0x20d)){const _0x100f18=Object['values'](_0x466eb6['groups']||{});if(_0x100f18['length']===0x0){_0x50767d[_0x4d5d00(0x993)]=_0x4d5d00(0x5cb);return;}const _0x29988c=[..._0x100f18][_0x4d5d00(0xaa5)]((_0x3860ec,_0x5553a9)=>_0x5553a9[_0x4d5d00(0x829)]-_0x3860ec[_0x4d5d00(0x829)]),_0x4751de=_0x29988c[_0x4d5d00(0xa7a)]((_0x4e6137,_0x2d2160)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-md\x20transition-all\x20hover:bg-black/40\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>'+(_0x2d2160+0x1)+_0x4d5d00(0x3e3)+_0x4e6137[_0x4d5d00(0x530)][_0x4d5d00(0x8c0)](',\x20')+_0x4d5d00(0x1df)+_0x4e6137[_0x4d5d00(0x829)]+_0x4d5d00(0x5dc))['join']('');let _0x3b9961='';currentQuizData&&currentQuizData[_0x4d5d00(0x313)]&&(_0x3b9961=currentQuizData[_0x4d5d00(0x313)][_0x4d5d00(0xa7a)]((_0x39992f,_0x54405d)=>{const _0x10f829=_0x4d5d00;let _0x258437=0x0;return _0x100f18[_0x10f829(0x394)](_0x537108=>{const _0x330125=_0x10f829,_0x52c99b=_0x537108[_0x330125(0x739)]||[],_0x3b0f58=_0x52c99b[_0x330125(0xa93)](_0x5a0840=>_0x5a0840[_0x330125(0x361)]===_0x54405d);_0x3b0f58&&_0x3b0f58[_0x330125(0x64c)]&&_0x258437++;}),_0x10f829(0xa34)+(_0x54405d+0x1)+':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x22>'+_0x258437+_0x10f829(0x682)+_0x100f18['length']+'\x20กลุ่ม\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x4d5d00(0x8c0)]('')),_0x50767d[_0x4d5d00(0x993)]=_0x4d5d00(0x9d5)+_0x4751de+_0x4d5d00(0xab3)+_0x3b9961+_0x4d5d00(0x9e9);}else{const _0x29f11c=_0x466eb6[_0x4d5d00(0x2e4)]||{},_0x5efa21=Object[_0x4d5d00(0x593)](_0x29f11c);if(_0x5efa21[_0x4d5d00(0x326)]===0x0){_0x50767d[_0x4d5d00(0x993)]=_0x4d5d00(0x631);return;}const _0x24b166=_0x5efa21[_0x4d5d00(0xa7a)](_0x13ed47=>({'name':_0x13ed47,'score':_0x29f11c[_0x13ed47][_0x4d5d00(0x829)]||0x0}))[_0x4d5d00(0xaa5)]((_0x58192e,_0x13399e)=>_0x13399e['score']-_0x58192e[_0x4d5d00(0x829)]);let _0x15d2eb='';currentQuizData&&currentQuizData['questions']&&(_0x15d2eb=currentQuizData[_0x4d5d00(0x313)][_0x4d5d00(0xa7a)]((_0x3c0799,_0xe14838)=>{const _0x1c25d3=_0x4d5d00;let _0x573595=0x0;return _0x5efa21[_0x1c25d3(0x394)](_0x15625a=>{const _0x5314fe=_0x1c25d3,_0x6b69ae=_0x29f11c[_0x15625a][_0x5314fe(0x739)]||[],_0x56b0f6=_0x6b69ae[_0x5314fe(0xa93)](_0x201ea5=>_0x201ea5['questionIndex']===_0xe14838);if(_0x56b0f6&&_0x56b0f6['isCorrect'])_0x573595++;}),_0x1c25d3(0x913)+(_0xe14838+0x1)+_0x1c25d3(0x430)+_0x573595+_0x1c25d3(0x682)+_0x5efa21['length']+_0x1c25d3(0x86b);})[_0x4d5d00(0x8c0)]('')),_0x50767d[_0x4d5d00(0x993)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนรวม\x20(รายบุคคล)</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20text-lg\x22>'+_0x24b166['map'](_0x43a25c=>_0x4d5d00(0x75a)+_0x43a25c[_0x4d5d00(0x59f)]+'</span><span\x20class=\x22font-bold\x22>'+_0x43a25c[_0x4d5d00(0x829)]+'\x20คะแนน</span></div>')[_0x4d5d00(0x8c0)]('')+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-2\x20lg:grid-cols-3\x20gap-2\x22>'+_0x15d2eb+_0x4d5d00(0x56e);}}async function handleJoinTeamQuiz(){const _0xd71912=_0x2b61,_0x4d452f=prompt(_0xd71912(0x9d3));if(!_0x4d452f||_0x4d452f[_0xd71912(0x442)]()['length']!==0x4){showMessage(_0xd71912(0x7dc));return;}try{const _0x5c9ed1=collection(db,'artifacts/'+appId+_0xd71912(0x963)),_0x54da7b=query(_0x5c9ed1,where(_0xd71912(0x4fd),'==',_0x4d452f['trim']()),where(_0xd71912(0x6d0),'==',_0xd71912(0x45d))),_0x4ae947=await getDocs(_0x54da7b);if(_0x4ae947['empty']){showMessage(_0xd71912(0x307));return;}const _0x470b16=_0x4ae947[_0xd71912(0xa18)][0x0];currentTeamQuizId=_0x470b16['id'];const _0x4b9860=_0x470b16[_0xd71912(0x266)](),_0x491940=doc(db,_0xd71912(0x58b)+appId+_0xd71912(0x268),_0x4b9860['projectId']),_0x3ced1a=doc(db,_0xd71912(0x58b)+appId+_0xd71912(0xaca),_0x4b9860[_0xd71912(0x79c)]),[_0x5e126d,_0x5f1c1c]=await Promise[_0xd71912(0x3a5)]([getDoc(_0x491940),getDoc(_0x3ced1a)]);if(!_0x5e126d[_0xd71912(0xa76)]()||!_0x5f1c1c[_0xd71912(0xa76)]())throw new Error('ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ');currentQuizData=getShuffledQuiz({'id':_0x5f1c1c['id'],..._0x5f1c1c[_0xd71912(0x266)]()});const _0x3f58ea=_0x5e126d['data']();showTeamPlayerSelection(_0x3f58ea[_0xd71912(0x938)],currentQuizData[_0xd71912(0x53e)]);}catch(_0x25ff22){console['error'](_0xd71912(0x24b),_0x25ff22),showMessage(_0xd71912(0x431)+_0x25ff22[_0xd71912(0x8a6)]);}}async function handleJoinGroupActivity(){const _0x5a6612=_0x2b61,_0x16941f=prompt('กรุณาป้อนรหัสเข้าร่วมกิจกรรม\x20(4\x20หลัก):');if(!_0x16941f||_0x16941f[_0x5a6612(0x442)]()[_0x5a6612(0x326)]!==0x4){showMessage(_0x5a6612(0x2cd));return;}const _0x43fa96=_0x16941f['trim']();showMessage(_0x5a6612(0x9c8));try{const _0x3bd92a=collection(db,_0x5a6612(0x58b)+appId+'/public/data/teamQuizzes'),_0x56c977=query(_0x3bd92a,where(_0x5a6612(0x4fd),'==',_0x43fa96),where(_0x5a6612(0x6d0),'==',_0x5a6612(0x45d))),_0x43d42c=await getDocs(_0x56c977);if(!_0x43d42c['empty']){console['log'](_0x5a6612(0x737)),await proceedWithTeamQuizJoin(_0x43d42c[_0x5a6612(0xa18)][0x0]);return;}const _0x5c3f5e=collection(db,_0x5a6612(0x58b)+appId+'/public/data/syncGames'),_0x14fba7=query(_0x5c3f5e,where('pin','==',_0x43fa96),where(_0x5a6612(0x6d0),'==',_0x5a6612(0x45d))),_0x17599b=await getDocs(_0x14fba7);if(!_0x17599b[_0x5a6612(0x2d0)]){console[_0x5a6612(0xaa8)]('พบ\x20Sync\x20Game!'),await proceedWithSyncQuizJoin(_0x17599b['docs'][0x0]);return;}showMessage(_0x5a6612(0x630));}catch(_0x4a1334){console[_0x5a6612(0x581)](_0x5a6612(0x51b),_0x4a1334),showMessage(_0x5a6612(0x755)+_0x4a1334[_0x5a6612(0x8a6)]);}}async function proceedWithTeamQuizJoin(_0x703b26){const _0x50b11a=_0x2b61;currentTeamQuizId=_0x703b26['id'];const _0x306b16=_0x703b26[_0x50b11a(0x266)](),_0xe93869=doc(db,_0x50b11a(0x58b)+appId+_0x50b11a(0x268),_0x306b16[_0x50b11a(0x1f9)]),_0x53d617=doc(db,_0x50b11a(0x58b)+appId+_0x50b11a(0xaca),_0x306b16['quizId']),[_0x57498f,_0x24bfe8]=await Promise['all']([getDoc(_0xe93869),getDoc(_0x53d617)]);if(!_0x57498f[_0x50b11a(0xa76)]()||!_0x24bfe8[_0x50b11a(0xa76)]())throw new Error(_0x50b11a(0x4d8));currentQuizData=getShuffledQuiz({'id':_0x24bfe8['id'],..._0x24bfe8[_0x50b11a(0x266)]()}),showTeamPlayerSelection(_0x57498f[_0x50b11a(0x266)]()[_0x50b11a(0x938)],currentQuizData[_0x50b11a(0x53e)],_0x306b16[_0x50b11a(0x3b8)]||_0x50b11a(0x643)),messageModal[_0x50b11a(0x821)][_0x50b11a(0x231)](_0x50b11a(0x8be));}async function proceedWithSyncQuizJoin(_0x12380d){const _0x46ce6d=_0x2b61;currentLiveGameId=_0x12380d['id'];const _0x4787b6=_0x12380d[_0x46ce6d(0x266)](),_0x29bf75=doc(db,_0x46ce6d(0x58b)+appId+'/public/data/quizzes',_0x4787b6[_0x46ce6d(0x79c)]),_0x5df6e4=await getDoc(_0x29bf75);if(!_0x5df6e4[_0x46ce6d(0xa76)]())throw new Error(_0x46ce6d(0x1f2));const _0x5dd438=_0x5df6e4[_0x46ce6d(0x266)](),_0x39c127=doc(db,_0x46ce6d(0x58b)+appId+_0x46ce6d(0x268),_0x5dd438['projectId']),_0x451bfe=await getDoc(_0x39c127);if(!_0x451bfe[_0x46ce6d(0xa76)]())throw new Error(_0x46ce6d(0x4fa));currentQuizData=_0x4787b6[_0x46ce6d(0x3a4)],showView('student-team-join'),showTeamPlayerSelection(_0x451bfe['data']()[_0x46ce6d(0x938)],_0x5dd438[_0x46ce6d(0x53e)],_0x46ce6d(0xa13)),document[_0x46ce6d(0x318)](_0x46ce6d(0x64a))[_0x46ce6d(0xad8)]=confirmAndJoinSyncGame,messageModal['classList'][_0x46ce6d(0x231)](_0x46ce6d(0x8be));}function showTeamPlayerSelection(_0x21e9bc,_0x3e5157,_0x8fa418=_0x5b6af5(0x643)){const _0x257eb7=_0x5b6af5;studentInitialView['classList'][_0x257eb7(0x231)]('hidden'),studentJoinGameView[_0x257eb7(0x821)]['add'](_0x257eb7(0x8be)),document[_0x257eb7(0x318)]('student-team-selection-view')['classList'][_0x257eb7(0x981)]('hidden');let _0x47cd8e=_0x257eb7(0x948);if(_0x8fa418==='group')_0x47cd8e=_0x257eb7(0x989);else _0x8fa418===_0x257eb7(0xa13)&&(_0x47cd8e=_0x257eb7(0x2cc));document[_0x257eb7(0x318)](_0x257eb7(0x50b))[_0x257eb7(0x950)]=_0x47cd8e+':\x20'+_0x3e5157;const _0x91e01=document['getElementById'](_0x257eb7(0x8fd));if(!_0x21e9bc||_0x21e9bc[_0x257eb7(0x326)]===0x0){_0x91e01['innerHTML']=_0x257eb7(0x873),document[_0x257eb7(0x318)](_0x257eb7(0x64a))[_0x257eb7(0x204)]=!![];return;}_0x91e01[_0x257eb7(0x993)]=_0x21e9bc[_0x257eb7(0xa7a)](_0x3f8762=>_0x257eb7(0x9fa)+_0x3f8762+'\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-cyan-600\x20focus:ring-cyan-500\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-lg\x22>'+_0x3f8762+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20')[_0x257eb7(0x8c0)](''),document['getElementById'](_0x257eb7(0x64a))[_0x257eb7(0x204)]=![];}async function confirmAndStartTeamQuiz(){const _0x59748e=_0x5b6af5,_0x8e6c71=Array[_0x59748e(0x918)](document[_0x59748e(0x502)](_0x59748e(0x324)))[_0x59748e(0xa7a)](_0x4ee5b9=>_0x4ee5b9[_0x59748e(0x3e2)]);if(_0x8e6c71[_0x59748e(0x326)]===0x0){showMessage('กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน');return;}localTeamPlayers=_0x8e6c71,localPlayerTurnIndex=0x0;const _0x3bde8a=doc(db,'artifacts/'+appId+'/public/data/teamQuizzes',currentTeamQuizId),_0x1e1131=await getDoc(_0x3bde8a);if(!_0x1e1131[_0x59748e(0xa76)]()){showMessage(_0x59748e(0x448));return;}const _0x29fb05=_0x1e1131[_0x59748e(0x266)]();_0x29fb05[_0x59748e(0x3b8)]===_0x59748e(0x20d)&&(localGroupQuestionIndex=0x0);try{if(_0x29fb05[_0x59748e(0x3b8)]===_0x59748e(0x20d)){const _0x3fa3ac=userId,_0x5b4fb6={};_0x5b4fb6[_0x59748e(0x771)+_0x3fa3ac]={'members':localTeamPlayers,'score':0x0,'answers':[]},await updateDoc(_0x3bde8a,_0x5b4fb6);}else{const _0x442202={};localTeamPlayers[_0x59748e(0x394)](_0x176cf8=>{const _0x495a58=_0x59748e;_0x442202[_0x495a58(0x7ac)+_0x176cf8]={'score':0x0,'answers':[]};}),await updateDoc(_0x3bde8a,_0x442202);}document[_0x59748e(0x318)]('student-team-selection-view')[_0x59748e(0x821)][_0x59748e(0x231)]('hidden'),renderTeamQuizQuestion();const _0x2a8480={'gameId':currentTeamQuizId,'mode':_0x29fb05[_0x59748e(0x3b8)]||_0x59748e(0x643),'players':localTeamPlayers,'turnIndex':localPlayerTurnIndex};sessionStorage[_0x59748e(0x45b)]('activeGameSession',JSON[_0x59748e(0x617)](_0x2a8480)),listenForTeamQuizUpdates();}catch(_0x3ab59d){console['error'](_0x59748e(0x86d),_0x3ab59d),showMessage(_0x59748e(0x50c));}}async function renderTeamQuizQuestion(){const _0x15480a=_0x5b6af5,_0x2bbc31=doc(db,'artifacts/'+appId+_0x15480a(0x963),currentTeamQuizId),_0x3e7682=await getDoc(_0x2bbc31);if(!_0x3e7682[_0x15480a(0xa76)]())return;const _0x51eb35=_0x3e7682[_0x15480a(0x266)](),_0x2803f3=_0x51eb35[_0x15480a(0x3b8)]||_0x15480a(0x643);let _0x49ef31,_0x269341;_0x2803f3===_0x15480a(0x20d)?(_0x49ef31=localGroupQuestionIndex,_0x269341=_0x15480a(0x331)+localTeamPlayers[_0x15480a(0x8c0)](',\x20')):(_0x49ef31=Math['floor'](localPlayerTurnIndex/localTeamPlayers[_0x15480a(0x326)]),_0x269341=_0x15480a(0x3f0)+localTeamPlayers[localPlayerTurnIndex%localTeamPlayers[_0x15480a(0x326)]]);if(_0x49ef31>=currentQuizData[_0x15480a(0x313)][_0x15480a(0x326)]){displayTeamQuizFinalResults();return;}const _0x50ea6f=currentQuizData[_0x15480a(0x313)][_0x49ef31],_0x19ad31=_0x50ea6f['questionType']||currentQuizData['quizType'];let _0x3e406f=_0x50ea6f[_0x15480a(0x6f3)]||_0x50ea6f[_0x15480a(0x7a4)],_0x4b3a96='';switch(_0x19ad31){case _0x15480a(0x40c):case _0x15480a(0xa50):_0x4b3a96=_0x50ea6f[_0x15480a(0x6c3)]['map']((_0x36e35b,_0x494bfc)=>_0x15480a(0x8a9)+_0x494bfc+_0x15480a(0x26f)+_0x494bfc+'\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt'+_0x494bfc+'\x22>'+_0x36e35b+_0x15480a(0x49b))[_0x15480a(0x8c0)]('');break;case'true_false':_0x4b3a96=_0x15480a(0x79b);break;case _0x15480a(0xa9e):case'fill_in_no_choices':_0x4b3a96=_0x15480a(0x384);break;case _0x15480a(0x917):_0x4b3a96=_0x15480a(0x2eb)+_0x50ea6f[_0x15480a(0x3e5)][_0x15480a(0xa7a)](_0x6b7e91=>_0x15480a(0x6ed)+_0x6b7e91+'\x22>'+_0x6b7e91+_0x15480a(0x91e))[_0x15480a(0x8c0)]('')+_0x15480a(0x72b);break;default:_0x4b3a96=_0x15480a(0x67e);break;}studentQuizArea[_0x15480a(0x993)]=_0x15480a(0x1e5)+(_0x49ef31+0x1)+_0x15480a(0x682)+currentQuizData[_0x15480a(0x313)][_0x15480a(0x326)]+_0x15480a(0x4e9)+_0x269341+_0x15480a(0x25a)+(_0x49ef31+0x1)+'.\x20'+_0x3e406f+_0x15480a(0x366)+(_0x50ea6f[_0x15480a(0x7fb)]?'<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x50ea6f['imageCode']+'</div>':'')+_0x15480a(0x6e1)+_0x4b3a96+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-team-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',studentQuizArea[_0x15480a(0x821)]['remove']('hidden');if(window[_0x15480a(0x2c3)])MathJax[_0x15480a(0x4f5)]([studentQuizArea]);const _0x12c27=document[_0x15480a(0x318)](_0x15480a(0x209));_0x2803f3===_0x15480a(0x20d)?_0x12c27[_0x15480a(0x78c)]('click',handleGroupAnswerSubmit):_0x12c27[_0x15480a(0x78c)]('click',handleTeamAnswerSubmit);}async function handleGroupAnswerSubmit(){const _0x371a57=_0x5b6af5,_0x29743a=doc(db,_0x371a57(0x58b)+appId+_0x371a57(0x963),currentTeamQuizId),_0xe5d69d=localGroupQuestionIndex,_0x2de494=currentQuizData[_0x371a57(0x313)][_0xe5d69d],_0x42a2bc=_0x2de494['questionType']||currentQuizData['quizType'];let _0x379403=null,_0x1cb941=![];if(_0x42a2bc===_0x371a57(0xa9e)||_0x42a2bc===_0x371a57(0x773)){const _0x573da4=document[_0x371a57(0x3f9)]('textarea[name=\x22team_answer\x22]');if(!_0x573da4||!_0x573da4[_0x371a57(0x3e2)][_0x371a57(0x442)]()){showMessage(_0x371a57(0x94c));return;}_0x379403=_0x573da4[_0x371a57(0x3e2)][_0x371a57(0x442)](),_0x1cb941=await gradeShortAnswer(_0x379403,_0x2de494);}else{const _0xeed97a=document['querySelector'](_0x371a57(0xac0));if(!_0xeed97a||_0xeed97a[_0x371a57(0x3e2)]===''){showMessage('กรุณาเลือกคำตอบของกลุ่ม');return;}_0x379403=_0xeed97a[_0x371a57(0x3e2)];switch(_0x42a2bc){case _0x371a57(0x8d0):_0x1cb941=_0x379403===_0x371a57(0x2a4)===_0x2de494[_0x371a57(0x86a)];break;case _0x371a57(0x917):_0x1cb941=_0x379403===_0x2de494[_0x371a57(0x2e3)];break;default:_0x1cb941=parseInt(_0x379403)===_0x2de494[_0x371a57(0x859)];break;}}const _0x15e658={'questionIndex':_0xe5d69d,'isCorrect':_0x1cb941},_0x1fcaa1=userId,_0x2778fe={};_0x2778fe[_0x371a57(0x771)+_0x1fcaa1+'.answers']=arrayUnion(_0x15e658);_0x1cb941&&(_0x2778fe['groups.'+_0x1fcaa1+_0x371a57(0xa21)]=increment(0x1));try{await updateDoc(_0x29743a,_0x2778fe),localGroupQuestionIndex++,renderTeamQuizQuestion();}catch(_0x50cfab){console[_0x371a57(0x581)](_0x371a57(0x597),_0x50cfab),showMessage('เกิดข้อผิดพลาดในการส่งคำตอบ');}}async function handleTeamAnswerSubmit(){const _0x55b2d9=_0x5b6af5,_0x5a70be=localTeamPlayers[localPlayerTurnIndex%localTeamPlayers[_0x55b2d9(0x326)]],_0x258e8e=Math['floor'](localPlayerTurnIndex/localTeamPlayers['length']),_0xff7fcc=currentQuizData[_0x55b2d9(0x313)][_0x258e8e],_0x2cc5fa=_0xff7fcc[_0x55b2d9(0xb01)]||currentQuizData['quizType'];let _0x2e8dd5=null,_0xab4fd5=![];if(_0x2cc5fa===_0x55b2d9(0xa9e)||_0x2cc5fa===_0x55b2d9(0x773)){const _0x20fb91=document[_0x55b2d9(0x3f9)]('textarea[name=\x22team_answer\x22]');if(!_0x20fb91||!_0x20fb91[_0x55b2d9(0x3e2)][_0x55b2d9(0x442)]()){showMessage(_0x55b2d9(0x515));return;}_0x2e8dd5=_0x20fb91[_0x55b2d9(0x3e2)][_0x55b2d9(0x442)](),_0xab4fd5=await gradeShortAnswer(_0x2e8dd5,_0xff7fcc);}else{const _0x4370c7=document[_0x55b2d9(0x3f9)]('[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]');if(!_0x4370c7||_0x4370c7[_0x55b2d9(0x3e2)]===''){showMessage(_0x55b2d9(0x213));return;}_0x2e8dd5=_0x4370c7[_0x55b2d9(0x3e2)];switch(_0x2cc5fa){case _0x55b2d9(0x8d0):const _0x3d4ca5=_0x2e8dd5===_0x55b2d9(0x2a4);_0xab4fd5=_0x3d4ca5===_0xff7fcc[_0x55b2d9(0x86a)];break;case _0x55b2d9(0x917):_0xab4fd5=_0x2e8dd5===_0xff7fcc['correctResponse'];break;default:const _0x12de3a=parseInt(_0x2e8dd5);_0xab4fd5=_0x12de3a===_0xff7fcc[_0x55b2d9(0x859)];break;}}const _0x394732={'questionIndex':_0x258e8e,'isCorrect':_0xab4fd5,'answerValue':_0x2e8dd5},_0x5a8f0a=doc(db,_0x55b2d9(0x58b)+appId+'/public/data/teamQuizzes',currentTeamQuizId),_0x59af7b={};_0x59af7b[_0x55b2d9(0x7ac)+_0x5a70be+'.answers']=arrayUnion(_0x394732);_0xab4fd5&&(_0x59af7b['responses.'+_0x5a70be+_0x55b2d9(0xa21)]=increment(0x1));try{await updateDoc(_0x5a8f0a,_0x59af7b),localPlayerTurnIndex++;const _0x20db84=JSON[_0x55b2d9(0x97b)](sessionStorage[_0x55b2d9(0x7b6)](_0x55b2d9(0x7f5))||'{}');_0x20db84['turnIndex']=localPlayerTurnIndex,sessionStorage[_0x55b2d9(0x45b)](_0x55b2d9(0x7f5),JSON[_0x55b2d9(0x617)](_0x20db84)),renderTeamQuizQuestion();}catch(_0x137bf7){console[_0x55b2d9(0x581)](_0x55b2d9(0x379),_0x137bf7),showMessage('เกิดข้อผิดพลาดในการส่งคำตอบ');}}async function displayTeamQuizFinalResults(){const _0x525d9d=_0x5b6af5;studentQuizArea[_0x525d9d(0x821)][_0x525d9d(0x231)](_0x525d9d(0x8be)),studentResultArea[_0x525d9d(0x821)][_0x525d9d(0x981)](_0x525d9d(0x8be));const _0x24d739=doc(db,_0x525d9d(0x58b)+appId+'/public/data/teamQuizzes',currentTeamQuizId),_0x4690bc=await getDoc(_0x24d739);if(!_0x4690bc[_0x525d9d(0xa76)]()){studentResultArea['innerHTML']='<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่พบข้อมูลเกม\x20อาจสิ้นสุดไปแล้ว</p>';return;}const _0x397cc8=_0x4690bc[_0x525d9d(0x266)]();let _0xfe72e6=[];const _0x3b2db6=_0x397cc8['mode']||'team';if(_0x3b2db6==='group'){const _0x4989bf=_0x397cc8[_0x525d9d(0x253)][userId];_0x4989bf?_0xfe72e6=[{'name':_0x525d9d(0x331)+localTeamPlayers[_0x525d9d(0x8c0)](',\x20'),'score':_0x4989bf[_0x525d9d(0x829)]||0x0}]:_0xfe72e6=[{'name':_0x525d9d(0x3d8),'score':_0x525d9d(0x8f6)}];}else _0xfe72e6=localTeamPlayers['map'](_0x54afb8=>({'name':_0x54afb8,'score':_0x397cc8[_0x525d9d(0x2e4)][_0x54afb8]?.[_0x525d9d(0x829)]||0x0}))[_0x525d9d(0xaa5)]((_0xed97b1,_0x4b2064)=>_0x4b2064[_0x525d9d(0x829)]-_0xed97b1['score']);studentResultArea['innerHTML']=_0x525d9d(0x923)+_0xfe72e6[_0x525d9d(0xa7a)](_0x3f9c08=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20text-lg\x20p-2\x20bg-white/50\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>'+_0x3f9c08[_0x525d9d(0x59f)]+_0x525d9d(0x697)+_0x3f9c08[_0x525d9d(0x829)]+'\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x525d9d(0x8c0)]('')+_0x525d9d(0x5d8),sessionStorage[_0x525d9d(0x1e0)](_0x525d9d(0x7f5)),currentMode===_0x525d9d(0x6a3)&&currentTeamQuizId&&setTimeout(()=>{const _0x4d8387=_0x525d9d;deleteDoc(doc(db,'artifacts/'+appId+_0x4d8387(0x963),currentTeamQuizId));},0x493e0);}let history=[],historyStep=-0x1,modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':'date_desc','pinnedProjects':[],'projectView':_0x5b6af5(0x718)};const allMathTopics=[{'category':_0x5b6af5(0x830),'name':'การนับ'},{'category':_0x5b6af5(0x830),'name':'ระบบเลขและค่าประจำหลัก'},{'category':_0x5b6af5(0x830),'name':_0x5b6af5(0x350)},{'category':'จำนวนและการดำเนินการ','name':_0x5b6af5(0x5fc)},{'category':_0x5b6af5(0x830),'name':_0x5b6af5(0x81a)},{'category':_0x5b6af5(0x830),'name':'การลบ'},{'category':'จำนวนและการดำเนินการ','name':_0x5b6af5(0x716)},{'category':_0x5b6af5(0x830),'name':_0x5b6af5(0x62f)},{'category':_0x5b6af5(0x830),'name':_0x5b6af5(0x2f3)},{'category':_0x5b6af5(0x830),'name':_0x5b6af5(0x881)},{'category':'จำนวนและการดำเนินการ','name':_0x5b6af5(0xab9)},{'category':_0x5b6af5(0x830),'name':_0x5b6af5(0x945)},{'category':_0x5b6af5(0x830),'name':_0x5b6af5(0x566)},{'category':_0x5b6af5(0x830),'name':_0x5b6af5(0xa5c)},{'category':'จำนวนและการดำเนินการ','name':_0x5b6af5(0x527)},{'category':'จำนวนและการดำเนินการ','name':'ค.ร.น.\x20(LCM)'},{'category':'จำนวนและการดำเนินการ','name':'อัตราส่วนและสัดส่วน'},{'category':_0x5b6af5(0x830),'name':'อัตราและอัตราหน่วย'},{'category':_0x5b6af5(0x830),'name':_0x5b6af5(0x8ea)},{'category':_0x5b6af5(0x830),'name':'การบวกเศษส่วน'},{'category':_0x5b6af5(0x830),'name':'การลบเศษส่วน'},{'category':_0x5b6af5(0x830),'name':'การคูณเศษส่วน'},{'category':_0x5b6af5(0x830),'name':_0x5b6af5(0x8d2)},{'category':'จำนวนและการดำเนินการ','name':_0x5b6af5(0x4cd)},{'category':_0x5b6af5(0x830),'name':_0x5b6af5(0x317)},{'category':'จำนวนและการดำเนินการ','name':_0x5b6af5(0x826)},{'category':_0x5b6af5(0x830),'name':_0x5b6af5(0x427)},{'category':_0x5b6af5(0x830),'name':'การคูณทศนิยม'},{'category':_0x5b6af5(0x830),'name':_0x5b6af5(0x65f)},{'category':_0x5b6af5(0x830),'name':_0x5b6af5(0x978)},{'category':_0x5b6af5(0x830),'name':_0x5b6af5(0x476)},{'category':_0x5b6af5(0x830),'name':_0x5b6af5(0x262)},{'category':_0x5b6af5(0x830),'name':_0x5b6af5(0x6b8)},{'category':_0x5b6af5(0x830),'name':_0x5b6af5(0x5b9)},{'category':_0x5b6af5(0x830),'name':'รากที่สองและที่สาม'},{'category':_0x5b6af5(0x830),'name':_0x5b6af5(0x793)},{'category':_0x5b6af5(0x830),'name':'สัญกรณ์วิทยาศาสตร์'},{'category':_0x5b6af5(0x88b),'name':_0x5b6af5(0x40d)},{'category':'การวัด','name':_0x5b6af5(0x94d)},{'category':_0x5b6af5(0x88b),'name':_0x5b6af5(0x471)},{'category':_0x5b6af5(0x88b),'name':_0x5b6af5(0xa65)},{'category':'การวัด','name':_0x5b6af5(0xa07)},{'category':_0x5b6af5(0x88b),'name':_0x5b6af5(0x628)},{'category':_0x5b6af5(0x88b),'name':_0x5b6af5(0x646)},{'category':'การวัด','name':_0x5b6af5(0x9a7)},{'category':_0x5b6af5(0x88b),'name':_0x5b6af5(0x343)},{'category':'การวัด','name':_0x5b6af5(0x90a)},{'category':'การวัด','name':_0x5b6af5(0x822)},{'category':'การวัด','name':_0x5b6af5(0x4bb)},{'category':_0x5b6af5(0x88b),'name':'สเกลและแผนที่'},{'category':'การวัด','name':_0x5b6af5(0xa03)},{'category':_0x5b6af5(0x5be),'name':_0x5b6af5(0x206)},{'category':_0x5b6af5(0x5be),'name':'ความสัมพันธ์ของมุม'},{'category':_0x5b6af5(0x5be),'name':_0x5b6af5(0x5e2)},{'category':_0x5b6af5(0x5be),'name':_0x5b6af5(0x9a7)},{'category':_0x5b6af5(0x5be),'name':_0x5b6af5(0x346)},{'category':_0x5b6af5(0x5be),'name':_0x5b6af5(0x270)},{'category':_0x5b6af5(0x5be),'name':'รูปสี่เหลี่ยมและสมบัติ'},{'category':_0x5b6af5(0x5be),'name':_0x5b6af5(0x9c9)},{'category':'เรขาคณิต','name':_0x5b6af5(0x422)},{'category':_0x5b6af5(0x5be),'name':_0x5b6af5(0x6f1)},{'category':_0x5b6af5(0x5be),'name':'วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์'},{'category':_0x5b6af5(0x5be),'name':_0x5b6af5(0xae4)},{'category':'เรขาคณิต','name':_0x5b6af5(0x772)},{'category':'เรขาคณิต','name':'การสร้างรูปด้วยวงเวียน–สันตรง'},{'category':'เรขาคณิต','name':_0x5b6af5(0x95a)},{'category':_0x5b6af5(0xa53),'name':'ตัวแปรและนิพจน์'},{'category':_0x5b6af5(0xa53),'name':_0x5b6af5(0xa25)},{'category':_0x5b6af5(0xa53),'name':'พหุนาม\x20(บวก/ลบ/คูณ/หาร)'},{'category':_0x5b6af5(0xa53),'name':'การแยกตัวประกอบ'},{'category':_0x5b6af5(0xa53),'name':_0x5b6af5(0x9aa)},{'category':_0x5b6af5(0xa53),'name':_0x5b6af5(0x292)},{'category':_0x5b6af5(0xa53),'name':'สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)'},{'category':_0x5b6af5(0xa53),'name':'สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)'},{'category':_0x5b6af5(0xa53),'name':'สมการค่าสัมบูรณ์'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x5b6af5(0x8ed)},{'category':_0x5b6af5(0xa53),'name':_0x5b6af5(0x221)},{'category':_0x5b6af5(0xa53),'name':_0x5b6af5(0xa80)},{'category':_0x5b6af5(0xa53),'name':_0x5b6af5(0x4f8)},{'category':_0x5b6af5(0xa53),'name':'อสมการเชิงเส้น'},{'category':_0x5b6af5(0xa53),'name':_0x5b6af5(0x76c)},{'category':_0x5b6af5(0xa53),'name':'ระบบอสมการ'},{'category':_0x5b6af5(0xa53),'name':_0x5b6af5(0x523)},{'category':'พีชคณิตและฟังก์ชัน','name':'โดเมนและเรนจ์'},{'category':_0x5b6af5(0xa53),'name':_0x5b6af5(0x3bd)},{'category':_0x5b6af5(0xa53),'name':_0x5b6af5(0x9d7)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x5b6af5(0x8c6)},{'category':_0x5b6af5(0xa53),'name':_0x5b6af5(0x439)},{'category':_0x5b6af5(0xa53),'name':'ฟังก์ชันกำลังสองและกราฟ'},{'category':_0x5b6af5(0xa53),'name':_0x5b6af5(0x5ab)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x5b6af5(0x2aa)},{'category':_0x5b6af5(0xa53),'name':_0x5b6af5(0x9a5)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x5b6af5(0x92c)},{'category':_0x5b6af5(0xa53),'name':_0x5b6af5(0x53d)},{'category':_0x5b6af5(0xa53),'name':_0x5b6af5(0x345)},{'category':_0x5b6af5(0xa53),'name':_0x5b6af5(0x619)},{'category':_0x5b6af5(0xa53),'name':'ลำดับเลขคณิต\x20(AP)'},{'category':_0x5b6af5(0xa53),'name':'ลำดับเรขาคณิต\x20(GP)'},{'category':_0x5b6af5(0xa53),'name':'ผลรวมอนุกรม\x20(Σ)'},{'category':_0x5b6af5(0xa53),'name':'ทฤษฎีทวินาม\x20(เบื้องต้น)'},{'category':_0x5b6af5(0xa53),'name':'จำนวนเชิงซ้อน\x20(เสริม)'},{'category':_0x5b6af5(0xab6),'name':'ระยะทางและจุดกึ่งกลาง'},{'category':_0x5b6af5(0xab6),'name':'ความชันและเส้นตรง'},{'category':_0x5b6af5(0xab6),'name':'เส้นตรง:\x20รูปแบบสมการ'},{'category':'เรขาคณิตวิเคราะห์','name':_0x5b6af5(0x7ec)},{'category':_0x5b6af5(0xab6),'name':_0x5b6af5(0x2d7)},{'category':_0x5b6af5(0xab6),'name':_0x5b6af5(0x694)},{'category':_0x5b6af5(0xab6),'name':_0x5b6af5(0x594)},{'category':_0x5b6af5(0xab6),'name':_0x5b6af5(0x3c8)},{'category':_0x5b6af5(0xab6),'name':_0x5b6af5(0xa3a)},{'category':_0x5b6af5(0x790),'name':_0x5b6af5(0x2ae)},{'category':_0x5b6af5(0x790),'name':'มุมพิเศษ\x2030°-60°-90°'},{'category':_0x5b6af5(0x790),'name':_0x5b6af5(0x34f)},{'category':'ตรีโกณมิติ','name':_0x5b6af5(0x6d3)},{'category':_0x5b6af5(0x790),'name':'กฎของไซน์'},{'category':'ตรีโกณมิติ','name':_0x5b6af5(0x635)},{'category':_0x5b6af5(0x790),'name':'อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)'},{'category':_0x5b6af5(0x790),'name':_0x5b6af5(0x310)},{'category':'ตรีโกณมิติ','name':_0x5b6af5(0x2c0)},{'category':_0x5b6af5(0x790),'name':_0x5b6af5(0x4a6)},{'category':_0x5b6af5(0x790),'name':_0x5b6af5(0x60e)},{'category':_0x5b6af5(0x43a),'name':_0x5b6af5(0x92d)},{'category':_0x5b6af5(0x43a),'name':_0x5b6af5(0x398)},{'category':_0x5b6af5(0x43a),'name':_0x5b6af5(0x87b)},{'category':_0x5b6af5(0x43a),'name':_0x5b6af5(0x25c)},{'category':_0x5b6af5(0x43a),'name':_0x5b6af5(0x89e)},{'category':_0x5b6af5(0x43a),'name':_0x5b6af5(0x34c)},{'category':_0x5b6af5(0x43a),'name':_0x5b6af5(0x79f)},{'category':_0x5b6af5(0x43a),'name':_0x5b6af5(0xaf4)},{'category':_0x5b6af5(0x43a),'name':_0x5b6af5(0x9c6)},{'category':_0x5b6af5(0x43a),'name':_0x5b6af5(0x7f4)},{'category':'สถิติและความน่าจะเป็น','name':_0x5b6af5(0x42a)},{'category':_0x5b6af5(0x43a),'name':_0x5b6af5(0x932)},{'category':'สถิติและความน่าจะเป็น','name':_0x5b6af5(0x220)},{'category':'สถิติและความน่าจะเป็น','name':_0x5b6af5(0x435)},{'category':_0x5b6af5(0x43a),'name':'สหสัมพันธ์และเส้นถดถอยเชิงเส้น'},{'category':_0x5b6af5(0x43a),'name':_0x5b6af5(0x8dc)},{'category':_0x5b6af5(0x43a),'name':_0x5b6af5(0x432)},{'category':_0x5b6af5(0x43a),'name':'แผนภาพเวนน์'},{'category':_0x5b6af5(0x43a),'name':_0x5b6af5(0x9f7)},{'category':_0x5b6af5(0x43a),'name':_0x5b6af5(0x41a)},{'category':_0x5b6af5(0x43a),'name':_0x5b6af5(0x5f2)},{'category':_0x5b6af5(0x43a),'name':_0x5b6af5(0x828)},{'category':_0x5b6af5(0x43a),'name':_0x5b6af5(0x486)},{'category':_0x5b6af5(0x43a),'name':'ความคาดหมาย\x20(Expected\x20value)'},{'category':_0x5b6af5(0x831),'name':_0x5b6af5(0x3d1)},{'category':_0x5b6af5(0x831),'name':'ความต่อเนื่อง'},{'category':_0x5b6af5(0x831),'name':'อนุพันธ์:\x20กฎพื้นฐาน'},{'category':_0x5b6af5(0x831),'name':_0x5b6af5(0x5fb)},{'category':_0x5b6af5(0x831),'name':_0x5b6af5(0x484)},{'category':'แคลคูลัสเบื้องต้น','name':_0x5b6af5(0x3ac)},{'category':_0x5b6af5(0x831),'name':_0x5b6af5(0x958)},{'category':_0x5b6af5(0x831),'name':_0x5b6af5(0xafe)},{'category':'แคลคูลัสเบื้องต้น','name':'Optimization\x20(ค่าสูงสุด–ต่ำสุด)'},{'category':'แคลคูลัสเบื้องต้น','name':'ปริพันธ์ไม่จำกัด'},{'category':_0x5b6af5(0x831),'name':_0x5b6af5(0x85f)},{'category':_0x5b6af5(0x831),'name':_0x5b6af5(0x38e)},{'category':_0x5b6af5(0x831),'name':_0x5b6af5(0x2da)},{'category':_0x5b6af5(0xa08),'name':_0x5b6af5(0x876)},{'category':_0x5b6af5(0xa08),'name':_0x5b6af5(0x654)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x5b6af5(0xaae)},{'category':_0x5b6af5(0xa08),'name':_0x5b6af5(0x69b)},{'category':_0x5b6af5(0xa08),'name':_0x5b6af5(0x3da)},{'category':_0x5b6af5(0xa08),'name':_0x5b6af5(0xabb)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x5b6af5(0x37d)},{'category':_0x5b6af5(0x90f),'name':_0x5b6af5(0x53c)},{'category':'คณิตการเงิน/บูรณาการ','name':_0x5b6af5(0xb13)},{'category':_0x5b6af5(0x90f),'name':_0x5b6af5(0x49d)},{'category':'คณิตการเงิน/บูรณาการ','name':_0x5b6af5(0x743)},{'category':'คณิตการเงิน/บูรณาการ','name':_0x5b6af5(0x60a)},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':_0x5b6af5(0x296)},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':_0x5b6af5(0x9fe)},{'category':_0x5b6af5(0x877),'name':_0x5b6af5(0x9f8)}];function renderTopicCheckboxes(){const _0x3af043=_0x5b6af5,_0x34ad63=document[_0x3af043(0x318)](_0x3af043(0x227));if(!_0x34ad63)return;const _0x3745ee=allMathTopics,_0x5158d8=customMathTopics[_0x3af043(0xa7a)](_0x2b3e7b=>({'id':_0x2b3e7b['id'],'category':_0x3af043(0x8f1),'name':_0x2b3e7b[_0x3af043(0x59f)]})),_0x107cef=[..._0x3745ee,..._0x5158d8],_0x4f5f09=_0x107cef[_0x3af043(0xa97)]((_0x341215,_0x1d0b10)=>{const _0x1cf528=_0x3af043;return!_0x341215[_0x1d0b10['category']]&&(_0x341215[_0x1d0b10['category']]=[]),_0x341215[_0x1d0b10[_0x1cf528(0x6fc)]]['push'](_0x1d0b10),_0x341215;},{});let _0x175c63='';const _0x1b4573=[_0x3af043(0x8f1),...Object[_0x3af043(0x593)](_0x4f5f09)[_0x3af043(0x5e3)](_0x894959=>_0x894959!==_0x3af043(0x8f1))];for(const _0x276dae of _0x1b4573){if(_0x4f5f09[_0x276dae]){const _0x138b29=_0x276dae===_0x3af043(0x8f1),_0x9fd1cd=_0x138b29?_0x3af043(0x78d):_0x3af043(0x4e3),_0xca6a77=_0x138b29?_0x3af043(0x80f):_0x3af043(0x258);_0x175c63+='<div\x20class=\x22mb-3\x20topic-category\x22>',_0x175c63+=_0x3af043(0x7c7)+_0xca6a77+_0x3af043(0x851)+_0x9fd1cd+_0x3af043(0x653)+_0x276dae+_0x3af043(0x6fa),_0x4f5f09[_0x276dae][_0x3af043(0x394)](_0x4c0b24=>{const _0x97d3bc=_0x3af043,_0x530bb6=!!_0x4c0b24['id'],_0x2b7728=_0x530bb6?_0x97d3bc(0x7b9)+_0x4c0b24['id']+_0x97d3bc(0xb23)+_0x4c0b24['id']+_0x97d3bc(0x284)+_0x4c0b24['id']+'\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x4c0b24['id']+_0x97d3bc(0xa20):'';_0x175c63+=_0x97d3bc(0x883)+(_0x4c0b24['id']||'')+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22'+_0x4c0b24[_0x97d3bc(0x59f)]+_0x97d3bc(0x57c)+_0x4c0b24[_0x97d3bc(0x59f)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x530bb6?_0x97d3bc(0x751)+_0x4c0b24[_0x97d3bc(0x59f)]+'\x22>':'')+_0x97d3bc(0x888)+_0x2b7728+_0x97d3bc(0x74e);}),_0x175c63+=_0x3af043(0x6cb);}}_0x34ad63[_0x3af043(0x993)]=_0x175c63||'<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>',_0x34ad63[_0x3af043(0x7d1)](_0x3af043(0x87f),updateSelectedTopicsCount),_0x34ad63['addEventListener'](_0x3af043(0x87f),updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x59c6f6,_0x51c625){const _0xa6aa74=_0x5b6af5;if(!_0x59c6f6||!_0x51c625['trim']()){showMessage(_0xa6aa74(0x4e0));return;}try{const _0x14261c=doc(db,_0xa6aa74(0x58b)+appId+_0xa6aa74(0x95d),_0x59c6f6);await updateDoc(_0x14261c,{'name':_0x51c625[_0xa6aa74(0x442)]()}),showMessage(_0xa6aa74(0x7b1));}catch(_0x30ea09){console[_0xa6aa74(0x581)](_0xa6aa74(0x7d7),_0x30ea09),showMessage(_0xa6aa74(0x501));}}function toggleTopicEditMode(_0x171f4d,_0x41b204){const _0x453b52=_0x5b6af5;if(!_0x171f4d)return;const _0x22ede0=_0x171f4d[_0x453b52(0x3f9)](_0x453b52(0x954)),_0x1b2d25=_0x171f4d[_0x453b52(0x3f9)](_0x453b52(0x8b9)),_0x4211ff=_0x171f4d[_0x453b52(0x3f9)]('.topic-actions-view'),_0x378027=_0x171f4d['querySelector'](_0x453b52(0x894));_0x22ede0[_0x453b52(0x821)]['toggle'](_0x453b52(0x8be),_0x41b204),_0x1b2d25['classList'][_0x453b52(0x4fe)](_0x453b52(0x8be),!_0x41b204),_0x4211ff[_0x453b52(0x821)][_0x453b52(0x4fe)]('hidden',_0x41b204),_0x378027['classList'][_0x453b52(0x4fe)](_0x453b52(0x8be),!_0x41b204),_0x41b204&&(_0x1b2d25[_0x453b52(0x489)](),_0x1b2d25[_0x453b52(0xaff)]());}async function handleStartLiveRace(_0xbe6192){const _0x4e57ab=_0x5b6af5;let _0x560c7d=allQuizzes[_0x4e57ab(0xa93)](_0x5be563=>_0x5be563['id']===_0xbe6192);if(!_0x560c7d){const _0x3a735c=doc(db,'artifacts/'+appId+_0x4e57ab(0xaca),_0xbe6192),_0x2beabc=await getDoc(_0x3a735c);if(!_0x2beabc[_0x4e57ab(0xa76)]()){showMessage(_0x4e57ab(0x1f2));return;}_0x560c7d={'id':_0x2beabc['id'],..._0x2beabc['data']()};}const _0x81e6af=getShuffledQuiz(_0x560c7d);currentQuizData=_0x81e6af;const _0x5ee3c4=_0x560c7d[_0x4e57ab(0x1f9)]||currentProjectId||null,_0x2a6a80=Math[_0x4e57ab(0x957)](0x3e8+Math['random']()*0x2328)[_0x4e57ab(0x742)]();currentLiveGamePin=_0x2a6a80;try{const _0x17ee34=await addDoc(collection(db,_0x4e57ab(0x58b)+appId+'/public/data/liveGames'),{'quizId':_0xbe6192,'projectId':_0x5ee3c4,'status':_0x4e57ab(0x45d),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0x2a6a80,'createdAt':serverTimestamp(),'shuffledQuiz':_0x81e6af});currentLiveGameId=_0x17ee34['id'],showAdminLobbyView(_0x2a6a80,_0x560c7d['topic']),listenForLiveGameUpdates();}catch(_0x41db51){console['error'](_0x4e57ab(0x265),_0x41db51),showMessage('เกิดข้อผิดพลาดในการสร้างห้องเกม');}}function updateSelectedTopicsCount(){const _0x21f3f6=_0x5b6af5,_0x23b1c4=document[_0x21f3f6(0x318)](_0x21f3f6(0x227)),_0x412d32=_0x23b1c4[_0x21f3f6(0x502)](_0x21f3f6(0xa61))[_0x21f3f6(0x326)],_0x53ab9d=document[_0x21f3f6(0x318)](_0x21f3f6(0x1f5));_0x412d32>0x0?_0x53ab9d[_0x21f3f6(0x950)]=_0x21f3f6(0x23d)+_0x412d32+_0x21f3f6(0xaee):_0x53ab9d[_0x21f3f6(0x950)]='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode='student',currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy=_0x5b6af5(0x74c),quizLeaderboardSortOrder=_0x5b6af5(0x371),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1,isAnimatingTrail=![];const TRAIL_DURATION=0x5dc;let scratchpadCtx=null,isDrawingOnScratchpad=![],scratchpadHighlighterColor=_0x5b6af5(0x652),scratchpadHighlighterSize=0x14,isPanning=![],isMousePanning=![],scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},panStart={'x':0x0,'y':0x0},initialPinchDistance=null;const MIN_SCALE=0.2,MAX_SCALE=0x5;let strokes=[],redoStrokes=[],currentStroke=null,activeTool='pen',scratchpadPenColor='#000000',scratchpadPenSize=0x5,laserFadeTimer=null;const LASER_INACTIVITY_TIMEOUT=0x5dc;function getDistance(_0x564ade,_0x35f29e){const _0x18601a=_0x5b6af5;return Math[_0x18601a(0x9e5)](Math[_0x18601a(0x4db)](_0x564ade['x']-_0x35f29e['x'],0x2)+Math[_0x18601a(0x4db)](_0x564ade['y']-_0x35f29e['y'],0x2));}function getMidpoint(_0x35293d,_0x582d97){return{'x':(_0x35293d['x']+_0x582d97['x'])/0x2,'y':(_0x35293d['y']+_0x582d97['y'])/0x2};}function getTransformedPoint(_0x9cafa3,_0x4680d2){return{'x':(_0x9cafa3-scratchpadOffset['x'])/scratchpadScale,'y':(_0x4680d2-scratchpadOffset['y'])/scratchpadScale};}function redrawScratchpad(){const _0x37ee9d=_0x5b6af5;if(!scratchpadCtx)return;const _0x4ca181=scratchpadCtx['canvas'],_0x115801=window[_0x37ee9d(0x3c2)]||0x1,_0x72c8c2=document['getElementById'](_0x37ee9d(0x407));_0x72c8c2&&(_0x72c8c2['style'][_0x37ee9d(0x6b6)]=_0x37ee9d(0x454),_0x72c8c2['style'][_0x37ee9d(0x4a7)]='translate('+scratchpadOffset['x']+_0x37ee9d(0x897)+scratchpadOffset['y']+_0x37ee9d(0xad6)+scratchpadScale+')'),scratchpadCtx[_0x37ee9d(0x5a0)](),scratchpadCtx['setTransform'](_0x115801,0x0,0x0,_0x115801,0x0,0x0),scratchpadCtx['clearRect'](0x0,0x0,_0x4ca181[_0x37ee9d(0x95c)],_0x4ca181[_0x37ee9d(0x8a3)]),scratchpadCtx[_0x37ee9d(0x534)](),scratchpadCtx['save'](),scratchpadCtx['translate'](scratchpadOffset['x'],scratchpadOffset['y']),scratchpadCtx[_0x37ee9d(0x77d)](scratchpadScale,scratchpadScale),strokes[_0x37ee9d(0x394)](_0x4a9540=>{drawStroke(_0x4a9540);}),currentStroke&&drawStroke(currentStroke),scratchpadCtx[_0x37ee9d(0x534)]();}function handlePointerDown(_0x1562a0){const _0x1bec08=_0x5b6af5;_0x1562a0['preventDefault']();const _0x3fe22e=scratchpadCtx['canvas'],_0x320d43=_0x3fe22e['getBoundingClientRect'](),_0x392394=_0x1562a0[_0x1bec08(0x86f)]||(_0x1562a0[_0x1bec08(0x717)]?_0x1bec08(0x55f):_0x1bec08(0x475));if(_0x392394===_0x1bec08(0xa6a)||_0x392394===_0x1bec08(0x475)){if(_0x1562a0[_0x1bec08(0x86f)]===_0x1bec08(0x475)&&_0x1562a0[_0x1bec08(0x678)]!==0x0){_0x1562a0[_0x1bec08(0x678)]===0x1&&(isMousePanning=!![],panStart={'x':_0x1562a0[_0x1bec08(0x7cf)],'y':_0x1562a0['clientY']},_0x3fe22e[_0x1bec08(0xae7)][_0x1bec08(0x24e)]=_0x1bec08(0x79e));return;}activeTool===_0x1bec08(0x7a1)&&(laserFadeTimer&&clearTimeout(laserFadeTimer));isDrawingOnScratchpad=!![],redoStrokes=[];const _0x3e99c4=getTransformedPoint(_0x1562a0['clientX']-_0x320d43['left'],_0x1562a0[_0x1bec08(0x5e8)]-_0x320d43[_0x1bec08(0x339)]);let _0x1e3ea7={'tool':activeTool,'points':[_0x3e99c4]};if(activeTool===_0x1bec08(0x46f))_0x1e3ea7[_0x1bec08(0x8a2)]=scratchpadHighlighterColor,_0x1e3ea7[_0x1bec08(0x35d)]=scratchpadHighlighterSize;else activeTool===_0x1bec08(0x7a1)?(_0x1e3ea7[_0x1bec08(0x8a2)]=scratchpadPenColor,_0x1e3ea7[_0x1bec08(0x35d)]=scratchpadPenSize):(_0x1e3ea7['color']=scratchpadPenColor,_0x1e3ea7[_0x1bec08(0x35d)]=scratchpadPenSize);currentStroke=_0x1e3ea7;}else _0x1562a0[_0x1bec08(0x717)]&&(_0x1562a0[_0x1bec08(0x717)]['length']===0x2&&(isPanning=!![],panStart=getMidpoint({'x':_0x1562a0['touches'][0x0][_0x1bec08(0x7cf)],'y':_0x1562a0[_0x1bec08(0x717)][0x0][_0x1bec08(0x5e8)]},{'x':_0x1562a0[_0x1bec08(0x717)][0x1][_0x1bec08(0x7cf)],'y':_0x1562a0[_0x1bec08(0x717)][0x1][_0x1bec08(0x5e8)]}),initialPinchDistance=getDistance({'x':_0x1562a0['touches'][0x0][_0x1bec08(0x7cf)],'y':_0x1562a0[_0x1bec08(0x717)][0x0]['clientY']},{'x':_0x1562a0['touches'][0x1][_0x1bec08(0x7cf)],'y':_0x1562a0[_0x1bec08(0x717)][0x1][_0x1bec08(0x5e8)]})));}function animateTrail(){const _0x22d623=_0x5b6af5,_0x21b763=Date[_0x22d623(0x255)]();let _0x1f0897=![];for(let _0x165f0c=strokes[_0x22d623(0x326)]-0x1;_0x165f0c>=0x0;_0x165f0c--){const _0x3aea3c=strokes[_0x165f0c];if(_0x3aea3c[_0x22d623(0x841)]==='trail'&&_0x3aea3c['fadeStartTime']){const _0x164cfc=_0x21b763-_0x3aea3c[_0x22d623(0x847)];_0x164cfc>=TRAIL_DURATION?strokes[_0x22d623(0x77f)](_0x165f0c,0x1):(_0x3aea3c['opacity']=0x1-_0x164cfc/TRAIL_DURATION,_0x1f0897=!![]);}}redrawScratchpad(),_0x1f0897?requestAnimationFrame(animateTrail):isAnimatingTrail=![];}function startTrailAnimation(){!isAnimatingTrail&&(isAnimatingTrail=!![],requestAnimationFrame(animateTrail));}function drawStroke(_0x408b36){const _0x951082=_0x5b6af5;if(!_0x408b36||_0x408b36[_0x951082(0x73b)][_0x951082(0x326)]<0x1)return;scratchpadCtx[_0x951082(0x5a0)](),scratchpadCtx[_0x951082(0xa87)]=_0x951082(0x348),scratchpadCtx[_0x951082(0x774)]='round';if(_0x408b36[_0x951082(0x841)]===_0x951082(0x7a1)){const _0x4471e1=_0x408b36[_0x951082(0x35d)]/scratchpadScale;scratchpadCtx[_0x951082(0x6a0)]=_0x408b36[_0x951082(0x315)]??0x1,scratchpadCtx['shadowColor']=_0x951082(0x575),scratchpadCtx['shadowBlur']=_0x4471e1*0x3,scratchpadCtx[_0x951082(0x939)]=_0x951082(0x66a),scratchpadCtx['lineWidth']=_0x4471e1*2.5,scratchpadCtx[_0x951082(0x58c)](),scratchpadCtx[_0x951082(0x817)](_0x408b36['points'][0x0]['x'],_0x408b36['points'][0x0]['y']);for(let _0x4a5514=0x1;_0x4a5514<_0x408b36[_0x951082(0x73b)][_0x951082(0x326)]-0x1;_0x4a5514++){const _0x28c92f=getMidpoint(_0x408b36[_0x951082(0x73b)][_0x4a5514],_0x408b36['points'][_0x4a5514+0x1]);scratchpadCtx['quadraticCurveTo'](_0x408b36[_0x951082(0x73b)][_0x4a5514]['x'],_0x408b36[_0x951082(0x73b)][_0x4a5514]['y'],_0x28c92f['x'],_0x28c92f['y']);}scratchpadCtx[_0x951082(0x67c)](),scratchpadCtx[_0x951082(0x8d5)]=_0x951082(0x4be),scratchpadCtx[_0x951082(0x753)]=0x0,scratchpadCtx[_0x951082(0x939)]=_0x951082(0x8f5),scratchpadCtx[_0x951082(0x456)]=_0x4471e1,scratchpadCtx['stroke'](),scratchpadCtx['closePath']();}else{if(_0x408b36[_0x951082(0x841)]==='highlighter'){scratchpadCtx['globalCompositeOperation']=_0x951082(0x48a),scratchpadCtx[_0x951082(0x939)]=_0x408b36[_0x951082(0x8a2)],scratchpadCtx[_0x951082(0x456)]=_0x408b36[_0x951082(0x35d)],scratchpadCtx[_0x951082(0x58c)](),scratchpadCtx['moveTo'](_0x408b36['points'][0x0]['x'],_0x408b36[_0x951082(0x73b)][0x0]['y']);for(let _0x4c6976=0x1;_0x4c6976<_0x408b36[_0x951082(0x73b)]['length']-0x1;_0x4c6976++){const _0x23eaa3=getMidpoint(_0x408b36['points'][_0x4c6976],_0x408b36[_0x951082(0x73b)][_0x4c6976+0x1]);scratchpadCtx[_0x951082(0x551)](_0x408b36[_0x951082(0x73b)][_0x4c6976]['x'],_0x408b36[_0x951082(0x73b)][_0x4c6976]['y'],_0x23eaa3['x'],_0x23eaa3['y']);}scratchpadCtx[_0x951082(0x67c)](),scratchpadCtx[_0x951082(0x68a)]();}else{scratchpadCtx[_0x951082(0x681)]=_0x408b36[_0x951082(0x841)]===_0x951082(0x242)?'destination-out':_0x951082(0x785),scratchpadCtx['strokeStyle']=_0x408b36['color'],scratchpadCtx['lineWidth']=_0x408b36['size'],scratchpadCtx[_0x951082(0x58c)](),scratchpadCtx[_0x951082(0x817)](_0x408b36['points'][0x0]['x'],_0x408b36[_0x951082(0x73b)][0x0]['y']);for(let _0xde41e=0x1;_0xde41e<_0x408b36[_0x951082(0x73b)][_0x951082(0x326)]-0x1;_0xde41e++){const _0x4d2f3e=getMidpoint(_0x408b36[_0x951082(0x73b)][_0xde41e],_0x408b36[_0x951082(0x73b)][_0xde41e+0x1]);scratchpadCtx[_0x951082(0x551)](_0x408b36[_0x951082(0x73b)][_0xde41e]['x'],_0x408b36[_0x951082(0x73b)][_0xde41e]['y'],_0x4d2f3e['x'],_0x4d2f3e['y']);}scratchpadCtx[_0x951082(0x67c)](),scratchpadCtx[_0x951082(0x68a)]();}}scratchpadCtx['restore']();}function handlePointerMove(_0x44d8d6){const _0x19400b=_0x5b6af5;_0x44d8d6[_0x19400b(0x577)]();const _0x145503=scratchpadCtx[_0x19400b(0x6a9)],_0x4600f1=_0x145503[_0x19400b(0x4b7)]();if(_0x44d8d6[_0x19400b(0x717)]){if(_0x44d8d6[_0x19400b(0x717)][_0x19400b(0x326)]===0x1&&isDrawingOnScratchpad){const _0x548544=getTransformedPoint(_0x44d8d6['touches'][0x0]['clientX']-_0x4600f1[_0x19400b(0x691)],_0x44d8d6[_0x19400b(0x717)][0x0][_0x19400b(0x5e8)]-_0x4600f1[_0x19400b(0x339)]);currentStroke[_0x19400b(0x73b)]['push'](_0x548544),redrawScratchpad();}else{if(_0x44d8d6[_0x19400b(0x717)][_0x19400b(0x326)]===0x2&&isPanning){const _0x49fbff=getDistance({'x':_0x44d8d6[_0x19400b(0x717)][0x0]['clientX'],'y':_0x44d8d6[_0x19400b(0x717)][0x0][_0x19400b(0x5e8)]},{'x':_0x44d8d6[_0x19400b(0x717)][0x1][_0x19400b(0x7cf)],'y':_0x44d8d6['touches'][0x1][_0x19400b(0x5e8)]}),_0x12fe40=getMidpoint({'x':_0x44d8d6[_0x19400b(0x717)][0x0][_0x19400b(0x7cf)],'y':_0x44d8d6[_0x19400b(0x717)][0x0]['clientY']},{'x':_0x44d8d6[_0x19400b(0x717)][0x1]['clientX'],'y':_0x44d8d6[_0x19400b(0x717)][0x1][_0x19400b(0x5e8)]}),_0x5d8eb2=_0x49fbff/ initialPinchDistance,_0x12cfa7=Math[_0x19400b(0x30e)](Math['max'](scratchpadScale*_0x5d8eb2,MIN_SCALE),MAX_SCALE),_0x5136dc=_0x12fe40['x']-panStart['x'],_0x12d0cd=_0x12fe40['y']-panStart['y'];scratchpadOffset['x']=_0x12fe40['x']-(_0x12fe40['x']-scratchpadOffset['x'])*(_0x12cfa7/scratchpadScale),scratchpadOffset['y']=_0x12fe40['y']-(_0x12fe40['y']-scratchpadOffset['y'])*(_0x12cfa7/scratchpadScale),scratchpadOffset['x']+=_0x5136dc,scratchpadOffset['y']+=_0x12d0cd,scratchpadScale=_0x12cfa7,initialPinchDistance=_0x49fbff,panStart=_0x12fe40,redrawScratchpad();}}}else{if(isMousePanning){const _0x2d7ce0=_0x44d8d6[_0x19400b(0x7cf)]-panStart['x'],_0x39bb55=_0x44d8d6[_0x19400b(0x5e8)]-panStart['y'];scratchpadOffset['x']+=_0x2d7ce0,scratchpadOffset['y']+=_0x39bb55,panStart={'x':_0x44d8d6[_0x19400b(0x7cf)],'y':_0x44d8d6[_0x19400b(0x5e8)]},redrawScratchpad();}else{if(isDrawingOnScratchpad){const _0x18ec82=getTransformedPoint(_0x44d8d6[_0x19400b(0x7cf)]-_0x4600f1['left'],_0x44d8d6[_0x19400b(0x5e8)]-_0x4600f1[_0x19400b(0x339)]);currentStroke[_0x19400b(0x73b)][_0x19400b(0x27f)](_0x18ec82),redrawScratchpad();}}}}function handlePointerUp(_0x43f5fc){const _0x3ae93a=_0x5b6af5;_0x43f5fc['preventDefault']();const _0x3752c7=scratchpadCtx['canvas'];isMousePanning&&(isMousePanning=![],_0x3752c7[_0x3ae93a(0xae7)][_0x3ae93a(0x24e)]=_0x3ae93a(0x7b0)),isPanning=![],initialPinchDistance=null,isDrawingOnScratchpad&&(isDrawingOnScratchpad=![],currentStroke&&currentStroke[_0x3ae93a(0x73b)]['length']>0x1&&(strokes['push'](currentStroke),currentStroke[_0x3ae93a(0x841)]===_0x3ae93a(0x7a1)&&(laserFadeTimer&&clearTimeout(laserFadeTimer),laserFadeTimer=setTimeout(()=>{const _0x13d32c=_0x3ae93a,_0x412682=strokes[_0x13d32c(0x5e3)](_0x2d7fc0=>_0x2d7fc0['tool']===_0x13d32c(0x7a1)&&!_0x2d7fc0[_0x13d32c(0x847)]);if(_0x412682['length']>0x0){const _0x5e3269=Date[_0x13d32c(0x255)]();_0x412682[_0x13d32c(0x394)](_0x52379a=>_0x52379a[_0x13d32c(0x847)]=_0x5e3269),startTrailAnimation();}},LASER_INACTIVITY_TIMEOUT))),currentStroke=null,updateUndoRedoButtons());}function handleWheel(_0x4bb377){const _0x116a26=_0x5b6af5;_0x4bb377[_0x116a26(0x577)]();const _0x236aa3=_0x4bb377[_0x116a26(0x916)]*-0.005,_0x21ec07=Math['min'](Math[_0x116a26(0x481)](scratchpadScale+_0x236aa3,MIN_SCALE),MAX_SCALE);scratchpadOffset['x']=_0x4bb377[_0x116a26(0x7cf)]-(_0x4bb377[_0x116a26(0x7cf)]-scratchpadOffset['x'])*(_0x21ec07/scratchpadScale),scratchpadOffset['y']=_0x4bb377[_0x116a26(0x5e8)]-(_0x4bb377[_0x116a26(0x5e8)]-scratchpadOffset['y'])*(_0x21ec07/scratchpadScale),scratchpadScale=_0x21ec07,redrawScratchpad();}function undo(){const _0x308379=_0x5b6af5;strokes[_0x308379(0x326)]>0x0&&(redoStrokes['push'](strokes['pop']()),updateUndoRedoButtons(),redrawScratchpad());}function redo(){const _0x14ad96=_0x5b6af5;redoStrokes['length']>0x0&&(strokes[_0x14ad96(0x27f)](redoStrokes['pop']()),updateUndoRedoButtons(),redrawScratchpad());}function updateUndoRedoButtons(){const _0x2dc69d=_0x5b6af5;document['getElementById'](_0x2dc69d(0x947))['disabled']=strokes['length']===0x0,document['getElementById'](_0x2dc69d(0x516))['disabled']=redoStrokes[_0x2dc69d(0x326)]===0x0;}function openScratchpad(_0x3b99fc,_0x185df5){const _0x2ea00f=_0x5b6af5,_0x3f431b=document['getElementById'](_0x2ea00f(0x9d4)),_0x5be430=document[_0x2ea00f(0x318)](_0x2ea00f(0x5cc)),_0x4f4f56=document[_0x2ea00f(0x318)](_0x2ea00f(0x29e)),_0x5e25e4=document[_0x2ea00f(0x318)]('scratchpad-controls');_0x5be430[_0x2ea00f(0x950)]=_0x3b99fc[_0x2ea00f(0x6f3)]||_0x3b99fc[_0x2ea00f(0x7a4)],_0x4f4f56[_0x2ea00f(0x993)]=_0x185df5['map']((_0x338a1c,_0x1bbe6e)=>_0x2ea00f(0x3df)+String[_0x2ea00f(0x968)](0x41+_0x1bbe6e)+'.\x20'+_0x338a1c+_0x2ea00f(0x6cb))['join'](''),_0x5e25e4['innerHTML']=_0x2ea00f(0xa00),setupScratchpadControls(),strokes=[],redoStrokes=[],currentStroke=null,scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},_0x3f431b['classList'][_0x2ea00f(0x981)](_0x2ea00f(0x8be)),setTimeout(()=>{initializeScratchpadCanvas(),redrawScratchpad();},0x32);if(window['MathJax'])MathJax[_0x2ea00f(0x4f5)]([_0x5be430,_0x4f4f56]);}function initializeScratchpadCanvas(){const _0x59b265=_0x5b6af5,_0x1e98ab=document[_0x59b265(0x318)]('scratchpad-canvas'),_0x44adbd=document[_0x59b265(0x3f9)]('.scratchpad-content-wrapper');if(!_0x1e98ab||!_0x44adbd)return;scratchpadCtx=_0x1e98ab[_0x59b265(0x45f)]('2d',{'willReadFrequently':!![]});const _0x30c233=window[_0x59b265(0x3c2)]||0x1,_0x187651=_0x44adbd[_0x59b265(0x4b7)]();_0x1e98ab[_0x59b265(0x95c)]=_0x187651['width']*_0x30c233,_0x1e98ab[_0x59b265(0x8a3)]=_0x187651[_0x59b265(0x8a3)]*_0x30c233,_0x1e98ab[_0x59b265(0xae7)][_0x59b265(0x95c)]=_0x187651[_0x59b265(0x95c)]+'px',_0x1e98ab[_0x59b265(0xae7)]['height']=_0x187651[_0x59b265(0x8a3)]+'px',scratchpadCtx[_0x59b265(0x77d)](_0x30c233,_0x30c233),scratchpadCtx[_0x59b265(0xa87)]=_0x59b265(0x348),scratchpadCtx[_0x59b265(0x774)]=_0x59b265(0x348),_0x1e98ab[_0x59b265(0x7d1)](_0x59b265(0x9df),handlePointerDown),_0x1e98ab['removeEventListener'](_0x59b265(0x74f),handlePointerMove),_0x1e98ab[_0x59b265(0x7d1)](_0x59b265(0x3fc),handlePointerUp),_0x1e98ab[_0x59b265(0x7d1)](_0x59b265(0x586),handlePointerUp),_0x1e98ab[_0x59b265(0x7d1)](_0x59b265(0x78f),handleWheel),_0x1e98ab[_0x59b265(0x7d1)]('touchstart',handlePointerDown),_0x1e98ab[_0x59b265(0x7d1)](_0x59b265(0x269),handlePointerMove),_0x1e98ab[_0x59b265(0x7d1)](_0x59b265(0x279),handlePointerUp),_0x1e98ab['addEventListener'](_0x59b265(0x9df),handlePointerDown),_0x1e98ab[_0x59b265(0x78c)](_0x59b265(0x74f),handlePointerMove),_0x1e98ab[_0x59b265(0x78c)](_0x59b265(0x3fc),handlePointerUp),_0x1e98ab[_0x59b265(0x78c)](_0x59b265(0x586),handlePointerUp),_0x1e98ab[_0x59b265(0x78c)](_0x59b265(0x78f),handleWheel,{'passive':![]}),_0x1e98ab[_0x59b265(0x78c)]('touchstart',handlePointerDown,{'passive':![]}),_0x1e98ab[_0x59b265(0x78c)](_0x59b265(0x269),handlePointerMove,{'passive':![]}),_0x1e98ab[_0x59b265(0x78c)](_0x59b265(0x279),handlePointerUp,{'passive':![]});}function setupScratchpadControls(){const _0x2316cb=_0x5b6af5,_0x1ecdf3=document[_0x2316cb(0x318)]('scratchpad-modal'),_0xf0dcb1=document[_0x2316cb(0x318)](_0x2316cb(0x41d));_0xf0dcb1['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighter-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกาไฮไลท์\x22><i\x20class=\x22fas\x20fa-highlighter\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22pen-tools-group\x22\x20class=\x22tool-group\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22highlighter-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(255,\x20255,\x200,\x200.5)\x22\x20style=\x22background-color:\x20yellow;\x22\x20title=\x22สีเหลือง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(59,\x20130,\x20246,\x200.5)\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(236,\x2072,\x20153,\x200.5)\x22\x20style=\x22background-color:\x20#EC4899;\x22\x20title=\x22สีชมพู\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(34,\x20197,\x2094,\x200.5)\x22\x20style=\x22background-color:\x20#22C55E;\x22\x20title=\x22สีเขียว\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(249,\x20115,\x2022,\x200.5)\x22\x20style=\x22background-color:\x20#F97316;\x22\x20title=\x22สีส้ม\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(168,\x2085,\x20247,\x200.5)\x22\x20style=\x22background-color:\x20#A855F7;\x22\x20title=\x22สีม่วง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-text-height\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22highlighter-size-slider\x22\x20type=\x22range\x22\x20min=\x225\x22\x20max=\x2250\x22\x20value=\x2220\x22\x20class=\x22w-24\x20h-2\x20bg-gray-200\x20rounded-lg\x20appearance-none\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22highlighter-size-value\x22\x20class=\x22text-sm\x20font-mono\x20w-8\x20text-center\x22>'+scratchpadHighlighterSize+_0x2316cb(0xa10);const _0x14f12e=document[_0x2316cb(0x318)](_0x2316cb(0x5d1)),_0xfd67c8=document['getElementById'](_0x2316cb(0x6fb)),_0x19cb39=document[_0x2316cb(0x318)](_0x2316cb(0x1f0)),_0x383ea8=document[_0x2316cb(0x318)](_0x2316cb(0x5a2)),_0x276866=document['getElementById'](_0x2316cb(0x531)),_0x42e24d=document[_0x2316cb(0x318)](_0x2316cb(0x884)),_0x381ef3=[_0x14f12e,_0xfd67c8,_0x19cb39,_0x383ea8];document[_0x2316cb(0x318)](_0x2316cb(0x4e8))[_0x2316cb(0x78c)](_0x2316cb(0x382),()=>_0x1ecdf3['classList'][_0x2316cb(0x231)](_0x2316cb(0x8be))),document[_0x2316cb(0x318)]('reset-view-btn')[_0x2316cb(0x78c)](_0x2316cb(0x382),()=>{scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},redrawScratchpad();}),document['getElementById'](_0x2316cb(0x43f))[_0x2316cb(0x78c)](_0x2316cb(0x382),()=>{strokes=[],redoStrokes=[],redrawScratchpad(),updateUndoRedoButtons();}),document['getElementById'](_0x2316cb(0x947))['addEventListener'](_0x2316cb(0x382),undo),document['getElementById']('redo-btn')[_0x2316cb(0x78c)](_0x2316cb(0x382),redo);const _0xd5673f=_0x1e0b01=>{const _0x534bea=_0x2316cb;_0x381ef3[_0x534bea(0x394)](_0x8eb0e6=>_0x8eb0e6[_0x534bea(0x821)][_0x534bea(0x981)]('active')),_0x1e0b01[_0x534bea(0x821)]['add'](_0x534bea(0x82a));const _0x18ce81=_0x1e0b01===_0x383ea8;_0x276866[_0x534bea(0x821)][_0x534bea(0x4fe)](_0x534bea(0x8be),_0x18ce81),_0x42e24d[_0x534bea(0x821)][_0x534bea(0x4fe)](_0x534bea(0x8be),!_0x18ce81);};_0x14f12e[_0x2316cb(0x78c)](_0x2316cb(0x382),()=>{const _0x4f7d1b=_0x2316cb;activeTool=_0x4f7d1b(0xa6a),_0xd5673f(_0x14f12e);}),_0xfd67c8[_0x2316cb(0x78c)](_0x2316cb(0x382),()=>{const _0xab3b10=_0x2316cb;activeTool=_0xab3b10(0x242),_0xd5673f(_0xfd67c8);}),_0x19cb39[_0x2316cb(0x78c)]('click',()=>{activeTool='trail',_0xd5673f(_0x19cb39);}),_0x383ea8[_0x2316cb(0x78c)](_0x2316cb(0x382),()=>{const _0xe02ff9=_0x2316cb;activeTool=_0xe02ff9(0x46f),_0xd5673f(_0x383ea8);}),_0x276866[_0x2316cb(0x502)]('.pen-size-btn')[_0x2316cb(0x394)](_0x3c3c83=>{const _0x4debb0=_0x2316cb;_0x3c3c83[_0x4debb0(0x78c)](_0x4debb0(0x382),_0x57ee9a=>{const _0xa6b6da=_0x4debb0;scratchpadPenSize=parseInt(_0x57ee9a[_0xa6b6da(0xa81)][_0xa6b6da(0x896)][_0xa6b6da(0x35d)],0xa),_0x276866[_0xa6b6da(0x502)](_0xa6b6da(0x3e6))['forEach'](_0x5e6386=>_0x5e6386['classList'][_0xa6b6da(0x981)]('active')),_0x57ee9a[_0xa6b6da(0xa81)][_0xa6b6da(0x821)][_0xa6b6da(0x231)](_0xa6b6da(0x82a));});}),_0x276866['querySelectorAll'](_0x2316cb(0x4c7))[_0x2316cb(0x394)](_0x2dd055=>{const _0x3abe43=_0x2316cb;_0x2dd055[_0x3abe43(0x78c)](_0x3abe43(0x382),_0x3a4058=>{const _0x145ad5=_0x3abe43;scratchpadPenColor=_0x3a4058['target']['dataset'][_0x145ad5(0x8a2)],_0x276866[_0x145ad5(0x502)](_0x145ad5(0x4c7))['forEach'](_0x31826a=>_0x31826a[_0x145ad5(0x821)][_0x145ad5(0x981)](_0x145ad5(0x82a))),_0x3a4058[_0x145ad5(0xa81)][_0x145ad5(0x821)][_0x145ad5(0x231)](_0x145ad5(0x82a));});}),_0x42e24d[_0x2316cb(0x502)](_0x2316cb(0xa86))['forEach'](_0x3e789c=>{const _0x545f16=_0x2316cb;_0x3e789c[_0x545f16(0x78c)]('click',_0x552d07=>{const _0x222a57=_0x545f16;scratchpadHighlighterColor=_0x552d07[_0x222a57(0xa81)][_0x222a57(0x896)][_0x222a57(0x8a2)],_0x42e24d[_0x222a57(0x502)](_0x222a57(0xa86))[_0x222a57(0x394)](_0x40ed98=>_0x40ed98[_0x222a57(0x821)]['remove']('active')),_0x552d07[_0x222a57(0xa81)][_0x222a57(0x821)][_0x222a57(0x231)]('active');});});const _0x60fa02=document[_0x2316cb(0x318)](_0x2316cb(0x626)),_0x489017=document['getElementById'](_0x2316cb(0x969));_0x60fa02[_0x2316cb(0x78c)](_0x2316cb(0x7de),_0x1c5cf2=>{const _0x40ef84=_0x2316cb,_0x43bbb6=parseInt(_0x1c5cf2[_0x40ef84(0xa81)][_0x40ef84(0x3e2)],0xa);scratchpadHighlighterSize=_0x43bbb6,_0x489017['textContent']=_0x43bbb6;}),window[_0x2316cb(0x78c)]('resize',()=>{const _0x2f71b1=_0x2316cb;!_0x1ecdf3['classList'][_0x2f71b1(0x47b)](_0x2f71b1(0x8be))&&(initializeScratchpadCanvas(),redrawScratchpad());});}const BADGES={'PERFECT_SCORE':{'id':_0x5b6af5(0x4da),'name':_0x5b6af5(0x2d8),'description':_0x5b6af5(0x215),'icon':_0x5b6af5(0x6a8)},'QUICK_THINKER':{'id':_0x5b6af5(0x256),'name':_0x5b6af5(0x67f),'description':'ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','icon':_0x5b6af5(0x5b5)},'ON_FIRE':{'id':_0x5b6af5(0x46d),'name':'ท็อปฟอร์ม','description':_0x5b6af5(0x9c4),'icon':'fa-fire\x20text-orange-500'},'FIRST_TRY_ACE':{'id':_0x5b6af5(0x95f),'name':_0x5b6af5(0x48e),'description':_0x5b6af5(0x3fe),'icon':'fa-rocket\x20text-purple-500'},'COMEBACK_KING':{'id':'comeback_king','name':_0x5b6af5(0x355),'description':_0x5b6af5(0x6bc),'icon':'fa-shield-alt\x20text-gray-600'},'SPECIALIST':{'id':_0x5b6af5(0x97f),'name':'ผู้เชี่ยวชาญ','description':_0x5b6af5(0x9ae),'icon':'fa-user-astronaut\x20text-blue-700'},'PERSEVERANCE':{'id':_0x5b6af5(0x607),'name':_0x5b6af5(0x5ff),'description':_0x5b6af5(0x47c),'icon':_0x5b6af5(0x8c8)}},firebaseConfig={'apiKey':_0x5b6af5(0x28e),'authDomain':_0x5b6af5(0x54a),'projectId':_0x5b6af5(0x31a),'storageBucket':_0x5b6af5(0x647),'messagingSenderId':_0x5b6af5(0x6b4),'appId':'1:274192258111:web:4120c9118229b5644dd48a','measurementId':_0x5b6af5(0x5c8)},appId=typeof __app_id!==_0x5b6af5(0x245)?__app_id:_0x5b6af5(0x703),adminView=document[_0x5b6af5(0x318)]('admin-view'),studentView=document[_0x5b6af5(0x318)](_0x5b6af5(0x9dd)),projectDashboardView=document[_0x5b6af5(0x318)](_0x5b6af5(0x839)),projectDetailView=document[_0x5b6af5(0x318)](_0x5b6af5(0x335)),quizResultsView=document['getElementById'](_0x5b6af5(0x563)),projectList=document[_0x5b6af5(0x318)](_0x5b6af5(0x591)),noProjectsMsg=document[_0x5b6af5(0x318)](_0x5b6af5(0x61e)),projectTitle=document[_0x5b6af5(0x318)](_0x5b6af5(0x624)),projectIdDisplay=document[_0x5b6af5(0x318)](_0x5b6af5(0x35c)),studentList=document[_0x5b6af5(0x318)](_0x5b6af5(0x36d)),messageModal=document[_0x5b6af5(0x318)](_0x5b6af5(0x6c8)),modalMessage=document[_0x5b6af5(0x318)](_0x5b6af5(0x3d7)),createProjectModal=document[_0x5b6af5(0x318)]('create-project-modal'),adminPasswordModal=document[_0x5b6af5(0x318)](_0x5b6af5(0x965)),confirmationModal=document[_0x5b6af5(0x318)](_0x5b6af5(0x5a9)),userIdDisplay=document['getElementById'](_0x5b6af5(0x473)),topicTab=document[_0x5b6af5(0x318)](_0x5b6af5(0x393)),textTab=document[_0x5b6af5(0x318)](_0x5b6af5(0x9c7)),topicInputArea=document[_0x5b6af5(0x318)](_0x5b6af5(0xa58)),textInputArea=document[_0x5b6af5(0x318)](_0x5b6af5(0x601)),manageTab=document[_0x5b6af5(0x318)](_0x5b6af5(0xa14)),resultsTab=document[_0x5b6af5(0x318)](_0x5b6af5(0x374)),leaderboardTab=document[_0x5b6af5(0x318)](_0x5b6af5(0x984)),manageTabContent=document[_0x5b6af5(0x318)](_0x5b6af5(0x804)),resultsTabContent=document[_0x5b6af5(0x318)](_0x5b6af5(0x2d2)),leaderboardTabContent=document[_0x5b6af5(0x318)](_0x5b6af5(0x6c9)),projectQuizzesList=document[_0x5b6af5(0x318)](_0x5b6af5(0x45a)),fileTab=document[_0x5b6af5(0x318)](_0x5b6af5(0x232)),fileInputArea=document[_0x5b6af5(0x318)](_0x5b6af5(0x328)),fileUploadInput=document[_0x5b6af5(0x318)]('file-upload-input'),worksheetTab=document[_0x5b6af5(0x318)]('worksheet-tab'),worksheetInputArea=document['getElementById'](_0x5b6af5(0x3b1)),generateWorksheetBtn=document[_0x5b6af5(0x318)](_0x5b6af5(0xa63)),studentInitialView=document[_0x5b6af5(0x318)]('student-initial-view'),studentNameSelectionView=document['getElementById'](_0x5b6af5(0x4ab)),studentQuizArea=document['getElementById'](_0x5b6af5(0x458)),studentResultArea=document[_0x5b6af5(0x318)](_0x5b6af5(0xab2)),studentReadingArea=document['getElementById']('student-reading-area'),loadQuizBtn=document[_0x5b6af5(0x318)](_0x5b6af5(0x88d)),startQuizBtn=document[_0x5b6af5(0x318)](_0x5b6af5(0xa99)),studentJoinGameView=document['getElementById'](_0x5b6af5(0x621)),presentationModal=document[_0x5b6af5(0x318)](_0x5b6af5(0x548)),renameQuizModal=document['getElementById'](_0x5b6af5(0x5f9)),moveQuizModal=document['getElementById']('move-quiz-modal'),quizSettingsModal=document[_0x5b6af5(0x318)]('quiz-settings-modal'),quizStatusModal=document[_0x5b6af5(0x318)](_0x5b6af5(0x756)),liveGameView=document[_0x5b6af5(0x318)](_0x5b6af5(0x584));function handleAutoFixLatex(){const _0x5c3e22=_0x5b6af5,_0x437a5e=document['getElementById'](_0x5c3e22(0x713))||document,_0xf1359f=_0x437a5e['querySelectorAll']([_0x5c3e22(0x650),_0x5c3e22(0x8e7),_0x5c3e22(0x385),_0x5c3e22(0x9d1),_0x5c3e22(0x408),_0x5c3e22(0x698),_0x5c3e22(0x4c8),'.option-text',_0x5c3e22(0x224)][_0x5c3e22(0x8c0)](','));let _0x14bdf0=0x0;const _0x5f5d73=_0x5ea96d=>_0x5c3e22(0x3e2)in _0x5ea96d?String(_0x5ea96d[_0x5c3e22(0x3e2)]):_0x5ea96d[_0x5c3e22(0x688)]!==undefined?_0x5ea96d[_0x5c3e22(0x688)]:_0x5ea96d[_0x5c3e22(0x950)]||'',_0x2ddbbb=(_0x125b39,_0x185387)=>{const _0x54ec35=_0x5c3e22;if(_0x54ec35(0x3e2)in _0x125b39){_0x125b39[_0x54ec35(0x3e2)]=_0x185387;return;}if(_0x125b39[_0x54ec35(0x3f9)]&&_0x125b39[_0x54ec35(0x3f9)](_0x54ec35(0x308)))return;if(_0x125b39[_0x54ec35(0x688)]!==undefined)_0x125b39[_0x54ec35(0x688)]=_0x185387;else _0x125b39['textContent']=_0x185387;},_0x58dbdb=_0x47f5d2=>_0x47f5d2[_0x5c3e22(0x6c2)](/\u00A0/g,'\x20')[_0x5c3e22(0x6c2)](/\u200B/g,'')['replace'](/\r\n?/g,'\x0a'),_0x3d00c7=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x5e9b9c=_0x10e6f8=>/^\s*[+-]?(?:\d+(?:\.\d+)?|\.\d+)\s*$/['test'](_0x10e6f8),_0x173e29=_0x2d924e=>{const _0x5723fd=_0x5c3e22,_0x2fc9c4=(_0x2d924e[_0x5723fd(0x4a1)](/\{/g)||[])[_0x5723fd(0x326)],_0x14035f=(_0x2d924e[_0x5723fd(0x4a1)](/\}/g)||[])[_0x5723fd(0x326)];if(_0x2fc9c4>_0x14035f)_0x2d924e=_0x2d924e+'}'[_0x5723fd(0xacc)](_0x2fc9c4-_0x14035f);return _0x2d924e;},_0x5a8ae0=_0x4bb298=>{const _0x35bc74=_0x5c3e22;let _0x22ca2b=_0x4bb298[_0x35bc74(0x442)]();const _0x5a7e92=['frac',_0x35bc74(0x943),'tfrac','sqrt',_0x35bc74(0xa8c),_0x35bc74(0x985),_0x35bc74(0x701),'div',_0x35bc74(0xa43),_0x35bc74(0x92f),'le','ge',_0x35bc74(0x84c),'pm',_0x35bc74(0x567),'sin','cos',_0x35bc74(0x926),_0x35bc74(0xaa8),'ln',_0x35bc74(0x44e),'prod',_0x35bc74(0x316),_0x35bc74(0x691),'right',_0x35bc74(0xa47),'underline',_0x35bc74(0xb14),_0x35bc74(0x98b)];_0x22ca2b=_0x22ca2b['replace'](new RegExp(_0x35bc74(0x7e1)+_0x5a7e92['join']('|')+_0x35bc74(0x758),'g'),'\x5c'),_0x5a7e92[_0x35bc74(0x394)](_0xae68fa=>{const _0x2843c3=_0x35bc74;_0x22ca2b=_0x22ca2b[_0x2843c3(0x6c2)](new RegExp(_0x2843c3(0x490)+_0xae68fa+'\x5cb','g'),(_0x4d70e1,_0x29f868)=>_0x29f868+'\x5c'+_0xae68fa);});const _0x55835e=[[/×/g,_0x35bc74(0x85e)],[/·/g,_0x35bc74(0xaa0)],[/÷/g,_0x35bc74(0x843)],[/≤/g,_0x35bc74(0x5ca)],[/≥/g,_0x35bc74(0xa01)],[/≠/g,_0x35bc74(0xa98)],[/±/g,_0x35bc74(0x979)],[/∑/g,_0x35bc74(0x2dd)],[/−/g,'-']];_0x55835e[_0x35bc74(0x394)](([_0xe753fe,_0x47dabe])=>{_0x22ca2b=_0x22ca2b['replace'](_0xe753fe,_0x47dabe);}),_0x22ca2b=_0x22ca2b[_0x35bc74(0x6c2)](/√\s*\(([^)]*)\)/g,'\x5csqrt{$1}'),_0x22ca2b=_0x22ca2b[_0x35bc74(0x6c2)](/√\s*([A-Za-z0-9]+)/g,'\x5csqrt{$1}'),_0x22ca2b=_0x22ca2b[_0x35bc74(0x6c2)](/(^|[^\\])\bimes\b/g,_0x35bc74(0x510))[_0x35bc74(0x6c2)](/(^|[^\\])\b(?:rac|\/frac)\b/g,_0x35bc74(0xa7f))['replace'](/(^|[^\\])ext\{/g,_0x35bc74(0x5a3))[_0x35bc74(0x6c2)](/(^|[^\\])ext\(/g,_0x35bc74(0x23a))['replace'](/\\text\(([^)]*)\)/g,'\x5ctext{$1}')['replace'](/\s\\frac/g,_0x35bc74(0xa68)),_0x22ca2b=_0x22ca2b[_0x35bc74(0x6c2)](/(^|[^\w.])([A-Za-z]|\d+)\s*\/\s*([A-Za-z]|\d+)(?![\w/])/g,(_0x44f587,_0x4d8d91,_0xe43b6,_0x48a23e)=>_0x4d8d91+_0x35bc74(0xadd)+_0xe43b6+'}{'+_0x48a23e+'}'),_0x22ca2b=_0x22ca2b[_0x35bc74(0x6c2)](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s+([^\s{}]+)/g,_0x35bc74(0x3c9))[_0x35bc74(0x6c2)](/\\(?:dfrac|tfrac|frac)\s*\{([^}]*)\}\s*([A-Za-z0-9+\-*/.]+)/g,'\x5cfrac{$1}{$2}')[_0x35bc74(0x6c2)](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s*\{([^}]*)\}/g,_0x35bc74(0x3c9)),[[/(\d+)\s*\^\s*\\?text\{o\}\s*\\?text?\{?C\}?/g,'$1^{\x5ccirc}\x5ctext{C}'],[/(\d+)\s*\^\s*\\?ext\{o\}\s*C/g,'$1^{\x5ccirc}\x5ctext{C}'],[/(\d+)\s*\^\s*\\?ext\(o\)\s*C/g,_0x35bc74(0x353)],[/(\d+)\s*\^\s*o\s*C\b/g,_0x35bc74(0x353)],[/(\d+)\s*\^\s*\\?circ\s*C/g,_0x35bc74(0x353)],[/(\d+)\s*°\s*C/g,_0x35bc74(0x353)],[/(\d+)\s*°(?!\s*\\?text\{C\})/g,_0x35bc74(0x606)],[/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,_0x35bc74(0x353)]]['forEach'](([_0x3f3af5,_0x4b1eb1])=>{const _0x583b59=_0x35bc74;_0x22ca2b=_0x22ca2b[_0x583b59(0x6c2)](_0x3f3af5,_0x4b1eb1);}),_0x22ca2b=_0x22ca2b[_0x35bc74(0x6c2)](/(\d+)\s*%/g,'$1\x5c%'),_0x22ca2b=_0x22ca2b['replace'](/([A-Za-z0-9\)])\^\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,'$1^{$2}')[_0x35bc74(0x6c2)](/([A-Za-z0-9\)])_\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,_0x35bc74(0x3b6))['replace'](/\{\{([^\{\}]+)\}\}/g,'{$1}'),[_0x35bc74(0x910),_0x35bc74(0xa96),_0x35bc74(0x926),'log','ln'][_0x35bc74(0x394)](_0x174d19=>{const _0x176b33=_0x35bc74;_0x22ca2b=_0x22ca2b['replace'](new RegExp(_0x176b33(0x490)+_0x174d19+_0x176b33(0x205),'g'),(_0xb205ac,_0x4096fe)=>_0x4096fe+'\x5c'+_0x174d19+'(');});const _0xb432a7=(_0x22ca2b[_0x35bc74(0x4a1)](/\\left\b/g)||[])[_0x35bc74(0x326)],_0x46bd5f=(_0x22ca2b[_0x35bc74(0x4a1)](/\\right\b/g)||[])[_0x35bc74(0x326)];if(_0xb432a7!==_0x46bd5f)_0x22ca2b=_0x22ca2b['replace'](/\\left\b/g,'')[_0x35bc74(0x6c2)](/\\right\b/g,'');return _0x22ca2b=_0x173e29(_0x22ca2b),_0x22ca2b;},_0x108bf2=_0x395916=>{const _0x1d94cf=_0x5c3e22;if(/\$|\\\(|\\\[/['test'](_0x395916))return _0x395916;if(!_0x3d00c7[_0x1d94cf(0xac1)](_0x395916))return _0x395916;const _0x11de8d=_0x395916['match'](/^\s*/)[0x0],_0x58a471=_0x395916[_0x1d94cf(0x4a1)](/\s*$/)[0x0],_0x3b2676=_0x395916['trim']();return _0x11de8d+'$'+_0x5a8ae0(_0x3b2676)+'$'+_0x58a471;},_0x450710=_0x26bfa7=>_0x26bfa7[_0x5c3e22(0x35a)](/(\s(?:และ|หรือ)\s|[,\u3001，;；])/);_0xf1359f[_0x5c3e22(0x394)](_0x4562a0=>{const _0x5d5b59=_0x5c3e22;if(_0x4562a0[_0x5d5b59(0x3f9)]&&_0x4562a0[_0x5d5b59(0x3f9)](_0x5d5b59(0x308)))return;const _0x2740b3=_0x5f5d73(_0x4562a0);let _0x2d4c29=_0x58dbdb(_0x2740b3);_0x2d4c29=_0x2d4c29['replace'](/\$\$([\s\S]*?)\$\$/g,(_0xbec4ad,_0x5323a6)=>'$$'+_0x5a8ae0(_0x5323a6)+'$$')[_0x5d5b59(0x6c2)](/\$([^$]*?)\$/g,(_0x8f99cf,_0xcc9aa3)=>'$'+_0x5a8ae0(_0xcc9aa3)+'$')['replace'](/\\\(([\s\S]*?)\\\)/g,(_0x41121b,_0x2b06a8)=>'\x5c('+_0x5a8ae0(_0x2b06a8)+'\x5c)')[_0x5d5b59(0x6c2)](/\\\[([\s\S]*?)\\\]/g,(_0x219668,_0x17dd72)=>'\x5c['+_0x5a8ae0(_0x17dd72)+'\x5c]');let _0x3bf8e9=_0x2d4c29,_0x363aa4=0x0;const _0x1b12ed=_0x45c001=>_0x45c001['replace'](/S([^S]{0,2000}?)S/g,(_0x1994e8,_0x4f4d4c)=>_0x3d00c7[_0x5d5b59(0xac1)](_0x4f4d4c)?'$'+_0x5a8ae0(_0x4f4d4c)+'$':_0x1994e8);while(_0x363aa4++<0x14){const _0x4dd6c8=_0x1b12ed(_0x3bf8e9);if(_0x4dd6c8===_0x3bf8e9)break;_0x3bf8e9=_0x4dd6c8;}_0x2d4c29=_0x3bf8e9,_0x2d4c29=_0x2d4c29[_0x5d5b59(0x35a)]('\x0a')[_0x5d5b59(0xa7a)](_0x500f1f=>{const _0x5cd0b4=_0x5d5b59;if(!(/[,\u3001，;；]/[_0x5cd0b4(0xac1)](_0x500f1f)||/\s(?:และ|หรือ)\s/['test'](_0x500f1f))||!_0x3d00c7[_0x5cd0b4(0xac1)](_0x500f1f))return _0x500f1f;return _0x450710(_0x500f1f)['map'](_0x5d314f=>{const _0x581801=_0x5cd0b4;if(/^\s(?:และ|หรือ)\s$/['test'](_0x5d314f)||/^[,\u3001，;；]$/[_0x581801(0xac1)](_0x5d314f))return _0x5d314f;return _0x108bf2(_0x5d314f);})[_0x5cd0b4(0x8c0)]('');})[_0x5d5b59(0x8c0)]('\x0a'),_0x2d4c29=_0x2d4c29['split']('\x0a')['map'](_0x4f76d2=>{const _0x3d3d52=_0x5d5b59,_0x18fba5=_0x4f76d2[_0x3d3d52(0x442)]();if(!_0x18fba5)return _0x4f76d2;const _0x1f8470=/\$|\\\(|\\\[/['test'](_0x18fba5),_0x43047b=/(\\[A-Za-z]+|[\^_]|[°×÷≤≥≠±·√∑])/[_0x3d3d52(0xac1)](_0x18fba5);if(_0x1f8470||!_0x43047b||_0x5e9b9c(_0x18fba5))return _0x4f76d2;return _0x4f76d2[_0x3d3d52(0x6c2)](_0x18fba5,'$'+_0x5a8ae0(_0x18fba5)+'$');})['join']('\x0a'),_0x2d4c29=_0x2d4c29[_0x5d5b59(0x6c2)](/(\d+)\s*°\s*C\b/g,(_0x23e7b3,_0x523e44,_0x1ebd1a,_0x7cc126)=>{const _0x157d3f=_0x5d5b59,_0x290980=_0x7cc126[_0x1ebd1a-0x1];if(_0x290980==='$'||_0x290980==='S'||_0x290980==='\x5c')return _0x23e7b3;return'$'+_0x523e44+_0x157d3f(0x4c1);})[_0x5d5b59(0x6c2)](/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,(_0x1119c7,_0x44e82d,_0x4a2bda,_0x48a404)=>{const _0x3d41e9=_0x5d5b59,_0x1d3065=_0x48a404[_0x4a2bda-0x1];if(_0x1d3065==='$'||_0x1d3065==='S'||_0x1d3065==='\x5c')return _0x1119c7;return'$'+_0x44e82d+_0x3d41e9(0x4c1);})['replace'](/(\d+)\s*\^\s*(?:\\?ext\{o\}|\\?ext\(o\)|o)\s*C\b/g,(_0x22bc7d,_0x569282,_0x37bbad,_0x7036c0)=>{const _0x638fb9=_0x7036c0[_0x37bbad-0x1];if(_0x638fb9==='$'||_0x638fb9==='S'||_0x638fb9==='\x5c')return _0x22bc7d;return'$'+_0x569282+'^{\x5ccirc}\x5ctext{C}$';}),_0x2d4c29=_0x2d4c29['replace'](/\$\s*\$/g,'$$'),_0x2d4c29!==_0x2740b3&&(_0x2ddbbb(_0x4562a0,_0x2d4c29),_0x14bdf0++);});if(_0x14bdf0>0x0){showMessage(_0x5c3e22(0x485)+_0x14bdf0+'\x20ช่อง');try{if(window[_0x5c3e22(0x2c3)]&&MathJax[_0x5c3e22(0x4f5)])MathJax[_0x5c3e22(0x4f5)]();window[_0x5c3e22(0xa45)]&&typeof renderMathInElement==='function'&&renderMathInElement(_0x437a5e,{'delimiters':[{'left':'$$','right':'$$','display':!![]},{'left':'$','right':'$','display':![]},{'left':'\x5c(','right':'\x5c)','display':![]},{'left':'\x5c[','right':'\x5c]','display':!![]}]});}catch(_0x28a1f1){}}else showMessage(_0x5c3e22(0xa7d));}async function listenForCustomMathTopics(){const _0xa5ce3f=_0x5b6af5,_0x170e32=collection(db,_0xa5ce3f(0x58b)+appId+_0xa5ce3f(0x95d));onSnapshot(_0x170e32,_0x4a534f=>{const _0x429000=_0xa5ce3f;customMathTopics=_0x4a534f[_0x429000(0xa18)][_0x429000(0xa7a)](_0x26e3fe=>({'id':_0x26e3fe['id'],..._0x26e3fe[_0x429000(0x266)]()})),renderTopicCheckboxes();},_0x4e07a1=>{console['error']('Error\x20listening\x20for\x20custom\x20math\x20topics:',_0x4e07a1);});}function handleSelectAllTopics(){const _0x46879e=_0x5b6af5,_0x5ef7aa=document['getElementById']('math-topics-checkbox-container'),_0x26318e=_0x5ef7aa[_0x46879e(0x502)](_0x46879e(0x780));_0x26318e[_0x46879e(0x394)](_0x125330=>{_0x125330['checked']=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x3b7428=_0x5b6af5,_0x5897ef=document[_0x3b7428(0x318)](_0x3b7428(0x227)),_0x200f95=_0x5897ef[_0x3b7428(0x502)](_0x3b7428(0x780));_0x200f95[_0x3b7428(0x394)](_0x391b6a=>{_0x391b6a['checked']=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x207dfd){const _0x405c88=_0x5b6af5;if(!_0x207dfd)return;try{const _0x3891ba=doc(db,_0x405c88(0x58b)+appId+_0x405c88(0x95d),_0x207dfd);await deleteDoc(_0x3891ba),showMessage(_0x405c88(0x862));}catch(_0x53c27c){console[_0x405c88(0x581)](_0x405c88(0x83f),_0x53c27c),showMessage(_0x405c88(0x728));}}async function handleAddCustomMathTopic(){const _0x56834d=_0x5b6af5,_0x84461a=document[_0x56834d(0x318)](_0x56834d(0xa1c)),_0x404c65=_0x84461a['value'][_0x56834d(0x442)]();if(!_0x404c65){showMessage(_0x56834d(0x955));return;}if(!userId){showMessage(_0x56834d(0xa33));return;}try{const _0x600247=collection(db,_0x56834d(0x58b)+appId+'/public/data/customMathTopics');await addDoc(_0x600247,{'name':_0x404c65,'createdAt':serverTimestamp()}),_0x84461a[_0x56834d(0x3e2)]='',showMessage(_0x56834d(0xa7c)+_0x404c65+_0x56834d(0x853));}catch(_0x3d8eac){console[_0x56834d(0x581)](_0x56834d(0x2b1),_0x3d8eac),showMessage(_0x56834d(0x3a6));}}async function handleUpdateOldQuizzes(){const _0xbb5aae=_0x5b6af5;showConfirmation(_0xbb5aae(0x282),async()=>{const _0x1be7dd=_0xbb5aae,_0x5dc7df=document['getElementById'](_0x1be7dd(0xa27)),_0x22c16e=document[_0x1be7dd(0x318)]('loader-text'),_0x434727=_0x22c16e['textContent'];_0x5dc7df[_0x1be7dd(0x821)]['remove'](_0x1be7dd(0x8be)),_0x22c16e['textContent']=_0x1be7dd(0x670);try{const _0x24e4bd=collection(db,'artifacts/'+appId+'/public/data/quizzes'),_0x19431b=await getDocs(_0x24e4bd);if(_0x19431b[_0x1be7dd(0x2d0)]){showMessage(_0x1be7dd(0x400));return;}const _0x5ed7e9=writeBatch(db);let _0x194246=0x0;_0x19431b[_0x1be7dd(0x394)](_0x2fede6=>{const _0x41d35d=_0x1be7dd,_0x19f8a9=_0x2fede6[_0x41d35d(0x266)](),_0x414567=_0x2fede6['id'];if(_0x19f8a9[_0x41d35d(0x313)]&&_0x19f8a9[_0x41d35d(0x313)][_0x41d35d(0x326)]>0x0&&!_0x19f8a9[_0x41d35d(0x313)][0x0][_0x41d35d(0x722)]('id')){console[_0x41d35d(0xaa8)](_0x41d35d(0x574)+_0x414567+'\x20('+_0x19f8a9[_0x41d35d(0x53e)]+')'),_0x194246++;const _0x347796=_0x19f8a9['questions'][_0x41d35d(0xa7a)]((_0x2e7ed3,_0x155e89)=>{const _0x436658=_0x41d35d;return{..._0x2e7ed3,'id':_0x2e7ed3['id']||'q_'+Date[_0x436658(0x255)]()+'_'+_0x414567+'_'+_0x155e89};}),_0x58ae5c=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x414567);_0x5ed7e9[_0x41d35d(0x302)](_0x58ae5c,{'questions':_0x347796});}}),_0x194246>0x0?(_0x22c16e[_0x1be7dd(0x950)]='กำลังอัปเดตแบบทดสอบ\x20'+_0x194246+_0x1be7dd(0x618),await _0x5ed7e9[_0x1be7dd(0x991)](),showMessage(_0x1be7dd(0xa06)+_0x194246+'\x20รายการสำเร็จ!')):showMessage('ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว');}catch(_0x11ea0a){console[_0x1be7dd(0x581)](_0x1be7dd(0xa23),_0x11ea0a),showMessage(_0x1be7dd(0x2a5)+_0x11ea0a[_0x1be7dd(0x8a6)]);}finally{_0x5dc7df[_0x1be7dd(0x821)][_0x1be7dd(0x231)](_0x1be7dd(0x8be)),_0x22c16e[_0x1be7dd(0x950)]=_0x434727;}});}async function handleBulkUpdateQuizSettings(){const _0x219673=_0x5b6af5,_0x1bb423={'shuffle':document[_0x219673(0x318)]('bulk-shuffle-select')['value'],'resultsDisplay':document[_0x219673(0x318)](_0x219673(0x66b))[_0x219673(0x3e2)],'loopUntilPass':document['getElementById'](_0x219673(0x3ed))[_0x219673(0x82f)]},_0x5ec594=allQuizzesGlobal['length'];showConfirmation(_0x219673(0x7fe)+_0x5ec594+_0x219673(0x927),async()=>{const _0x1f71ba=_0x219673,_0x57400c=document[_0x1f71ba(0x318)](_0x1f71ba(0xa3c));_0x57400c[_0x1f71ba(0x204)]=!![],_0x57400c[_0x1f71ba(0x993)]=_0x1f71ba(0x997);try{const _0x492b43=writeBatch(db);allQuizzesGlobal[_0x1f71ba(0x394)](_0x5f98a2=>{const _0x5cb4f8=_0x1f71ba,_0x543050=doc(db,_0x5cb4f8(0x58b)+appId+'/public/data/quizzes',_0x5f98a2['id']),_0x3a35b8={..._0x5f98a2[_0x5cb4f8(0x492)]||{},..._0x1bb423};_0x492b43['update'](_0x543050,{'settings':_0x3a35b8});}),await _0x492b43[_0x1f71ba(0x991)](),document['getElementById'](_0x1f71ba(0xa46))[_0x1f71ba(0x821)][_0x1f71ba(0x231)](_0x1f71ba(0x8be)),showMessage(_0x1f71ba(0xadc)+_0x5ec594+'\x20ชุดสำเร็จ!');}catch(_0xae6985){console[_0x1f71ba(0x581)]('Error\x20during\x20bulk\x20quiz\x20settings\x20update:',_0xae6985),showMessage(_0x1f71ba(0x608));}finally{_0x57400c[_0x1f71ba(0x204)]=![],_0x57400c[_0x1f71ba(0x993)]=_0x1f71ba(0x6b0);}});}async function handleSaveProjectName(){const _0x3fedcc=_0x5b6af5,_0x7e8092=document[_0x3fedcc(0x318)](_0x3fedcc(0x624)),_0x571c02=document[_0x3fedcc(0x318)](_0x3fedcc(0x5db)),_0x1be73f=_0x7e8092['textContent'][_0x3fedcc(0x442)]();if(!_0x1be73f||!currentProjectId){showMessage(_0x3fedcc(0xa9a)),_0x7e8092[_0x3fedcc(0x950)]=currentProjectData['projectName'];return;}_0x571c02[_0x3fedcc(0x204)]=!![],_0x571c02[_0x3fedcc(0x993)]=_0x3fedcc(0x79a);try{const _0x54579d=doc(db,_0x3fedcc(0x58b)+appId+'/public/data/projects',currentProjectId);await updateDoc(_0x54579d,{'projectName':_0x1be73f}),currentProjectData&&(currentProjectData[_0x3fedcc(0x368)]=_0x1be73f),showMessage(_0x3fedcc(0x342));}catch(_0x844983){console[_0x3fedcc(0x581)](_0x3fedcc(0x85c),_0x844983),showMessage('เกิดข้อผิดพลาดในการบันทึก'),_0x7e8092[_0x3fedcc(0x950)]=currentProjectData[_0x3fedcc(0x368)];}finally{_0x571c02['classList'][_0x3fedcc(0x231)]('hidden'),_0x571c02[_0x3fedcc(0x204)]=![],_0x571c02[_0x3fedcc(0x993)]=_0x3fedcc(0x3d0);}}async function initialize(){const _0x1464f3=_0x5b6af5;try{const _0x1e06bb=initializeApp(firebaseConfig);db=getFirestore(_0x1e06bb),auth=getAuth(_0x1e06bb),setupAuthListener(),setupEventListeners(),showView(_0x1464f3(0x73a)),renderTopicCheckboxes(),setupStudentProgressListeners(),resumeActiveGameSession();}catch(_0x5345d9){console[_0x1464f3(0x581)]('Firebase\x20initialization\x20failed:',_0x5345d9),showMessage(_0x1464f3(0x7fa));}}async function handleVerifyAnswersInEditor(){const _0x1daf64=_0x5b6af5,_0x3d895d=document[_0x1daf64(0x318)](_0x1daf64(0x480));if(!_0x3d895d)return;const _0x2f19c6=document['getElementById'](_0x1daf64(0xaec));_0x2f19c6[_0x1daf64(0x204)]=!![],_0x2f19c6[_0x1daf64(0x993)]=_0x1daf64(0x736);try{const _0x2f147b=_0x3d895d[_0x1daf64(0x502)]('.question-editor-item'),_0x19f812=Array[_0x1daf64(0x918)](_0x2f147b)[_0x1daf64(0xa7a)]((_0x3e931c,_0x1cdca8)=>{const _0x35dd8c=_0x1daf64,_0x2a3e4d=_0x3e931c['dataset'][_0x35dd8c(0x928)],_0x535416=_0x3e931c[_0x35dd8c(0x3f9)]('textarea')[_0x35dd8c(0x3e2)];let _0x545782=null,_0x31d332='';switch(_0x2a3e4d){case _0x35dd8c(0x40c):const _0x2aa39f=_0x3e931c[_0x35dd8c(0x502)](_0x35dd8c(0x8e7));_0x545782=Array[_0x35dd8c(0x918)](_0x2aa39f)[_0x35dd8c(0xa7a)](_0x19f7eb=>_0x19f7eb[_0x35dd8c(0x3e2)]);const _0xcd663a=_0x3e931c[_0x35dd8c(0x3f9)]('input[type=\x22radio\x22]:checked');_0xcd663a&&(_0x31d332=_0x545782[parseInt(_0xcd663a[_0x35dd8c(0x3e2)])]);break;case _0x35dd8c(0xa9e):_0x31d332=_0x3e931c['querySelector'](_0x35dd8c(0x89a))['value'];break;case'true_false':const _0x36fa42=_0x3e931c[_0x35dd8c(0x3f9)](_0x35dd8c(0x446));_0x31d332=_0x36fa42?_0x36fa42[_0x35dd8c(0x3e2)]:'';break;case _0x35dd8c(0x917):_0x31d332=_0x3e931c['querySelector'](_0x35dd8c(0x2b6))[_0x35dd8c(0x3e2)];break;}return{'question':_0x535416,'options':_0x545782,'proposedAnswer':_0x31d332};}),_0x144289=_0x1daf64(0x240)+JSON[_0x1daf64(0x617)](_0x19f812)+_0x1daf64(0x67a),_0x3970bd={'type':_0x1daf64(0x805),'items':{'type':_0x1daf64(0xa0a),'properties':{'questionIndex':{'type':_0x1daf64(0x5e1)},'isCorrect':{'type':_0x1daf64(0x2bd)},'justification':{'type':_0x1daf64(0x864)},'suggestedAnswer':{'type':_0x1daf64(0x864)}},'required':[_0x1daf64(0x361),_0x1daf64(0x64c),_0x1daf64(0x729)]}},_0x6e4e63=await callAnalysisApi(_0x144289,{'type':_0x1daf64(0xa0a),'properties':{'result':_0x3970bd},'required':[_0x1daf64(0x6d5)]});displayVerificationResultsInEditor(_0x6e4e63['result']);}catch(_0x239c23){console[_0x1daf64(0x581)](_0x1daf64(0x7f6),_0x239c23),showMessage(_0x1daf64(0x367));}finally{_0x2f19c6['disabled']=![],_0x2f19c6[_0x1daf64(0x993)]=_0x1daf64(0x976);}}function displayVerificationResultsInEditor(_0x34bcb3){const _0x14677f=_0x5b6af5;_0x34bcb3[_0x14677f(0x394)](_0x113d84=>{const _0x2ad71e=_0x14677f,_0x3d1ca4=document['querySelector'](_0x2ad71e(0x2fb)+_0x113d84[_0x2ad71e(0x361)]+'\x22]');if(!_0x3d1ca4)return;const _0x45b8ce=_0x3d1ca4[_0x2ad71e(0x3f9)](_0x2ad71e(0x734));if(_0x45b8ce)_0x45b8ce[_0x2ad71e(0x981)]();let _0x1d717f='';if(_0x113d84['isCorrect'])_0x1d717f=_0x2ad71e(0x3f1);else{const _0x5b3f59=_0x113d84['suggestedAnswer']?_0x2ad71e(0x7e5):'';_0x1d717f=_0x2ad71e(0x665)+_0x5b3f59+_0x2ad71e(0x276)+_0x113d84[_0x2ad71e(0x729)]+_0x2ad71e(0x833)+(_0x113d84[_0x2ad71e(0x7ce)]?'<p><strong>คำตอบที่แนะนำ:</strong>\x20'+_0x113d84[_0x2ad71e(0x7ce)]+_0x2ad71e(0x6fa):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';}_0x3d1ca4['insertAdjacentHTML'](_0x2ad71e(0x9a9),_0x1d717f);if(!_0x113d84['isCorrect']&&_0x113d84[_0x2ad71e(0x7ce)]){const _0x3ef539=_0x3d1ca4[_0x2ad71e(0x896)][_0x2ad71e(0x928)],_0x1f9015=_0x38ea35=>{const _0x3f53ae=_0x2ad71e;if(!_0x38ea35)return;_0x38ea35[_0x3f53ae(0x821)][_0x3f53ae(0x231)](_0x3f53ae(0x9b3),_0x3f53ae(0x4ae),_0x3f53ae(0xa1a)),setTimeout(()=>{const _0x46defc=_0x3f53ae;_0x38ea35[_0x46defc(0x821)][_0x46defc(0x981)]('bg-green-200');},0x9c4);};if(_0x3ef539==='multiple_choice'){const _0x1dcec3=Array[_0x2ad71e(0x918)](_0x3d1ca4[_0x2ad71e(0x502)](_0x2ad71e(0x8e7))),_0x5b1551=_0x1dcec3[_0x2ad71e(0x585)](_0x4d7757=>_0x4d7757['value'][_0x2ad71e(0x442)]()[_0x2ad71e(0xa19)]()===_0x113d84[_0x2ad71e(0x7ce)][_0x2ad71e(0x442)]()[_0x2ad71e(0xa19)]());if(_0x5b1551!==-0x1){const _0x10270f=_0x3d1ca4['querySelector']('input[type=\x22radio\x22][value=\x22'+_0x5b1551+'\x22]');_0x10270f&&(_0x10270f[_0x2ad71e(0x82f)]=!![],_0x1f9015(_0x10270f['closest'](_0x2ad71e(0x404))));}}else{if(_0x3ef539===_0x2ad71e(0xa9e)||_0x3ef539===_0x2ad71e(0x917)){const _0x277461=_0x3d1ca4[_0x2ad71e(0x3f9)](_0x2ad71e(0x52d));_0x277461&&(_0x277461[_0x2ad71e(0x3e2)]=_0x113d84[_0x2ad71e(0x7ce)],_0x1f9015(_0x277461));}else{if(_0x3ef539===_0x2ad71e(0x8d0)){const _0x411973=_0x113d84[_0x2ad71e(0x7ce)]['trim']()[_0x2ad71e(0xa19)](),_0x5521f4=_0x3d1ca4['querySelector'](_0x2ad71e(0x71f)+_0x411973+'\x22]');_0x5521f4&&(_0x5521f4['checked']=!![],_0x1f9015(_0x5521f4[_0x2ad71e(0x487)](_0x2ad71e(0x404))));}}}}}),showMessage('ตรวจทานเฉลยเสร็จสิ้น!');}async function handleVerifyAnswers(){const _0x47132b=_0x5b6af5;if(!currentQuizData||!currentQuizData[_0x47132b(0x313)]){showMessage(_0x47132b(0x90d));return;}const _0x83012b=document[_0x47132b(0x318)]('verify-answers-btn');_0x83012b[_0x47132b(0x204)]=!![],_0x83012b[_0x47132b(0x993)]=_0x47132b(0x736);try{const _0x13a8c6=currentQuizData[_0x47132b(0x313)]['map']((_0x4be3b9,_0x1b355c)=>{const _0x42008e=_0x47132b;let _0x5e5f17='';const _0x29bc7a=_0x4be3b9[_0x42008e(0xb01)]||currentQuizData['quizType'];switch(_0x29bc7a){case _0x42008e(0x40c):_0x5e5f17=_0x4be3b9[_0x42008e(0x6c3)][_0x4be3b9[_0x42008e(0x859)]];break;case'short_answer':_0x5e5f17=_0x4be3b9[_0x42008e(0x7b3)];break;case _0x42008e(0x8d0):_0x5e5f17=_0x4be3b9[_0x42008e(0x86a)]['toString']();break;case _0x42008e(0x917):_0x5e5f17=_0x4be3b9[_0x42008e(0x2e3)];break;}return{'question':_0x4be3b9[_0x42008e(0x6f3)]||_0x4be3b9[_0x42008e(0x7a4)],'options':_0x4be3b9[_0x42008e(0x6c3)]||null,'proposedAnswer':_0x5e5f17};}),_0x98f8ec=_0x47132b(0xa55)+JSON[_0x47132b(0x617)](_0x13a8c6)+_0x47132b(0x5dd),_0x54d10b={'type':'ARRAY','items':{'type':_0x47132b(0xa0a),'properties':{'questionIndex':{'type':_0x47132b(0x5e1)},'isCorrect':{'type':_0x47132b(0x2bd)},'justification':{'type':_0x47132b(0x864)},'suggestedAnswer':{'type':_0x47132b(0x864)}},'required':[_0x47132b(0x361),_0x47132b(0x64c),_0x47132b(0x729)]}},_0xbf1b0c=await callAnalysisApi(_0x98f8ec,{'type':'OBJECT','properties':{'result':_0x54d10b},'required':[_0x47132b(0x6d5)]});displayVerificationResults(_0xbf1b0c[_0x47132b(0x6d5)]);}catch(_0x2d5674){console[_0x47132b(0x581)](_0x47132b(0x3f5),_0x2d5674),showMessage(_0x47132b(0x367));}finally{_0x83012b[_0x47132b(0x204)]=![],_0x83012b[_0x47132b(0x993)]=_0x47132b(0x20f);}}function displayVerificationResults(_0xc80075){const _0x357e3c=_0x5b6af5;_0xc80075[_0x357e3c(0x394)](_0x1296f5=>{const _0x31272b=_0x357e3c,_0x190e49=document[_0x31272b(0x3f9)](_0x31272b(0x3af)+_0x1296f5['questionIndex']+'\x22]');if(_0x190e49){const _0x297f11=_0x190e49['querySelector'](_0x31272b(0x500));if(_0x297f11)_0x297f11[_0x31272b(0x981)]();let _0x3df0a7='';_0x1296f5[_0x31272b(0x64c)]?_0x3df0a7=_0x31272b(0x25f):_0x3df0a7=_0x31272b(0x444)+_0x1296f5[_0x31272b(0x729)]+_0x31272b(0x521)+(_0x1296f5['suggestedAnswer']?'<p><strong>คำตอบที่แนะนำ:</strong>\x20'+_0x1296f5[_0x31272b(0x7ce)]+_0x31272b(0x6fa):'')+_0x31272b(0x811),_0x190e49['insertAdjacentHTML'](_0x31272b(0x9a9),_0x3df0a7);}}),showMessage(_0x357e3c(0x2c5));}function compareNumericalAnswers(_0x15b4e0,_0x2e338c){const _0x4f4a14=_0x5b6af5,_0x4740df=String(_0x15b4e0)[_0x4f4a14(0x6c2)](',','.')[_0x4f4a14(0x6c2)](/[^\d.-]/g,'')[_0x4f4a14(0x442)](),_0x39c0c4=String(_0x2e338c)[_0x4f4a14(0x6c2)](',','.')[_0x4f4a14(0x6c2)](/[^\d.-]/g,'')['trim']();if(_0x4740df===''||_0x39c0c4==='')return![];const _0x4f61e2=parseFloat(_0x4740df),_0x3d83cb=parseFloat(_0x39c0c4);if(isNaN(_0x4f61e2)||isNaN(_0x3d83cb))return![];return Math[_0x4f4a14(0xa2c)](_0x4f61e2-_0x3d83cb)<0.001;}async function gradeShortAnswer(_0x3b64a6,_0x4f4558){const _0x476ceb=_0x5b6af5,_0x5d310f=_0x4f4558[_0x476ceb(0x7b3)];if(String(_0x3b64a6)[_0x476ceb(0x442)]()[_0x476ceb(0xa19)]()===String(_0x5d310f)[_0x476ceb(0x442)]()[_0x476ceb(0xa19)]())return!![];if(compareNumericalAnswers(_0x3b64a6,_0x5d310f))return!![];return console[_0x476ceb(0xaa8)](_0x476ceb(0x815)),await gradeShortAnswerWithAI(_0x3b64a6,_0x5d310f);}async function revealAnswerForAdmin(_0x2f37d9,_0x2deba9){const _0x449a48=_0x5b6af5,_0xaed112=doc(db,'artifacts/'+appId+_0x449a48(0x2f8),currentLiveGameId);await updateDoc(_0xaed112,{'questionStatus':_0x449a48(0x54d)});}function showTop5LeaderboardView(_0x2b4080){const _0x142f1c=_0x5b6af5,_0x3ffb97=Object['values'](_0x2b4080[_0x142f1c(0x546)]||{})[_0x142f1c(0x5e3)](_0x474db8=>_0x474db8['status']===_0x142f1c(0x82a));_0x3ffb97[_0x142f1c(0xaa5)]((_0x47b240,_0x5363e2)=>_0x5363e2[_0x142f1c(0x829)]-_0x47b240[_0x142f1c(0x829)]);const _0x367781=_0x3ffb97[_0x142f1c(0xb0f)](0x0,0x5),_0x424687=_0x142f1c(0x488)+_0x367781[_0x142f1c(0xa7a)]((_0xd397e9,_0x564df1)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>'+(_0x564df1+0x1)+'.\x20'+(_0xd397e9['name']||Object['keys'](_0x2b4080[_0x142f1c(0x546)])[_0x142f1c(0xa93)](_0x52f8e7=>_0x2b4080[_0x142f1c(0x546)][_0x52f8e7]===_0xd397e9))+_0x142f1c(0x20a)+_0xd397e9[_0x142f1c(0x829)]+_0x142f1c(0x2a1))['join']('')+_0x142f1c(0xb0b)+(_0x2b4080[_0x142f1c(0x2ca)]+0x1===currentQuizData[_0x142f1c(0x313)][_0x142f1c(0x326)]?_0x142f1c(0x526):_0x142f1c(0x272))+_0x142f1c(0x93d);liveGameView[_0x142f1c(0x993)]=_0x424687,document[_0x142f1c(0x318)]('goto-next-question-btn')['addEventListener']('click',async()=>{const _0x594c63=_0x142f1c,_0x331c82=doc(db,'artifacts/'+appId+_0x594c63(0x2f8),currentLiveGameId),_0x14ed4b=_0x2b4080[_0x594c63(0x2ca)]+0x1;if(_0x14ed4b<currentQuizData['questions'][_0x594c63(0x326)]){const _0xa512c={'currentQuestionIndex':_0x14ed4b,'questionDisplayedAt':serverTimestamp(),'questionStatus':_0x594c63(0x84d)};Object['keys'](_0x2b4080[_0x594c63(0x546)])[_0x594c63(0x394)](_0x53e666=>{const _0x3d2ffa=_0x594c63;_0xa512c[_0x3d2ffa(0x441)+_0x53e666+_0x3d2ffa(0x8d4)]=![];}),await updateDoc(_0x331c82,_0xa512c);}else await updateDoc(_0x331c82,{'status':_0x594c63(0x3ce)});});}function setupAuthListener(){onAuthStateChanged(auth,async _0x2cc3a4=>{const _0x25b161=_0x2b61;if(_0x2cc3a4){userId=_0x2cc3a4[_0x25b161(0x64b)],userIdDisplay[_0x25b161(0x950)]=userId;const _0x4329f1=await loadUserPreferences();_0x4329f1[_0x25b161(0x7e3)]&&(document[_0x25b161(0x318)]('project-sort-select')[_0x25b161(0x3e2)]=_0x4329f1[_0x25b161(0x7e3)]);globalDashboardSettings['projectView']=_0x4329f1[_0x25b161(0x6cc)]||_0x25b161(0x718);if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics();}else await authenticateUser();});}async function saveUserPreference(_0x4c7fca,_0x2a7526){const _0x55e010=_0x5b6af5;if(!userId)return;try{const _0x46ff7b=doc(db,'artifacts/'+appId+_0x55e010(0xa9d)+userId+'/preferences/main'),_0x422bdb={};_0x422bdb[_0x4c7fca]=_0x2a7526,await setDoc(_0x46ff7b,_0x422bdb,{'merge':!![]});}catch(_0x2ec817){console[_0x55e010(0x581)](_0x55e010(0x462),_0x2ec817);}}async function loadUserPreferences(){const _0x5a99b0=_0x5b6af5;if(!userId)return{};try{const _0x389642=doc(db,_0x5a99b0(0x58b)+appId+_0x5a99b0(0xa9d)+userId+_0x5a99b0(0x4ff)),_0x330f35=await getDoc(_0x389642);if(_0x330f35[_0x5a99b0(0xa76)]())return _0x330f35['data']();return{};}catch(_0x22d675){return console[_0x5a99b0(0x581)](_0x5a99b0(0x4f2),_0x22d675),{};}}function showPodiumView(_0x59a1fb,_0x2eaafd=_0x5b6af5(0x8e5)){const _0x59ccc3=_0x5b6af5,_0x21aebd=Object['entries'](_0x59a1fb)[_0x59ccc3(0xa7a)](([_0x1f8e9a,_0x163214])=>({'name':_0x1f8e9a,'score':_0x163214[_0x59ccc3(0x829)]||0x0,'badges':_0x163214[_0x59ccc3(0x50f)]||[],'hasPerfectScoreBonus':_0x163214[_0x59ccc3(0x659)]||![]}));_0x21aebd['sort']((_0x3632e8,_0x377e23)=>{const _0x3d1d2a=_0x59ccc3,_0x35036f=_0x377e23[_0x3d1d2a(0x829)]-_0x3632e8[_0x3d1d2a(0x829)];if(_0x35036f!==0x0)return _0x35036f;return(_0x377e23[_0x3d1d2a(0x50f)][_0x3d1d2a(0x326)]||0x0)-(_0x3632e8['badges'][_0x3d1d2a(0x326)]||0x0);});const _0x45fd7a=_0x5e5f10=>{const _0x5452bd=_0x59ccc3;if(!_0x5e5f10||_0x5e5f10[_0x5452bd(0x326)]===0x0)return'';const _0x3e9e67={'quick_thinker':'⚡️','on_fire':'🔥'};return'<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>'+_0x5e5f10[_0x5452bd(0xa7a)](_0x535f11=>_0x3e9e67[_0x535f11]||'')[_0x5452bd(0x8c0)]('')+_0x5452bd(0x6cb);},_0x2fead9=_0x21aebd['slice'](0x3),_0x134d75=_0x2fead9['length']>0x0?_0x59ccc3(0x690)+_0x2fead9[_0x59ccc3(0xa7a)]((_0x36a98b,_0x31f613)=>{const _0x328cc8=_0x59ccc3,_0x171c1=_0x36a98b[_0x328cc8(0x659)]?_0x328cc8(0x9a2):'';return _0x328cc8(0x56f)+(_0x31f613+0x4)+_0x328cc8(0x50d)+_0x36a98b[_0x328cc8(0x59f)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>'+_0x36a98b[_0x328cc8(0x829)]+_0x328cc8(0x323)+_0x171c1+_0x328cc8(0x834);})['join']('')+_0x59ccc3(0x2e7):'',_0x587c36='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x21aebd[0x1]?_0x59ccc3(0x222)+_0x21aebd[0x1][_0x59ccc3(0x59f)]+_0x59ccc3(0x6fa)+_0x45fd7a(_0x21aebd[0x1][_0x59ccc3(0x50f)])+'<p\x20class=\x22text-xl\x22>'+_0x21aebd[0x1][_0x59ccc3(0x829)]+_0x59ccc3(0x323)+(_0x21aebd[0x1]['hasPerfectScoreBonus']?_0x59ccc3(0x980):'')+'</p><div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div></div>':_0x59ccc3(0x933))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x21aebd[0x0]?_0x59ccc3(0x3ef)+_0x21aebd[0x0]['name']+_0x59ccc3(0x6fa)+_0x45fd7a(_0x21aebd[0x0][_0x59ccc3(0x50f)])+'<p\x20class=\x22text-2xl\x22>'+_0x21aebd[0x0][_0x59ccc3(0x829)]+_0x59ccc3(0x323)+(_0x21aebd[0x0][_0x59ccc3(0x659)]?'<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>':'')+_0x59ccc3(0x388):'<div\x20class=\x22flex-1\x22></div>')+_0x59ccc3(0x801)+(_0x21aebd[0x2]?_0x59ccc3(0x62c)+_0x21aebd[0x2][_0x59ccc3(0x59f)]+'</p>'+_0x45fd7a(_0x21aebd[0x2][_0x59ccc3(0x50f)])+'<p\x20class=\x22text-xl\x22>'+_0x21aebd[0x2][_0x59ccc3(0x829)]+_0x59ccc3(0x323)+(_0x21aebd[0x2]['hasPerfectScoreBonus']?_0x59ccc3(0x980):'')+_0x59ccc3(0x813):'<div\x20class=\x22flex-1\x22></div>')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x134d75+_0x59ccc3(0x360)+(currentMode===_0x59ccc3(0x6a3)?_0x59ccc3(0x2ee):_0x59ccc3(0x28a))+_0x59ccc3(0xa3b);liveGameView[_0x59ccc3(0x993)]=_0x587c36,currentMode===_0x59ccc3(0x6a3)&&document[_0x59ccc3(0x318)]('close-game-final-btn')[_0x59ccc3(0x78c)]('click',async()=>{const _0x3d9478=_0x59ccc3;let _0x445750;_0x2eaafd===_0x3d9478(0xa13)?_0x445750=doc(db,_0x3d9478(0x58b)+appId+_0x3d9478(0x649),currentLiveGameId):_0x445750=doc(db,_0x3d9478(0x58b)+appId+_0x3d9478(0x2f8),currentLiveGameId),await deleteDoc(_0x445750);});}function renderSyncSummaryView(_0x30f3d1,_0x369bb7,_0x116caa){const _0x18dfa2=_0x5b6af5,_0x324151=Object[_0x18dfa2(0x6db)](_0x30f3d1[_0x18dfa2(0x546)]||{}),_0x3393b7=_0x369bb7[_0x18dfa2(0x6c3)]||[],_0x5cfed7=new Array(_0x3393b7['length'])[_0x18dfa2(0x602)](0x0),_0x5521d5={};_0x3393b7[_0x18dfa2(0x394)]((_0x333505,_0x42c0f0)=>{_0x5521d5[_0x42c0f0]=[];}),Object['entries'](_0x30f3d1[_0x18dfa2(0x546)]||{})[_0x18dfa2(0x394)](([_0x3c77eb,_0x6d4e89])=>{const _0xb2a8d1=_0x18dfa2;if(_0x6d4e89['status']!==_0xb2a8d1(0x592)&&_0x6d4e89['lastAnswerIndex']!==undefined&&_0x6d4e89['lastAnswerIndex']!==null){const _0x4f7b42=_0x6d4e89['lastAnswerIndex'];_0x5521d5[_0x4f7b42]!==undefined&&(_0x5521d5[_0x4f7b42][_0xb2a8d1(0x27f)](_0x3c77eb),_0x5cfed7[_0x4f7b42]++);}});let _0x593c38='';_0x116caa?_0x593c38='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20':_0x593c38=_0x18dfa2(0x2e2);const _0x2c3b3e=_0x18dfa2(0x6d1)+_0x369bb7[_0x18dfa2(0x7a4)]+_0x18dfa2(0x66d)+_0x5cfed7[_0x18dfa2(0xa7a)]((_0x303bc7,_0x2a134c)=>{const _0x59368d=_0x18dfa2,_0x4e4c4a=_0x5521d5[_0x2a134c][_0x59368d(0x326)]>0x0?_0x5521d5[_0x2a134c][_0x59368d(0x8c0)](',\x20'):_0x59368d(0x409),_0x305527=_0x59368d(0xa54);return _0x59368d(0x306)+_0x303bc7+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22min-height:\x2060px;\x20background-color:\x20'+_0x305527+_0x59368d(0x3a0)+_0x2a134c+_0x59368d(0x29b)+_0x3393b7[_0x2a134c]+_0x59368d(0x583)+_0x2a134c+_0x59368d(0xa90)+_0x4e4c4a+_0x59368d(0x52e);})['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20gap-4\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x593c38+_0x18dfa2(0x8ca);liveGameView['innerHTML']=_0x2c3b3e;if(window['MathJax'])MathJax[_0x18dfa2(0x4f5)]();_0x116caa&&(document[_0x18dfa2(0x318)]('show-results-btn')[_0x18dfa2(0x78c)]('click',async()=>{const _0x472e2f=_0x18dfa2,_0x2e047d=doc(db,'artifacts/'+appId+'/public/data/syncGames',currentLiveGameId);await updateDoc(_0x2e047d,{'status':_0x472e2f(0x8ce)});}),document[_0x18dfa2(0x318)](_0x18dfa2(0x8e0))[_0x18dfa2(0xad8)]=()=>{openScratchpad(_0x369bb7,_0x3393b7);});}async function handleShowStudentRankings(){const _0x5e3e36=_0x5b6af5,_0x41f4ee=document['querySelector'](_0x5e3e36(0x234));_0x41f4ee&&(_0x41f4ee[_0x5e3e36(0x993)]=_0x5e3e36(0xa9c));const _0x192808=document[_0x5e3e36(0x3f9)](_0x5e3e36(0x570));_0x192808&&(_0x192808[_0x5e3e36(0x993)]=_0x5e3e36(0x3ea));const _0x38f156=document[_0x5e3e36(0x318)](_0x5e3e36(0x5ef));_0x38f156[_0x5e3e36(0x821)][_0x5e3e36(0x981)](_0x5e3e36(0x8be)),document[_0x5e3e36(0x318)](_0x5e3e36(0x9f3))['onclick']=()=>_0x38f156[_0x5e3e36(0x821)]['add'](_0x5e3e36(0x8be));const _0x3b0c70=document['getElementById'](_0x5e3e36(0x7c5)),_0x391955=document['getElementById'](_0x5e3e36(0x5ee)),_0x244db0=document[_0x5e3e36(0x318)](_0x5e3e36(0x337)),_0x5717c6=document[_0x5e3e36(0x318)]('student-project-leaderboard-content');_0x3b0c70['onclick']=()=>{const _0x3ea74e=_0x5e3e36;_0x3b0c70[_0x3ea74e(0x821)][_0x3ea74e(0x231)](_0x3ea74e(0x82a)),_0x391955[_0x3ea74e(0x821)][_0x3ea74e(0x981)]('active'),_0x244db0[_0x3ea74e(0x821)][_0x3ea74e(0x981)](_0x3ea74e(0x8be)),_0x5717c6['classList'][_0x3ea74e(0x231)]('hidden');},_0x391955['onclick']=()=>{const _0x25405b=_0x5e3e36;_0x391955[_0x25405b(0x821)][_0x25405b(0x231)](_0x25405b(0x82a)),_0x3b0c70[_0x25405b(0x821)][_0x25405b(0x981)](_0x25405b(0x82a)),_0x5717c6[_0x25405b(0x821)][_0x25405b(0x981)](_0x25405b(0x8be)),_0x244db0['classList'][_0x25405b(0x231)]('hidden');};try{const _0x1abb8c=collection(db,_0x5e3e36(0x58b)+appId+_0x5e3e36(0x39f)+currentQuizData['id']+'/submissions'),_0x2a21e4=await getDocs(_0x1abb8c),_0x5726c6=_0x2a21e4[_0x5e3e36(0xa18)][_0x5e3e36(0xa7a)](_0x17ee4d=>_0x17ee4d[_0x5e3e36(0x266)]());renderQuizLeaderboard(_0x5726c6,currentQuizData,_0x5e3e36(0x4ba));const _0x4c7478=collection(db,_0x5e3e36(0x58b)+appId+_0x5e3e36(0x1f7)+currentQuizData['projectId']+'/studentProfiles'),_0x2cd049=await getDocs(_0x4c7478),_0x39b0fc=_0x2cd049[_0x5e3e36(0xa18)]['map'](_0x370417=>_0x370417[_0x5e3e36(0x266)]());renderLeaderboard(_0x39b0fc,_0x5e3e36(0x513));}catch(_0x234428){console['error'](_0x5e3e36(0x6a1),_0x234428),showMessage('ไม่สามารถโหลดข้อมูลอันดับได้');}}async function handleSaveToBank(_0x1960b8){const _0x51a284=_0x5b6af5,_0x47f016=_0x1960b8[_0x51a284(0x645)],_0x4879a5=_0x47f016[_0x51a284(0x896)]['index'],_0x1b7cbb=currentQuizData['questions'][_0x4879a5];if(!userId){showMessage(_0x51a284(0x778));return;}try{const _0xa37224={..._0x1b7cbb,'originalTopic':currentQuizData[_0x51a284(0x53e)],'savedAt':serverTimestamp()},_0x137aa6=collection(db,'artifacts/'+appId+_0x51a284(0xa9d)+userId+_0x51a284(0x4d5));await addDoc(_0x137aa6,_0xa37224),showMessage(_0x51a284(0x40f)),_0x47f016[_0x51a284(0x821)][_0x51a284(0x981)](_0x51a284(0x827)),_0x47f016[_0x51a284(0x821)][_0x51a284(0x231)](_0x51a284(0x2e1)),_0x47f016[_0x51a284(0x204)]=!![];}catch(_0x2e2a4f){console['error'](_0x51a284(0x6da),_0x2e2a4f),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}function listenForStarredQuizzes(){const _0x5de9b0=_0x5b6af5;if(!userId)return;const _0x426c2c=collection(db,_0x5de9b0(0x58b)+appId+_0x5de9b0(0xaca)),_0x2ba8c4=query(_0x426c2c,where(_0x5de9b0(0x800),'==',!![]));onSnapshot(_0x2ba8c4,_0x3a2b8b=>{const _0x8fd50f=_0x5de9b0;starredQuizzes=_0x3a2b8b[_0x8fd50f(0xa18)][_0x8fd50f(0xa7a)](_0x2f94ec=>({'id':_0x2f94ec['id'],..._0x2f94ec[_0x8fd50f(0x266)]()})),currentProjectId===_0x8fd50f(0x7cb)?renderQuizzes():renderProjects();},_0xfecf3f=>{const _0x29b16d=_0x5de9b0;console[_0x29b16d(0x581)](_0x29b16d(0xb10),_0xfecf3f);});}function exportQuizAsWorksheetPDF(){const _0x579721=_0x5b6af5;if(!currentQuizData||!currentQuizData['questions']){showMessage(_0x579721(0x610));return;}const _0x502818=currentQuizData,_0x1e97f4=window['open']('','_blank'),_0x19f473=_0x257448=>String[_0x579721(0x968)](0x41+_0x257448),_0xc461b5=_0x579721(0x542)+_0x502818[_0x579721(0x53e)]+_0x579721(0x920)+_0x502818[_0x579721(0x53e)]+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x502818[_0x579721(0x313)][_0x579721(0xa7a)]((_0x278921,_0x434046)=>{const _0x5ee2c4=_0x579721;let _0x55a593='';const _0x28576c=_0x278921[_0x5ee2c4(0xb01)]||_0x502818[_0x5ee2c4(0x7ed)];switch(_0x28576c){case _0x5ee2c4(0x40c):case'fill_in_with_choices':_0x55a593='<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>'+_0x278921[_0x5ee2c4(0x6c3)][_0x5ee2c4(0xa7a)]((_0x5d9eae,_0x2fe41a)=>_0x5ee2c4(0x511)+_0x19f473(_0x2fe41a)+'.\x20'+_0x5d9eae+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x5ee2c4(0x8c0)](_0x5ee2c4(0x44b))+_0x5ee2c4(0x6cb);break;case _0x5ee2c4(0x8d0):_0x55a593='<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;default:_0x55a593=_0x5ee2c4(0x21f);break;}return _0x5ee2c4(0xa71)+(_0x434046+0x1)+_0x5ee2c4(0x966)+(_0x278921[_0x5ee2c4(0x6f3)]||_0x278921[_0x5ee2c4(0x7a4)])+_0x5ee2c4(0x34a)+(_0x278921['imageCode']?_0x5ee2c4(0x9ff)+_0x278921[_0x5ee2c4(0x7fb)]+'</div>':'')+_0x5ee2c4(0x7e6)+_0x55a593+_0x5ee2c4(0x290);})[_0x579721(0x8c0)]('')+_0x579721(0x6f0);_0x1e97f4[_0x579721(0x99b)]['write'](_0xc461b5),_0x1e97f4[_0x579721(0x99b)][_0x579721(0x333)](),_0x1e97f4['onload']=function(){setTimeout(()=>{const _0x11feb7=_0x2b61;_0x1e97f4[_0x11feb7(0x5f1)]();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x202661=_0x5b6af5;if(!currentQuizData||!currentQuizData[_0x202661(0x313)]){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน');return;}const _0x3c1ae3=currentQuizData,_0xfe32f=window[_0x202661(0xa8b)]('',_0x202661(0x7b4)),_0x5afe47=_0x51ca57=>String[_0x202661(0x968)](0x41+_0x51ca57),_0x643958=_0x202661(0x257)+_0x3c1ae3[_0x202661(0x53e)]+_0x202661(0x6df)+_0x3c1ae3[_0x202661(0x313)][_0x202661(0xa7a)]((_0x52e47f,_0x201b74)=>{const _0x3aef3c=_0x202661;let _0x416c3f='';const _0x371b64=_0x52e47f[_0x3aef3c(0xb01)]||_0x3c1ae3[_0x3aef3c(0x7ed)];switch(_0x371b64){case'multiple_choice':case _0x3aef3c(0xa50):_0x416c3f='<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>'+_0x52e47f[_0x3aef3c(0x6c3)][_0x3aef3c(0xa7a)]((_0xc0b62b,_0x3ecd5a)=>_0x3aef3c(0x7c0)+_0x5afe47(_0x3ecd5a)+'.\x20'+_0xc0b62b+_0x3aef3c(0x642))[_0x3aef3c(0x8c0)](_0x3aef3c(0x44b))+_0x3aef3c(0x905);break;case _0x3aef3c(0x8d0):_0x416c3f='<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;default:_0x416c3f='';break;}return _0x3aef3c(0x595)+_0x3c1ae3[_0x3aef3c(0x53e)]+_0x3aef3c(0x68b)+(_0x201b74+0x1)+_0x3aef3c(0x76e)+(_0x52e47f[_0x3aef3c(0x6f3)]||_0x52e47f['questionText'])+_0x3aef3c(0x34a)+(_0x52e47f[_0x3aef3c(0x7fb)]?_0x3aef3c(0x7e0)+_0x52e47f[_0x3aef3c(0x7fb)]+_0x3aef3c(0x6cb):'')+_0x3aef3c(0x7e6)+_0x416c3f+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20border-t-2\x20border-dashed\x20border-gray-400\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-gray-700\x22>บันทึกเพิ่มเติม:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20h-32\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x202661(0x8c0)]('')+_0x202661(0x930);_0xfe32f[_0x202661(0x99b)][_0x202661(0x2a6)](_0x643958),_0xfe32f[_0x202661(0x99b)][_0x202661(0x333)](),_0xfe32f[_0x202661(0x210)]=function(){setTimeout(()=>{const _0x506853=_0x2b61;_0xfe32f[_0x506853(0x5f1)]();},0x5dc);};}async function handleToggleStarQuiz(_0x7f3ccc){const _0x20b56b=_0x5b6af5,_0x422528=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x7f3ccc);try{const _0x2aff4c=await getDoc(_0x422528);if(_0x2aff4c[_0x20b56b(0xa76)]()){const _0x501c75=_0x2aff4c[_0x20b56b(0x266)]()['isStarred']||![];await updateDoc(_0x422528,{'isStarred':!_0x501c75});}}catch(_0x16e629){console[_0x20b56b(0x581)](_0x20b56b(0x3a3),_0x16e629),showMessage(_0x20b56b(0x2c8));}}async function displayQuestionBank(){const _0x1e4a93=_0x5b6af5,_0xb6fd8=document[_0x1e4a93(0x318)](_0x1e4a93(0x4e4));_0xb6fd8[_0x1e4a93(0x993)]=_0x1e4a93(0x3e1);try{const _0x2c1ee4=collection(db,_0x1e4a93(0x58b)+appId+_0x1e4a93(0xa9d)+userId+_0x1e4a93(0x4d5)),_0x52ba55=query(_0x2c1ee4),_0x307119=await getDocs(_0x52ba55);if(_0x307119[_0x1e4a93(0x2d0)]){_0xb6fd8['innerHTML']=_0x1e4a93(0x5c2);return;}let _0x3d6e22=_0x307119[_0x1e4a93(0xa18)][_0x1e4a93(0xa7a)](_0x360eff=>{const _0x1b5623=_0x1e4a93,_0xbe6258=_0x360eff[_0x1b5623(0x266)](),_0x2ec9c0=_0x360eff['id'];return _0x1b5623(0x273)+JSON['stringify'](_0xbe6258)+_0x1b5623(0x9ba)+(_0xbe6258[_0x1b5623(0x7a4)]||_0xbe6258[_0x1b5623(0x6f3)])+_0x1b5623(0x28b)+_0xbe6258['originalTopic']+_0x1b5623(0x419);})['join']('');_0xb6fd8[_0x1e4a93(0x993)]=_0x1e4a93(0xafa)+_0x3d6e22+_0x1e4a93(0x612),document[_0x1e4a93(0x318)](_0x1e4a93(0xa2e))[_0x1e4a93(0x78c)](_0x1e4a93(0x382),createQuizFromBank);}catch(_0x231df7){console[_0x1e4a93(0x581)](_0x1e4a93(0x252),_0x231df7),_0xb6fd8[_0x1e4a93(0x993)]=_0x1e4a93(0x590);}}function showAdminLiveQuestionView(_0x48a056,_0x44bf18,_0x326ac7){const _0x474c2b=_0x5b6af5,_0x1f0ad3=_0x48a056[_0x474c2b(0xb01)]||currentQuizData[_0x474c2b(0x7ed)];let _0x21c765='';if(_0x1f0ad3===_0x474c2b(0x40c)||_0x1f0ad3===_0x474c2b(0x8d0)){const _0x1aea7b=_0x1f0ad3===_0x474c2b(0x8d0)?['ใช่',_0x474c2b(0x942)]:_0x48a056[_0x474c2b(0x6c3)],_0x303e43=_0x1f0ad3===_0x474c2b(0x8d0)?_0x48a056[_0x474c2b(0x86a)]?0x0:0x1:_0x48a056[_0x474c2b(0x859)];_0x21c765=_0x1aea7b['map']((_0x40874d,_0x1af027)=>_0x474c2b(0x69a)+(_0x1af027===_0x303e43)+_0x474c2b(0x735)+_0x40874d+_0x474c2b(0x6d8))[_0x474c2b(0x8c0)]('');}else{if(_0x1f0ad3===_0x474c2b(0x917)){const _0x49496e=_0x48a056[_0x474c2b(0x3e5)]||[];_0x21c765=_0x49496e[_0x474c2b(0xa7a)](_0x3a8faf=>_0x474c2b(0x69a)+(_0x3a8faf===_0x48a056[_0x474c2b(0x2e3)])+_0x474c2b(0x735)+_0x3a8faf+_0x474c2b(0x6d8))[_0x474c2b(0x8c0)]('');}}const _0x57be5b=_0x48a056['stem']||_0x48a056[_0x474c2b(0x7a4)],_0x49e613=_0x474c2b(0x8e8)+(_0x44bf18+0x1)+_0x474c2b(0x682)+_0x326ac7+_0x474c2b(0x450)+currentLiveGamePin+_0x474c2b(0x683)+_0x57be5b+_0x474c2b(0x505)+_0x21c765+_0x474c2b(0x536);liveGameView[_0x474c2b(0x993)]=_0x49e613,window[_0x474c2b(0x2c3)]&&MathJax['typesetPromise']&&MathJax[_0x474c2b(0x4f5)]([liveGameView]),document[_0x474c2b(0x318)](_0x474c2b(0x907))[_0x474c2b(0x78c)](_0x474c2b(0x382),()=>revealAnswerForAdmin(_0x44bf18,_0x326ac7)),document[_0x474c2b(0x318)](_0x474c2b(0x311))[_0x474c2b(0x78c)](_0x474c2b(0x382),async()=>{const _0x3a9c4f=_0x474c2b;showConfirmation(_0x3a9c4f(0x6bf),async()=>{const _0x2664e8=_0x3a9c4f,_0xa21703=doc(db,_0x2664e8(0x58b)+appId+_0x2664e8(0x2f8),currentLiveGameId);await updateDoc(_0xa21703,{'status':_0x2664e8(0x3ce)});});}),document[_0x474c2b(0x318)](_0x474c2b(0x274))[_0x474c2b(0x78c)](_0x474c2b(0x382),()=>{const _0x208bb1=_0x474c2b;document[_0x208bb1(0x318)](_0x208bb1(0x6ad))[_0x208bb1(0x821)][_0x208bb1(0x4fe)](_0x208bb1(0x8be));});}function showStudentLiveQuestionView(_0x52f001,_0x2b7076,_0x429c8f){const _0x3d2a36=_0x5b6af5,_0x2401d6=_0x52f001[_0x3d2a36(0xb01)]||currentQuizData[_0x3d2a36(0x7ed)];let _0x464da4='';if(_0x2401d6===_0x3d2a36(0x40c)||_0x2401d6===_0x3d2a36(0x8d0)){const _0xec4939=_0x2401d6==='true_false'?[_0x3d2a36(0xb00),'ไม่ใช่']:_0x52f001[_0x3d2a36(0x6c3)];_0x464da4=_0xec4939[_0x3d2a36(0xa7a)]((_0x2f2b83,_0x5e780e)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x5e780e+_0x3d2a36(0x747)+_0x2f2b83+_0x3d2a36(0x4b0))['join']('');}else{if(_0x2401d6===_0x3d2a36(0x917)){const _0x1024e7=_0x52f001[_0x3d2a36(0x3e5)]||[];_0x464da4=_0x1024e7['map']((_0x1adec0,_0x17eb1d)=>_0x3d2a36(0x806)+_0x17eb1d+_0x3d2a36(0x747)+_0x1adec0+_0x3d2a36(0x4b0))['join']('');}else _0x2401d6==='short_answer'&&(_0x464da4=_0x3d2a36(0x304));}const _0x3ec308=_0x52f001['stem']||_0x52f001['questionText'],_0x322f8b='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20'+(_0x2b7076+0x1)+_0x3d2a36(0x682)+_0x429c8f+_0x3d2a36(0x22e)+_0x3ec308+_0x3d2a36(0x81f)+_0x464da4+_0x3d2a36(0xa30);liveGameView['innerHTML']=_0x322f8b;window['MathJax']&&MathJax[_0x3d2a36(0x4f5)]&&MathJax[_0x3d2a36(0x4f5)]([liveGameView]);const _0x4b0ec9=document[_0x3d2a36(0x318)](_0x3d2a36(0x7af));_0x4b0ec9&&_0x4b0ec9[_0x3d2a36(0x78c)](_0x3d2a36(0x382),()=>{const _0x35f1e7=_0x3d2a36,_0x526225=document[_0x35f1e7(0x318)](_0x35f1e7(0x2f0))['value'];handleLiveAnswer(_0x526225,_0x52f001);}),document[_0x3d2a36(0x318)]('live-options-container')[_0x3d2a36(0x78c)](_0x3d2a36(0x382),_0x46092f=>{const _0x30d59d=_0x3d2a36,_0x15bbd5=_0x46092f[_0x30d59d(0xa81)]['closest'](_0x30d59d(0x2a0));if(_0x15bbd5){const _0x59384e=parseInt(_0x15bbd5[_0x30d59d(0x896)][_0x30d59d(0x3b2)]);handleLiveAnswer(_0x59384e,_0x52f001);}});}async function handleLiveAnswer(_0x2898ee,_0x2b074d){const _0x3947da=_0x5b6af5;document['querySelectorAll'](_0x3947da(0x6ac))[_0x3947da(0x394)](_0xf1a049=>_0xf1a049[_0x3947da(0x204)]=!![]);const _0xdc78ca=_0x2b074d[_0x3947da(0xb01)]||currentQuizData[_0x3947da(0x7ed)];let _0xa0d860=![],_0x8e3fd9=_0x2898ee;if(_0xdc78ca===_0x3947da(0xa9e)){const _0x2051ac=(_0x2898ee||'')[_0x3947da(0x742)]();_0xa0d860=await gradeShortAnswer(_0x2051ac,_0x2b074d);}else{if(_0xdc78ca===_0x3947da(0x40c))_0xa0d860=_0x2898ee===_0x2b074d['correctAnswerIndex'];else{if(_0xdc78ca===_0x3947da(0x8d0)){const _0x291c11=_0x2b074d[_0x3947da(0x86a)];_0xa0d860=_0x2898ee===0x0&&_0x291c11||_0x2898ee===0x1&&!_0x291c11;}else{if(_0xdc78ca===_0x3947da(0x917)){const _0x2955c2=_0x2b074d[_0x3947da(0x3e5)][_0x2898ee];_0xa0d860=_0x2955c2===_0x2b074d[_0x3947da(0x2e3)],_0x8e3fd9=_0x2955c2;}}}}const _0x49f4f1=doc(db,'artifacts/'+appId+_0x3947da(0x2f8),currentLiveGameId),_0x10c4c={};_0x10c4c[_0x3947da(0x441)+currentStudentName+_0x3947da(0x8d4)]=!![],_0x10c4c[_0x3947da(0x441)+currentStudentName+_0x3947da(0x63a)]=_0xa0d860,_0x10c4c[_0x3947da(0x441)+currentStudentName+_0x3947da(0x449)]=_0xdc78ca===_0x3947da(0xa9e)||_0xdc78ca==='matching_item'?null:_0x2898ee,_0x10c4c[_0x3947da(0x441)+currentStudentName+_0x3947da(0x5ad)]=_0x8e3fd9,_0x10c4c[_0x3947da(0x441)+currentStudentName+_0x3947da(0x8d3)]=serverTimestamp(),_0x10c4c[_0x3947da(0x441)+currentStudentName+_0x3947da(0x483)]=![],await updateDoc(_0x49f4f1,_0x10c4c),liveGameView[_0x3947da(0x993)]=_0x3947da(0x44c);}function showAdminSummaryView(_0x1e4593,_0x33f343){const _0x8b9c8d=_0x5b6af5,_0x296d7d=Object[_0x8b9c8d(0x6db)](_0x1e4593['players']||{}),_0x5c111=_0x33f343[_0x8b9c8d(0xb01)]||currentQuizData[_0x8b9c8d(0x7ed)],_0x32ccd3=_0x5c111===_0x8b9c8d(0x8d0)?[_0x8b9c8d(0xb00),'ไม่ใช่']:_0x33f343[_0x8b9c8d(0x6c3)]||_0x33f343['allResponses']||[],_0x2dce96={},_0x425f00=new Array(_0x32ccd3[_0x8b9c8d(0x326)])[_0x8b9c8d(0x602)](0x0);_0x32ccd3[_0x8b9c8d(0x394)]((_0x2d938f,_0x34e7b6)=>{_0x2dce96[_0x34e7b6]=[];}),Object[_0x8b9c8d(0xad2)](_0x1e4593[_0x8b9c8d(0x546)]||{})[_0x8b9c8d(0x394)](([_0x37d8da,_0x454020])=>{const _0x585cc9=_0x8b9c8d;if(_0x454020['status']===_0x585cc9(0x82a)&&_0x454020['lastAnswerIndex']!==undefined){const _0x42b110=_0x454020[_0x585cc9(0x6d9)];_0x2dce96[_0x42b110]&&(_0x2dce96[_0x42b110][_0x585cc9(0x27f)](_0x37d8da),_0x425f00[_0x42b110]++);}});const _0x9641e=Math[_0x8b9c8d(0x481)](..._0x425f00,0x1),_0x5ba14a=_0x8b9c8d(0x568)+(_0x33f343[_0x8b9c8d(0x6f3)]||_0x33f343[_0x8b9c8d(0x7a4)])+_0x8b9c8d(0x63d)+_0x425f00[_0x8b9c8d(0xa7a)]((_0x3b47e1,_0xd7582b)=>{const _0x58fb7e=_0x8b9c8d,_0x21d12b=_0x2dce96[_0xd7582b][_0x58fb7e(0x326)]>0x0?_0x2dce96[_0xd7582b][_0x58fb7e(0x8c0)](',\x20'):_0x58fb7e(0x409);let _0x378b02=![];if(_0x5c111===_0x58fb7e(0x40c))_0x378b02=_0xd7582b===_0x33f343['correctAnswerIndex'];else{if(_0x5c111===_0x58fb7e(0x8d0)){const _0xfdc218=_0x33f343[_0x58fb7e(0x86a)];_0x378b02=_0xfdc218&&_0xd7582b===0x0||!_0xfdc218&&_0xd7582b===0x1;}else _0x5c111===_0x58fb7e(0x917)&&(_0x378b02=_0x32ccd3[_0xd7582b]===_0x33f343[_0x58fb7e(0x2e3)]);}const _0x37fdb5=_0x378b02?_0x58fb7e(0x5c5):_0x58fb7e(0x9e0);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>'+_0x3b47e1+_0x58fb7e(0x33f)+_0x37fdb5+_0x58fb7e(0x3a0)+_0xd7582b+_0x58fb7e(0x796)+_0x32ccd3[_0xd7582b]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-'+_0xd7582b+'\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x21d12b+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})['join']('')+_0x8b9c8d(0x295);liveGameView[_0x8b9c8d(0x993)]=_0x5ba14a;if(window[_0x8b9c8d(0x2c3)])MathJax['typesetPromise']();document[_0x8b9c8d(0x318)](_0x8b9c8d(0x73d))['addEventListener']('click',async()=>{const _0x2ffcf2=_0x8b9c8d,_0x7af8d=doc(db,_0x2ffcf2(0x58b)+appId+_0x2ffcf2(0x2f8),currentLiveGameId);await updateDoc(_0x7af8d,{'questionStatus':'leaderboard'});}),document[_0x8b9c8d(0x318)](_0x8b9c8d(0xa24))[_0x8b9c8d(0x78c)]('click',()=>{openScratchpad(_0x33f343,_0x32ccd3);});}function showPlayerSummaryView(_0x3d05ea,_0x5904ea){const _0x1dfd19=_0x5b6af5,_0xa09af7=Object[_0x1dfd19(0x6db)](_0x3d05ea[_0x1dfd19(0x546)]||{}),_0x339dfd=_0x3d05ea[_0x1dfd19(0x546)][_0x5904ea],_0x3ad697=_0xa09af7['filter'](_0x4e1d77=>_0x4e1d77[_0x1dfd19(0x6d0)]===_0x1dfd19(0x82a))[_0x1dfd19(0xaa5)]((_0x385e56,_0x5110d3)=>_0x5110d3[_0x1dfd19(0x829)]-_0x385e56[_0x1dfd19(0x829)]),_0x1e8fc1=_0x3ad697[_0x1dfd19(0x585)](_0x20944f=>_0x20944f===_0x339dfd)+0x1,_0x577bbe=_0x339dfd['lastAnswerCorrect']?'ถูกต้อง!':_0x1dfd19(0x3f8),_0x43178d=_0x339dfd['lastAnswerCorrect']?_0x1dfd19(0x357):_0x1dfd19(0x775),_0x45ccb2=_0x339dfd['pointsLastQuestion']||0x0,_0x568b9e=_0x1dfd19(0x661),_0x3a6bad=_0x1dfd19(0x410)+_0x568b9e+_0x1dfd19(0x9c3)+_0x43178d+_0x1dfd19(0x998)+_0x577bbe+_0x1dfd19(0x824)+_0x45ccb2+_0x1dfd19(0x99e)+(_0x1e8fc1>0x0?_0x1e8fc1:'-')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';liveGameView[_0x1dfd19(0x993)]=_0x3a6bad;}function createQuizFromBank(){const _0x505cf5=_0x5b6af5,_0x1bf73c=document['querySelectorAll'](_0x505cf5(0x5b0));if(_0x1bf73c[_0x505cf5(0x326)]===0x0){showMessage('กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ');return;}const _0x500c3e=[];_0x1bf73c[_0x505cf5(0x394)](_0x556d25=>{const _0x163c92=_0x505cf5;_0x500c3e[_0x163c92(0x27f)](JSON[_0x163c92(0x97b)](_0x556d25['value']));});const _0x106719={'topic':'แบบทดสอบจากคลังส่วนตัว','questions':_0x500c3e};displayGeneratedQuiz(_0x106719);}function showAdminLobbyView(_0x4f68a9,_0x5c4541){const _0x5bdf33=_0x5b6af5;showView('live-game');const _0x35289e=_0x5bdf33(0x434)+_0x5c4541+_0x5bdf33(0x8cd)+_0x4f68a9+_0x5bdf33(0x267);liveGameView[_0x5bdf33(0x993)]=_0x35289e,document[_0x5bdf33(0x318)](_0x5bdf33(0x5d4))[_0x5bdf33(0x78c)]('click',async()=>{const _0x238fb7=_0x5bdf33;if(!currentQuizData||!currentQuizData[_0x238fb7(0x313)]||currentQuizData['questions'][_0x238fb7(0x326)]===0x0){showMessage(_0x238fb7(0xa2a));return;}try{const _0x488c76=doc(db,_0x238fb7(0x58b)+appId+_0x238fb7(0x2f8),currentLiveGameId);await updateDoc(_0x488c76,{'status':_0x238fb7(0x406),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x453653=currentQuizData[_0x238fb7(0x313)][0x0],_0x478f0e=currentQuizData[_0x238fb7(0x313)][_0x238fb7(0x326)];showAdminLiveQuestionView(_0x453653,0x0,_0x478f0e);}catch(_0x31ab39){console[_0x238fb7(0x581)]('Error\x20starting\x20game:',_0x31ab39),showMessage('ไม่สามารถเริ่มเกมได้');}});}async function openGlobalLiveModal(){const _0x57c2e3=_0x5b6af5;if(allQuizzesGlobal[_0x57c2e3(0x326)]===0x0){const _0x24e362=await getDocs(collection(db,_0x57c2e3(0x58b)+appId+_0x57c2e3(0xaca)));allQuizzesGlobal=_0x24e362[_0x57c2e3(0xa18)][_0x57c2e3(0xa7a)](_0x240467=>({'id':_0x240467['id'],..._0x240467[_0x57c2e3(0x266)]()}));}renderGlobalQuizList(''),document[_0x57c2e3(0x318)](_0x57c2e3(0x2ec))[_0x57c2e3(0x821)][_0x57c2e3(0x981)](_0x57c2e3(0x8be));}async function openQuizBankModal(){const _0xd99b0f=_0x5b6af5;if(allQuizzesGlobal[_0xd99b0f(0x326)]===0x0){const _0x5ac9c7=await getDocs(collection(db,_0xd99b0f(0x58b)+appId+_0xd99b0f(0xaca)));allQuizzesGlobal=_0x5ac9c7[_0xd99b0f(0xa18)][_0xd99b0f(0xa7a)](_0x480384=>({'id':_0x480384['id'],..._0x480384['data']()}));}renderQuizBankList(''),document[_0xd99b0f(0x318)](_0xd99b0f(0x2d4))[_0xd99b0f(0x821)][_0xd99b0f(0x981)](_0xd99b0f(0x8be));}function renderQuizBankList(_0x565047=''){const _0x33fae8=_0x5b6af5,_0x29fbe5=document[_0x33fae8(0x318)](_0x33fae8(0x1eb)),_0x13c97a=_0x565047[_0x33fae8(0xa19)]()[_0x33fae8(0x442)](),_0x2cfdd8=allQuizzesGlobal[_0x33fae8(0xa7a)](_0x1a28d8=>({..._0x1a28d8,'projectName':allProjects[_0x33fae8(0xa93)](_0x308c20=>_0x308c20['id']===_0x1a28d8[_0x33fae8(0x1f9)])?.[_0x33fae8(0x368)]||_0x33fae8(0x8f6)}))[_0x33fae8(0x5e3)](_0xaa3142=>(_0xaa3142[_0x33fae8(0x53e)]||'')['toLowerCase']()[_0x33fae8(0x680)](_0x13c97a)||(_0xaa3142['projectName']||'')['toLowerCase']()['includes'](_0x13c97a)||_0xaa3142['id'][_0x33fae8(0x742)]()[_0x33fae8(0x680)](_0x13c97a));document[_0x33fae8(0x318)](_0x33fae8(0xb1b))[_0x33fae8(0x950)]='('+_0x2cfdd8[_0x33fae8(0x326)]+_0x33fae8(0x51d),_0x29fbe5[_0x33fae8(0x993)]=_0x2cfdd8[_0x33fae8(0x326)]?_0x2cfdd8[_0x33fae8(0xa7a)](_0x176d88=>_0x33fae8(0x934)+_0x176d88['id']+_0x33fae8(0x300)+(_0x176d88['topic']||_0x33fae8(0x5f0))+_0x33fae8(0x92e)+(_0x176d88[_0x33fae8(0x313)]?.[_0x33fae8(0x326)]||0x0)+'\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20'+_0x176d88[_0x33fae8(0x368)]+_0x33fae8(0x56b)+_0x176d88['id']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20<button\x20data-id=\x22'+_0x176d88['id']+'\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22'+_0x176d88['id']+'\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22'+_0x176d88['id']+'\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22'+_0x176d88['id']+_0x33fae8(0x305)+_0x176d88['id']+'\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22'+_0x176d88['id']+_0x33fae8(0x38f)+_0x176d88['topic']+_0x33fae8(0x836))[_0x33fae8(0x8c0)](''):'<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>',_0x29fbe5[_0x33fae8(0x502)](_0x33fae8(0x672))['forEach'](_0x8a24ff=>{const _0x29fc63=_0x33fae8;_0x8a24ff[_0x29fc63(0x78c)](_0x29fc63(0x382),()=>{const _0x49d545=_0x29fc63,_0x50fb83=_0x8a24ff[_0x49d545(0x896)]['id'];document[_0x49d545(0x318)](_0x49d545(0x2d4))[_0x49d545(0x821)][_0x49d545(0x231)]('hidden'),showQuizDetailView(_0x50fb83);});}),_0x29fbe5[_0x33fae8(0x502)](_0x33fae8(0x676))[_0x33fae8(0x394)](_0x555f3d=>{const _0x219b12=_0x33fae8;_0x555f3d[_0x219b12(0x78c)](_0x219b12(0x382),_0x558c27=>{const _0x17a99f=_0x219b12;_0x558c27[_0x17a99f(0x29c)]();const _0x8eec55=_0x555f3d[_0x17a99f(0x896)]['id'],_0x47d4c9=allQuizzesGlobal[_0x17a99f(0xa93)](_0x25b08f=>_0x25b08f['id']===_0x8eec55);_0x47d4c9?(currentQuizData=_0x47d4c9,document[_0x17a99f(0x318)]('quiz-bank-modal')['classList'][_0x17a99f(0x231)]('hidden'),startAdminTest()):showMessage('ไม่พบข้อมูลแบบทดสอบ');});}),_0x29fbe5['querySelectorAll']('.quiz-bank-parallel-btn')[_0x33fae8(0x394)](_0x39f6d3=>{const _0x4eac6e=_0x33fae8;_0x39f6d3['addEventListener'](_0x4eac6e(0x382),_0x4aa07d=>{const _0x37253a=_0x4eac6e;_0x4aa07d[_0x37253a(0x29c)]();const _0x38d0e9=_0x39f6d3[_0x37253a(0x896)]['id'],_0x2f9a9a=allQuizzesGlobal['find'](_0x250e9b=>_0x250e9b['id']===_0x38d0e9);_0x2f9a9a?(document[_0x37253a(0x318)](_0x37253a(0x2d4))[_0x37253a(0x821)][_0x37253a(0x231)](_0x37253a(0x8be)),handleGenerateParallelFromBank(_0x2f9a9a)):showMessage(_0x37253a(0x1f2));});}),_0x29fbe5[_0x33fae8(0x502)]('.quiz-bank-present-btn')['forEach'](_0x17dba1=>{const _0x43f7cf=_0x33fae8;_0x17dba1['addEventListener'](_0x43f7cf(0x382),_0x4a6ab4=>{const _0x12e0bc=_0x43f7cf;_0x4a6ab4[_0x12e0bc(0x29c)]();const _0x105a45=_0x17dba1[_0x12e0bc(0x896)]['id'],_0x682db7=allQuizzesGlobal[_0x12e0bc(0xa93)](_0x28dcbd=>_0x28dcbd['id']===_0x105a45);_0x682db7?(document[_0x12e0bc(0x318)](_0x12e0bc(0x2d4))[_0x12e0bc(0x821)][_0x12e0bc(0x231)](_0x12e0bc(0x8be)),startPresentation(_0x682db7)):showMessage('ไม่พบข้อมูลแบบทดสอบ');});}),_0x29fbe5['querySelectorAll'](_0x33fae8(0x66e))[_0x33fae8(0x394)](_0x5ba69a=>{const _0x1cec2a=_0x33fae8;_0x5ba69a[_0x1cec2a(0x78c)]('click',_0x8e51a=>{const _0x513b2c=_0x1cec2a;_0x8e51a[_0x513b2c(0x29c)]();const _0x47a006=_0x5ba69a[_0x513b2c(0x896)]['id'];document[_0x513b2c(0x318)]('quiz-bank-modal')[_0x513b2c(0x821)][_0x513b2c(0x231)](_0x513b2c(0x8be)),handleMoveQuiz(_0x47a006);});}),_0x29fbe5['querySelectorAll']('.quiz-bank-settings-btn')[_0x33fae8(0x394)](_0x1e9e36=>{const _0x42dbdf=_0x33fae8;_0x1e9e36[_0x42dbdf(0x78c)]('click',_0x22ed1f=>{const _0x39b181=_0x42dbdf;_0x22ed1f[_0x39b181(0x29c)]();const _0x2deb2a=_0x1e9e36[_0x39b181(0x896)]['id'];document[_0x39b181(0x318)]('quiz-bank-modal')[_0x39b181(0x821)][_0x39b181(0x231)](_0x39b181(0x8be)),handleQuizSettings(_0x2deb2a);});}),_0x29fbe5['querySelectorAll']('.quiz-bank-delete-btn')[_0x33fae8(0x394)](_0x511667=>{const _0x534789=_0x33fae8;_0x511667['addEventListener'](_0x534789(0x382),_0xf91ab0=>{const _0x1698a9=_0x534789;_0xf91ab0[_0x1698a9(0x29c)]();const _0x477a84=_0x511667[_0x1698a9(0x896)]['id'],_0x3b9e02=_0x511667[_0x1698a9(0x896)][_0x1698a9(0x53e)];showConfirmation(_0x1698a9(0x344)+_0x3b9e02+_0x1698a9(0x51c),()=>handleDeleteQuiz(_0x477a84));});});}function _0x2b61(_0x44f557,_0x353aca){const _0xc703b=_0xc703();return _0x2b61=function(_0x2b61cb,_0x390d2b){_0x2b61cb=_0x2b61cb-0x1dd;let _0x46ce80=_0xc703b[_0x2b61cb];return _0x46ce80;},_0x2b61(_0x44f557,_0x353aca);}async function handleCompareResults(_0x41ecf1,_0x1b0eb3){const _0x4616ca=_0x5b6af5,_0x4e30a8=document[_0x4616ca(0x318)](_0x4616ca(0x850)),_0x1f9d2c=document[_0x4616ca(0x318)](_0x4616ca(0x5d0)),_0x5a49cf=document['getElementById']('comparison-individual-content');document[_0x4616ca(0x318)](_0x4616ca(0x20b))[_0x4616ca(0x821)][_0x4616ca(0x231)]('active'),document[_0x4616ca(0x318)](_0x4616ca(0x233))[_0x4616ca(0x821)][_0x4616ca(0x981)](_0x4616ca(0x82a)),_0x1f9d2c['classList'][_0x4616ca(0x981)](_0x4616ca(0x8be)),_0x5a49cf[_0x4616ca(0x821)][_0x4616ca(0x231)](_0x4616ca(0x8be)),_0x1f9d2c[_0x4616ca(0x993)]='<div\x20class=\x22loader\x20mx-auto\x22></div>',_0x5a49cf[_0x4616ca(0x993)]='',_0x4e30a8[_0x4616ca(0x821)][_0x4616ca(0x981)](_0x4616ca(0x8be));try{const _0x212fe9=doc(db,_0x4616ca(0x58b)+appId+_0x4616ca(0xaca),_0x41ecf1),_0x109240=await getDoc(_0x212fe9);if(!_0x109240[_0x4616ca(0xa76)]())throw new Error('ไม่พบข้อมูลข้อสอบหลังเรียน');const _0x17efd2=_0x109240[_0x4616ca(0x266)](),_0xf11426=_0x17efd2[_0x4616ca(0x313)][_0x4616ca(0x326)],_0x7ed63a=collection(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x1b0eb3+_0x4616ca(0x7f2)),_0x18db4c=collection(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x41ecf1+_0x4616ca(0x7f2)),[_0x5b4129,_0x50718b]=await Promise[_0x4616ca(0x3a5)]([getDocs(_0x7ed63a),getDocs(_0x18db4c)]),_0x4f15f0=_0x5b4129['docs'][_0x4616ca(0xa7a)](_0x836fce=>_0x836fce[_0x4616ca(0x266)]()),_0x4a16d3=_0x50718b[_0x4616ca(0xa18)][_0x4616ca(0xa7a)](_0x47e0de=>_0x47e0de[_0x4616ca(0x266)]()),_0x5c290e=_0x4f15f0[_0x4616ca(0xa7a)](_0x775330=>_0x775330[_0x4616ca(0x709)]),_0x424c6a=_0x4a16d3[_0x4616ca(0xa7a)](_0x371ac2=>_0x371ac2[_0x4616ca(0x709)]),_0x1ba1c3=calculateMeanAndStdDev(_0x5c290e),_0x6f8b62=calculateMeanAndStdDev(_0x424c6a),_0x3ebdac=_0x1ba1c3[_0x4616ca(0x2dc)],_0x2f68b3=_0x6f8b62[_0x4616ca(0x2dc)],_0x5f4508=_0x2f68b3-_0x3ebdac;let _0x9da12b=_0x4616ca(0x615)+_0x3ebdac['toFixed'](0x2)+_0x4616ca(0xa3d)+_0x2f68b3[_0x4616ca(0x7ae)](0x2)+_0x4616ca(0x8dd)+(_0x5f4508>=0x0?_0x4616ca(0x70f):_0x4616ca(0x90b))+_0x4616ca(0x87c)+(_0x5f4508>=0x0?_0x4616ca(0x62b):'text-red-800')+_0x4616ca(0x671)+(_0x5f4508>=0x0?_0x4616ca(0x8c5):_0x4616ca(0x7c4))+'\x22>'+(_0x5f4508>=0x0?'+':'')+_0x5f4508[_0x4616ca(0x7ae)](0x2)+_0x4616ca(0x59c);_0x1f9d2c[_0x4616ca(0x993)]=_0x9da12b;const _0x8ac3f6=document[_0x4616ca(0x318)](_0x4616ca(0x786))[_0x4616ca(0x45f)]('2d');if(chartInstances['comparison'])chartInstances['comparison']['destroy']();chartInstances['comparison']=new Chart(_0x8ac3f6,{'type':'bar','data':{'labels':[_0x4616ca(0x2de)],'datasets':[{'label':'ก่อนเรียน','data':[_0x3ebdac],'backgroundColor':_0x4616ca(0x420)},{'label':_0x4616ca(0xaea),'data':[_0x2f68b3],'backgroundColor':_0x4616ca(0x6bb)}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0xf11426}}}});const _0x10fd3c=currentProjectData[_0x4616ca(0x938)]||[],_0x45560b=_0x10fd3c['map'](_0x56530a=>{const _0x443cd1=_0x4616ca,_0x26d2be=_0x4f15f0[_0x443cd1(0xa93)](_0x432c5c=>_0x432c5c[_0x443cd1(0x8cb)]===_0x56530a),_0x450dfe=_0x4a16d3[_0x443cd1(0xa93)](_0x352da4=>_0x352da4[_0x443cd1(0x8cb)]===_0x56530a),_0x5878fa=_0x26d2be?_0x26d2be[_0x443cd1(0x709)]:null,_0x456f96=_0x450dfe?_0x450dfe['latestScore']:null,_0x34727e=_0x5878fa!==null&&_0x456f96!==null?_0x456f96-_0x5878fa:null,_0x498d41=_0x5878fa!==null?calculateZScore(_0x5878fa,_0x1ba1c3[_0x443cd1(0x2dc)],_0x1ba1c3[_0x443cd1(0x80c)]):null,_0x118d1a=_0x456f96!==null?calculateZScore(_0x456f96,_0x6f8b62[_0x443cd1(0x2dc)],_0x6f8b62['stdDev']):null,_0x1f47f8=_0x498d41!==null?calculateTScore(_0x498d41):null,_0x3b14c6=_0x118d1a!==null?calculateTScore(_0x118d1a):null,_0x2a11cb=_0x1f47f8!==null&&_0x3b14c6!==null?_0x3b14c6-_0x1f47f8:null;return{'name':_0x56530a,'preScore':_0x5878fa,'postScore':_0x456f96,'gain':_0x34727e,'preTScore':_0x1f47f8,'postTScore':_0x3b14c6,'tGain':_0x2a11cb};});renderIndividualComparisonTable(_0x45560b,_0x5a49cf);}catch(_0x4511e7){console[_0x4616ca(0x581)](_0x4616ca(0x30a),_0x4511e7),_0x1f9d2c[_0x4616ca(0x993)]=_0x4616ca(0x660);}}function displayHalfMarkResult(_0x10a4db,_0x5584d0){const _0xb7a623=_0x5b6af5,_0x3cea70=_0x10a4db>=_0x5584d0/0x2,_0x52e491=_0x3cea70?_0xb7a623(0x84a):_0xb7a623(0x90b),_0x28f22f=_0x3cea70?'<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>':_0xb7a623(0x76a),_0x5844ee=_0x3cea70?_0xb7a623(0x84b):_0xb7a623(0x70b),_0xffc68a=_0x3cea70?_0xb7a623(0x36e):_0xb7a623(0x86e),_0xc74cd4=_0x3cea70?_0xb7a623(0x5f5):_0xb7a623(0x5c0);let _0x332246='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20'+_0x52e491+'\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x28f22f+_0xb7a623(0x68e)+_0x5844ee+_0xb7a623(0xaeb)+_0xffc68a+_0xb7a623(0x43c)+_0xc74cd4+_0xb7a623(0xa57);studentResultArea[_0xb7a623(0x993)]=_0x332246,studentResultArea[_0xb7a623(0x821)][_0xb7a623(0x981)](_0xb7a623(0x8be)),studentQuizArea[_0xb7a623(0x821)]['add'](_0xb7a623(0x8be)),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x3cea70});}function displayPerfectScoreResult(_0x1b528a,_0x5be53f){const _0x5578ee=_0x5b6af5,_0x293e29=_0x1b528a===_0x5be53f,_0x49dd30=_0x293e29?'bg-yellow-100':'bg-blue-100',_0x44998f=_0x293e29?_0x5578ee(0x457):_0x5578ee(0x35f),_0x50055b=_0x293e29?_0x5578ee(0x557):'text-blue-800',_0x125742=_0x293e29?'คะแนนเต็ม!':_0x5578ee(0x9b0),_0x443a25=_0x293e29?'สุดยอด!\x20ตอบถูกทุกข้อ':_0x5578ee(0xb22);let _0x4ce32f=_0x5578ee(0xabc)+_0x49dd30+_0x5578ee(0x731)+_0x44998f+_0x5578ee(0x68e)+_0x50055b+_0x5578ee(0xaeb)+_0x125742+_0x5578ee(0x43c)+_0x443a25+_0x5578ee(0xa57);studentResultArea['innerHTML']=_0x4ce32f,studentResultArea['classList'][_0x5578ee(0x981)](_0x5578ee(0x8be)),studentQuizArea['classList'][_0x5578ee(0x231)]('hidden'),setupResultScreenBackButton({'showRankings':![],'score':_0x1b528a,'totalQuestions':_0x5be53f});}function renderIndividualComparisonTable(_0x1f1eb3,_0x1ac564){const _0x40fde4=_0x5b6af5;_0x1f1eb3[_0x40fde4(0xaa5)]((_0x23a587,_0x1d8ac1)=>(_0x1d8ac1[_0x40fde4(0xacd)]??-Infinity)-(_0x23a587['tGain']??-Infinity));let _0x2b10e1=_0x40fde4(0x802);_0x1f1eb3['length']===0x0?_0x2b10e1+=_0x40fde4(0x4c3):_0x1f1eb3['forEach']((_0x5267e0,_0x413ecc)=>{const _0x28cf2a=_0x40fde4;let _0x2b62d0='-',_0x4a808e='';if(_0x5267e0[_0x28cf2a(0xa6c)]!==null){const _0x35b529=_0x5267e0[_0x28cf2a(0xa6c)]>0x0?_0x28cf2a(0x2e1):_0x5267e0[_0x28cf2a(0xa6c)]<0x0?_0x28cf2a(0x5c6):_0x28cf2a(0x20c),_0x49e1b0=_0x5267e0[_0x28cf2a(0xa6c)]>0x0?'+':'';_0x2b62d0=_0x28cf2a(0x7ea)+_0x35b529+'\x22>'+_0x49e1b0+_0x5267e0[_0x28cf2a(0xa6c)]+'</span>';if(_0x5267e0['gain']>0x0)_0x4a808e='<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>';else _0x5267e0[_0x28cf2a(0xa6c)]<0x0?_0x4a808e=_0x28cf2a(0x31e):_0x4a808e='<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>';}let _0x377862='-';if(_0x5267e0[_0x28cf2a(0xacd)]!==null){const _0x115d03=_0x5267e0[_0x28cf2a(0xacd)]>0x0?_0x28cf2a(0x2e1):_0x5267e0[_0x28cf2a(0xacd)]<0x0?_0x28cf2a(0x5c6):'text-gray-500',_0x506b89=_0x5267e0[_0x28cf2a(0xacd)]>0x0?'+':'';_0x377862=_0x28cf2a(0x7ea)+_0x115d03+'\x22>'+_0x506b89+_0x5267e0[_0x28cf2a(0xacd)][_0x28cf2a(0x7ae)](0x2)+_0x28cf2a(0x642);}_0x2b10e1+=_0x28cf2a(0xabf)+(_0x413ecc+0x1)+_0x28cf2a(0x2ba)+_0x5267e0[_0x28cf2a(0x59f)]+_0x28cf2a(0x783)+(_0x5267e0[_0x28cf2a(0x2ac)]??'-')+_0x28cf2a(0x3ae)+(_0x5267e0[_0x28cf2a(0xa67)]??'-')+_0x28cf2a(0x783)+_0x2b62d0+_0x28cf2a(0x8c3)+_0x4a808e+_0x28cf2a(0x3b9)+(_0x5267e0[_0x28cf2a(0x9fc)]?.[_0x28cf2a(0x7ae)](0x2)??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>'+(_0x5267e0[_0x28cf2a(0x6a6)]?.[_0x28cf2a(0x7ae)](0x2)??'-')+_0x28cf2a(0x783)+_0x377862+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x2b10e1+=_0x40fde4(0x63c),_0x1ac564[_0x40fde4(0x993)]=_0x2b10e1;}function handleRenameQuiz(_0x23f788,_0x227ed5){const _0x1944c2=_0x5b6af5;actionTargetId=_0x23f788,document[_0x1944c2(0x318)]('rename-quiz-input')['value']=_0x227ed5,renameQuizModal[_0x1944c2(0x821)][_0x1944c2(0x981)](_0x1944c2(0x8be));}function setupComparisonModalTabs(){const _0x1e18c9=_0x5b6af5,_0xcca85e=document[_0x1e18c9(0x318)](_0x1e18c9(0x20b)),_0x47bb5e=document[_0x1e18c9(0x318)](_0x1e18c9(0x233)),_0x104788=document[_0x1e18c9(0x318)]('comparison-overall-content'),_0x4e13d9=document['getElementById'](_0x1e18c9(0x416));_0xcca85e[_0x1e18c9(0x78c)](_0x1e18c9(0x382),()=>{const _0xdffa53=_0x1e18c9;_0xcca85e[_0xdffa53(0x821)][_0xdffa53(0x231)](_0xdffa53(0x82a)),_0x47bb5e[_0xdffa53(0x821)]['remove'](_0xdffa53(0x82a)),_0x104788['classList'][_0xdffa53(0x981)](_0xdffa53(0x8be)),_0x4e13d9[_0xdffa53(0x821)][_0xdffa53(0x231)](_0xdffa53(0x8be));}),_0x47bb5e[_0x1e18c9(0x78c)](_0x1e18c9(0x382),()=>{const _0x48c3de=_0x1e18c9;_0x47bb5e[_0x48c3de(0x821)][_0x48c3de(0x231)](_0x48c3de(0x82a)),_0xcca85e['classList'][_0x48c3de(0x981)](_0x48c3de(0x82a)),_0x4e13d9[_0x48c3de(0x821)][_0x48c3de(0x981)](_0x48c3de(0x8be)),_0x104788[_0x48c3de(0x821)][_0x48c3de(0x231)]('hidden');});}setupComparisonModalTabs();function renderGlobalQuizList(_0x40bc63=''){const _0x393258=_0x5b6af5,_0x9e1254=document['getElementById'](_0x393258(0x283)),_0x311f5d=_0x40bc63['toLowerCase']()[_0x393258(0x442)](),_0x2c93a5=allQuizzesGlobal[_0x393258(0xa7a)](_0xc3e943=>({..._0xc3e943,'projectName':allProjects[_0x393258(0xa93)](_0x2bb244=>_0x2bb244['id']===_0xc3e943[_0x393258(0x1f9)])?.[_0x393258(0x368)]||_0xc3e943['projectId']}))[_0x393258(0x5e3)](_0x70a1d7=>(_0x70a1d7[_0x393258(0x53e)]||'')[_0x393258(0xa19)]()[_0x393258(0x680)](_0x311f5d)||(_0x70a1d7[_0x393258(0x368)]||'')[_0x393258(0xa19)]()[_0x393258(0x680)](_0x311f5d));document['getElementById'](_0x393258(0x4b9))['textContent']='('+_0x2c93a5['length']+_0x393258(0x51d),_0x9e1254['innerHTML']=_0x2c93a5['length']?_0x2c93a5[_0x393258(0xa7a)](_0x6e2419=>_0x393258(0x5e7)+_0x6e2419['id']+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20text-left\x20p-2\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x22>\x0a\x20\x20'+(_0x6e2419[_0x393258(0x53e)]||'(ไม่มีชื่อ)')+_0x393258(0x4b5)+(_0x6e2419[_0x393258(0x313)]?.[_0x393258(0x326)]||0x0)+'\x20ข้อ)</span>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20'+_0x6e2419[_0x393258(0x368)]+_0x393258(0xb0e))[_0x393258(0x8c0)](''):'<div\x20class=\x22p-3\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>',selectedGlobalQuizId=null,document['getElementById'](_0x393258(0x664))[_0x393258(0x204)]=!![],_0x9e1254[_0x393258(0x502)]('button[data-id]')[_0x393258(0x394)](_0x5ebbdc=>{const _0x338f02=_0x393258;_0x5ebbdc['addEventListener'](_0x338f02(0x382),()=>{const _0xd58226=_0x338f02;selectedGlobalQuizId=_0x5ebbdc['dataset']['id'],_0x9e1254['querySelectorAll'](_0xd58226(0x678))[_0xd58226(0x394)](_0x111206=>_0x111206[_0xd58226(0x821)][_0xd58226(0x981)]('bg-purple-50',_0xd58226(0x708),_0xd58226(0x614))),_0x5ebbdc['classList'][_0xd58226(0x231)]('bg-purple-50',_0xd58226(0x708),_0xd58226(0x614)),document[_0xd58226(0x318)](_0xd58226(0x664))[_0xd58226(0x204)]=![];});});}function listenForLiveGameUpdates(){const _0x299ff1=_0x5b6af5;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x40eccf=doc(db,'artifacts/'+appId+_0x299ff1(0x2f8),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x40eccf,_0xa55400=>{const _0x45e60c=_0x299ff1;if(!_0xa55400[_0x45e60c(0xa76)]()){showMessage('เกมสิ้นสุดลงแล้ว'),showView(currentMode);return;}const _0xe02dfa=_0xa55400[_0x45e60c(0x266)]();_0xe02dfa[_0x45e60c(0x3a4)]&&(currentQuizData=_0xe02dfa[_0x45e60c(0x3a4)]);!currentQuizData&&_0xe02dfa[_0x45e60c(0x79c)]&&((async()=>{const _0x376776=_0x45e60c;try{const _0x2a94fa=doc(db,'artifacts/'+appId+_0x376776(0xaca),_0xe02dfa[_0x376776(0x79c)]),_0x30220e=await getDoc(_0x2a94fa);_0x30220e[_0x376776(0xa76)]()&&(currentQuizData={'id':_0x30220e['id'],..._0x30220e[_0x376776(0x266)]()});}catch(_0x420426){console[_0x376776(0x581)]('Failed\x20to\x20fetch\x20quiz\x20for\x20admin:',_0x420426);}})());switch(_0xe02dfa[_0x45e60c(0x6d0)]){case'lobby':if(currentMode===_0x45e60c(0x6a3)){const _0x2e6bdc=_0xe02dfa[_0x45e60c(0x546)]?Object[_0x45e60c(0xad2)](_0xe02dfa[_0x45e60c(0x546)]):[],_0x44b333=_0x2e6bdc[_0x45e60c(0x5e3)](([_0x49bb65,_0x7ba37e])=>_0x7ba37e[_0x45e60c(0x6d0)]===_0x45e60c(0x82a)),_0x48f9a2=document[_0x45e60c(0x318)](_0x45e60c(0x2b8));if(_0x48f9a2)_0x48f9a2[_0x45e60c(0x950)]=_0x44b333[_0x45e60c(0x326)];const _0x4eede0=document['getElementById'](_0x45e60c(0x57b));_0x4eede0&&(_0x4eede0[_0x45e60c(0x993)]=_0x44b333['map'](([_0x3c7e0e,_0xf0d544])=>_0x45e60c(0x99f)+_0x3c7e0e+_0x45e60c(0x5a7)+_0x3c7e0e+_0x45e60c(0x925))[_0x45e60c(0x8c0)](''));const _0x9302aa=document['getElementById'](_0x45e60c(0x5d4));_0x9302aa&&(_0x9302aa[_0x45e60c(0x204)]=_0x44b333[_0x45e60c(0x326)]===0x0);}else showView(_0x45e60c(0x7a3)),liveGameView[_0x45e60c(0x993)]=_0x45e60c(0x3c6)+currentStudentName+_0x45e60c(0x3c3);break;case'question':const _0x4f8c69=_0xe02dfa[_0x45e60c(0x2ca)];if(currentQuizData&&currentQuizData['questions'][_0x4f8c69]){const _0x2039d7=currentQuizData['questions'][_0x4f8c69],_0x3344fb=_0xe02dfa[_0x45e60c(0x68f)]||_0x45e60c(0x84d);switch(_0x3344fb){case _0x45e60c(0x54d):currentMode===_0x45e60c(0x6a3)?showAdminSummaryView(_0xe02dfa,_0x2039d7):showPlayerSummaryView(_0xe02dfa,currentStudentName);break;case _0x45e60c(0x571):currentMode===_0x45e60c(0x6a3)&&showTop5LeaderboardView(_0xe02dfa);break;case _0x45e60c(0x84d):default:if(currentMode===_0x45e60c(0x6a3)){const _0x1b1507=writeBatch(db);let _0xa5c2=![];Object['entries'](_0xe02dfa['players'])['forEach'](([_0x27a714,_0x441059])=>{const _0x415e0f=_0x45e60c;if(_0x441059[_0x415e0f(0x6d0)]===_0x415e0f(0x82a)&&_0x441059[_0x415e0f(0x77e)]&&!_0x441059[_0x415e0f(0x4b4)]){_0xa5c2=!![];const _0x26add0=_0x441059[_0x415e0f(0x77e)]['toDate']()-_0xe02dfa[_0x415e0f(0x667)][_0x415e0f(0xabd)]();let _0x134eee=0x0;if(_0x441059[_0x415e0f(0x3f7)]){const _0x21c0bf=0x3e8,_0x35744d=0x1f4,_0x5b79c3=0x4e20;let _0x20f389=_0x26add0/_0x5b79c3;if(_0x20f389>0x1)_0x20f389=0x1;const _0x4cd59e=Math[_0x415e0f(0x348)](_0x20f389*_0x35744d);_0x134eee=_0x21c0bf-_0x4cd59e;}const _0x17468d=doc(db,_0x415e0f(0x58b)+appId+_0x415e0f(0x2f8),currentLiveGameId);_0x1b1507['update'](_0x17468d,{[_0x415e0f(0x441)+_0x27a714+_0x415e0f(0xa21)]:increment(_0x134eee),[_0x415e0f(0x441)+_0x27a714+_0x415e0f(0x281)]:_0x134eee,[_0x415e0f(0x441)+_0x27a714+_0x415e0f(0x483)]:!![]});}});_0xa5c2&&_0x1b1507[_0x45e60c(0x991)]()[_0x45e60c(0x714)](_0x437318=>console[_0x45e60c(0x581)](_0x45e60c(0x3fa),_0x437318));lastRenderedAdminQuestionIndex!==_0x4f8c69&&(showAdminLiveQuestionView(_0x2039d7,_0x4f8c69,currentQuizData[_0x45e60c(0x313)][_0x45e60c(0x326)]),lastRenderedAdminQuestionIndex=_0x4f8c69);const _0x2adfae=_0xe02dfa['players']||{},_0x4a4eed=Object['values'](_0x2adfae)[_0x45e60c(0x5e3)](_0x4e8781=>_0x4e8781['status']===_0x45e60c(0x82a)),_0x1a4c92=_0x4a4eed[_0x45e60c(0x326)],_0x298e05=_0x4a4eed[_0x45e60c(0x5e3)](_0x58e2e6=>_0x58e2e6[_0x45e60c(0x64f)]===!![])[_0x45e60c(0x326)],_0x3ce8bc=document['getElementById']('answer-counter');if(_0x3ce8bc)_0x3ce8bc[_0x45e60c(0x950)]=_0x298e05+'/'+_0x1a4c92;const _0x5f261b=document['getElementById'](_0x45e60c(0x5d3));if(_0x5f261b){let _0x54f2d4=Object[_0x45e60c(0xad2)](_0x2adfae)[_0x45e60c(0x5e3)](([_0x3bd019,_0x328490])=>_0x328490[_0x45e60c(0x6d0)]===_0x45e60c(0x82a))['map'](([_0x18694a,_0x4b3cbd])=>{const _0x5cfa0c=_0x45e60c,_0x196756=_0x4b3cbd[_0x5cfa0c(0x64f)]===!![],_0x5c9de6=_0x196756?_0x5cfa0c(0x357):_0x5cfa0c(0xadf),_0x2f072a=_0x196756?_0x5cfa0c(0x693):_0x5cfa0c(0x250);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20'+_0x5c9de6+_0x5cfa0c(0x8c7)+_0x2f072a+_0x5cfa0c(0x396)+_0x18694a+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22'+_0x18694a+'\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})['join']('');_0x5f261b[_0x45e60c(0x993)]=_0x54f2d4||_0x45e60c(0x2a3);}_0x1a4c92>0x0&&_0x298e05===_0x1a4c92&&revealAnswerForAdmin(_0x4f8c69,currentQuizData[_0x45e60c(0x313)][_0x45e60c(0x326)]);}else{const _0x56701f=_0xe02dfa[_0x45e60c(0x546)][currentStudentName];_0x56701f&&!_0x56701f[_0x45e60c(0x64f)]&&showStudentLiveQuestionView(_0x2039d7,_0x4f8c69,currentQuizData[_0x45e60c(0x313)][_0x45e60c(0x326)]);}break;}}break;case'podium':showPodiumView(_0xe02dfa[_0x45e60c(0x546)],'live-race');break;}});}async function handleKickPlayer(_0x36ae99){const _0x23d07e=_0x5b6af5;if(!currentLiveGameId||!_0x36ae99)return;const _0x28a8ce=doc(db,_0x23d07e(0x58b)+appId+_0x23d07e(0x2f8),currentLiveGameId),_0x19591e={};_0x19591e['players.'+_0x36ae99+'.status']=_0x23d07e(0x592);try{await updateDoc(_0x28a8ce,_0x19591e);}catch(_0x11162b){console[_0x23d07e(0x581)](_0x23d07e(0x9d2)+_0x36ae99+':',_0x11162b),showMessage(_0x23d07e(0x2ef));}}async function authenticateUser(){const _0x49fde7=_0x5b6af5;try{typeof __initial_auth_token!==_0x49fde7(0x245)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x48e6fa){console['error']('Authentication\x20failed:',_0x48e6fa),showMessage(_0x49fde7(0x37a));}}function showView(_0x23924a){const _0x2491b4=_0x5b6af5;adminView[_0x2491b4(0x821)][_0x2491b4(0x231)](_0x2491b4(0x8be)),studentView[_0x2491b4(0x821)]['add'](_0x2491b4(0x8be)),projectDashboardView[_0x2491b4(0x821)][_0x2491b4(0x231)](_0x2491b4(0x8be)),projectDetailView['classList'][_0x2491b4(0x231)](_0x2491b4(0x8be)),quizResultsView[_0x2491b4(0x821)][_0x2491b4(0x231)](_0x2491b4(0x8be)),liveGameView[_0x2491b4(0x821)][_0x2491b4(0x231)](_0x2491b4(0x8be)),studentInitialView[_0x2491b4(0x821)][_0x2491b4(0x231)]('hidden'),studentJoinGameView[_0x2491b4(0x821)][_0x2491b4(0x231)](_0x2491b4(0x8be)),studentNameSelectionView[_0x2491b4(0x821)][_0x2491b4(0x231)]('hidden'),studentQuizArea['classList'][_0x2491b4(0x231)](_0x2491b4(0x8be)),studentResultArea[_0x2491b4(0x821)][_0x2491b4(0x231)](_0x2491b4(0x8be)),studentReadingArea[_0x2491b4(0x821)][_0x2491b4(0x231)]('hidden');const _0x3c553a=document[_0x2491b4(0x318)](_0x2491b4(0xa77)),_0x3206ac=document['getElementById'](_0x2491b4(0x60c));if(_0x3c553a)_0x3c553a['classList'][_0x2491b4(0x231)]('hidden');if(_0x3206ac)_0x3206ac['classList'][_0x2491b4(0x231)](_0x2491b4(0x8be));switch(_0x23924a){case _0x2491b4(0x334):adminView[_0x2491b4(0x821)]['remove'](_0x2491b4(0x8be)),projectDashboardView[_0x2491b4(0x821)][_0x2491b4(0x981)](_0x2491b4(0x8be));break;case _0x2491b4(0xb16):adminView['classList']['remove'](_0x2491b4(0x8be)),projectDetailView[_0x2491b4(0x821)][_0x2491b4(0x981)]('hidden');break;case _0x2491b4(0x72a):adminView[_0x2491b4(0x821)][_0x2491b4(0x981)](_0x2491b4(0x8be)),quizResultsView['classList'][_0x2491b4(0x981)]('hidden');break;case _0x2491b4(0x73a):studentView[_0x2491b4(0x821)][_0x2491b4(0x981)]('hidden'),studentInitialView[_0x2491b4(0x821)][_0x2491b4(0x981)](_0x2491b4(0x8be));break;case'live-game':liveGameView[_0x2491b4(0x821)][_0x2491b4(0x981)]('hidden');break;case _0x2491b4(0x4d6):studentView[_0x2491b4(0x821)][_0x2491b4(0x981)]('hidden');if(_0x3c553a)_0x3c553a[_0x2491b4(0x821)][_0x2491b4(0x981)]('hidden');break;case _0x2491b4(0x5b4):studentView['classList']['remove'](_0x2491b4(0x8be));if(_0x3206ac)_0x3206ac[_0x2491b4(0x821)][_0x2491b4(0x981)]('hidden');break;default:studentView['classList'][_0x2491b4(0x981)](_0x2491b4(0x8be)),studentInitialView[_0x2491b4(0x821)]['remove'](_0x2491b4(0x8be));break;}}function showJoinGameView(){const _0x4e47c5=_0x5b6af5;studentInitialView['classList'][_0x4e47c5(0x231)]('hidden'),studentJoinGameView[_0x4e47c5(0x821)][_0x4e47c5(0x981)](_0x4e47c5(0x8be));}async function handleSaveVisibilitySettings(){const _0x19a906=_0x5b6af5;if(!currentProjectId)return;const _0x360bc0=doc(db,_0x19a906(0x58b)+appId+'/public/data/projects',currentProjectId);try{await updateDoc(_0x360bc0,{'settings.showInStudentDashboard':document['getElementById'](_0x19a906(0x6ce))[_0x19a906(0x82f)],'settings.isPasscodeEnabled':document[_0x19a906(0x318)](_0x19a906(0x40e))['checked'],'settings.passcode':document[_0x19a906(0x318)](_0x19a906(0x518))[_0x19a906(0x3e2)][_0x19a906(0x442)]()}),showMessage('บันทึกการตั้งค่าการแสดงผลสำเร็จ');}catch(_0x5b125d){console[_0x19a906(0x581)]('Error\x20saving\x20visibility\x20settings:',_0x5b125d),showMessage(_0x19a906(0xb08));}}function setupEventListeners(){const _0x4dc72e=_0x5b6af5,_0x20b72f=document[_0x4dc72e(0x318)](_0x4dc72e(0x48f)),_0x4cfa8a=async _0x27d1a9=>{const _0x422cbb=_0x4dc72e;_0x20b72f[_0x422cbb(0x821)][_0x422cbb(0x231)](_0x422cbb(0x8be));const _0x3d8a03=parseInt(document[_0x422cbb(0x318)](_0x422cbb(0xac8))[_0x422cbb(0x3e2)]),_0x20d14f=doc(db,_0x422cbb(0x58b)+appId+_0x422cbb(0x649),currentLiveGameId),_0x4caace=await getDoc(_0x20d14f);if(!_0x4caace[_0x422cbb(0xa76)]())return;const _0x581f97=_0x4caace[_0x422cbb(0x266)](),_0x344e0a=_0x581f97[_0x422cbb(0x2ca)],_0x3730a7=_0x581f97['shuffledQuiz'][_0x422cbb(0x313)][_0x344e0a],_0x129ffc=localTeamPlayers[localPlayerTurnIndex];handleSyncAnswerSubmit(_0x3d8a03,_0x3730a7,_0x581f97,_0x129ffc,_0x27d1a9);};document['getElementById'](_0x4dc72e(0x22c))[_0x4dc72e(0x78c)]('click',()=>_0x4cfa8a(!![])),document['getElementById'](_0x4dc72e(0x687))[_0x4dc72e(0x78c)](_0x4dc72e(0x382),()=>_0x4cfa8a(![])),liveGameView[_0x4dc72e(0x78c)](_0x4dc72e(0x382),_0x3a35c9=>{const _0x2ec8fd=_0x4dc72e,_0xb0a346=_0x3a35c9[_0x2ec8fd(0xa81)][_0x2ec8fd(0x487)](_0x2ec8fd(0x30b));if(_0xb0a346){const _0xd5c445=_0xb0a346[_0x2ec8fd(0x896)][_0x2ec8fd(0x3e7)];_0xd5c445&&handleKickPlayerSync(_0xd5c445);}});const _0x3d07fa=document['getElementById'](_0x4dc72e(0x7ef)),_0x4a4709=document[_0x4dc72e(0x318)]('cancel-game-start-btn');_0x4a4709[_0x4dc72e(0x78c)](_0x4dc72e(0x382),()=>{const _0x45c57a=_0x4dc72e;document[_0x45c57a(0x318)](_0x45c57a(0x9b5))[_0x45c57a(0x821)]['add'](_0x45c57a(0x8be));}),_0x3d07fa[_0x4dc72e(0x78c)](_0x4dc72e(0x382),()=>{const _0x18b05c=_0x4dc72e,_0x3eae3d=document[_0x18b05c(0x318)]('game-start-quiz-id')['value'],_0x1e0e0d=document[_0x18b05c(0x318)](_0x18b05c(0x297))[_0x18b05c(0x3e2)],_0x4e5259=document['getElementById'](_0x18b05c(0x58f))[_0x18b05c(0x82f)];document[_0x18b05c(0x318)](_0x18b05c(0x9b5))[_0x18b05c(0x821)][_0x18b05c(0x231)](_0x18b05c(0x8be));switch(_0x1e0e0d){case _0x18b05c(0x8e5):handleStartLiveRace(_0x3eae3d,_0x4e5259);break;case _0x18b05c(0x643):handleStartTeamQuiz(_0x3eae3d,_0x4e5259);break;case'group':handleStartGroupMode(_0x3eae3d,_0x4e5259);break;case _0x18b05c(0xa13):handleStartSyncMode(_0x3eae3d,_0x4e5259);break;}}),document[_0x4dc72e(0x318)](_0x4dc72e(0x36f))[_0x4dc72e(0x78c)]('click',handleJoinGroupActivity),liveGameView[_0x4dc72e(0x78c)](_0x4dc72e(0x382),_0x5a67da=>{const _0x8a01f0=_0x4dc72e,_0x4d275f=_0x5a67da[_0x8a01f0(0xa81)][_0x8a01f0(0x487)]('.summary-bar-item');document[_0x8a01f0(0x502)](_0x8a01f0(0x951))[_0x8a01f0(0x394)](_0x3df877=>{const _0x2dc75a=_0x8a01f0;(!_0x4d275f||_0x3df877['id']!==_0x4d275f[_0x2dc75a(0x896)][_0x2dc75a(0x657)])&&_0x3df877[_0x2dc75a(0x821)]['remove'](_0x2dc75a(0x9d8));});if(!_0x4d275f)return;const _0x334710=_0x4d275f['dataset'][_0x8a01f0(0x657)],_0xda30fa=document['getElementById'](_0x334710);_0xda30fa&&_0xda30fa[_0x8a01f0(0x821)][_0x8a01f0(0x4fe)]('visible');}),liveGameView[_0x4dc72e(0x78c)](_0x4dc72e(0x382),_0x45d119=>{const _0x3b8152=_0x4dc72e;if(_0x45d119[_0x3b8152(0xa81)]['classList'][_0x3b8152(0x47b)](_0x3b8152(0x5d6))){const _0x5878bc=_0x45d119[_0x3b8152(0xa81)][_0x3b8152(0x896)][_0x3b8152(0x3e7)];_0x5878bc&&handleKickPlayer(_0x5878bc);}}),document[_0x4dc72e(0x318)](_0x4dc72e(0x624))['addEventListener'](_0x4dc72e(0x489),()=>document[_0x4dc72e(0x318)](_0x4dc72e(0x5db))[_0x4dc72e(0x821)][_0x4dc72e(0x981)](_0x4dc72e(0x8be))),document[_0x4dc72e(0x318)](_0x4dc72e(0x5db))[_0x4dc72e(0x78c)](_0x4dc72e(0x382),handleSaveProjectName),document[_0x4dc72e(0x318)](_0x4dc72e(0x624))['addEventListener'](_0x4dc72e(0x506),_0x682b43=>{const _0x5d9aca=_0x4dc72e;_0x682b43[_0x5d9aca(0x7c1)]===_0x5d9aca(0xa32)&&(_0x682b43[_0x5d9aca(0x577)](),_0x682b43[_0x5d9aca(0xa81)][_0x5d9aca(0x2d6)](),handleSaveProjectName());}),document[_0x4dc72e(0x318)]('bulk-quiz-settings-btn')['addEventListener'](_0x4dc72e(0x382),()=>{const _0x54f8c2=_0x4dc72e;document[_0x54f8c2(0x318)](_0x54f8c2(0xa46))['classList']['remove'](_0x54f8c2(0x8be));}),document['getElementById'](_0x4dc72e(0x9b8))['addEventListener'](_0x4dc72e(0x382),()=>{const _0x5b6b58=_0x4dc72e;document[_0x5b6b58(0x318)]('bulk-quiz-settings-modal')[_0x5b6b58(0x821)][_0x5b6b58(0x231)](_0x5b6b58(0x8be));}),document[_0x4dc72e(0x318)](_0x4dc72e(0xa3c))['addEventListener'](_0x4dc72e(0x382),handleBulkUpdateQuizSettings),document[_0x4dc72e(0x318)](_0x4dc72e(0x990))[_0x4dc72e(0x78c)](_0x4dc72e(0x382),handleModeSwitch),document[_0x4dc72e(0x318)](_0x4dc72e(0xb17))[_0x4dc72e(0x78c)](_0x4dc72e(0x382),handleUpdateOldQuizzes),document[_0x4dc72e(0x318)]('reset-project-order-btn')[_0x4dc72e(0x78c)]('click',handleResetProjectOrder),document['getElementById'](_0x4dc72e(0x391))[_0x4dc72e(0x78c)](_0x4dc72e(0x382),handleSaveVisibilitySettings),document[_0x4dc72e(0x318)](_0x4dc72e(0x892))[_0x4dc72e(0x78c)](_0x4dc72e(0x382),handleAddCustomMathTopic),document['getElementById'](_0x4dc72e(0x906))[_0x4dc72e(0x78c)](_0x4dc72e(0x382),handleSelectAllTopics),document['getElementById'](_0x4dc72e(0x648))['addEventListener']('click',handleDeselectAllTopics),document[_0x4dc72e(0x318)]('back-to-dashboard-btn')[_0x4dc72e(0x78c)](_0x4dc72e(0x382),()=>{const _0xfb518b=_0x4dc72e;currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0xfb518b(0x334));}),document[_0x4dc72e(0x318)](_0x4dc72e(0x68c))['addEventListener']('click',()=>{const _0x44a287=_0x4dc72e;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0x44a287(0xb16));}),document[_0x4dc72e(0x318)](_0x4dc72e(0x553))[_0x4dc72e(0x78c)](_0x4dc72e(0x382),()=>{const _0x6a3077=_0x4dc72e;showView(_0x6a3077(0x334));}),document['getElementById']('modal-close-btn')[_0x4dc72e(0x78c)](_0x4dc72e(0x382),()=>{const _0x33023f=_0x4dc72e;messageModal[_0x33023f(0x821)][_0x33023f(0x231)](_0x33023f(0x8be)),typeof modalConfirmAction===_0x33023f(0x3a8)&&(modalConfirmAction(),modalConfirmAction=null);}),document[_0x4dc72e(0x318)](_0x4dc72e(0xb1a))[_0x4dc72e(0x78c)]('click',()=>createProjectModal[_0x4dc72e(0x821)][_0x4dc72e(0x981)](_0x4dc72e(0x8be))),document['getElementById'](_0x4dc72e(0xabe))[_0x4dc72e(0x78c)](_0x4dc72e(0x382),()=>createProjectModal[_0x4dc72e(0x821)][_0x4dc72e(0x231)]('hidden')),document[_0x4dc72e(0x318)](_0x4dc72e(0xb15))[_0x4dc72e(0x78c)](_0x4dc72e(0x382),()=>adminPasswordModal['classList'][_0x4dc72e(0x231)](_0x4dc72e(0x8be))),document[_0x4dc72e(0x318)]('confirm-admin-login-btn')['addEventListener'](_0x4dc72e(0x382),handleAdminLogin),document[_0x4dc72e(0x318)](_0x4dc72e(0x1f3))[_0x4dc72e(0x78c)](_0x4dc72e(0x878),_0x4f8c25=>{if(_0x4f8c25['key']==='Enter')handleAdminLogin();}),document[_0x4dc72e(0x318)](_0x4dc72e(0x77b))[_0x4dc72e(0x78c)](_0x4dc72e(0x382),()=>{const _0x318704=_0x4dc72e;confirmationModal[_0x318704(0x821)]['add']('hidden'),confirmAction=null;}),document[_0x4dc72e(0x318)](_0x4dc72e(0x605))[_0x4dc72e(0x78c)](_0x4dc72e(0x382),()=>{const _0x42d8e6=_0x4dc72e;confirmAction&&confirmAction(),confirmationModal['classList'][_0x42d8e6(0x231)](_0x42d8e6(0x8be)),confirmAction=null;}),document[_0x4dc72e(0x318)](_0x4dc72e(0x2b5))[_0x4dc72e(0x78c)](_0x4dc72e(0x382),()=>renameQuizModal[_0x4dc72e(0x821)][_0x4dc72e(0x231)](_0x4dc72e(0x8be))),document[_0x4dc72e(0x318)](_0x4dc72e(0xaad))[_0x4dc72e(0x78c)](_0x4dc72e(0x382),confirmRenameQuiz),document[_0x4dc72e(0x318)](_0x4dc72e(0xa49))['addEventListener'](_0x4dc72e(0x382),()=>moveQuizModal['classList']['add'](_0x4dc72e(0x8be))),document[_0x4dc72e(0x318)](_0x4dc72e(0x763))[_0x4dc72e(0x78c)](_0x4dc72e(0x382),confirmMoveQuiz),document[_0x4dc72e(0x318)](_0x4dc72e(0x70c))[_0x4dc72e(0x78c)]('click',()=>quizSettingsModal[_0x4dc72e(0x821)][_0x4dc72e(0x231)](_0x4dc72e(0x8be))),document['getElementById'](_0x4dc72e(0x8d1))[_0x4dc72e(0x78c)](_0x4dc72e(0x382),confirmQuizSettings),document['getElementById']('cancel-quiz-status-btn')[_0x4dc72e(0x78c)](_0x4dc72e(0x382),()=>quizStatusModal[_0x4dc72e(0x821)][_0x4dc72e(0x231)]('hidden')),document[_0x4dc72e(0x318)](_0x4dc72e(0xa31))[_0x4dc72e(0x78c)](_0x4dc72e(0x382),confirmQuizStatus);const _0x5c949a=document['getElementById'](_0x4dc72e(0x6ab));document['getElementById']('cancel-export-pdf-btn')[_0x4dc72e(0x78c)]('click',()=>{const _0x2c75bf=_0x4dc72e;_0x5c949a[_0x2c75bf(0x821)][_0x2c75bf(0x231)](_0x2c75bf(0x8be));}),document[_0x4dc72e(0x318)]('export-compact-pdf-btn')[_0x4dc72e(0x78c)](_0x4dc72e(0x382),async()=>{const _0x131ab0=_0x4dc72e,_0x4e117e=allQuizzes[_0x131ab0(0xa93)](_0x58dffc=>_0x58dffc['id']===actionTargetId);_0x4e117e?(currentQuizData=_0x4e117e,exportQuizAsWorksheetPDF()):showMessage(_0x131ab0(0x1f2)),_0x5c949a[_0x131ab0(0x821)][_0x131ab0(0x231)](_0x131ab0(0x8be));}),document[_0x4dc72e(0x318)]('export-tutor-pdf-btn')[_0x4dc72e(0x78c)]('click',async()=>{const _0x2a2300=_0x4dc72e,_0x31e57c=allQuizzes['find'](_0x401e41=>_0x401e41['id']===actionTargetId);_0x31e57c?(currentQuizData=_0x31e57c,exportQuizAsTutorPDF()):showMessage(_0x2a2300(0x1f2)),_0x5c949a[_0x2a2300(0x821)][_0x2a2300(0x231)](_0x2a2300(0x8be));}),document[_0x4dc72e(0x318)](_0x4dc72e(0x381))[_0x4dc72e(0x78c)]('click',openGlobalLiveModal),document['getElementById'](_0x4dc72e(0x1f4))['addEventListener']('click',()=>{const _0x292dc8=_0x4dc72e;document['getElementById'](_0x292dc8(0x2ec))[_0x292dc8(0x821)]['add'](_0x292dc8(0x8be)),selectedGlobalQuizId=null;}),document[_0x4dc72e(0x318)](_0x4dc72e(0x8a1))[_0x4dc72e(0x78c)](_0x4dc72e(0x7de),_0x4f9ddb=>renderGlobalQuizList(_0x4f9ddb[_0x4dc72e(0xa81)][_0x4dc72e(0x3e2)])),document[_0x4dc72e(0x318)]('confirm-global-live-btn')[_0x4dc72e(0x78c)]('click',()=>{const _0x2d348b=_0x4dc72e,_0x17f7fe=selectedGlobalQuizId;if(!_0x17f7fe)return;document[_0x2d348b(0x318)](_0x2d348b(0x2ec))['classList']['add']('hidden'),handleStartLiveRace(_0x17f7fe);}),document[_0x4dc72e(0x318)](_0x4dc72e(0x319))[_0x4dc72e(0x78c)](_0x4dc72e(0x7de),renderProjects),document[_0x4dc72e(0x318)](_0x4dc72e(0x5df))['addEventListener'](_0x4dc72e(0x87f),async()=>{const _0x33577c=_0x4dc72e,_0xd581d7=document[_0x33577c(0x318)](_0x33577c(0x5df))[_0x33577c(0x3e2)],_0x5d1704=doc(db,_0x33577c(0x5d9),'dashboardConfig');try{await setDoc(_0x5d1704,{'projectSort':_0xd581d7},{'merge':!![]});}catch(_0x5c33ce){console[_0x33577c(0x581)](_0x33577c(0x638),_0x5c33ce),showMessage(_0x33577c(0x91c));}}),document[_0x4dc72e(0x318)](_0x4dc72e(0x251))[_0x4dc72e(0x78c)](_0x4dc72e(0x7de),renderQuizzes),document[_0x4dc72e(0x318)](_0x4dc72e(0x8ae))[_0x4dc72e(0x78c)](_0x4dc72e(0x382),()=>{const _0x34f899=_0x4dc72e;globalDashboardSettings[_0x34f899(0x6cc)]=_0x34f899(0x718),saveUserPreference(_0x34f899(0x6cc),_0x34f899(0x718)),renderProjects();}),document['getElementById']('list-view-btn')[_0x4dc72e(0x78c)]('click',()=>{const _0xd4967=_0x4dc72e;globalDashboardSettings['projectView']='list',saveUserPreference(_0xd4967(0x6cc),_0xd4967(0x5a5)),renderProjects();}),manageTab[_0x4dc72e(0x78c)]('click',()=>switchProjectTab(_0x4dc72e(0x622))),resultsTab[_0x4dc72e(0x78c)]('click',()=>switchProjectTab(_0x4dc72e(0x8ce))),leaderboardTab['addEventListener'](_0x4dc72e(0x382),()=>switchProjectTab(_0x4dc72e(0x571))),document[_0x4dc72e(0x318)](_0x4dc72e(0x9b1))[_0x4dc72e(0x78c)](_0x4dc72e(0x382),()=>switchQuizDetailTab(_0x4dc72e(0x73c))),document[_0x4dc72e(0x318)]('scores-tab-btn')[_0x4dc72e(0x78c)](_0x4dc72e(0x382),()=>switchQuizDetailTab('scores')),document[_0x4dc72e(0x318)](_0x4dc72e(0x261))[_0x4dc72e(0x78c)](_0x4dc72e(0x382),()=>switchQuizDetailTab(_0x4dc72e(0x6b9))),document[_0x4dc72e(0x318)](_0x4dc72e(0x2c9))[_0x4dc72e(0x78c)]('click',()=>switchQuizDetailTab(_0x4dc72e(0xa04))),document[_0x4dc72e(0x318)](_0x4dc72e(0x767))[_0x4dc72e(0x78c)]('click',handleAnalyzeClass),generateWorksheetBtn[_0x4dc72e(0x78c)](_0x4dc72e(0x382),generateWorksheet);const _0x44acbb=document[_0x4dc72e(0x318)](_0x4dc72e(0x8b4)),_0x5656e1=document['getElementById'](_0x4dc72e(0x4d2)),_0x3c5a69=document[_0x4dc72e(0x318)](_0x4dc72e(0x5de)),_0x4b3671=document[_0x4dc72e(0x318)](_0x4dc72e(0x956)),_0x45226c=document['getElementById'](_0x4dc72e(0xab4)),_0x258082=document[_0x4dc72e(0x318)](_0x4dc72e(0x99c));topicTab['addEventListener'](_0x4dc72e(0x382),()=>{const _0x1181f1=_0x4dc72e;topicTab['classList'][_0x1181f1(0x231)](_0x1181f1(0x82a)),textTab['classList'][_0x1181f1(0x981)](_0x1181f1(0x82a)),fileTab['classList'][_0x1181f1(0x981)](_0x1181f1(0x82a)),worksheetTab[_0x1181f1(0x821)][_0x1181f1(0x981)](_0x1181f1(0x82a));if(_0x44acbb)_0x44acbb[_0x1181f1(0x821)][_0x1181f1(0x981)]('active');if(_0x3c5a69)_0x3c5a69[_0x1181f1(0x821)][_0x1181f1(0x981)](_0x1181f1(0x82a));if(_0x45226c)_0x45226c['classList']['remove'](_0x1181f1(0x82a));topicInputArea['classList']['remove'](_0x1181f1(0x8be)),textInputArea[_0x1181f1(0x821)][_0x1181f1(0x231)](_0x1181f1(0x8be)),fileInputArea[_0x1181f1(0x821)][_0x1181f1(0x231)]('hidden'),worksheetInputArea[_0x1181f1(0x821)]['add']('hidden');if(_0x5656e1)_0x5656e1[_0x1181f1(0x821)][_0x1181f1(0x231)]('hidden');if(_0x4b3671)_0x4b3671[_0x1181f1(0x821)][_0x1181f1(0x231)](_0x1181f1(0x8be));if(_0x258082)_0x258082[_0x1181f1(0x821)][_0x1181f1(0x231)]('hidden');}),textTab[_0x4dc72e(0x78c)](_0x4dc72e(0x382),()=>{const _0x5393f3=_0x4dc72e;textTab[_0x5393f3(0x821)][_0x5393f3(0x231)](_0x5393f3(0x82a)),topicTab[_0x5393f3(0x821)][_0x5393f3(0x981)]('active'),fileTab[_0x5393f3(0x821)][_0x5393f3(0x981)](_0x5393f3(0x82a)),worksheetTab[_0x5393f3(0x821)][_0x5393f3(0x981)](_0x5393f3(0x82a));if(_0x44acbb)_0x44acbb[_0x5393f3(0x821)][_0x5393f3(0x981)](_0x5393f3(0x82a));if(_0x3c5a69)_0x3c5a69['classList'][_0x5393f3(0x981)](_0x5393f3(0x82a));if(_0x45226c)_0x45226c[_0x5393f3(0x821)][_0x5393f3(0x981)](_0x5393f3(0x82a));textInputArea[_0x5393f3(0x821)][_0x5393f3(0x981)](_0x5393f3(0x8be)),topicInputArea[_0x5393f3(0x821)][_0x5393f3(0x231)](_0x5393f3(0x8be)),fileInputArea[_0x5393f3(0x821)]['add'](_0x5393f3(0x8be)),worksheetInputArea[_0x5393f3(0x821)]['add'](_0x5393f3(0x8be));if(_0x5656e1)_0x5656e1[_0x5393f3(0x821)]['add'](_0x5393f3(0x8be));if(_0x4b3671)_0x4b3671[_0x5393f3(0x821)][_0x5393f3(0x231)]('hidden');if(_0x258082)_0x258082[_0x5393f3(0x821)][_0x5393f3(0x231)](_0x5393f3(0x8be));}),fileTab['addEventListener'](_0x4dc72e(0x382),()=>{const _0x24fd43=_0x4dc72e;fileTab[_0x24fd43(0x821)][_0x24fd43(0x231)](_0x24fd43(0x82a)),topicTab[_0x24fd43(0x821)]['remove']('active'),textTab[_0x24fd43(0x821)][_0x24fd43(0x981)](_0x24fd43(0x82a)),worksheetTab['classList']['remove']('active');if(_0x44acbb)_0x44acbb[_0x24fd43(0x821)]['remove']('active');if(_0x3c5a69)_0x3c5a69[_0x24fd43(0x821)]['remove']('active');if(_0x45226c)_0x45226c[_0x24fd43(0x821)]['remove'](_0x24fd43(0x82a));fileInputArea[_0x24fd43(0x821)][_0x24fd43(0x981)](_0x24fd43(0x8be)),topicInputArea[_0x24fd43(0x821)][_0x24fd43(0x231)]('hidden'),textInputArea['classList'][_0x24fd43(0x231)]('hidden'),worksheetInputArea[_0x24fd43(0x821)][_0x24fd43(0x231)]('hidden');if(_0x5656e1)_0x5656e1[_0x24fd43(0x821)][_0x24fd43(0x231)](_0x24fd43(0x8be));if(_0x4b3671)_0x4b3671[_0x24fd43(0x821)]['add'](_0x24fd43(0x8be));if(_0x258082)_0x258082[_0x24fd43(0x821)][_0x24fd43(0x231)](_0x24fd43(0x8be));}),worksheetTab['addEventListener'](_0x4dc72e(0x382),()=>{const _0x3915a9=_0x4dc72e;worksheetTab[_0x3915a9(0x821)]['add']('active'),topicTab[_0x3915a9(0x821)][_0x3915a9(0x981)](_0x3915a9(0x82a)),textTab[_0x3915a9(0x821)][_0x3915a9(0x981)](_0x3915a9(0x82a)),fileTab[_0x3915a9(0x821)]['remove']('active');if(_0x44acbb)_0x44acbb[_0x3915a9(0x821)][_0x3915a9(0x981)]('active');if(_0x3c5a69)_0x3c5a69[_0x3915a9(0x821)][_0x3915a9(0x981)]('active');if(_0x45226c)_0x45226c[_0x3915a9(0x821)][_0x3915a9(0x981)](_0x3915a9(0x82a));worksheetInputArea[_0x3915a9(0x821)][_0x3915a9(0x981)](_0x3915a9(0x8be)),topicInputArea['classList'][_0x3915a9(0x231)](_0x3915a9(0x8be)),textInputArea[_0x3915a9(0x821)]['add']('hidden'),fileInputArea[_0x3915a9(0x821)][_0x3915a9(0x231)](_0x3915a9(0x8be));if(_0x5656e1)_0x5656e1[_0x3915a9(0x821)][_0x3915a9(0x231)](_0x3915a9(0x8be));if(_0x4b3671)_0x4b3671[_0x3915a9(0x821)][_0x3915a9(0x231)](_0x3915a9(0x8be));if(_0x258082)_0x258082[_0x3915a9(0x821)]['add'](_0x3915a9(0x8be));});const _0x3e76c1=document['getElementById'](_0x4dc72e(0x986)),_0x17a900=document['getElementById'](_0x4dc72e(0x4e4));_0x3e76c1&&_0x3e76c1[_0x4dc72e(0x78c)](_0x4dc72e(0x382),()=>{const _0x335957=_0x4dc72e;topicTab[_0x335957(0x821)][_0x335957(0x981)]('active'),textTab[_0x335957(0x821)]['remove']('active'),fileTab['classList']['remove'](_0x335957(0x82a)),worksheetTab[_0x335957(0x821)][_0x335957(0x981)](_0x335957(0x82a));if(_0x44acbb)_0x44acbb[_0x335957(0x821)][_0x335957(0x981)](_0x335957(0x82a));if(_0x3c5a69)_0x3c5a69[_0x335957(0x821)]['remove'](_0x335957(0x82a));if(_0x45226c)_0x45226c['classList'][_0x335957(0x981)](_0x335957(0x82a));_0x3e76c1['classList'][_0x335957(0x231)]('active'),topicInputArea[_0x335957(0x821)][_0x335957(0x231)](_0x335957(0x8be)),textInputArea['classList'][_0x335957(0x231)]('hidden'),fileInputArea[_0x335957(0x821)][_0x335957(0x231)](_0x335957(0x8be)),worksheetInputArea['classList']['add'](_0x335957(0x8be));if(_0x5656e1)_0x5656e1[_0x335957(0x821)][_0x335957(0x231)](_0x335957(0x8be));if(_0x4b3671)_0x4b3671['classList'][_0x335957(0x231)]('hidden');if(_0x258082)_0x258082[_0x335957(0x821)][_0x335957(0x231)](_0x335957(0x8be));_0x17a900[_0x335957(0x821)][_0x335957(0x981)](_0x335957(0x8be)),displayQuestionBank();});_0x44acbb&&(_0x44acbb[_0x4dc72e(0x78c)]('click',()=>{const _0x26aecc=_0x4dc72e;_0x44acbb[_0x26aecc(0x821)][_0x26aecc(0x231)](_0x26aecc(0x82a)),topicTab[_0x26aecc(0x821)][_0x26aecc(0x981)](_0x26aecc(0x82a)),textTab[_0x26aecc(0x821)][_0x26aecc(0x981)](_0x26aecc(0x82a)),fileTab['classList'][_0x26aecc(0x981)](_0x26aecc(0x82a)),worksheetTab[_0x26aecc(0x821)][_0x26aecc(0x981)](_0x26aecc(0x82a));if(_0x3c5a69)_0x3c5a69[_0x26aecc(0x821)]['remove'](_0x26aecc(0x82a));if(_0x45226c)_0x45226c[_0x26aecc(0x821)][_0x26aecc(0x981)](_0x26aecc(0x82a));_0x5656e1['classList']['remove']('hidden'),topicInputArea[_0x26aecc(0x821)][_0x26aecc(0x231)]('hidden'),textInputArea[_0x26aecc(0x821)][_0x26aecc(0x231)](_0x26aecc(0x8be)),fileInputArea[_0x26aecc(0x821)][_0x26aecc(0x231)](_0x26aecc(0x8be)),worksheetInputArea[_0x26aecc(0x821)][_0x26aecc(0x231)]('hidden');if(_0x4b3671)_0x4b3671[_0x26aecc(0x821)][_0x26aecc(0x231)](_0x26aecc(0x8be));if(_0x258082)_0x258082[_0x26aecc(0x821)][_0x26aecc(0x231)]('hidden');}),document[_0x4dc72e(0x318)](_0x4dc72e(0x2e0))[_0x4dc72e(0x78c)]('click',handleGenerateFromLink));_0x3c5a69&&_0x3c5a69[_0x4dc72e(0x78c)](_0x4dc72e(0x382),()=>{const _0x1e985f=_0x4dc72e;_0x3c5a69[_0x1e985f(0x821)]['add'](_0x1e985f(0x82a)),topicTab[_0x1e985f(0x821)][_0x1e985f(0x981)](_0x1e985f(0x82a)),textTab['classList'][_0x1e985f(0x981)](_0x1e985f(0x82a)),fileTab[_0x1e985f(0x821)][_0x1e985f(0x981)](_0x1e985f(0x82a)),worksheetTab[_0x1e985f(0x821)][_0x1e985f(0x981)]('active');if(_0x44acbb)_0x44acbb[_0x1e985f(0x821)][_0x1e985f(0x981)]('active');if(_0x3e76c1)_0x3e76c1['classList'][_0x1e985f(0x981)]('active');if(_0x45226c)_0x45226c[_0x1e985f(0x821)][_0x1e985f(0x981)](_0x1e985f(0x82a));_0x4b3671[_0x1e985f(0x821)][_0x1e985f(0x981)](_0x1e985f(0x8be)),topicInputArea[_0x1e985f(0x821)]['add'](_0x1e985f(0x8be)),textInputArea[_0x1e985f(0x821)][_0x1e985f(0x231)](_0x1e985f(0x8be)),fileInputArea[_0x1e985f(0x821)][_0x1e985f(0x231)](_0x1e985f(0x8be)),worksheetInputArea[_0x1e985f(0x821)][_0x1e985f(0x231)](_0x1e985f(0x8be));if(_0x5656e1)_0x5656e1[_0x1e985f(0x821)]['add'](_0x1e985f(0x8be));if(_0x17a900)_0x17a900['classList']['add'](_0x1e985f(0x8be));if(_0x258082)_0x258082['classList']['add'](_0x1e985f(0x8be));});_0x45226c&&_0x45226c['addEventListener'](_0x4dc72e(0x382),()=>{const _0x1f04d0=_0x4dc72e;_0x45226c[_0x1f04d0(0x821)][_0x1f04d0(0x231)](_0x1f04d0(0x82a)),topicTab['classList'][_0x1f04d0(0x981)](_0x1f04d0(0x82a)),textTab[_0x1f04d0(0x821)]['remove'](_0x1f04d0(0x82a)),fileTab[_0x1f04d0(0x821)][_0x1f04d0(0x981)](_0x1f04d0(0x82a)),worksheetTab[_0x1f04d0(0x821)][_0x1f04d0(0x981)](_0x1f04d0(0x82a));if(_0x44acbb)_0x44acbb['classList']['remove'](_0x1f04d0(0x82a));if(_0x3c5a69)_0x3c5a69[_0x1f04d0(0x821)][_0x1f04d0(0x981)](_0x1f04d0(0x82a));if(_0x3e76c1)_0x3e76c1[_0x1f04d0(0x821)][_0x1f04d0(0x981)](_0x1f04d0(0x82a));_0x258082[_0x1f04d0(0x821)][_0x1f04d0(0x981)](_0x1f04d0(0x8be)),topicInputArea[_0x1f04d0(0x821)][_0x1f04d0(0x231)](_0x1f04d0(0x8be)),textInputArea[_0x1f04d0(0x821)][_0x1f04d0(0x231)]('hidden'),fileInputArea[_0x1f04d0(0x821)]['add']('hidden'),worksheetInputArea[_0x1f04d0(0x821)][_0x1f04d0(0x231)]('hidden');if(_0x5656e1)_0x5656e1[_0x1f04d0(0x821)][_0x1f04d0(0x231)]('hidden');if(_0x4b3671)_0x4b3671[_0x1f04d0(0x821)][_0x1f04d0(0x231)]('hidden');if(_0x17a900)_0x17a900[_0x1f04d0(0x821)][_0x1f04d0(0x231)](_0x1f04d0(0x8be));});const _0x54e2cf=document[_0x4dc72e(0x318)](_0x4dc72e(0x417)),_0x1f063b=document[_0x4dc72e(0x318)](_0x4dc72e(0xaef));_0x54e2cf&&_0x54e2cf[_0x4dc72e(0x78c)](_0x4dc72e(0x87f),_0x4750a2=>{const _0x3713cf=_0x4dc72e;_0x4750a2['target']['files']['length']>0x0?_0x1f063b[_0x3713cf(0x204)]=![]:_0x1f063b[_0x3713cf(0x204)]=!![];});_0x1f063b&&_0x1f063b[_0x4dc72e(0x78c)](_0x4dc72e(0x382),handleGenerateFromBlueprint);const _0x326c32=document[_0x4dc72e(0x318)](_0x4dc72e(0x632)),_0x1a27ff=document[_0x4dc72e(0x318)](_0x4dc72e(0x244));_0x326c32&&_0x326c32[_0x4dc72e(0x78c)](_0x4dc72e(0x87f),_0x384ebe=>{const _0x13bb70=_0x4dc72e;_0x1a27ff['disabled']=_0x384ebe['target'][_0x13bb70(0x3f3)]['length']===0x0;});_0x1a27ff&&_0x1a27ff[_0x4dc72e(0x78c)](_0x4dc72e(0x382),handleGenerateParallelTest);loadQuizBtn[_0x4dc72e(0x78c)]('click',handleLoadQuiz),startQuizBtn[_0x4dc72e(0x78c)](_0x4dc72e(0x382),async()=>{const _0x2c4eca=_0x4dc72e,_0x4bcf1e=document['getElementById']('student-name-select');currentStudentName=_0x4bcf1e[_0x2c4eca(0x3e2)];if(!currentStudentName){showMessage(_0x2c4eca(0xb03));return;}try{const _0x47708d=currentQuizData['id'],_0x1346da=doc(db,_0x2c4eca(0x58b)+appId+_0x2c4eca(0x39f)+_0x47708d+_0x2c4eca(0x7f2),currentStudentName);await setDoc(_0x1346da,{'studentName':currentStudentName,'startedAt':new Date()['toISOString'](),'behaviorLog':[],'attempts':[]},{'merge':!![]});}catch(_0x5e5caa){console[_0x2c4eca(0x581)](_0x2c4eca(0x61a),_0x5e5caa),showMessage(_0x2c4eca(0x9c1));return;}studentNameSelectionView[_0x2c4eca(0x821)]['add'](_0x2c4eca(0x8be)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document['getElementById']('join-live-game-btn')[_0x4dc72e(0x78c)](_0x4dc72e(0x382),showJoinGameView),document[_0x4dc72e(0x318)](_0x4dc72e(0x982))[_0x4dc72e(0x78c)](_0x4dc72e(0x382),handleJoinLiveGame),document[_0x4dc72e(0x318)](_0x4dc72e(0x3ca))['addEventListener'](_0x4dc72e(0x382),()=>showView(_0x4dc72e(0x73a)));const _0x136d5b=()=>{const _0x151f69=_0x4dc72e,_0xa1cbc0=document['getElementById'](_0x151f69(0xae0))[_0x151f69(0x950)][_0x151f69(0x6c2)](/[^a-z0-9]/gi,'_')['toLowerCase']();return _0x151f69(0xb19)+(_0xa1cbc0||'quiz');},_0x25056d=document[_0x4dc72e(0x318)](_0x4dc72e(0x36a));_0x25056d&&_0x25056d[_0x4dc72e(0x78c)](_0x4dc72e(0x7de),_0x39a429=>{const _0x127e34=_0x4dc72e,_0x47d664=_0x39a429[_0x127e34(0xa81)][_0x127e34(0x3e2)][_0x127e34(0xa19)]()[_0x127e34(0x442)](),_0x45f7d9=document[_0x127e34(0x318)](_0x127e34(0x227)),_0x56552b=_0x45f7d9['querySelectorAll'](_0x127e34(0x2cf));_0x56552b[_0x127e34(0x394)](_0x107adb=>{const _0x3f729a=_0x127e34;let _0x118448=![];const _0x25d75c=_0x107adb[_0x3f729a(0x502)](_0x3f729a(0x83a));_0x25d75c[_0x3f729a(0x394)](_0x143e6d=>{const _0x2541eb=_0x3f729a,_0x17d8cb=_0x143e6d[_0x2541eb(0x3f9)](_0x2541eb(0x954))[_0x2541eb(0x950)][_0x2541eb(0xa19)]();_0x17d8cb['includes'](_0x47d664)?(_0x143e6d['style'][_0x2541eb(0x58e)]=_0x2541eb(0x8f4),_0x118448=!![]):_0x143e6d[_0x2541eb(0xae7)][_0x2541eb(0x58e)]='none';}),_0x118448?_0x107adb[_0x3f729a(0xae7)][_0x3f729a(0x58e)]=_0x3f729a(0x3cd):_0x107adb['style'][_0x3f729a(0x58e)]=_0x3f729a(0x6f7);});});document[_0x4dc72e(0x318)](_0x4dc72e(0xb09))[_0x4dc72e(0x78c)]('click',()=>exportTableAsImage(_0x4dc72e(0x769),_0x136d5b())),document[_0x4dc72e(0x318)](_0x4dc72e(0xac2))[_0x4dc72e(0x78c)]('click',()=>exportTableAsPDF(_0x4dc72e(0x764),_0x136d5b())),document[_0x4dc72e(0x318)](_0x4dc72e(0x7d3))['addEventListener'](_0x4dc72e(0x382),()=>exportTableAsWord(_0x4dc72e(0x769),_0x136d5b())),document[_0x4dc72e(0x318)](_0x4dc72e(0x629))[_0x4dc72e(0x78c)]('click',()=>exportTableAsExcel('results-table',_0x136d5b()));const _0x65fcca=()=>{const _0x3e69ff=_0x4dc72e,_0x38fbfb=document[_0x3e69ff(0x318)]('results-quiz-title')[_0x3e69ff(0x950)][_0x3e69ff(0x6c2)](/[^a-z0-9]/gi,'_')[_0x3e69ff(0xa19)]();return _0x3e69ff(0x893)+(_0x38fbfb||_0x3e69ff(0x83c));};document[_0x4dc72e(0x318)]('export-leaderboard-image-btn')[_0x4dc72e(0x78c)]('click',()=>exportTableAsImage('quiz-leaderboard-table-container',_0x65fcca())),document[_0x4dc72e(0x318)](_0x4dc72e(0x7ff))[_0x4dc72e(0x78c)](_0x4dc72e(0x382),()=>exportTableAsPDF('quiz-leaderboard-table',_0x65fcca())),document[_0x4dc72e(0x318)](_0x4dc72e(0x8ba))[_0x4dc72e(0x78c)](_0x4dc72e(0x382),()=>exportTableAsWord(_0x4dc72e(0x512),_0x65fcca())),document['getElementById'](_0x4dc72e(0x8d7))[_0x4dc72e(0x78c)](_0x4dc72e(0x382),()=>exportTableAsExcel(_0x4dc72e(0x364),_0x65fcca())),projectQuizzesList[_0x4dc72e(0x78c)]('click',async _0x4b7b6f=>{const _0x45ebd0=_0x4dc72e,_0x1bd773=_0x4b7b6f[_0x45ebd0(0xa81)][_0x45ebd0(0x487)](_0x45ebd0(0x9cd)),_0x5cddf0=_0x4b7b6f[_0x45ebd0(0xa81)][_0x45ebd0(0x487)](_0x45ebd0(0x5ea)),_0xc9e664=_0x4b7b6f[_0x45ebd0(0xa81)]['closest'](_0x45ebd0(0x865)),_0x31544a=_0x4b7b6f[_0x45ebd0(0xa81)][_0x45ebd0(0x487)](_0x45ebd0(0x600)),_0x262aa1=_0x4b7b6f[_0x45ebd0(0xa81)][_0x45ebd0(0x487)](_0x45ebd0(0x715)),_0x42f8a4=_0x4b7b6f[_0x45ebd0(0xa81)][_0x45ebd0(0x487)](_0x45ebd0(0x5e4)),_0x1d2851=_0x4b7b6f[_0x45ebd0(0xa81)]['closest'](_0x45ebd0(0x8ff)),_0x3496ae=_0x4b7b6f[_0x45ebd0(0xa81)][_0x45ebd0(0x487)]('.quiz-settings-btn'),_0x14ef30=_0x4b7b6f[_0x45ebd0(0xa81)][_0x45ebd0(0x487)]('.duplicate-quiz-btn'),_0xb330a1=_0x4b7b6f[_0x45ebd0(0xa81)][_0x45ebd0(0x487)](_0x45ebd0(0x4f7)),_0xe76dd1=_0x4b7b6f[_0x45ebd0(0xa81)][_0x45ebd0(0x487)](_0x45ebd0(0xaa4)),_0x31ae52=_0x4b7b6f[_0x45ebd0(0xa81)][_0x45ebd0(0x487)]('.move-quiz-btn'),_0xa273ab=_0x4b7b6f[_0x45ebd0(0xa81)]['closest'](_0x45ebd0(0x351)),_0x32b556=_0x4b7b6f[_0x45ebd0(0xa81)][_0x45ebd0(0x487)](_0x45ebd0(0x3db)),_0x256dba=_0x4b7b6f[_0x45ebd0(0xa81)][_0x45ebd0(0x487)](_0x45ebd0(0xa8e)),_0x43102d=_0x4b7b6f[_0x45ebd0(0xa81)][_0x45ebd0(0x487)]('.admin-try-quiz-list-btn'),_0x572de6=_0x4b7b6f[_0x45ebd0(0xa81)][_0x45ebd0(0x487)](_0x45ebd0(0x5f6)),_0xfa685=_0x4b7b6f[_0x45ebd0(0xa81)][_0x45ebd0(0x487)]('.delete-quiz-btn'),_0x3f55ba=_0x4b7b6f[_0x45ebd0(0xa81)]['closest'](_0x45ebd0(0xa92)),_0x199020=_0x4b7b6f['target']['closest']('.toggle-actions-btn'),_0x4c56d3=_0x4b7b6f[_0x45ebd0(0xa81)][_0x45ebd0(0x487)](_0x45ebd0(0x8e9)),_0x125c9a=_0x4b7b6f['target'][_0x45ebd0(0x487)](_0x45ebd0(0x26a)),_0x270acd=_0x4b7b6f[_0x45ebd0(0xa81)][_0x45ebd0(0x487)](_0x45ebd0(0xa17));if(_0x125c9a){const _0x114d35=_0x125c9a[_0x45ebd0(0x896)][_0x45ebd0(0x79c)],_0x3563a1=_0x125c9a['dataset']['mode'],_0x1791bd=allQuizzes[_0x45ebd0(0xa93)](_0x5a73b7=>_0x5a73b7['id']===_0x114d35);_0x1791bd&&showGameStartConfirmationModal(_0x114d35,_0x3563a1,_0x1791bd[_0x45ebd0(0x53e)]);}else{if(_0x270acd){const _0x4dd9ec=_0x270acd[_0x45ebd0(0x896)][_0x45ebd0(0x79c)];handleStartLiveRace(_0x4dd9ec);}else{if(_0x199020){const _0x378f10=_0x199020[_0x45ebd0(0x896)]['quizId'],_0x593d33=document[_0x45ebd0(0x318)](_0x45ebd0(0x9f5)+_0x378f10);_0x593d33&&_0x593d33[_0x45ebd0(0x821)][_0x45ebd0(0x4fe)](_0x45ebd0(0x8be));}else{if(_0x5cddf0){const _0x1e107a=_0x5cddf0[_0x45ebd0(0x896)][_0x45ebd0(0x79c)],_0x5d6f9=allQuizzes['find'](_0x41d10f=>_0x41d10f['id']===_0x1e107a);_0x5d6f9&&handleGenerateParallelPostTest(_0x5d6f9);}else{if(_0xc9e664)handleCompareResults(_0xc9e664[_0x45ebd0(0x896)][_0x45ebd0(0x79c)],_0xc9e664[_0x45ebd0(0x896)]['preTestId']);else{if(_0x31544a){const _0xf9c3c1=_0x31544a['dataset'][_0x45ebd0(0x79c)],_0x2f17e5=allQuizzes[_0x45ebd0(0xa93)](_0x147664=>_0x147664['id']===_0xf9c3c1);_0x2f17e5&&_0x2f17e5[_0x45ebd0(0x9b9)]?(displayLessonPlan(_0x2f17e5['lessonPlan'],_0x2f17e5),showConfirmation(_0x45ebd0(0x358),()=>handleGenerateLessonPlan(_0xf9c3c1)),document[_0x45ebd0(0x318)]('confirmation-modal')[_0x45ebd0(0x3f9)]('h3')[_0x45ebd0(0x950)]='แผนการสอน',document[_0x45ebd0(0x318)](_0x45ebd0(0x605))[_0x45ebd0(0x950)]=_0x45ebd0(0x89b)):handleGenerateLessonPlan(_0xf9c3c1);}else{if(_0x262aa1)handleToggleStarQuiz(_0x262aa1[_0x45ebd0(0x896)][_0x45ebd0(0x79c)]);else{if(_0x42f8a4)copyTextToClipboard(_0x42f8a4[_0x45ebd0(0x896)][_0x45ebd0(0x79c)],_0x45ebd0(0x8ac));else{if(_0x1d2851)handleOpenQuizEditor(_0x1d2851[_0x45ebd0(0x896)][_0x45ebd0(0x79c)]);else{if(_0x3496ae)handleQuizSettings(_0x3496ae[_0x45ebd0(0x896)][_0x45ebd0(0x79c)]);else{if(_0x14ef30)handleDuplicateQuiz(_0x14ef30[_0x45ebd0(0x896)][_0x45ebd0(0x79c)]);else{if(_0xb330a1)handleRenameQuiz(_0xb330a1[_0x45ebd0(0x896)][_0x45ebd0(0x79c)],_0xb330a1[_0x45ebd0(0x896)][_0x45ebd0(0x53e)]);else{if(_0xe76dd1){const _0x3008a3=_0xe76dd1[_0x45ebd0(0x896)][_0x45ebd0(0x79c)],_0x4bf135=allQuizzes['find'](_0x45ab7e=>_0x45ab7e['id']===_0x3008a3);_0x4bf135&&handleGenerateParallelFromBank(_0x4bf135);}else{if(_0x31ae52)handleMoveQuiz(_0x31ae52[_0x45ebd0(0x896)][_0x45ebd0(0x79c)]);else{if(_0xa273ab)handleManualQuizPairing(_0xa273ab[_0x45ebd0(0x896)][_0x45ebd0(0x79c)]);else{if(_0x32b556)handleUnpairQuiz(_0x32b556[_0x45ebd0(0x896)][_0x45ebd0(0x79c)]);else{if(_0x256dba){const _0x54e93b=_0x256dba['dataset'][_0x45ebd0(0x79c)],_0x216a81=allQuizzes[_0x45ebd0(0xa93)](_0x520d13=>_0x520d13['id']===_0x54e93b);if(_0x216a81)startPresentation(_0x216a81);}else{if(_0x43102d){const _0x595a7f=_0x43102d[_0x45ebd0(0x896)][_0x45ebd0(0x79c)],_0x584100=allQuizzes[_0x45ebd0(0xa93)](_0x45866b=>_0x45866b['id']===_0x595a7f);_0x584100&&(currentQuizData=_0x584100,startAdminTest());}else{if(_0x572de6)actionTargetId=_0x572de6[_0x45ebd0(0x896)][_0x45ebd0(0x79c)],document[_0x45ebd0(0x318)](_0x45ebd0(0x6ab))[_0x45ebd0(0x821)][_0x45ebd0(0x981)](_0x45ebd0(0x8be));else{if(_0xfa685)showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22'+_0xfa685[_0x45ebd0(0x896)][_0x45ebd0(0x53e)]+_0x45ebd0(0x4c2),()=>handleDeleteQuiz(_0xfa685['dataset'][_0x45ebd0(0x79c)]));else{if(_0x3f55ba)handleQuizStatus(_0x3f55ba[_0x45ebd0(0x896)][_0x45ebd0(0x79c)]);else{if(_0x4c56d3)handleGenerateEasyVersionQuiz(_0x4c56d3[_0x45ebd0(0x896)][_0x45ebd0(0x79c)]);else _0x1bd773&&showQuizDetailView(_0x1bd773['dataset']['quizId']);}}}}}}}}}}}}}}}}}}}}}}),document[_0x4dc72e(0x318)](_0x4dc72e(0x3c1))[_0x4dc72e(0x78c)](_0x4dc72e(0x382),()=>showView(_0x4dc72e(0x73a))),document['getElementById'](_0x4dc72e(0x64a))['addEventListener'](_0x4dc72e(0x382),confirmAndStartTeamQuiz),document[_0x4dc72e(0x318)]('quiz-leaderboard-table')[_0x4dc72e(0x3f9)]('thead')[_0x4dc72e(0x78c)](_0x4dc72e(0x382),_0x26653f=>{const _0x55ef5f=_0x4dc72e,_0x39182a=_0x26653f[_0x55ef5f(0xa81)]['closest'](_0x55ef5f(0x21d));if(!_0x39182a||!_0x39182a[_0x55ef5f(0x896)][_0x55ef5f(0xaa5)])return;const _0x6b07f0=_0x39182a[_0x55ef5f(0x896)][_0x55ef5f(0xaa5)];if(quizLeaderboardSortBy===_0x6b07f0)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0x55ef5f(0x3fb)?'desc':_0x55ef5f(0x3fb);else{quizLeaderboardSortBy=_0x6b07f0;const _0x31125b=['studentName'];quizLeaderboardSortOrder=_0x31125b[_0x55ef5f(0x680)](_0x6b07f0)?_0x55ef5f(0x3fb):'desc';}renderQuizLeaderboard(currentSubmissions,currentQuizData,'quiz-leaderboard-table-body');}),document[_0x4dc72e(0x318)](_0x4dc72e(0x9dc))[_0x4dc72e(0x78c)](_0x4dc72e(0x382),closePresentation),document['getElementById'](_0x4dc72e(0x4d0))[_0x4dc72e(0x78c)](_0x4dc72e(0x382),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document['getElementById'](_0x4dc72e(0x604))[_0x4dc72e(0x78c)](_0x4dc72e(0x382),()=>{const _0x5ce226=_0x4dc72e;currentQuizData[_0x5ce226(0x313)]&&currentPresentationSlide<currentQuizData[_0x5ce226(0x313)][_0x5ce226(0x326)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x4dc72e(0x78c)](_0x4dc72e(0x823),()=>{const _0x2c0260=_0x4dc72e;!document['fullscreenElement']&&(presentationModal[_0x2c0260(0xae7)][_0x2c0260(0x58e)]=_0x2c0260(0x6f7));}),document[_0x4dc72e(0x318)](_0x4dc72e(0x7aa))[_0x4dc72e(0x78c)]('click',handleDeleteAllStudents),studentList[_0x4dc72e(0x78c)](_0x4dc72e(0x382),_0xf5cabd=>{const _0x39734c=_0x4dc72e,_0x43bc56=_0xf5cabd[_0x39734c(0xa81)][_0x39734c(0x487)](_0x39734c(0x3a1));if(_0x43bc56){const _0x383464=_0x43bc56['dataset'][_0x39734c(0x8cb)];handleDeleteStudent(_0x383464);}}),document[_0x4dc72e(0x318)](_0x4dc72e(0xa28))[_0x4dc72e(0x78c)](_0x4dc72e(0x382),handleGenerateFromFileClick),fileUploadInput['addEventListener'](_0x4dc72e(0x87f),_0x1ee2fe=>{const _0x242a20=_0x4dc72e,_0xa296bd=_0x1ee2fe['target'][_0x242a20(0x3f3)][0x0],_0x193483=document['getElementById'](_0x242a20(0xa28));_0xa296bd?(selectedFile=_0xa296bd,_0x193483[_0x242a20(0x204)]=![]):(selectedFile=null,_0x193483[_0x242a20(0x204)]=!![]);}),document[_0x4dc72e(0x318)]('timer-mode-select')['addEventListener'](_0x4dc72e(0x87f),_0x35ad65=>{const _0x262637=_0x4dc72e,_0x3d38b2=document[_0x262637(0x318)]('timer-duration-container'),_0x53b17d=document['getElementById'](_0x262637(0x517)),_0x59095a=document['getElementById'](_0x262637(0x1fc));_0x35ad65[_0x262637(0xa81)][_0x262637(0x3e2)]===_0x262637(0x6f7)?_0x3d38b2[_0x262637(0x821)][_0x262637(0x231)]('hidden'):(_0x3d38b2[_0x262637(0x821)][_0x262637(0x981)](_0x262637(0x8be)),_0x35ad65['target']['value']===_0x262637(0x7b2)?(_0x53b17d[_0x262637(0x950)]=_0x262637(0x21c),_0x59095a['value']='10'):(_0x53b17d[_0x262637(0x950)]='ระยะเวลา\x20(วินาที):',_0x59095a['value']='30'));}),document[_0x4dc72e(0x318)](_0x4dc72e(0x689))['addEventListener']('change',_0x28ca83=>{const _0xe7f9c3=_0x4dc72e,_0x56e54d=document[_0xe7f9c3(0x318)]('num-choices-container'),_0x449cbf=_0x28ca83[_0xe7f9c3(0xa81)]['value'],_0x236cf0=document[_0xe7f9c3(0x3f9)](_0xe7f9c3(0x7bb)),_0x543d4c=document[_0xe7f9c3(0x318)](_0xe7f9c3(0x4e6)),_0x30dc6c=document[_0xe7f9c3(0x318)](_0xe7f9c3(0x589));_0x449cbf===_0xe7f9c3(0x866)?_0x236cf0[_0xe7f9c3(0x950)]=_0xe7f9c3(0x761):_0x236cf0[_0xe7f9c3(0x950)]='จำนวนข้อ:',_0x449cbf===_0xe7f9c3(0x40c)||_0x449cbf===_0xe7f9c3(0xa50)||_0x449cbf==='mixed'?_0x56e54d['classList']['remove'](_0xe7f9c3(0x8be)):_0x56e54d[_0xe7f9c3(0x821)][_0xe7f9c3(0x231)](_0xe7f9c3(0x8be)),_0x543d4c[_0xe7f9c3(0x481)]=_0x30dc6c[_0xe7f9c3(0x3e2)];}),document['getElementById'](_0x4dc72e(0x589))[_0x4dc72e(0x78c)](_0x4dc72e(0x7de),_0x46d122=>{const _0x4fc81f=_0x4dc72e;document[_0x4fc81f(0x318)](_0x4fc81f(0x4e6))['max']=_0x46d122[_0x4fc81f(0xa81)][_0x4fc81f(0x3e2)];}),document[_0x4dc72e(0x318)](_0x4dc72e(0x931))[_0x4dc72e(0x78c)]('change',_0x3f4165=>{const _0x12d856=_0x4dc72e,_0x5875b4=document['getElementById'](_0x12d856(0x5fe)),_0x62b71=document[_0x12d856(0x318)](_0x12d856(0x596)),_0x4abc1b=document[_0x12d856(0x318)](_0x12d856(0x39b));_0x3f4165[_0x12d856(0xa81)]['value']===_0x12d856(0x6f7)?_0x5875b4[_0x12d856(0x821)][_0x12d856(0x231)](_0x12d856(0x8be)):(_0x5875b4[_0x12d856(0x821)][_0x12d856(0x981)](_0x12d856(0x8be)),_0x3f4165['target']['value']===_0x12d856(0x7b2)?_0x62b71['textContent']='ระยะเวลา\x20(นาที):':_0x62b71[_0x12d856(0x950)]=_0x12d856(0x7bd));}),document[_0x4dc72e(0x318)](_0x4dc72e(0x87d))[_0x4dc72e(0x78c)]('click',()=>{const _0x501717=_0x4dc72e;document['getElementById'](_0x501717(0x480))[_0x501717(0x821)][_0x501717(0x231)](_0x501717(0x8be));}),document[_0x4dc72e(0x318)](_0x4dc72e(0x1ed))[_0x4dc72e(0x78c)](_0x4dc72e(0x382),()=>{const _0x461968=_0x4dc72e;document[_0x461968(0x318)]('quiz-editor-modal')['classList'][_0x461968(0x231)](_0x461968(0x8be));}),document[_0x4dc72e(0x318)](_0x4dc72e(0xaec))['addEventListener'](_0x4dc72e(0x382),handleVerifyAnswersInEditor),document[_0x4dc72e(0x318)](_0x4dc72e(0x53b))[_0x4dc72e(0x78c)]('click',()=>{const _0x2709f6=_0x4dc72e;document[_0x2709f6(0x318)](_0x2709f6(0x480))[_0x2709f6(0x821)][_0x2709f6(0x231)]('hidden'),showConfirmation('การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?',handleSaveChanges);}),document['getElementById']('auto-fix-latex-btn')[_0x4dc72e(0x78c)](_0x4dc72e(0x382),handleAutoFixLatex);const _0x159b70=document[_0x4dc72e(0x318)]('quiz-editor-questions-container');_0x159b70&&_0x159b70[_0x4dc72e(0x78c)]('click',_0xa511a7=>{const _0x359415=_0x4dc72e,_0x444d12=_0xa511a7['target'][_0x359415(0x487)](_0x359415(0x655)),_0x3aad8a=_0xa511a7[_0x359415(0xa81)]['closest'](_0x359415(0x94b));if(_0x444d12){const _0x498296=_0x444d12['closest']('.question-editor-item'),_0x4e03cc=parseInt(_0x498296[_0x359415(0x896)][_0x359415(0x64d)],0xa);handleRegenerateQuestionInEditor(_0x4e03cc);}else{if(_0x3aad8a){const _0x50cfce=_0x3aad8a[_0x359415(0x487)]('.question-editor-item'),_0x1b9b0c=parseInt(_0x50cfce[_0x359415(0x896)][_0x359415(0x64d)],0xa);handleAiFixFormula(_0x1b9b0c);}}});document['getElementById'](_0x4dc72e(0xaa9))['addEventListener'](_0x4dc72e(0x382),openQuizBankModal),document[_0x4dc72e(0x318)](_0x4dc72e(0x7b5))[_0x4dc72e(0x78c)](_0x4dc72e(0x382),()=>{const _0x533169=_0x4dc72e;document[_0x533169(0x318)]('quiz-bank-modal')[_0x533169(0x821)][_0x533169(0x231)](_0x533169(0x8be));}),document[_0x4dc72e(0x318)](_0x4dc72e(0x289))[_0x4dc72e(0x78c)](_0x4dc72e(0x7de),_0x4548c8=>renderQuizBankList(_0x4548c8[_0x4dc72e(0xa81)]['value']));const _0x4993b6=document['getElementById']('math-topics-checkbox-container');if(_0x4993b6){let _0x11022f=null;_0x4993b6[_0x4dc72e(0x78c)](_0x4dc72e(0x382),_0x32a010=>{const _0x3c8d24=_0x4dc72e,_0x25863f=_0x32a010[_0x3c8d24(0xa81)],_0x16fe8c=_0x25863f[_0x3c8d24(0x487)](_0x3c8d24(0x4bf)),_0x2eb3f9=_0x25863f[_0x3c8d24(0x487)](_0x3c8d24(0x598)),_0x46095b=_0x25863f['closest']('.save-custom-topic-btn'),_0x55436d=_0x25863f[_0x3c8d24(0x487)](_0x3c8d24(0x5fd));if(_0x2eb3f9){_0x32a010[_0x3c8d24(0x577)]();const _0x329807=_0x2eb3f9[_0x3c8d24(0x896)]['id'],_0x472077=_0x2eb3f9[_0x3c8d24(0x487)](_0x3c8d24(0xaba))[_0x3c8d24(0x3f9)]('.topic-name-display')[_0x3c8d24(0x950)];showConfirmation(_0x3c8d24(0x55a)+_0x472077+'\x22?',()=>handleDeleteCustomTopic(_0x329807));}else{if(_0x16fe8c){_0x32a010['preventDefault']();_0x11022f&&toggleTopicEditMode(_0x11022f,![]);const _0x15b340=_0x16fe8c['closest'](_0x3c8d24(0x9e1));_0x11022f=_0x15b340,toggleTopicEditMode(_0x15b340,!![]);}else{if(_0x46095b){_0x32a010[_0x3c8d24(0x577)]();const _0x4b8ac6=_0x46095b[_0x3c8d24(0x896)]['id'],_0x397f77=_0x46095b['closest'](_0x3c8d24(0x9e1)),_0x5bd38d=_0x397f77[_0x3c8d24(0x3f9)](_0x3c8d24(0x8b9))[_0x3c8d24(0x3e2)];handleUpdateCustomTopic(_0x4b8ac6,_0x5bd38d),_0x11022f=null;}else{if(_0x55436d){_0x32a010[_0x3c8d24(0x577)]();const _0x41f684=_0x55436d[_0x3c8d24(0x487)]('[data-topic-container-id]');toggleTopicEditMode(_0x41f684,![]),_0x11022f=null;}}}}}),document[_0x4dc72e(0x318)](_0x4dc72e(0x4a0))['addEventListener']('click',()=>{const _0x54a38b=_0x4dc72e;document['getElementById'](_0x54a38b(0x6f2))[_0x54a38b(0x821)][_0x54a38b(0x231)]('hidden');}),document['getElementById'](_0x4dc72e(0x973))[_0x4dc72e(0x78c)](_0x4dc72e(0x382),()=>{const _0x4abf89=_0x4dc72e;document[_0x4abf89(0x318)](_0x4abf89(0x6f2))['classList']['add'](_0x4abf89(0x8be));}),document[_0x4dc72e(0x318)](_0x4dc72e(0x540))[_0x4dc72e(0x78c)]('click',handleExportLessonPDF);}document[_0x4dc72e(0x318)](_0x4dc72e(0x572))['addEventListener'](_0x4dc72e(0x382),()=>{const _0x6cbacf=_0x4dc72e;document[_0x6cbacf(0x318)](_0x6cbacf(0x850))['classList']['add']('hidden');}),document['getElementById'](_0x4dc72e(0x34d))[_0x4dc72e(0x78c)](_0x4dc72e(0x382),()=>{const _0x55a2ba=_0x4dc72e;document[_0x55a2ba(0x318)](_0x55a2ba(0x850))['classList'][_0x55a2ba(0x231)](_0x55a2ba(0x8be));}),setupComparisonModalTabs(),document['body'][_0x4dc72e(0x78c)](_0x4dc72e(0x382),function(_0xbd132e){const _0x23fafe=_0x4dc72e;if(_0xbd132e[_0x23fafe(0xa81)][_0x23fafe(0x821)][_0x23fafe(0x47b)](_0x23fafe(0x247))){const _0x50384b=unescape(_0xbd132e[_0x23fafe(0xa81)][_0x23fafe(0x896)]['topic']);startSkillPractice(_0x50384b);}}),document['getElementById'](_0x4dc72e(0x76d))[_0x4dc72e(0x78c)](_0x4dc72e(0x382),_0x342e69=>{const _0x1d7bed=_0x4dc72e,_0x191cde=_0x342e69[_0x1d7bed(0xa81)]['closest'](_0x1d7bed(0x309));if(_0x191cde){const _0x172e1a=_0x191cde[_0x1d7bed(0x896)]['studentName'];handleDeleteSubmission(_0x172e1a);}});}async function handleStartGroupMode(_0x306b5e,_0x58efbb=![]){const _0x4a5093=_0x5b6af5,_0x36b4a2=allQuizzes['find'](_0x25206e=>_0x25206e['id']===_0x306b5e)||allQuizzesGlobal[_0x4a5093(0xa93)](_0xd8967d=>_0xd8967d['id']===_0x306b5e);if(!_0x36b4a2){showMessage(_0x4a5093(0x1f2));return;}currentQuizData=getShuffledQuiz(_0x36b4a2);const _0x8e899c=Math['floor'](0x3e8+Math['random']()*0x2328)['toString']();try{const _0x4de9be=await addDoc(collection(db,_0x4a5093(0x58b)+appId+_0x4a5093(0x963)),{'quizId':_0x36b4a2['id'],'projectId':_0x36b4a2[_0x4a5093(0x1f9)],'status':_0x4a5093(0x45d),'pin':_0x8e899c,'mode':_0x4a5093(0x20d),'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'groups':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x58efbb});currentTeamQuizId=_0x4de9be['id'],showView(_0x4a5093(0x7a3)),renderAdminTeamQuizDashboard(_0x8e899c,_0x36b4a2['topic'],_0x4a5093(0x20d)),listenForTeamQuizUpdates();}catch(_0x2a089a){console['error']('Error\x20starting\x20group\x20quiz:',_0x2a089a),showMessage(_0x4a5093(0x96b));}}async function showStudentProgressView(){const _0x37a81b=_0x5b6af5;studentInitialView[_0x37a81b(0x821)][_0x37a81b(0x231)]('hidden'),document[_0x37a81b(0x318)]('student-progress-view')[_0x37a81b(0x821)]['remove'](_0x37a81b(0x8be));const _0x219e23=document[_0x37a81b(0x318)](_0x37a81b(0xa66)),_0x3c8614=document[_0x37a81b(0x318)]('progress-student-select'),_0x282b50=document[_0x37a81b(0x318)](_0x37a81b(0x987));_0x282b50[_0x37a81b(0x993)]=_0x37a81b(0x39e),_0x3c8614[_0x37a81b(0x993)]=_0x37a81b(0x4ce),_0x3c8614['disabled']=!![],_0x219e23[_0x37a81b(0x993)]=_0x37a81b(0x5c4);if(allProjects[_0x37a81b(0x326)]===0x0){const _0x289e27=collection(db,_0x37a81b(0x58b)+appId+_0x37a81b(0x268)),_0x2ff0f9=await getDocs(_0x289e27);allProjects=_0x2ff0f9[_0x37a81b(0xa18)][_0x37a81b(0xa7a)](_0x4714f6=>({'id':_0x4714f6['id'],..._0x4714f6[_0x37a81b(0x266)]()}));}const _0x587853=allProjects['filter'](_0x487d70=>_0x487d70['settings']?.[_0x37a81b(0x73e)]!==![]);_0x587853[_0x37a81b(0xaa5)]((_0x4509f3,_0x42d78e)=>_0x4509f3['projectName']['localeCompare'](_0x42d78e[_0x37a81b(0x368)],'th')),_0x219e23[_0x37a81b(0x993)]=_0x37a81b(0x9bc)+_0x587853[_0x37a81b(0xa7a)](_0x17068b=>_0x37a81b(0x6ed)+_0x17068b['id']+'\x22>'+_0x17068b[_0x37a81b(0x368)]+_0x37a81b(0x91e))[_0x37a81b(0x8c0)](''),_0x219e23[_0x37a81b(0x879)]=()=>{const _0x38b1cc=_0x37a81b,_0x3aabe5=_0x3c8614[_0x38b1cc(0x3e2)],_0x20fd0d=_0x219e23[_0x38b1cc(0x3e2)];_0x3c8614[_0x38b1cc(0x204)]=!![],_0x3c8614[_0x38b1cc(0x993)]='<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>',_0x282b50[_0x38b1cc(0x993)]=_0x38b1cc(0x8d8);if(!_0x20fd0d)return;const _0x11aa0d=allProjects[_0x38b1cc(0xa93)](_0x1451a8=>_0x1451a8['id']===_0x20fd0d);if(!_0x11aa0d||!_0x11aa0d[_0x38b1cc(0x938)])return;const _0xc756aa=()=>{const _0x5927f9=_0x38b1cc;_0x3c8614[_0x5927f9(0x993)]=_0x5927f9(0x4ce)+_0x11aa0d[_0x5927f9(0x938)][_0x5927f9(0xa7a)](_0x2209dd=>_0x5927f9(0x6ed)+_0x2209dd+'\x22>'+_0x2209dd+_0x5927f9(0x91e))['join'](''),_0x3c8614[_0x5927f9(0x204)]=![];const _0x4c9bfe=Array[_0x5927f9(0x918)](_0x3c8614['options'])['map'](_0x4a2019=>_0x4a2019[_0x5927f9(0x3e2)]);if(_0x3aabe5&&_0x4c9bfe[_0x5927f9(0x680)](_0x3aabe5))_0x3c8614[_0x5927f9(0x3e2)]=_0x3aabe5,_0x3c8614[_0x5927f9(0x71d)](new Event(_0x5927f9(0x87f)));else _0x11aa0d[_0x5927f9(0x938)][_0x5927f9(0x326)]===0x1&&(_0x3c8614[_0x5927f9(0x3e2)]=_0x11aa0d[_0x5927f9(0x938)][0x0],_0x3c8614[_0x5927f9(0x71d)](new Event('change')));};if(_0x11aa0d[_0x38b1cc(0x492)]?.['isPasscodeEnabled']){if(sessionStorage[_0x38b1cc(0x7b6)](_0x38b1cc(0x494)+_0x20fd0d)===_0x38b1cc(0x2a4)){_0xc756aa();return;}const _0x56fc78=document[_0x38b1cc(0x318)](_0x38b1cc(0x5ae)),_0x42bc8b=document[_0x38b1cc(0x318)](_0x38b1cc(0xaa6)),_0x4538a7=document[_0x38b1cc(0x318)](_0x38b1cc(0x556)),_0x6b3151=document[_0x38b1cc(0x318)](_0x38b1cc(0x541)),_0xba6ae4=document['getElementById'](_0x38b1cc(0x941));document[_0x38b1cc(0x318)](_0x38b1cc(0x695))[_0x38b1cc(0x950)]=_0x38b1cc(0x9bd)+_0x11aa0d['projectName'],_0x6b3151[_0x38b1cc(0x3e2)]='',_0xba6ae4[_0x38b1cc(0x821)]['add'](_0x38b1cc(0x8be)),_0x56fc78[_0x38b1cc(0x821)]['remove'](_0x38b1cc(0x8be));const _0x268ced=()=>{const _0x125d71=_0x38b1cc,_0x2200c9=_0x6b3151[_0x125d71(0x3e2)][_0x125d71(0x442)]();_0x2200c9===_0x11aa0d[_0x125d71(0x492)][_0x125d71(0x4c5)]?(sessionStorage[_0x125d71(0x45b)](_0x125d71(0x494)+_0x20fd0d,_0x125d71(0x2a4)),_0x56fc78[_0x125d71(0x821)][_0x125d71(0x231)](_0x125d71(0x8be)),_0xc756aa(),_0x42bc8b['removeEventListener'](_0x125d71(0x382),_0x268ced)):_0xba6ae4[_0x125d71(0x821)][_0x125d71(0x981)]('hidden');};_0x42bc8b[_0x38b1cc(0xad8)]=_0x268ced,_0x4538a7[_0x38b1cc(0xad8)]=()=>{const _0x376e01=_0x38b1cc;_0x56fc78[_0x376e01(0x821)][_0x376e01(0x231)](_0x376e01(0x8be)),_0x219e23[_0x376e01(0x3e2)]='',_0x42bc8b[_0x376e01(0x7d1)](_0x376e01(0x382),_0x268ced);};}else _0xc756aa();},_0x3c8614[_0x37a81b(0x879)]=()=>{const _0x122c96=_0x37a81b,_0x5bef6e=_0x219e23[_0x122c96(0x3e2)],_0x2bae86=_0x3c8614[_0x122c96(0x3e2)];_0x5bef6e&&_0x2bae86&&renderStudentProgressDashboard(_0x5bef6e,_0x2bae86);};}async function confirmAndJoinSyncGame(){const _0x3deec0=_0x5b6af5,_0x17f45d=Array[_0x3deec0(0x918)](document['querySelectorAll'](_0x3deec0(0x324)))[_0x3deec0(0xa7a)](_0x57c5b3=>_0x57c5b3[_0x3deec0(0x3e2)]);if(_0x17f45d[_0x3deec0(0x326)]===0x0){showMessage(_0x3deec0(0x818));return;}localTeamPlayers=_0x17f45d,localPlayerTurnIndex=0x0;const _0x2ea301=doc(db,_0x3deec0(0x58b)+appId+_0x3deec0(0x649),currentLiveGameId),_0x57375a={};_0x17f45d[_0x3deec0(0x394)](_0x49a4c4=>{const _0x1c8a53=_0x3deec0;_0x57375a[_0x1c8a53(0x441)+_0x49a4c4]={'name':_0x49a4c4,'score':0x0,'answered':![]};});try{await updateDoc(_0x2ea301,_0x57375a),document[_0x3deec0(0x318)]('student-team-selection-view')['classList'][_0x3deec0(0x231)](_0x3deec0(0x8be)),currentStudentName=_0x17f45d[0x0],listenForSyncGameUpdates();const _0x27ed76={'gameId':currentLiveGameId,'mode':_0x3deec0(0xa13),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage['setItem']('activeGameSession',JSON[_0x3deec0(0x617)](_0x27ed76));}catch(_0x35545b){console['error']('Error\x20confirming\x20players\x20for\x20sync\x20game:',_0x35545b),showMessage('เกิดข้อผิดพลาดในการยืนยันผู้เล่น');}}async function resumeActiveGameSession(){const _0x3d0571=_0x5b6af5,_0x26ee9f=sessionStorage[_0x3d0571(0x7b6)]('activeGameSession');if(!_0x26ee9f)return;const _0x2038de=JSON['parse'](_0x26ee9f),{gameId:_0x521eae,mode:_0x5cbb50,players:_0x1c077d,turnIndex:_0x56602a}=_0x2038de;try{let _0xcc09d7,_0x668906;_0x5cbb50===_0x3d0571(0xa13)?_0xcc09d7=doc(db,'artifacts/'+appId+'/public/data/syncGames',_0x521eae):_0xcc09d7=doc(db,_0x3d0571(0x58b)+appId+_0x3d0571(0x963),_0x521eae);_0x668906=await getDoc(_0xcc09d7);if(!_0x668906[_0x3d0571(0xa76)]()||_0x668906[_0x3d0571(0x266)]()[_0x3d0571(0x6d0)]==='finished'||_0x668906['data']()[_0x3d0571(0x6d0)]===_0x3d0571(0x3ce)){sessionStorage[_0x3d0571(0x1e0)](_0x3d0571(0x7f5));return;}console['log'](_0x3d0571(0x750)+_0x5cbb50+_0x3d0571(0x380)+_0x521eae+')'),localTeamPlayers=_0x1c077d,localPlayerTurnIndex=_0x56602a;if(_0x5cbb50===_0x3d0571(0xa13))currentLiveGameId=_0x521eae,currentStudentName=_0x1c077d[0x0],showView('live-game'),listenForSyncGameUpdates();else{currentTeamQuizId=_0x521eae;const _0x19eb52=_0x668906[_0x3d0571(0x266)](),_0x7954f7=doc(db,_0x3d0571(0x58b)+appId+_0x3d0571(0xaca),_0x19eb52['quizId']),_0x56ce7f=await getDoc(_0x7954f7);_0x56ce7f[_0x3d0571(0xa76)]()&&(currentQuizData=getShuffledQuiz({'id':_0x56ce7f['id'],..._0x56ce7f[_0x3d0571(0x266)]()}),showView(_0x3d0571(0x73a)),studentInitialView['classList'][_0x3d0571(0x231)]('hidden'),renderTeamQuizQuestion());}}catch(_0x11c641){console['error'](_0x3d0571(0x3dc),_0x11c641),sessionStorage[_0x3d0571(0x1e0)]('activeGameSession');}}async function handleKickPlayerSync(_0x1a0c28){const _0x289eac=_0x5b6af5;if(!currentLiveGameId||!_0x1a0c28)return;const _0x565538=doc(db,_0x289eac(0x58b)+appId+_0x289eac(0x649),currentLiveGameId),_0x1168a4={};_0x1168a4[_0x289eac(0x441)+_0x1a0c28+'.status']=_0x289eac(0x592);try{await updateDoc(_0x565538,_0x1168a4);}catch(_0x5318c0){console[_0x289eac(0x581)](_0x289eac(0x9d2)+_0x1a0c28+_0x289eac(0x38d),_0x5318c0),showMessage(_0x289eac(0x2ef));}}async function renderStudentProgressDashboard(_0x49851f,_0x990f69){const _0x56d6fe=_0x5b6af5,_0x7f2212=document['getElementById']('student-progress-content');_0x7f2212[_0x56d6fe(0x993)]=_0x56d6fe(0x3e1);try{const _0x2fa72f=collection(db,'artifacts/'+appId+_0x56d6fe(0xaca)),_0x5d7127=query(_0x2fa72f,where(_0x56d6fe(0x1f9),'==',_0x49851f)),_0xc5d1f3=await getDocs(_0x5d7127),_0x5d4c5b=_0xc5d1f3['docs'][_0x56d6fe(0xa7a)](_0x1daa44=>({'id':_0x1daa44['id'],..._0x1daa44[_0x56d6fe(0x266)]()})),_0x1f26eb=_0x5d4c5b[_0x56d6fe(0xa7a)](_0x508077=>getDoc(doc(db,_0x56d6fe(0x58b)+appId+_0x56d6fe(0x39f)+_0x508077['id']+_0x56d6fe(0x7f2),_0x990f69))),_0x57344c=await Promise['all'](_0x1f26eb),_0x534d11=_0x57344c[_0x56d6fe(0x5e3)](_0x49c37f=>_0x49c37f[_0x56d6fe(0xa76)]())[_0x56d6fe(0xa7a)](_0x2ff1d0=>({'quizId':_0x2ff1d0[_0x56d6fe(0x5c9)][_0x56d6fe(0x558)][_0x56d6fe(0x558)]['id'],..._0x2ff1d0[_0x56d6fe(0x266)]()}));if(_0x534d11[_0x56d6fe(0x326)]===0x0){_0x7f2212['innerHTML']=_0x56d6fe(0x312);return;}let _0x43969d=_0x56d6fe(0x3e9);_0x534d11[_0x56d6fe(0x394)](_0x3297c9=>{const _0x1893c2=_0x56d6fe,_0x12cfc2=_0x5d4c5b[_0x1893c2(0xa93)](_0x3e2750=>_0x3e2750['id']===_0x3297c9['quizId']),_0x12d9b6=_0x12cfc2['settings']?.['resultsDisplay']||_0x1893c2(0x696),_0x67ff7a=_0x12cfc2['settings']?.[_0x1893c2(0x72c)]??0x0,_0x235e3d=_0x3297c9[_0x1893c2(0x74c)]>=_0x67ff7a;let _0x5a4b05='',_0x3e7e77='bg-gray-50';switch(_0x12d9b6){case _0x1893c2(0x696):case _0x1893c2(0x41e):_0x3e7e77=_0x235e3d?_0x1893c2(0x8b3):_0x1893c2(0xaf6),_0x5a4b05=_0x1893c2(0x36b)+(_0x235e3d?_0x1893c2(0xa1f):'text-red-700')+'\x22>'+_0x3297c9[_0x1893c2(0x74c)]+_0x1893c2(0x682)+_0x3297c9[_0x1893c2(0x550)]+_0x1893c2(0x4e7)+(_0x235e3d?_0x1893c2(0xa74):_0x1893c2(0x356))+'\x22>'+(_0x235e3d?_0x1893c2(0xaaa):_0x1893c2(0x52a))+_0x1893c2(0x366);break;case'show_pass_fail_only':_0x3e7e77=_0x235e3d?_0x1893c2(0x8b3):'bg-red-50',_0x5a4b05=_0x1893c2(0x726)+(_0x235e3d?_0x1893c2(0xa74):_0x1893c2(0x356))+'\x22>'+(_0x235e3d?'ผ่าน':_0x1893c2(0x52a))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case'manual_release':_0x3e7e77=_0x1893c2(0x340),_0x5a4b05=_0x1893c2(0x4a8);break;}_0x43969d+=_0x1893c2(0x508)+_0x3e7e77+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+_0x12cfc2[_0x1893c2(0x53e)]+_0x1893c2(0xa4d)+_0x3297c9[_0x1893c2(0x49a)][_0x1893c2(0x326)]+_0x1893c2(0x838)+new Date(_0x3297c9['latestSubmittedAt'])[_0x1893c2(0x504)](_0x1893c2(0x668))+_0x1893c2(0xac3)+_0x5a4b05+_0x1893c2(0x967);}),_0x43969d+=_0x56d6fe(0x6cb),_0x7f2212[_0x56d6fe(0x993)]=_0x43969d;}catch(_0x3b709a){console[_0x56d6fe(0x581)]('Error\x20rendering\x20student\x20progress:',_0x3b709a),_0x7f2212[_0x56d6fe(0x993)]=_0x56d6fe(0x808);}}function setupStudentProgressListeners(){const _0x5b423d=_0x5b6af5;document[_0x5b423d(0x318)]('view-my-progress-btn')[_0x5b423d(0x78c)]('click',showStudentProgressView),document[_0x5b423d(0x318)]('back-to-student-home-btn')[_0x5b423d(0x78c)](_0x5b423d(0x382),()=>{const _0x30719f=_0x5b423d;document[_0x30719f(0x318)]('student-progress-view')['classList']['add'](_0x30719f(0x8be)),document[_0x30719f(0x318)](_0x30719f(0x392))['classList'][_0x30719f(0x981)](_0x30719f(0x8be));});}async function startSkillPractice(_0x153730){const _0x3eb3aa=_0x5b6af5;studentResultArea[_0x3eb3aa(0x821)]['add'](_0x3eb3aa(0x8be)),studentQuizArea[_0x3eb3aa(0x993)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',studentQuizArea[_0x3eb3aa(0x821)][_0x3eb3aa(0x981)](_0x3eb3aa(0x8be));try{const _0x3e6dac=await getStandardizedTopic(_0x153730);console['log'](_0x3eb3aa(0x674)+_0x153730+'\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22'+_0x3e6dac+'\x22'),studentQuizArea['querySelector']('p')[_0x3eb3aa(0x950)]=_0x3eb3aa(0xae9)+_0x3e6dac+_0x3eb3aa(0x403);const _0x2082e9=collection(db,_0x3eb3aa(0x58b)+appId+_0x3eb3aa(0x6dd)),_0x1abed6=query(_0x2082e9,where('topic','==',_0x3e6dac)),_0x29ccff=await getDocs(_0x1abed6);if(_0x29ccff['docs'][_0x3eb3aa(0x326)]>=0x3){console['log'](_0x3eb3aa(0x62a)+_0x29ccff[_0x3eb3aa(0xa18)]['length']+_0x3eb3aa(0x464)+_0x3e6dac+_0x3eb3aa(0xaf1));let _0x25034c=_0x29ccff[_0x3eb3aa(0xa18)][_0x3eb3aa(0xa7a)](_0x813e7c=>_0x813e7c[_0x3eb3aa(0x266)]());shuffleArray(_0x25034c);const _0x3bbb3e={'topic':_0x3e6dac,'questions':_0x25034c[_0x3eb3aa(0xb0f)](0x0,0x3)};displaySkillPracticeDrill(_0x3bbb3e);}else{console['log']('ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22'+_0x3e6dac+_0x3eb3aa(0x1fa));const _0x40c104=await generatePracticeQuestions(_0x3e6dac);await saveDrillToPracticeBank(_0x40c104,_0x3e6dac),displaySkillPracticeDrill(_0x40c104);}}catch(_0x34b971){console[_0x3eb3aa(0x581)]('ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:',_0x34b971),showMessage('ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง'),studentQuizArea[_0x3eb3aa(0x821)][_0x3eb3aa(0x231)](_0x3eb3aa(0x8be)),studentResultArea[_0x3eb3aa(0x821)][_0x3eb3aa(0x981)]('hidden');}}async function saveDrillToPracticeBank(_0x3fbce6,_0x1c758b){const _0xbbf3f2=_0x5b6af5,_0x499ea1=collection(db,_0xbbf3f2(0x58b)+appId+_0xbbf3f2(0x6dd)),_0x5f5b0f=writeBatch(db);_0x3fbce6[_0xbbf3f2(0x313)]['forEach'](_0x509a91=>{const _0x5dde25=_0xbbf3f2,_0x244882=doc(_0x499ea1);_0x5f5b0f[_0x5dde25(0xaa2)](_0x244882,{'topic':_0x1c758b,'questionText':_0x509a91[_0x5dde25(0x7a4)],'options':_0x509a91[_0x5dde25(0x6c3)],'correctAnswerIndex':_0x509a91[_0x5dde25(0x859)],'explanation':_0x509a91[_0x5dde25(0xb12)],'createdAt':serverTimestamp()});});try{await _0x5f5b0f[_0xbbf3f2(0x991)](),console[_0xbbf3f2(0xaa8)]('บันทึกคำถามใหม่\x20'+_0x3fbce6[_0xbbf3f2(0x313)]['length']+_0xbbf3f2(0x8db));}catch(_0x6d77d8){console['error'](_0xbbf3f2(0xa9f),_0x6d77d8);}}async function getStandardizedTopic(_0x1e6420){const _0xc35e35=_0x5b6af5,_0x2427c5=_0xc35e35(0x6ca)+_0x1e6420+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20',_0xfd7c19={'type':_0xc35e35(0xa0a),'properties':{'standardTopic':{'type':_0xc35e35(0x864)}},'required':['standardTopic']};try{const _0x51684d=await callAnalysisApi(_0x2427c5,_0xfd7c19);return _0x51684d[_0xc35e35(0x237)];}catch(_0xa4648){return console['error'](_0xc35e35(0x6c6),_0xa4648),_0x1e6420;}}function _0xc703(){const _0x19f13f=['#e21b3c','[data-topic-container-id]','กรุณาเลือกไฟล์ก่อน','bg-amber-100\x20text-amber-800','\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','sqrt','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>','<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','bg-black/20','retake-quiz-loop-btn','</p><p><strong>เฉลย:</strong>\x20','.project-card-container[data-id]','answer-counter','w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','close-student-rankings-btn','<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','actions-container-','_opt1\x22\x20name=\x22question','ความน่าจะเป็นแบบมีเงื่อนไข','พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)','mousedown','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20p-2\x20rounded-md\x20hover:bg-gray-200\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22team_player\x22\x20value=\x22','Original\x20quiz\x20not\x20found','preTScore','แบบทดสอบที่ติดดาว','รูปแบบการให้เหตุผล','<div\x20class=\x22my-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x09\x09\x09<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x5cge','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ค่าคลาดเคลื่อนของการวัด','behavior-log','จัดการ','อัปเดตแบบทดสอบเก่า\x20','อุณหภูมิและการแปลง','เวกเตอร์และเมทริกซ์\x20(เสริม)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','OBJECT','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...','\x20คือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22main-correct-answer-display\x22\x20class=\x22text-4xl\x20font-bold\x20text-white\x20mt-1\x22>','ยืนยันการจับคู่','-tab','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','some','คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?','sync','manage-tab','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','text-red-300\x20hover:text-red-100','.start-live-race-btn','docs','toLowerCase','duration-300','\x22\x20name=\x22question','custom-math-topic-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','name_desc','text-green-700','\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.score','padStart','Error\x20updating\x20old\x20quizzes:','open-scratchpad-btn','การกระจายและการจัดหมู่','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>','loader','generate-from-file-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20เอกสารข้อสอบอ้างอิง\x20(Reference\x20for\x20Difficulty)\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','rows','abs','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก','create-from-bank-btn','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','confirm-quiz-status-btn','Enter','ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20bg-black/10\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','timerMode','ไม่พบตารางสำหรับ\x20Export','<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>','shuffleSetting','ไฮเพอร์โบลา','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','confirm-bulk-quiz-settings-btn','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>','ไม่พบแบบทดสอบสำหรับรหัสนี้','<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20','\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','leq','className','katex','bulk-quiz-settings-modal','overline','cloneNode','cancel-move-quiz-btn','upperGroupNames','next-drill-btn','เกิดข้อผิดพลาดในการโหลดสถานะ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20','.\x20แต่ละข้อมี\x20','\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fill_in_with_choices','จากเนื้อหาต่อไปนี้:\x20\x22','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','พีชคณิตและฟังก์ชัน','#6366F1','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','topic-input-area','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>','.doc','dashboardConfig','ตัวประกอบและตัวประกอบเฉพาะ','back-from-results-btn','เกิดข้อผิดพลาดในการเข้าร่วมเกม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>','execCommand','input[type=\x22checkbox\x22]:checked','results-display-select','generate-worksheet-btn','<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>','ปริมาตร/ความจุและการแปลง','progress-project-select','postScore','\x5cfrac','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20','pen','Error\x20listening\x20for\x20projects:','gain','modal-loop-until-pass-checkbox','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','description','หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20','กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...','bg-green-200\x20text-green-800','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20','exists','student-team-selection-view','presentation-slide-container','บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...','map','text-gray-300\x20hover:text-white','เพิ่มหัวข้อ\x20\x22','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','$1\x5cfrac','สมการยกกำลัง','target','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-red-500\x20hover:text-red-700','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','.highlighter-color-btn','lineJoin','\x20ใหม่...','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>','href','open','text','\x22\x20data-mode=\x22sync\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x22></i>\x20Sync\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','.start-presentation-list-btn','\x22>ใช่</p>','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','lesson-plan-title','.quiz-status-btn','find','leaderboard-quiz-tab-content','</textarea>\x0a\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','cos','reduce','\x5cneq','start-quiz-btn','ชื่อโปรเจคห้ามว่าง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>สรุปคะแนนของคุณ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','/users/','short_answer','Error\x20saving\x20questions\x20to\x20practice\x20bank:','\x5ccdot','quiz-start-time','set','bg-red-100\x20text-red-800','.parallel-quiz-btn','sort','confirm-passcode-btn','per-q-countdown','log','open-quiz-bank-btn','ผ่าน','toDataURL','confirm-create-project-btn','confirm-rename-quiz-btn','การประยุกต์เวกเตอร์พื้นฐาน','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','setFont','student-result-area','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-2\x20lg:grid-cols-3\x20gap-2\x22>','parallel-test-tab','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','เรขาคณิตวิเคราะห์','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','ศูนย์','.group','ดีเทอร์มิแนนต์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','toDate','cancel-create-project-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]','test','export-pdf-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','strength-weakness-analysis-container','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20สร้างแบบทดสอบชุดใหม่ที่สมบูรณ์\x20โดยมีโครงสร้าง\x20**ตรงตาม\x20Test\x20Blueprint\x20ทุกประการ**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ข้อสอบที่สร้างใหม่จะต้องมีระดับความยากและความซับซ้อน\x20**เทียบเท่ากับข้อสอบอ้างอิง**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20**ห้ามคัดลอกคำถามจากข้อสอบอ้างอิงมาโดยตรง**\x20ให้ใช้เป็นแนวทางในการสร้างโจทย์ใหม่เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x206.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20Test\x20Blueprint\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pairedQuizId','selected-answer-index-hidden','\x22><span>','/public/data/quizzes','questions_only','repeat','tGain','กำลังสร้างรูปภาพ...','(คู่ขนาน)\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','8MTFLaN','entries','touchstart','overallGroups','อัปเดตพฤติกรรมสำหรับ\x20','px)\x20scale(','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','onclick','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>','อัปเดตการตั้งค่าของแบบทดสอบ\x20','\x5cfrac{','svg','bg-gray-500','results-quiz-title','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','#FCE7F3','<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>','การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)','ไม่พบแบบทดสอบ','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','style','autoTable','กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22','หลังเรียน','\x20mb-2\x22>','verify-answers-editor-btn','instructions','\x20หัวข้อ)','generate-from-blueprint-btn','release','\x22.\x20กำลังสุ่มเลือกมาใช้งาน...','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','มัธยฐาน','\x20pointer-events-none\x22>สร้างเมื่อ:\x20','bg-red-50','.csv','ไม่มี','คุณแน่ใจหรือไม่ว่าต้องการจบกิจกรรมนี้?','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','\x20จาก\x20','Error\x20duplicating\x20quiz:','\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20','อัตราการเปลี่ยนแปลงทันที','select','ใช่','questionType','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20','กรุณาเลือกชื่อของคุณ','originalQuestionText','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว','add-student-btn','text-gray-100','เกิดข้อผิดพลาดในการบันทึก','export-image-btn','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20my-4\x20py-4\x20bg-black/20\x20rounded-lg\x20shadow-inner\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20text-yellow-300\x20mt-3\x20font-semibold\x22>คำตอบที่ถูกต้องสำหรับข้อ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x20text-purple-600\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20','slice','Error\x20listening\x20for\x20starred\x20quizzes:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20','explanation','ดอกเบี้ยทบต้น','circ','cancel-admin-login-btn','project-detail','update-old-quizzes-btn','\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','results_','create-project-btn','quiz-bank-count','startTime','jspdf','badgesCount','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</h3>','Re-grade\x20process\x20failed:','เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม','\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','half_mark_status','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','removeItem','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','ควรปรับปรุง','fullscreenElement','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20','</p></div>','then','hint-btn','Error\x20fetching\x20quiz\x20settings:','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bank-quiz-list','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','cancel-quiz-edits-btn-footer','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','trail-tool-btn','question-complexity-select','ไม่พบข้อมูลแบบทดสอบ','admin-password-input','cancel-global-live-btn','selected-topics-count','student-quiz-topic','/public/data/projects/','บันทึกผลการเล่นเกมของ\x20','projectId','\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...','AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่','timer-duration-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20saving\x20game\x20results:','<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>','line-through\x20text-red-700','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-green-500\x20text-white\x20border-2\x20border-green-200\x20shadow-lg','Error\x20deleting\x20student:','disabled','\x5cs*\x5c(','จุด\x20เส้น\x20ระนาบ','<span\x20class=\x22sort-indicator\x20ml-2\x22>','\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>','submit-team-answer-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','comparison-overall-tab','text-gray-500','group','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง','onload','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20','กรุณาเลือกคำตอบ','ไม่ได้ตอบ','ตอบถูกทุกข้อในแบบทดสอบนี้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white/30\x22>','presentation-explanation','download','quiz-form','</span><span\x20class=\x22font-bold\x22>','ระยะเวลา\x20(นาที):','.sortable-header','generate-from-text-btn','<div\x20class=\x22answer-space\x22></div>','ส่วนเบี่ยงเบนมาตรฐาน','สมการราก\x20(radical)','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','\x0a\x20\x20\x20-\x20ตัวเลือก:\x20','.answer-text','ยืนยันการกระทำ','screen','math-topics-checkbox-container','body','standard','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','ผู้ควบคุม\x20(ทดสอบ)','confirm-confident','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','\x22\x20class=\x22kick-player-btn-sync\x20text-red-300\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p><strong>คำตอบของคุณ:</strong>\x20','add','file-tab','comparison-individual-tab','#student-quiz-leaderboard-content\x20thead','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','(ฉบับง่าย)\x20','standardTopic','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','appendChild','$1\x5ctext(','Error\x20deleting\x20submission:','border-red-700','(เลือกแล้ว\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20','กรุณาเลือกคำตอบก่อนครับ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20ภารกิจของคุณคือตรวจทานความถูกต้องของเฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','ไม่สามารถโหลดรายการโปรเจคได้','eraser','.project-card-container.opacity-50','generate-from-parallel-test-btn','undefined','lowerGroupResponders','practice-topic-btn','file-topic-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','Error\x20joining\x20team\x20quiz:','offsetWidth','/studentProfiles','cursor','\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>','quiz-search-input','Error\x20displaying\x20question\x20bank:','groups','isConfidenceScoringEnabled','now','quick_thinker','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20','text-indigo-700','ตั้งเวลา\x20(เปิด)','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','gamePin','กราฟแท่ง\x20กราฟเส้น','<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','items','leaderboard-quiz-tab-btn','ปรับเพิ่ม/ลดเป็นร้อยละ','fixed','contentEditable','Error\x20starting\x20live\x20race:','data','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','/public/data/projects','touchmove','.start-game-btn','<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>','resultsDisplay','getTextContent','.live-answer-btn,\x20#sync-submit-btn','\x22\x20name=\x22team_answer\x22\x20value=\x22','ความคล้ายของรูป','isPinned','ข้อต่อไป','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','manage-players-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','ไม่มีคำอธิบาย','lower_group_count','touchend','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','has','2-digit','บันทึกการตั้งค่าแล้ว','>\x20<label\x20for=\x22status-inactive\x22>ปิดใช้งาน\x20(Inactive)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22schedule\x22\x20id=\x22status-schedule\x22\x20','push','bg-green-100\x20font-bold','.pointsLastQuestion','คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ','global-quiz-list','\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ข้อมูลไม่เพียงพอที่จะลบผลสอบ','opacity-50','ยังไม่ส่ง','bank-quiz-search-input','<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','.\x20สามารถสร้างคำถามแบบแยกหัวข้อ\x20หรือผสมผสานหัวข้อเหล่านี้ในข้อเดียวกันก็ได้ตามความเหมาะสม','AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','.regenerate-question-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...','ระบบสมการเชิงเส้นสองตัวแปร','.draggable-text','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ค่าความจริง/ตารางค่าความจริง','game-start-mode','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20','สร้างโปรเจคสำเร็จ!','msRequestFullscreen','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','stopPropagation','<div\x20id=\x22q-image-container-','scratchpad-options','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ทุกคนตอบครบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.live-answer-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้','<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>','true','เกิดข้อผิดพลาดในการอัปเดต:\x20','write','#math-topics-checkbox-container\x20input:checked','getDocument','เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20','ฟังก์ชันสัมพัทธ์\x20(rational)','<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','preScore','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','loop-until-pass-checkbox','Error\x20adding\x20custom\x20topic:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','ไม่พบข้อมูลแบบทดสอบต้นฉบับ','สร้างแบบทดสอบ','cancel-rename-quiz-btn','.correct-response-input','\x20ข้อ\x20','player-count','main-correct-answer-display','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>','schedule','AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้','BOOLEAN','reference-pdf-upload','<h1></h1>','สมการตรีโกณมิติ','link-url-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','MathJax','กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่','ตรวจทานเฉลยเสร็จสิ้น!','คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>','เกิดข้อผิดพลาดในการติดดาว','behavior-log-tab-btn','currentQuestionIndex','border-green-700','Sync\x20Mode','รหัสต้องเป็นเลข\x204\x20หลักเท่านั้น','27411472','.topic-category','empty','string','results-tab-content','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-bank-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22sync-matching-select\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','blur','ระยะจากจุดถึงเส้นตรง','คะแนนเต็ม','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>','พื้นที่ใต้กราฟ/ระหว่างกราฟ','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','mean','\x5csum','คะแนนเฉลี่ย','คะแนน','generate-from-link-btn','text-green-600','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>','correctResponse','responses','q-text-','setAttributeNS','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20','shuffle-setting-select','correct','<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>','global-live-game-modal','<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>','เกิดข้อผิดพลาดในการนำผู้เล่นออก','live-short-answer-input','ดีมาก','Error\x20during\x20class\x20analysis:','จำนวนเต็มบวก','\x22\x20data-q-type=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','submission-status-chart','/public/data/liveGames','title','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>','.question-editor-item[data-q-index=\x22','thead','Remedial\x20quiz\x20generation\x20failed:','lesson-plan-content','mouseup','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','password-error-msg','update','เกิดข้อผิดพลาดในการลบนักเรียน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','ไม่พบ\x20Team\x20Quiz\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','mjx-container','.delete-submission-btn','Error\x20comparing\x20results:','.kick-player-btn-sync','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์ข้อสอบต้นฉบับนี้เพื่อทำความเข้าใจขอบเขตเนื้อหา,\x20รูปแบบคำถาม,\x20และระดับความยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์เดิมมาโดยเด็ดขาด**\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20จำนวนข้อและประเภทของคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','-tab-content','min','ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน','การแปลงรูปอัตลักษณ์','end-game-btn','<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>','questions','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>','opacity','binom','ทศนิยม\x20(ค่าประจำหลัก)','getElementById','project-search-input','ai-quiz-app-aefee','เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA','<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>','.question-editor-item','json','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-cyan-600\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','\x20คะแนน\x20','input[name=\x22team_player\x22]:checked','start-live-race-generated-btn','length','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','file-input-area','\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','show-results-btn','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','เกิดข้อผิดพลาดในการบันทึกลำดับ','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','กรุณาเลือกแบบทดสอบที่ต้องการจับคู่','get','กลุ่ม:\x20','hover:bg-indigo-100','close','admin-dashboard','project-detail-view','Invalid\x20response\x20structure\x20from\x20AI.','student-quiz-leaderboard-content','กำลังอ่านและวิเคราะห์\x20Test\x20Blueprint...','top','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','แบบทดสอบ:\x20','include-images-checkbox','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20','bg-yellow-50','\x20สำเร็จ','เปลี่ยนชื่อโปรเจคสำเร็จ','พื้นที่วงกลม/ส่วนของวงกลม','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','ฟังก์ชันยกกำลัง','ความเท่ากันทุกประการของสามเหลี่ยม','showImproveButton','round','data:application/vnd.ms-word;charset=utf-8,','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','แผนภาพกล่อง\x20(box\x20plot)','close-comparison-modal-footer-btn','Error\x20updating\x20pin\x20status:','มุมพิเศษ\x2045°-45°-90°','การปัดเศษและประมาณค่า','.pair-quiz-btn','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','$1^{\x5ccirc}\x5ctext{C}','submission','ราชาคัมแบ็ก','bg-red-200\x20text-red-800','bg-green-500','แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22','</li>','split','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','project-id-display','size','กำลังอ่านและวิเคราะห์ข้อสอบต้นฉบับ...','<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','questionIndex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','classStrengths','quiz-leaderboard-table','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','projectName','Error\x20generating\x20quiz:','math-topic-search-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20','4381145wVuqJR','student-list','ทำคะแนนได้เกินครึ่ง','join-group-activity-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','desc','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','rgba(79,\x2070,\x20229,\x200.8)','results-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','createdBy','medium','เกิดข้อผิดพลาดในการเปลี่ยนสี','Error\x20submitting\x20team\x20answer:','การยืนยันตัวตนล้มเหลว','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','requestFullscreen','แก้ระบบสมการด้วยเมทริกซ์','game-pin-input','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-yellow-300\x20my-2\x22>ตาของ:\x20','\x20(ID:\x20','open-global-live-btn','click','.png','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>','[contenteditable=\x22true\x22]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22mt-4\x20pt-4\x20border-t\x20border-white/20\x22>','</p><div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div></div>','Error\x20fetching\x20quiz\x20status:','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question','modal-results-display-select','\x20from\x20sync\x20game:','ทฤษฎีบทพื้นฐานของแคลคูลัส','\x22\x20data-topic=\x22','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','save-visibility-settings-btn','student-initial-view','topic-tab','forEach','\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','isArray','การจัดกลุ่มข้อมูล','input[name=\x22drill_answer\x22]:checked','Error\x20showing\x20quiz\x20detail\x20view:','modal-timer-duration-input','Error\x20moving\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22active\x22\x20id=\x22status-active\x22\x20','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>','/public/data/quizzes/',';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-','.delete-student-btn','raw','Error\x20toggling\x20star\x20status:','shuffledQuiz','all','เกิดข้อผิดพลาดในการบันทึกหัวข้อ','<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','function','<p\x20class=\x22text-sm\x22>ยังไม่มีผู้เล่น</p>','<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>','msExitFullscreen','อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)','timer-container','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','div[data-question-index=\x22','คำถามถัดไป','worksheet-input-area','index','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-white','modal-shuffle-select','$1_{$2}','arrayBuffer','mode','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>','All\x20groups\x20have\x20finished.\x20Ending\x20game.','s;\x22\x20title=\x22','.project-card-container','องค์ประกอบของฟังก์ชัน','```json','check-presentation-answer-btn','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x09\x09\x09\x09\x09\x09\x09<button\x20data-quiz-id=\x22','cancel-team-selection-btn','devicePixelRatio','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','sync-player-list','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','ข้อที่\x20','วงรี','\x5cfrac{$1}{$2}','back-to-student-initial-btn','2.\x20วิเคราะห์\x20\x22เอกสารข้อสอบอ้างอิง\x22\x20เพื่อทำความเข้าใจ\x20**สไตล์,\x20ระดับความยาก,\x20และความซับซ้อน**\x20ของคำถามที่ต้องการ','สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','block','podium','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก','ลิมิต','คัดลอกแบบทดสอบสำเร็จ','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-green-100\x20text-green-800','ส่งคำตอบ','ไม่พบ\x20Sync\x20Game\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','modal-message','กลุ่มของคุณ','pre-test-checkbox','อินเวอร์สของเมทริกซ์','.unpair-quiz-btn','Failed\x20to\x20resume\x20game\x20session:','Error\x20updating\x20quiz\x20settings:','text/html','<div>','ปิดใช้งาน','<div\x20class=\x22loader\x20mx-auto\x22></div>','value','.\x20กลุ่ม:\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-cyan-200\x22>','#FEF3C7','allResponses','.pen-size-btn','playerName','total','<div\x20class=\x22space-y-4\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','3484408NvWfVY','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาดในทุกๆ\x20ส่วน\x20(ทั้ง\x20question,\x20options,\x20idealAnswer,\x20correctResponse)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามเปลี่ยนแปลงความหมายหรือเนื้อหาหลักของคำถามโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20แก้ไขเฉพาะ\x20syntax\x20ของ\x20LaTeX\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตรวจสอบให้แน่ใจว่านิพจน์ทางคณิตศาสตร์ทั้งหมดถูกครอบด้วยเครื่องหมาย\x20$\x20...\x20$\x20อย่างถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20','bulk-loop-until-pass-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i><p\x20class=\x22font-bold\x20text-3xl\x22>','ตาของ:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','p-2\x20bg-black/10\x20rounded-md','files','<option>กำลังโหลดโปรเจค...</option>','Error\x20verifying\x20answers:','สร้างชุดคำถามจับคู่','lastAnswerCorrect','ผิด','querySelector','Error\x20committing\x20score\x20updates:','asc','pointerup','เกิดข้อผิดพลาดในการลบโปรเจค','ทำคะแนนเต็มในการทำครั้งแรก','quiz-end-time','ไม่พบแบบทดสอบในระบบเลย','move-quiz-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x22true\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ใช่\x20/\x20ถูก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x22false\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ไม่ใช่\x20/\x20ผิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22...','div','Error\x20pairing\x20quizzes:','question','scratchpad-header','.ql-editor','ไม่มีผู้ตอบตัวเลือกนี้','กิจกรรมสิ้นสุดลงแล้ว','summary','multiple_choice','หน่วยความยาวและการแปลง','enable-passcode-checkbox','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20','lowerGroupNames','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20','quiz-status-options','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22','<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>','comparison-individual-content','blueprint-upload-input','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ความเป็นอิสระของเหตุการณ์','<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>','#ffffff','scratchpad-controls','show_results_only','nickname-input','rgba(59,\x20130,\x20246,\x200.7)','drop','วงกลม:\x20คอร์ดและเส้นสัมผัส','เกิดข้อผิดพลาดในการเปลี่ยนชื่อ','</tbody></table>','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ','<th\x20class=\x22py-2\x20px-2\x20border-b\x22>','การลบทศนิยม','numPages','isFinished','ส่วนเบี่ยงเบนเฉลี่ย','\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว','answerText','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','<i\x20class=\x22fas\x20fa-magic\x22></i>','เริ่มกิจกรรม:\x20',':</p><p\x20class=\x22text-xs\x22>','เกิดข้อผิดพลาด:\x20','กฎบวกและกฎคูณ','<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20','การแจกแจงปกติและ\x20z-score','POST','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22','\x22\x5cn','ฟังก์ชันเชิงเส้นและกราฟ','สถิติและความน่าจะเป็น','learningGaps','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','scratchpad-clear-btn','ลบผลสอบของ\x20','players.','trim','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','input[type=\x22radio\x22]:checked','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','ไม่พบข้อมูลเกม','.lastAnswerIndex','Error\x20deleting\x20quiz:','<br>','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','%</span>','sum','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>','ใช่\x20/\x20ถูก','text-yellow-300','analytics-summary-cards','0\x200','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','lineWidth','<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>','student-quiz-area','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','project-quizzes-list','setItem','dimmed','lobby','solution','getContext','practiceProblems','โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22','Error\x20saving\x20user\x20preference:','บันทึกการตั้งค่าสำเร็จ','\x20ข้อในคลังสำหรับหัวข้อ\x20\x22','Error\x20saving\x20quiz\x20edits:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','finished','สร้างคำถามแบบใช่/ไม่ใช่','.presentation-option','Attempting\x20to\x20save\x20game\x20results...','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','project-name-input','on_fire','</form>','highlighter','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20','หน่วยเวลาและการคำนวณเวลา','ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่','user-id-display','finishReason','mouse','ร้อยละพื้นฐาน','<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-2\x20rounded-md\x20transition-all\x20duration-300\x20','\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด','QUICK_THINKER','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','contains','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','Error\x20fetching\x20project\x20quizzes:','กรุณาใส่ชื่อโปรเจค','\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-editor-modal','max','input[name=\x22status-option\x22]','.isScored','อนุพันธ์:\x20ผลคูณ/ผลหาร','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','การแจกแจงทวินาม\x20(พื้นฐาน)','closest','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','focus','multiply','position','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>','ผ่านฉลุย','confidence-modal','(^|[^\x5c\x5c])\x5cb','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','settings','isRemedial','authed_project_','Error\x20joining\x20sync\x20game:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','</th>','</button>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','attempts','</label></div>','behaviorLog','เงินงวด\x20(อนุกรมเงินงวด)','scrollY','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','close-lesson-plan-modal-btn','match','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','numeric','_opt0\x22\x20name=\x22question','กราฟฟังก์ชันตรีโกณ','transform','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ownerSVGElement','https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js','student-name-selection-view','\x20รายการ\x20สำเร็จ!','.answers','transition-all','mousemove','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','isScored','\x0a\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getBoundingClientRect','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','global-live-game-count','student-quiz-leaderboard-table-body','มุมและการวัดมุม','Error\x20processing\x20file\x20for\x20AI:','#DBEAFE','transparent','.edit-custom-topic-btn','teacherSuggestions','^{\x5ccirc}\x5ctext{C}$','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>','substring','passcode','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>เตรียมตัวสำหรับข้อต่อไป...</p>','.pen-color-btn','.choice-text','blockReason','.ai-fix-question-btn','student-name-input','<button\x20id=\x22','จำนวนคละ','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','prev-question-btn','text-indigo-600','link-input-area','outerHTML','fa-pen','/questionBank','student-team-join','save-settings-btn','ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ','name_asc','perfect_score','pow','td,\x20th','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','ชื่อหัวข้อห้ามว่าง','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','.pdf','fas\x20fa-bookmark','bank-input-area','move-quiz-project-select','passing-score-input','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20','scratchpad-close-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','destroy','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22','8734455NruyDi','):</label>\x0a\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x222\x22>','draggable-text','ดูผลสรุปสุดท้าย','Error\x20loading\x20user\x20preferences:','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>','ไม่พบข้อมูลแบบทดสอบที่ใช้ในเกมนี้','typesetPromise','\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20','.rename-quiz-btn','สมการลอการิทึม','</label>\x0a\x20\x20\x20\x20</div>\x0a','ไม่พบข้อมูลโปรเจค','กรุณาป้อนรหัส\x20Sync\x20Game\x20(2\x20หลัก):','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20leading-relaxed\x20text-center\x22>','pin','toggle','/preferences/main','.verification-result','เกิดข้อผิดพลาดในการแก้ไขหัวข้อ','querySelectorAll','show_pass_fail_only','toLocaleDateString','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','keydown','leaderboard-table-body','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20','</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>(','team-quiz-topic','เกิดข้อผิดพลาดในการยืนยันผู้เล่น','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','per-question-text','badges','$1\x5ctimes','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','quiz-leaderboard-table-container','student-project-leaderboard-table-body','bar','กรุณาพิมพ์คำตอบของคุณ','redo-btn','timer-duration-label','project-passcode-input','เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้','warn','Error\x20joining\x20activity:','\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','\x20ชุด)','back-to-results-btn','timerDuration','answer','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','helvetica','ฟังก์ชัน:\x20แนวคิดและสัญกรณ์','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','editor-quiz-topic','สรุปผลสุดท้าย','ห.ร.ม.\x20(GCD)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>','ไม่ผ่าน','num-choices','</tr>','.ideal-answer-input,\x20.correct-response-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','6cthUSr','members','pen-tools-group','กำลังสร้างแบบทดสอบจากหัวข้อ...','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','restore','bottom','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Error\x20creating\x20project:','<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>','candidates','fixedData','save-quiz-edits-btn','ดอกเบี้ยอย่างง่าย','ฟังก์ชันแบบชิ้นส่วน','topic','.delete-project-btn','export-lesson-pdf-btn','student-passcode-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20','เปิดใช้งาน','webkitExitFullscreen','ยกเลิกการจับคู่สำเร็จ','players','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>ส่งคำตอบครบแล้ว!</h2><p>รอผู้เล่นคนอื่นสักครู่...</p></div>','presentation-modal','</body></html>','ai-quiz-app-aefee.firebaseapp.com','เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร','\x20mx-1\x20text-lg\x22></i></span>','summary_chart','workerSrc','สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!','totalQuestions','quadraticCurveTo','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','back-to-dashboard-from-results-btn','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','cancel-passcode-btn','text-yellow-800','parent','quiz-generation-area','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22','โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22','isAdaptive','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22sync-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','editable-quiz-topic','touch','request','\x22.\x20','<tr>','quiz-results-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','(ก่อนเรียน)\x20','เส้นจำนวน','approx','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>','(คัดลอก)\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','#student-project-leaderboard-content\x20thead','leaderboard','close-comparison-modal-btn','\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>','พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20','rgba(239,\x2068,\x2068,\x200.9)','Failed\x20to\x20end\x20group\x20mode\x20game:','preventDefault','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22','00:00','player-list-lobby','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>','<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม','force-math-checkbox','คณิตศาสตร์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','error','#F3E8FF','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','live-game-view','findIndex','pointercancel','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','num-questions','ชื่อเล่นนี้ถูกใช้ไปแล้วและกำลังเล่นอยู่\x20กรุณาใช้ชื่ออื่น','artifacts/','beginPath','กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน','display','save-game-results-checkbox','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','project-list','inactive','keys','พาราโบลา','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20','modal-timer-duration-label','Error\x20submitting\x20group\x20answer:','.delete-custom-topic-btn','[*]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>','Error\x20generating\x20worksheet:','สอบซ่อม','name','save','temp-loader-results','highlighter-tool-btn','$1\x5ctext{','ย้ายแบบทดสอบไปโปรเจคอื่น','list','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','กรุณาใส่ชื่อนักเรียน','confirmation-modal','insertAdjacentHTML','ฟังก์ชันพหุนาม','toLocaleString','.lastAnswerValue','project-passcode-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','far\x20fa-star','คัดลอกไม่สำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','student-progress','fa-bolt\x20text-blue-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>Sync\x20Mode:\x20','fill_in_the_blank','.color-palette-popup','เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)','removeAttribute','เกิดข้อผิดพลาดในการอัปเดตสถานะ','\x22\x20class=\x22kick-player-btn-sync\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20','เรขาคณิต','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','สู้ๆ\x20ลองอีกครั้งนะ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<option\x20value=\x22\x22>กำลังโหลด...</option>','#26890c','text-red-600','pinnedProjects','G-V90KRM0L63','ref','\x5cle','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีกลุ่มเข้าร่วม...</p>','scratchpad-question','exitFullscreen','(ก่อนเรียน)','กำลังสร้างแบบทดสอบจาก\x20Blueprint...','comparison-overall-content','pen-tool-btn','Error\x20toggling\x20pin\x20status:','live-player-list','start-game-btn','\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20','kick-player-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22mt-6\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x22>กลับหน้าแรก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','globalSettings','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','save-project-name-btn','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','blueprint-tab','project-sort-select','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','NUMBER','สามเหลี่ยม\x20(ชนิด/สมบัติ)','filter','.copy-quiz-id-list-btn','str','\x0a\x20\x20\x20\x20ข้อกำหนดที่สำคัญที่สุดสำหรับการสร้างตัวเลือก\x20(Options):\x0a\x20\x20\x20\x201.\x20\x20ห้ามมีตัวเลือกที่ซ้ำกันโดยเด็ดขาด\x20ทั้งในด้านรูปแบบและค่าทางคณิตศาสตร์\x20(เช่น\x20ห้ามมีทั้ง\x20$1/2$\x20และ\x20$2/4$\x20ในข้อเดียวกัน)\x0a\x20\x20\x20\x202.\x20\x20ตัวเลือกที่เป็นคำตอบที่ถูกต้อง\x20(Correct\x20Answer)\x20ต้องอยู่ในรูปอย่างง่ายเสมอ\x20(เช่น\x20เศษส่วนอย่างต่ำ)\x0a\x20\x20\x20\x203.\x20\x20ตัวลวง\x20(Distractors)\x20ทั้งหมด\x20ต้องเป็นคำตอบที่\x20\x22ผิดอย่างชัดเจน\x22\x20แต่มีความสมเหตุสมผลพอที่จะทดสอบความเข้าใจผิดของนักเรียนได้\x0a\x20\x20\x20\x204.\x20\x20จำนวนตัวเลือกทั้งหมดต้องตรงตามที่กำหนดไว้เสมอ\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','clientY','input[name=\x22status-option\x22]:checked','.generate-post-test-btn','sync-short-answer-input','difficulty-level-select','\x20</div>\x0a\x20\x20\x20\x20','student-project-leaderboard-tab','student-rankings-modal','(ไม่มีชื่อ)','print','การเรียงสับเปลี่ยน\x20(Permutation)','<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>','ไม่พบข้อความในไฟล์\x20PDF\x20หรือไฟล์อาจเสียหาย','ยอดเยี่ยม!','.export-pdf-list-btn','\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20','class','rename-quiz-modal','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','อนุพันธ์:\x20กฎลูกโซ่','ลำดับการดำเนินการ\x20(PEMDAS)','.cancel-edit-topic-btn','modal-timer-duration-container','ผู้ไม่ยอมแพ้','.generate-lesson-btn','text-input-area','fill','<textarea\x20name=\x22question','next-question-btn','confirm-delete-btn','$1^{\x5ccirc}','perseverance','เกิดข้อผิดพลาดในการอัปเดตแบบทดสอบทั้งหมด','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ร้อยละประยุกต์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','student-progress-view','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','targetId','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a---\x0a','ring-purple-400','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','getAttributeNS','stringify','\x20รายการ...','ฟังก์ชันลอการิทึม','Failed\x20to\x20create\x20initial\x20submission\x20record:','results-quiz-id-display','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','>\x20<label\x20for=\x22status-active\x22>เปิดใช้งาน\x20(Active)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22inactive\x22\x20id=\x22status-inactive\x22\x20','no-projects-msg','copy-quiz-id-btn','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','student-join-game-view','manage','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>','project-title','\x22\x20ให้เป็นคำถามประเภท\x20\x22','highlighter-size-slider','fas\x20fa-star\x20text-yellow-500','เส้นรอบรูป','export-excel-btn','พบข้อสอบ\x20','text-emerald-800','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','การหาร','ไม่พบกิจกรรมด้วยรหัสนี้\x20หรือกิจกรรมอาจเริ่มไปแล้ว','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>','parallel-test-upload-input','normal','Error\x20saving\x20settings:','กฎของโคไซน์','post-test','\x22\x20name=\x22drill_answer\x22\x20value=\x22','Error\x20updating\x20sort\x20preference:','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','.lastAnswerCorrect','เกิดข้อผิดพลาดในการรีเซ็ตลำดับ','</tbody></table></div>','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','\x22\x20value=\x22false\x22\x20','\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22','ตรวจพบการออกจากหน้าจอครบ\x20','</span>','team','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','currentTarget','พื้นที่สี่เหลี่ยม','ai-quiz-app-aefee.firebasestorage.app','deselect-all-topics-btn','/public/data/syncGames','confirm-team-players-btn','uid','isCorrect','qIndex','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','answeredCurrentQuestion','textarea','my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800','rgba(255,\x20255,\x200,\x200.5)','\x20mr-2\x22></i>','ดอทโปรดักต์\x20(dot)','.regenerate-question-editor-btn','input[name=\x22question_single\x22]:checked','tooltipTarget','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','hasPerfectScoreBonus','Error\x20loading\x20quiz\x20for\x20student:','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','q-image-container-','passcode-input-container','\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>','การหารทศนิยม','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>','bg-gradient-to-br\x20from-indigo-600\x20to-purple-700','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confirm-global-live-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง','\x20(p=','questionDisplayedAt','th-TH','loopUntilPass','rgba(239,\x2068,\x2068,\x200.7)','bulk-results-display-select','quiz-results-table-body','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-around\x20items-end\x20gap-4\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.quiz-bank-move-btn','\x20ครั้ง)</span></td>','กำลังสแกนหาแบบทดสอบเก่า...','\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20','.quiz-bank-item','ไม่สามารถเพิ่มนักเรียนได้','คำถามดิบ:\x20\x22','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','.quiz-bank-try-btn','<p\x20class=\x22','button','\x20\x20\x20-\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมาถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:','stroke','text/csv;charset=utf-8;','<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>','เซียนสมองไว','includes','globalCompositeOperation','\x20/\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','<tr><td\x20colspan=\x22','answered','บันทึกแบบทดสอบสำเร็จแล้ว!','confirm-not-confident','innerText','quiz-type-select','closePath','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','back-to-project-btn','</td>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20','questionStatus','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','left','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_','<i\x20class=\x22fas\x20fa-check-circle\x22></i>','วงกลม:\x20สมการและสมบัติ','passcode-prompt-message','show_results_and_answers','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','label','manual_release','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','เมทริกซ์:\x20บวก/คูณ','<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>','AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20','แบบทดสอบนี้ปิดใช้งานอยู่','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','globalAlpha','Error\x20fetching\x20student\x20rankings:','generated-quiz-actions','admin','.pin-project-btn','PERSEVERANCE','postTScore','</span></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>สถานะผู้เล่น</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','fa-crown\x20text-yellow-500','canvas','$1\x20\x5cfrac','export-pdf-modal','.live-answer-btn,\x20#live-submit-short-answer-btn','live-player-management','No\x20player\x20data\x20to\x20save.','\x22\x20class=\x22color-palette-btn\x20','ยืนยันและอัปเดตทั้งหมด','endTime','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','274192258111','visibilitychange','transformOrigin','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน','leaderboard-quiz','\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-','rgba(16,\x20185,\x20129,\x200.7)','สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','upper_group_count','เกิดข้อผิดพลาดในการลบผลสอบ','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','replace','options','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ย้าย','Failed\x20to\x20get\x20standardized\x20topic:','text-green-700\x20bg-green-100','message-modal','leaderboard-tab-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','</div>','projectView','perQuestionStats','show-in-student-dashboard-checkbox','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-4\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence-scoring-toggle\x22\x20class=\x22flex\x20items-center\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22confidence-scoring-toggle\x22\x20type=\x22checkbox\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22\x20checked>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-3\x20text-lg\x20font-semibold\x22>เปิดใช้งานระบบคะแนนความมั่นใจ</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22confidence-scoring-description\x22\x20class=\x22mt-2\x20text-sm\x20text-indigo-200\x20pl-8\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-white\x22>คะแนนพิเศษที่จะถูกคำนวณในตอนท้าย:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบถูก\x20&\x20มั่นใจ\x20=\x20ได้โบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบผิด\x20&\x20มั่นใจ\x20=\x20ถูกหัก\x20<strong\x20class=\x22text-white\x22>-1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-400\x22>(กรณี\x20\x22ไม่มั่นใจ\x22\x20จะไม่มีคะแนนพิเศษ)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-3\x20text-sm\x20text-yellow-300\x20pl-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x22></i>\x20พิเศษ:\x20ผู้ที่ได้คะแนนหลักเต็ม\x20จะได้รับโบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนนในหน้าสรุปผลสุดท้าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-sync-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มเกม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','status','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20text-center\x22>','editable-text-','เรเดียนและการแปลงหน่วย','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','result','\x20คะแนน</span></div>','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','lastAnswerIndex','Error\x20saving\x20to\x20question\x20bank:','values','\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','/public/data/practiceBank','text-gray-400\x20hover:text-indigo-600','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','_opt1\x22>ไม่ใช่</label></div>','NEGATIVE_INFINITY','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','บันทึกการแก้ไข','ยอดเยี่ยม','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','Error\x20renaming\x20quiz:','drill-feedback','save-quiz-btn','<option\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22','\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','lesson-plan-modal','stem','กรุณาเลือกสถานะ','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','สร้างคำถามใหม่\x201\x20ข้อ\x20','none','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20(','upperGroupResponders','</p>','eraser-tool-btn','category','user','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','move','กรุณาเลือกโปรเจคที่ต้องการบันทึก','cdot','สร้างแบบทดสอบปรนัย','ai-quiz-generator-v3','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x09\x09\x09<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)\x0a\x20\x20\x20\x20</label>\x0a</div>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','check-answer-btn','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ring-2','latestScore','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>','text-red-800','cancel-quiz-settings-btn','date_asc','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mt-8\x20flex\x20items-center\x20justify-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20','bg-emerald-100','PERFECT_SCORE','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x20mt-3\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','afterend','quiz-editor-questions-container','catch','.star-quiz-btn','การคูณ','touches','grid','Error\x20unpairing\x20quizzes:','btn','adaptive-quiz-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','dispatchEvent','<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>','input[type=\x22radio\x22][value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','จับคู่เพื่อเปรียบเทียบผล','hasOwnProperty','color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2','every','Copy\x20command\x20failed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20','GlobalWorkerOptions','เกิดข้อผิดพลาดในการลบหัวข้อ','justification','quiz-results','</select>','passingScore','\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20','กรุณาเลือกไฟล์ข้อสอบต้นฉบับก่อน','_opt','4499852CmBtwG','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','.verification-result-editor','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','พบ\x20Team\x20Quiz!','เกิดข้อผิดพลาดในการยกเลิกการจับคู่','answers','student','points','analytics','show-leaderboard-btn','showInStudentDashboard','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกลับเข้าสู่เกม...','toString','ค่าเสื่อมราคา','dragover','shouldSaveResults','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','\x20ตัวเลือก.\x20','\x22\x20data-name=\x22','bestScore','2WYkDgt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pointermove','กำลังกลับเข้าสู่เกม\x20','<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22','offset','shadowBlur','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจาก\x20Blueprint\x20ได้</p>','เกิดข้อผิดพลาดในการเชื่อมต่อ:\x20','quiz-status-modal','กำลังอ่านและเตรียมไฟล์...',')\x5cb)','confidence-scoring-description','<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/20\x20p-2\x20rounded-md\x22><span>','ไม่พบโปรเจค','timer-mode-select','วิเคราะห์ข้อมูลสำเร็จ!\x20กำลังสร้างแบบทดสอบ...','text-gray-700','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','แบบปรนัย\x204\x20ตัวเลือก','จำนวนคู่:','team-player-status-grid','confirm-move-quiz-btn','results-table','border-indigo-400\x20ring-2\x20ring-indigo-200','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','analyze-strengths-btn','setAttribute','results-table-container','<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','อสมการค่าสัมบูรณ์','scores-tab-content','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>','visibilityState','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','groups.','สมมาตร\x20(แกน/จุด)','fill_in_no_choices','lineCap','bg-red-500','กรุณาใส่ชื่อใหม่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญในการสร้างแบบทดสอบตามเอกสาร\x20Test\x20Blueprint\x20และปรับเทียบความยากตามข้อสอบตัวอย่าง\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์\x20\x22Test\x20Blueprint\x22\x20เพื่อทำความเข้าใจ\x20**โครงสร้าง**\x20ของข้อสอบที่ต้องสร้าง\x20(เช่น\x20จำนวนข้อ,\x20หัวข้อ,\x20ประเภทคำถาม)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบข้อมูลผู้ใช้','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','per_question','cancel-delete-btn','<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>','scale','submittedAt','splice','input[type=\x22checkbox\x22]','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','modal-passing-score-input','source-over','comparison-chart','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>','delete-svg-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>','not-found','addEventListener','fas\x20fa-user-edit','สลับไปโหมดนักเรียน','wheel','ตรีโกณมิติ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','teachingContent','รูปสแควร์รูท\x20(surd)','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','image/png','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','เกิดข้อผิดพลาดในการอ่านไฟล์','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>','quizId','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','grabbing','ค่าเฉลี่ย','createdAt','trail','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','live-game','questionText','answer-grid-container','createElementNS','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','delete-all-students-btn','#D1FAE5','responses.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20','toFixed','live-submit-short-answer-btn','default','แก้ไขหัวข้อสำเร็จ','whole_quiz','idealAnswer','_blank','cancel-quiz-bank-btn','getItem','rgba(79,\x2070,\x20229,\x201)','code','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4','label[for=\x22num-questions\x22]','374337PgqAmO','ระยะเวลา\x20(วินาที):','\x22\x20value=\x22','question-analytics-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','key','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','กำลังจับคู่...','text-red-900','student-quiz-leaderboard-tab','startsWith','<p\x20class=\x22font-bold\x20text-sm\x20','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','topic-input','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','starred','กรุณาเลือกหรือพิมพ์คำตอบก่อนครับ','<i\x20class=\x22fas\x20fa-save\x22></i>','suggestedAnswer','clientX','Error\x20fetching\x20projects\x20for\x20move:','removeEventListener','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','export-word-btn','.save-to-bank-btn','wakeLock','modal-adaptive-quiz-checkbox','Error\x20updating\x20custom\x20topic:','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','short','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','toISOString','รหัสไม่ถูกต้อง','shuffle','input','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','<div\x20class=\x22my-6\x22>','\x5c\x5c\x5c\x5c(?=(','text-gray-200','projectSortOrder','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข','next-sync-question-btn','<span\x20class=\x22font-bold\x20','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20','เส้นตรง:\x20ขนาน/ตั้งฉาก','quizType','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','confirm-game-start-btn','projectOrder','createElement','/submissions','เกิดข้อผิดพลาดในการสร้างใบงาน','พิสัย','activeGameSession','Error\x20verifying\x20answers\x20in\x20editor:','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>','คำเตือน\x20(','ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้','imageCode','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน','removeChild','คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20','export-leaderboard-pdf-btn','isStarred','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','timestamp','manage-tab-content','ARRAY','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือเนื้อหาทั้งหมดจากข้อสอบต้นฉบับ\x201\x20ชุด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>','#E5E7EB','เลือกและบันทึก','<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x20shrink-0\x22>จบเกม</button>','stdDev','text-green-600\x20font-bold','#10B981','text-blue-700','readAsDataURL','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span></div>','</p><div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div></div>','Error\x20generating\x20easy\x20version\x20quiz:','Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.','AI\x20Formula\x20Fix\x20Error:','moveTo','กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน','สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22','การบวก','mouseleave','\x0a\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22','ตรวจคะแนนใหม่\x20','-\x20ข้อ\x20','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เปิด\x20(จับเวลา)','classList','ปริมาตรรูปทรงสามมิติ','fullscreenchange','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+','เกิดข้อผิดพลาดในการจับคู่','การบวกทศนิยม','text-purple-600','การจัดหมู่\x20(Combination)','score','active','\x22,\x20','แบบทดสอบนี้หมดเวลาแล้ว','ไม่พบข้อความในไฟล์\x20Blueprint\x20หรือไฟล์อาจเสียหาย','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>','checked','จำนวนและการดำเนินการ','แคลคูลัสเบื้องต้น','Invalid\x20response\x20structure\x20from\x20AI:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','type','\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','quizMode','\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20','project-dashboard-view','.topic-row','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz','game-start-modal-title','เกิดข้อผิดพลาดในการสร้างแบบทดสอบ\x20โปรดลองอีกครั้ง','Error\x20deleting\x20custom\x20topic:','):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ','tool','<button\x20data-value=\x22','\x5cdiv','text-red-700\x20bg-red-100','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>','isPasscodeEnabled','fadeStartTime','font-bold\x20text-green-700','text-indigo-800','bg-green-100','text-green-800','neq','answering','option','date_desc','comparison-modal','\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>','\x22\x20สำเร็จ','<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>','\x22>\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','indexOf','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','correctAnswerIndex','loader-text','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','Error\x20updating\x20project\x20name:','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q','\x5ctimes','ปริพันธ์จำกัด','thead\x20.sortable-header','MathJax\x20typeset\x20error\x20(analytics):','ลบหัวข้อสำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','STRING','.compare-results-btn','matching','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','pinned-items','border-green-300\x20bg-green-50','correctAnswer','\x20คน\x20ตอบถูก</p></div>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','Error\x20confirming\x20players:','คะแนนยังไม่ถึงครึ่ง','pointerType','showRankings','list-view-btn','submissions','<p\x20class=\x22text-gray-500\x22>โปรเจคนี้ยังไม่มีนักเรียน</p>','<li>','\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','keyup','onchange','\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ตารางความถี่','\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20','cancel-quiz-edits-btn','กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ','change','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20','จำนวนเต็มลบ','กำลังดึงข้อมูลจากลิงก์...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22','highlighter-tools-group','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22','สร้างแบบทดสอบคู่ขนานสำเร็จแล้ว!','FileReader\x20error:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','timer-bar','quiz-schedule-start-container','การวัด','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','load-quiz-btn','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','worksheet-topic-input','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','add-custom-math-topic-btn','leaderboard_','.topic-actions-edit','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','dataset','px,\x20','scheduled','screen_exit','.ideal-answer-input','สร้างใหม่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','<button\x20data-quiz-id=\x22','ฮิสโตแกรม','(หลังเรียน)\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>','global-quiz-search-input','color','height','สรุปผลการวิเคราะห์:\x5cn','<div><input\x20type=\x22radio\x22\x20id=\x22q','message','.answered','.edit-question-btn','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt','\x22\x20data-pre-test-id=\x22','เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API','คัดลอกรหัสแล้ว!','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','grid-view-btn','COMEBACK_KING','หมดเวลาสำหรับข้อนี้!',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','</span></p>','bg-green-50','link-tab','rename-quiz-input','promise','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x22>Dashboard:\x20','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','.topic-name-input','export-leaderboard-word-btn','31624kWOKgw','\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22','presentation-short-answer-input','hidden','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','join','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','text-emerald-900','การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fa-dumbbell\x20text-gray-700','\x22\x20value=\x22true\x22\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','studentName','AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','results','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','true_false','confirm-quiz-settings-btn','การหารเศษส่วน','.submittedAt','.answeredCurrentQuestion','shadowColor','สร้างคำถามแบบเติมคำในช่องว่าง','export-leaderboard-excel-btn','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>','parseFromString','admin-testing','\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ','การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20','<textarea\x20id=\x22per-q-textarea\x22\x20name=\x22question_single_text\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณที่นี่...\x22></textarea>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','open-sync-scratchpad-btn','<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22','สร้างและจับคู่\x20Post-test\x20สำเร็จ!','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','กรุณาป้อนรหัสแบบทดสอบ','live-race','\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ','input[type=\x22text\x22]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','.generate-easy-version-btn','เศษส่วน\x20(ย่อ/ขยาย)','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','onerror','สมการเหตุผล\x20(rational)','\x20\x20\x20-\x20คำตอบ:\x20','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','presentation-scratchpad-btn','หัวข้อที่สร้างเอง','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','hint','flex','#FFFFFF','N/A','random','จำนวนนักเรียน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>','team-student-list','AI\x20Fix\x20Error:','.edit-quiz-btn','#FEE2E2','#results-table','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','starred-project','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','select-all-topics-btn','reveal-answer-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>','\x20คนที่ส่ง\x20ตอบถูก\x20(','พื้นที่ผิวรูปทรงสามมิติ','bg-red-100','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>','คณิตการเงิน/บูรณาการ','sin','พิมพ์ตอบ','content','<div\x20class=\x22p-2\x20bg-black/10\x20rounded-md\x22><p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20','<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>','scheduled_pending','deltaY','matching_item','from','เกิดข้อผิดพลาดในการปักหมุด','totalPoints','perfect_score_status','เกิดข้อผิดพลาดในการบันทึกการจัดเรียง','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','</option>','ไม่พบเอกสารการส่งงานของ\x20','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20','Error\x20generating\x20lesson\x20plan:','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-cyan-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-cyan-800\x22>จบกิจกรรมแล้ว!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x22>สรุปคะแนน:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-2\x20max-w-sm\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pre-test','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','tan','\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','qType','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','both','ฟังก์ชันค่าสัมบูรณ์','ชนิดของข้อมูลและการเก็บข้อมูล','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','geq','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','modal-timer-mode-select','ความแปรปรวน','<div\x20class=\x22flex-1\x22></div>','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','.project-card-content','score-distribution-chart','latestSubmittedAt','students','strokeStyle',';\x22\x20data-id=\x22','ไม่พบเกมด้วยรหัสนี้\x20หรือเกมอาจจะจบไปแล้ว','q-explanation-','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','mixed','confirmation-message','ไม่ใช่\x20/\x20ผิด','passcode-error-msg','ไม่ใช่','dfrac','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','ค่าสัมบูรณ์','start-presentation-btn','undo-btn','Team\x20Quiz','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','.ai-fix-formula-btn','กรุณาพิมพ์คำตอบของกลุ่ม','หน่วยมวล/น้ำหนักและการแปลง','projectSort','scrollX','textContent','.live-summary-tooltip.visible','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.topic-name-display','กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม','blueprint-input-area','floor','ความชันเส้นสัมผัส','API\x20call\x20failed\x20with\x20status:\x20','ทฤษฎีบทพีทาโกรัสและการประยุกต์','parts','width','/public/data/customMathTopics','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>','first_try_ace','Error\x20starting\x20team\x20quiz:','Error\x20joining\x20live\x20game:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22','/public/data/teamQuizzes','พอใช้','admin-password-modal','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fromCharCode','highlighter-size-value','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','เกิดข้อผิดพลาดในการสร้างห้อง\x20Group\x20Quiz','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','quiz-id-input','.sort-indicator','application/json','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','จับคู่แบบทดสอบสำเร็จ!','localeCompare','close-lesson-plan-modal-footer-btn','interesting-stats-container','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q_opt','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)','</p><div>','แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ','\x5cpm','questionId','parse','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','</div>\x0a</div>\x0a','12224440cgcbky','specialist','<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>','remove','confirm-join-game-btn','promptFeedback','leaderboard-tab','times','bank-tab','student-progress-content','\x20คน\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','Group\x20Mode','createObjectURL','deg','<i\x20class=\x22fas\x20fa-pen\x22></i>','</span></td>','<td\x20class=\x22py-2\x20px-2\x20border-b\x20','#retake-for-improvement-btn','mode-switcher-btn','commit','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','innerHTML','cancel-test-btn','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','document','parallel-test-input-area','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','<span\x20class=\x22text-yellow-300\x20ml-2\x22\x20title=\x22โบนัสคะแนนเต็ม!\x22>+1\x20✨</span>','generated-quiz-container','generate-from-topic-btn','ฟังก์ชันราก\x20(root)','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','พื้นที่สามเหลี่ยม','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','beforeend','สมการเชิงเส้นตัวแปรเดียว','start-sync-game-btn','quiz-leaderboard-table-body','<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','bg-blue-100\x20text-blue-800','ยังไม่เต็มนะ','analytics-tab-btn','insertBefore','bg-green-200','doughnut','confirm-game-start-modal','after','delete','cancel-bulk-quiz-settings-btn','lessonPlan','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','ยังไม่มีนักเรียนส่งงาน','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','สำหรับโปรเจค:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','webkitRequestFullscreen','กรุณาเลือกโปรเจคปลายทาง','เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง','end-sync-game-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20','ตอบถูก\x203\x20ข้อติดต่อกัน','scores-tab-btn','ฐานนิยม','text-tab','กำลังค้นหากิจกรรม...','รูปหลายเหลี่ยมและมุมภายใน','getBBox','startedAt','red','.quiz-result-card','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','choices_only','ข้อ\x20','[role=\x22textbox\x22]','Failed\x20to\x20kick\x20player\x20','กรุณาป้อนรหัส\x20Team\x20Quiz\x20(4\x20หลัก):','scratchpad-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนกลุ่ม</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>','next-question-timed-btn','ฟังก์ชันผกผัน','visible','Error\x20resetting\x20project\x20order:','\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>(','close-presentation-btn','student-view','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20bg-white/20\x20p-4\x20rounded-lg\x20mt-4\x20flex-grow\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x20text-center\x22>สถานะผู้เล่น</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22team-player-status-grid\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-team-quiz-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบกิจกรรม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','pointerdown'];_0xc703=function(){return _0x19f13f;};return _0xc703();}async function handleGenerateEasyVersionQuiz(_0x1fb86a){const _0x21577f=_0x5b6af5,_0x3e03ce=document[_0x21577f(0x318)]('results-tab-content'),_0x21db4e=document[_0x21577f(0x318)](_0x21577f(0x45a));_0x21db4e['classList']['add'](_0x21577f(0x8be));const _0x10a6e3='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x3e03ce['insertAdjacentHTML'](_0x21577f(0x9a9),_0x10a6e3);try{const _0x44c3d4=allQuizzes[_0x21577f(0xa93)](_0x4a913d=>_0x4a913d['id']===_0x1fb86a);if(!_0x44c3d4)throw new Error(_0x21577f(0x2b3));const _0x3ca797=_0x21577f(0x59a)+JSON[_0x21577f(0x617)](_0x44c3d4[_0x21577f(0x313)])+_0x21577f(0x44f),_0x12dc16={'type':_0x21577f(0xa0a),'properties':{'questionText':{'type':_0x21577f(0x864)},'questionType':{'type':_0x21577f(0x864)},'options':{'type':_0x21577f(0x805),'items':{'type':_0x21577f(0x864)}},'correctAnswerIndex':{'type':_0x21577f(0x5e1)},'idealAnswer':{'type':_0x21577f(0x864)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x21577f(0x864)}},'required':['questionText','questionType',_0x21577f(0xb12)]},_0x28e6aa={'type':_0x21577f(0xa0a),'properties':{'questions':{'type':_0x21577f(0x805),'items':_0x12dc16}},'required':[_0x21577f(0x313)]},_0x9538fa=await callAnalysisApi(_0x3ca797,_0x28e6aa);if(!_0x9538fa||!_0x9538fa[_0x21577f(0x313)]||_0x9538fa[_0x21577f(0x313)][_0x21577f(0x326)]===0x0)throw new Error(_0x21577f(0x2bc));const _0x54db89=_0x9538fa['questions']['map']((_0x22915e,_0x195b39)=>({..._0x22915e,'id':'q_'+Date[_0x21577f(0x255)]()+'_'+_0x195b39})),_0xb4fac7={'projectId':_0x44c3d4['projectId'],'quizType':_0x44c3d4[_0x21577f(0x7ed)],'settings':_0x44c3d4[_0x21577f(0x492)],'createdBy':_0x44c3d4[_0x21577f(0x376)],'status':_0x21577f(0x82a),'topic':_0x21577f(0x236)+_0x44c3d4[_0x21577f(0x53e)],'questions':_0x54db89,'createdAt':new Date()[_0x21577f(0x7db)](),'quizMode':_0x21577f(0x229),'pairedQuizId':null};let _0x223c3e;while(!![]){_0x223c3e=Math[_0x21577f(0x957)](0x3e8+Math[_0x21577f(0x8f7)]()*0x2328)[_0x21577f(0x742)]();const _0x373afc=await getDoc(doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x223c3e));if(!_0x373afc[_0x21577f(0xa76)]())break;}await setDoc(doc(db,_0x21577f(0x58b)+appId+_0x21577f(0xaca),_0x223c3e),_0xb4fac7),showMessage(_0x21577f(0x54f));}catch(_0x6a05bd){console[_0x21577f(0x581)](_0x21577f(0x814),_0x6a05bd),showMessage(_0x21577f(0x431)+_0x6a05bd[_0x21577f(0x8a6)]);}finally{const _0x317e70=document[_0x21577f(0x318)](_0x21577f(0x5a1));_0x317e70&&_0x317e70[_0x21577f(0x981)](),_0x21db4e[_0x21577f(0x821)][_0x21577f(0x981)](_0x21577f(0x8be));}}async function generatePracticeQuestions(_0x3004f6){const _0x2ff611=_0x5b6af5,_0x2c95a7=_0x2ff611(0x437)+_0x3004f6+_0x2ff611(0x7eb)+simpleMathPrompt+_0x2ff611(0x5f7),_0x3abf28={'type':_0x2ff611(0xa0a),'properties':{'questionText':{'type':_0x2ff611(0x864)},'options':{'type':_0x2ff611(0x805),'items':{'type':_0x2ff611(0x864)}},'correctAnswerIndex':{'type':_0x2ff611(0x5e1)},'explanation':{'type':'STRING'}},'required':['questionText',_0x2ff611(0x6c3),_0x2ff611(0x859),_0x2ff611(0xb12)]},_0x50cfb6={'type':'OBJECT','properties':{'topic':{'type':_0x2ff611(0x864)},'questions':{'type':'ARRAY','items':_0x3abf28}},'required':[_0x2ff611(0x53e),_0x2ff611(0x313)]};return await callAnalysisApi(_0x2c95a7,_0x50cfb6);}function displayLessonPlan(_0x1717b7,_0x1c40c7){const _0x12d05a=_0x5b6af5,_0xa6195f=_0x12d05a(0x528)+_0x1c40c7[_0x12d05a(0x53e)]+_0x12d05a(0x8fb)+_0x1717b7[_0x12d05a(0x43b)][_0x12d05a(0xa7a)](_0x121852=>_0x12d05a(0x874)+_0x121852+'</li>')[_0x12d05a(0x8c0)]('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>'+_0x1717b7['teachingContent']+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>'+_0x1717b7[_0x12d05a(0x460)][_0x12d05a(0xa7a)](_0x2e9866=>_0x12d05a(0x1dd)+_0x2e9866['question']+_0x12d05a(0x9ed)+_0x2e9866[_0x12d05a(0x45e)]+_0x12d05a(0x1e6))[_0x12d05a(0x8c0)]('')+_0x12d05a(0x8fa);document[_0x12d05a(0x318)](_0x12d05a(0xa91))[_0x12d05a(0x950)]='แผนการสอน:\x20'+_0x1c40c7[_0x12d05a(0x53e)],document[_0x12d05a(0x318)](_0x12d05a(0x2fe))['innerHTML']=_0xa6195f,document[_0x12d05a(0x318)](_0x12d05a(0x6f2))['classList']['remove'](_0x12d05a(0x8be));if(window[_0x12d05a(0x2c3)])MathJax[_0x12d05a(0x4f5)]();}function displaySkillPracticeDrill(_0x1422c5){const _0x542c79=_0x5b6af5;let _0x380b82=0x0;const _0x5075f9=_0x1422c5[_0x542c79(0x313)],_0xe1c253=()=>{const _0x3b74ce=_0x542c79,_0x190309=_0x5075f9[_0x380b82],_0x3d4c50=_0x3b74ce(0xa72)+(_0x380b82+0x1)+_0x3b74ce(0x682)+_0x5075f9[_0x3b74ce(0x326)]+_0x3b74ce(0x6e8)+_0x190309[_0x3b74ce(0x7a4)]+_0x3b74ce(0xab0)+_0x190309[_0x3b74ce(0x6c3)][_0x3b74ce(0xa7a)]((_0xbe3142,_0x5c585f)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_'+_0x5c585f+_0x3b74ce(0x637)+_0x5c585f+_0x3b74ce(0x692)+_0x5c585f+'\x22>'+_0xbe3142+_0x3b74ce(0x75f))[_0x3b74ce(0x8c0)]('')+_0x3b74ce(0x92a);studentQuizArea['innerHTML']=_0x3d4c50;if(window['MathJax'])MathJax[_0x3b74ce(0x4f5)]([studentQuizArea]);document[_0x3b74ce(0x318)](_0x3b74ce(0x1e8))['addEventListener'](_0x3b74ce(0x382),async()=>{const _0x245632=await getHintForQuestion(_0x190309['questionText']);showMessage(_0x245632);}),document[_0x3b74ce(0x318)](_0x3b74ce(0x706))[_0x3b74ce(0x78c)]('click',()=>{const _0x1823b2=_0x3b74ce,_0x472cf1=document[_0x1823b2(0x3f9)](_0x1823b2(0x399));if(!_0x472cf1){showMessage(_0x1823b2(0x23f));return;}const _0x53885b=document['getElementById'](_0x1823b2(0x6eb)),_0x4b7a87=parseInt(_0x472cf1[_0x1823b2(0x3e2)])===_0x190309['correctAnswerIndex'];_0x4b7a87?(_0x53885b[_0x1823b2(0xa44)]=_0x1823b2(0x651),_0x53885b[_0x1823b2(0x993)]=_0x1823b2(0x8fc)+_0x190309[_0x1823b2(0xb12)]):(_0x53885b[_0x1823b2(0xa44)]='my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800',_0x53885b[_0x1823b2(0x993)]=_0x1823b2(0xae3)+_0x190309[_0x1823b2(0xb12)]);_0x53885b[_0x1823b2(0x821)][_0x1823b2(0x981)]('hidden');if(window['MathJax'])MathJax['typesetPromise']([_0x53885b]);document[_0x1823b2(0x318)](_0x1823b2(0x706))[_0x1823b2(0x821)][_0x1823b2(0x231)](_0x1823b2(0x8be)),document['getElementById']('hint-btn')[_0x1823b2(0x821)]['add'](_0x1823b2(0x8be)),document[_0x1823b2(0x318)](_0x1823b2(0xa4b))['classList'][_0x1823b2(0x981)](_0x1823b2(0x8be));}),document[_0x3b74ce(0x318)](_0x3b74ce(0xa4b))[_0x3b74ce(0x78c)](_0x3b74ce(0x382),()=>{const _0x17745c=_0x3b74ce;_0x380b82++,_0x380b82<_0x5075f9[_0x17745c(0x326)]?_0xe1c253():(studentQuizArea[_0x17745c(0x993)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',document['getElementById'](_0x17745c(0x51e))[_0x17745c(0x78c)]('click',()=>{const _0x4ca877=_0x17745c;studentQuizArea[_0x4ca877(0x821)][_0x4ca877(0x231)]('hidden'),studentResultArea[_0x4ca877(0x821)][_0x4ca877(0x981)]('hidden');}));});};_0xe1c253();}async function getHintForQuestion(_0x59583c){const _0x2190da=_0x5b6af5,_0x5257bd='สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22'+_0x59583c+_0x2190da(0x478),_0x3d22f2={'type':_0x2190da(0xa0a),'properties':{'hint':{'type':_0x2190da(0x864)}},'required':[_0x2190da(0x8f3)]};try{const _0xcb0a34=await callAnalysisApi(_0x5257bd,_0x3d22f2);return _0xcb0a34[_0x2190da(0x8f3)];}catch(_0xf81ae1){return console[_0x2190da(0x581)]('Failed\x20to\x20get\x20hint:',_0xf81ae1),_0x2190da(0x7f7);}}async function extractTextFromPdf(_0x1c5e7e){const _0x3522cf=_0x5b6af5;pdfjsLib[_0x3522cf(0x727)][_0x3522cf(0x54e)]=_0x3522cf(0x4aa);const _0x2192be=await _0x1c5e7e[_0x3522cf(0x3b7)](),_0x1dc9f4=await pdfjsLib[_0x3522cf(0x2a8)](_0x2192be)[_0x3522cf(0x8b6)],_0xbbec1f=_0x1dc9f4[_0x3522cf(0x428)];let _0x1ae2ad='';for(let _0x3b79cb=0x1;_0x3b79cb<=_0xbbec1f;_0x3b79cb++){const _0x33d4dc=await _0x1dc9f4['getPage'](_0x3b79cb),_0x555873=await _0x33d4dc[_0x3522cf(0x26d)](),_0xb52853=_0x555873[_0x3522cf(0x260)][_0x3522cf(0xa7a)](_0x49394f=>_0x49394f[_0x3522cf(0x5e5)])[_0x3522cf(0x8c0)]('\x20');_0x1ae2ad+=_0xb52853+'\x0a\x0a';}return _0x1ae2ad;}async function handleGenerateFromBlueprint(){const _0x996a02=_0x5b6af5,_0x5a9225=document['getElementById'](_0x996a02(0x417)),_0x403fd3=document['getElementById'](_0x996a02(0x2be)),_0x27c82d=_0x5a9225['files'][0x0],_0x324a60=_0x403fd3[_0x996a02(0x3f3)][_0x996a02(0x326)]>0x0?_0x403fd3[_0x996a02(0x3f3)][0x0]:null;if(!_0x27c82d){showMessage(_0x996a02(0x58d));return;}const _0x5b9ba4=document[_0x996a02(0x318)](_0x996a02(0xa27)),_0x2e43ec=document['getElementById'](_0x996a02(0x85a)),_0x490dd1=document[_0x996a02(0x318)](_0x996a02(0x9a3)),_0x477120=document[_0x996a02(0x318)]('generate-from-blueprint-btn');_0x477120['disabled']=!![],document[_0x996a02(0x318)](_0x996a02(0x559))[_0x996a02(0x821)][_0x996a02(0x981)](_0x996a02(0x8be)),_0x490dd1[_0x996a02(0x993)]='',_0x5b9ba4['classList'][_0x996a02(0x981)](_0x996a02(0x8be));try{_0x2e43ec['textContent']=_0x996a02(0x338);const _0x425429=await extractTextFromPdf(_0x27c82d);if(!_0x425429[_0x996a02(0x442)]())throw new Error(_0x996a02(0x82d));let _0x2c408c='';_0x324a60&&(_0x2e43ec[_0x996a02(0x950)]='กำลังอ่านไฟล์ข้อสอบอ้างอิง...',_0x2c408c=await extractTextFromPdf(_0x324a60));_0x2e43ec[_0x996a02(0x950)]=_0x996a02(0x75d);const _0xf5e695=document[_0x996a02(0x318)]('include-images-checkbox')['checked'],_0x318184=_0xf5e695?_0x996a02(0x620):'',_0xd02dec=_0x2c408c?_0x996a02(0xa29)+_0x2c408c+_0x996a02(0x83b):'',_0x5afcad=_0x996a02(0x777)+(_0x2c408c?_0x996a02(0x3cb):'')+_0x996a02(0xac6)+_0x425429+_0x996a02(0x83b)+_0xd02dec+_0x996a02(0x76b)+_0x318184+_0x996a02(0x4b6)+simpleMathPrompt+_0x996a02(0x5c1),_0x144af9={'type':_0x996a02(0xa0a),'properties':{'questionText':{'type':_0x996a02(0x864)},'questionType':{'type':_0x996a02(0x864),'enum':[_0x996a02(0x40c),'short_answer']},'options':{'type':_0x996a02(0x805),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x996a02(0x5e1)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x996a02(0x864)},'imageCode':{'type':_0x996a02(0x864)}},'required':[_0x996a02(0x7a4),_0x996a02(0xb01),_0x996a02(0xb12)]},_0x1753a3={'type':_0x996a02(0xa0a),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x996a02(0x805),'items':_0x144af9}},'required':[_0x996a02(0x53e),_0x996a02(0x313)]};await handleApiCall(_0x5afcad,_0x996a02(0x5cf),_0x1753a3);}catch(_0x3c7e8c){console[_0x996a02(0x581)]('Error\x20generating\x20from\x20blueprint:',_0x3c7e8c),showMessage('เกิดข้อผิดพลาด:\x20'+_0x3c7e8c[_0x996a02(0x8a6)]),_0x490dd1[_0x996a02(0x993)]=_0x996a02(0x754);}finally{_0x5b9ba4[_0x996a02(0x821)][_0x996a02(0x231)]('hidden'),_0x477120['disabled']=![];}}function renderAdminSyncDashboard(_0x339d32,_0x414ef3){const _0x554f83=_0x5b6af5,_0x558949=Object['values'](_0x339d32[_0x554f83(0x546)]||{}),_0x288256=_0x558949[_0x554f83(0x326)],_0x2c92d8=[..._0x558949]['sort']((_0x43987b,_0x11182d)=>_0x11182d[_0x554f83(0x829)]-_0x43987b['score']),_0xe966b6=_0x339d32[_0x554f83(0x2ca)];let _0xaa82e6='';const _0x25e356=_0x339d32[_0x554f83(0x3a4)][_0x554f83(0x313)],_0x256e63=_0x25e356[_0xe966b6],_0x36ae76=_0x169374=>String['fromCharCode'](0x41+_0x169374);if(_0x256e63&&_0x256e63[_0x554f83(0x6c3)]&&_0x256e63[_0x554f83(0x859)]!==undefined){const _0x2783db=_0x256e63['options'][_0x256e63[_0x554f83(0x859)]];_0xaa82e6=_0x554f83(0xb0c)+(_0xe966b6+0x1)+_0x554f83(0xa0d)+_0x36ae76(_0x256e63['correctAnswerIndex'])+'.\x20'+_0x2783db+_0x554f83(0x711);}const _0x357ea0=_0x2c92d8[_0x554f83(0xa7a)](_0x29d15f=>{const _0x5db497=_0x554f83;let _0x24e642=![];if(_0x29d15f[_0x5db497(0x739)]&&_0xe966b6!==-0x1){const _0x40fd39=_0x29d15f['answers'][_0x5db497(0xa93)](_0x229d5f=>_0x229d5f[_0x5db497(0x361)]===_0xe966b6);_0x40fd39&&_0x40fd39['isCorrect']&&(_0x24e642=!![]);}const _0x3b0335=_0x24e642?_0x5db497(0x202):_0x5db497(0x9eb);return _0x5db497(0x477)+_0x3b0335+_0x5db497(0xac9)+_0x29d15f[_0x5db497(0x59f)]+_0x5db497(0x21b)+_0x29d15f[_0x5db497(0x829)]+_0x5db497(0x6d6);})[_0x554f83(0x8c0)](''),_0x40d40c=_0x25e356['map']((_0x297a0e,_0x51e400)=>{const _0x52617b=_0x554f83,_0x4e8dd2=_0x558949[_0x52617b(0x5e3)](_0x795116=>_0x795116['answers']&&_0x795116[_0x52617b(0x739)][_0x52617b(0xa93)](_0x23c3e0=>_0x23c3e0['questionIndex']===_0x51e400&&_0x23c3e0[_0x52617b(0x64c)]))['length'],_0x59da29=_0x51e400===_0xe966b6,_0x3348a6=_0x59da29?'p-2\x20rounded-md\x20bg-yellow-400\x20text-black\x20ring-2\x20ring-yellow-200\x20shadow-lg':_0x52617b(0x3f2);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22'+_0x3348a6+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20'+(_0x51e400+0x1)+':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x22>'+_0x4e8dd2+'\x20/\x20'+_0x288256+_0x52617b(0x988);})[_0x554f83(0x8c0)]('');let _0xa3d4ae='',_0x271427='';if(_0x414ef3){const _0xed072c=_0x339d32['currentQuestionIndex']>=_0x25e356['length']-0x1;_0xa3d4ae='<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20mt-4\x22>'+(_0xed072c?_0x554f83(0x4f1):'ข้อต่อไป')+_0x554f83(0x43d),_0x271427=_0x554f83(0x80b);}const _0x19cc6c=_0x554f83(0x8b7)+_0x339d32[_0x554f83(0x3a4)][_0x554f83(0x53e)]+_0x554f83(0xa02)+_0x271427+_0x554f83(0x5c3)+_0xaa82e6+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-6\x20flex-grow\x20overflow-y-auto\x20pr-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-1\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนน\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>'+(_0x357ea0||_0x554f83(0x3a9))+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-2\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20sm:grid-cols-3\x20lg:grid-cols-4\x20gap-2\x22>'+_0x40d40c+_0x554f83(0x443)+(_0x414ef3?_0x554f83(0x387)+_0xa3d4ae+_0x554f83(0x6cb):'')+_0x554f83(0x275);liveGameView[_0x554f83(0x993)]=_0x19cc6c;if(window['MathJax']){const _0x218b07=document[_0x554f83(0x318)](_0x554f83(0x2b9));_0x218b07&&MathJax[_0x554f83(0x4f5)]([_0x218b07]);}if(_0x414ef3){document[_0x554f83(0x318)](_0x554f83(0x7e9))[_0x554f83(0xad8)]=async()=>{const _0x51bf10=_0x554f83,_0x4e874f=doc(db,_0x51bf10(0x58b)+appId+'/public/data/syncGames',currentLiveGameId),_0x4838e7=_0x339d32[_0x51bf10(0x2ca)]+0x1;if(_0x4838e7<_0x25e356['length']){const _0x4c635a={};Object[_0x51bf10(0x593)](_0x339d32[_0x51bf10(0x546)])[_0x51bf10(0x394)](_0x438c18=>{const _0xeaa6d7=_0x51bf10;_0x4c635a[_0xeaa6d7(0x441)+_0x438c18+_0xeaa6d7(0x8a7)]=![],_0x4c635a['players.'+_0x438c18+'.lastAnswerIndex']=null;}),await updateDoc(_0x4e874f,{..._0x4c635a,'status':_0x51bf10(0x406),'currentQuestionIndex':_0x4838e7,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x4e874f,{'status':'podium'});};const _0x5562b0=document[_0x554f83(0x318)](_0x554f83(0x9c2));_0x5562b0&&(_0x5562b0[_0x554f83(0xad8)]=()=>{const _0x1f7498=_0x554f83;showConfirmation(_0x1f7498(0x6bf),async()=>{const _0x56bef4=_0x1f7498,_0x3ba40d=doc(db,_0x56bef4(0x58b)+appId+'/public/data/syncGames',currentLiveGameId);await updateDoc(_0x3ba40d,{'status':'podium'});});});}}async function handleGenerateParallelFromBank(_0x4210d0){const _0x28d418=_0x5b6af5,_0x3ff862=document['getElementById'](_0x28d418(0x2d2)),_0x3c5ecf=document[_0x28d418(0x318)](_0x28d418(0x45a));_0x3c5ecf[_0x28d418(0x821)][_0x28d418(0x231)](_0x28d418(0x8be));const _0x545f48='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์ข้อสอบ\x20\x22'+_0x4210d0[_0x28d418(0x53e)]+'\x22...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x3ff862[_0x28d418(0x5aa)]('beforeend',_0x545f48);const _0x3c50a4=document[_0x28d418(0x318)]('temp-loader-text-results');try{const _0xd6d343=_0x4210d0['questions']['map']((_0x29b6a4,_0x33854b)=>{const _0x4dae98=_0x28d418;let _0x110b31=_0x33854b+0x1+'.\x20'+(_0x29b6a4[_0x4dae98(0x7a4)]||_0x29b6a4[_0x4dae98(0x6f3)])+'\x0a';if(_0x29b6a4[_0x4dae98(0x6c3)])_0x110b31+=_0x29b6a4['options']['map']((_0x55748f,_0x843329)=>_0x4dae98(0x679)+(_0x843329===_0x29b6a4[_0x4dae98(0x859)]?_0x4dae98(0x599):'')+'\x20'+_0x55748f)[_0x4dae98(0x8c0)]('\x0a');else _0x29b6a4[_0x4dae98(0x7b3)]&&(_0x110b31+=_0x4dae98(0x8ee)+_0x29b6a4[_0x4dae98(0x7b3)]);return _0x110b31;})[_0x28d418(0x8c0)]('\x0a\x0a');_0x3c50a4[_0x28d418(0x950)]=_0x28d418(0x7c8);const _0xd2ba57=_0x28d418(0x62d)+_0x4210d0[_0x28d418(0x53e)]+'\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xd6d343+_0x28d418(0x30c)+simpleMathPrompt+_0x28d418(0x5c1),_0x337b9c={'type':_0x28d418(0xa0a),'properties':{'questionText':{'type':_0x28d418(0x864)},'questionType':{'type':_0x28d418(0x864),'enum':[_0x28d418(0x40c),_0x28d418(0xa9e),_0x28d418(0x8d0),_0x28d418(0x917)]},'options':{'type':'ARRAY','items':{'type':_0x28d418(0x864)}},'correctAnswerIndex':{'type':_0x28d418(0x5e1)},'idealAnswer':{'type':_0x28d418(0x864)},'correctAnswer':{'type':'BOOLEAN'},'stem':{'type':_0x28d418(0x864)},'correctResponse':{'type':_0x28d418(0x864)},'allResponses':{'type':'ARRAY','items':{'type':'STRING'}},'explanation':{'type':_0x28d418(0x864)},'imageCode':{'type':_0x28d418(0x864)}},'required':['questionType',_0x28d418(0xb12)]},_0x103b4a={'type':_0x28d418(0xa0a),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x28d418(0x805),'items':_0x337b9c}},'required':[_0x28d418(0x53e),_0x28d418(0x313)]},_0x1fb889=await callAnalysisApi(_0xd2ba57,_0x103b4a);_0x1fb889&&_0x1fb889['questions']&&_0x1fb889[_0x28d418(0x313)][_0x28d418(0x394)](_0x1558d3=>{const _0x43de1f=_0x28d418;if(_0x1558d3[_0x43de1f(0x7fb)]){const _0x193a9b=_0x1558d3['imageCode'][_0x43de1f(0x442)]();_0x193a9b===''||_0x193a9b[_0x43de1f(0xa19)]()==='null'||!_0x193a9b[_0x43de1f(0x7c6)]('<svg')?delete _0x1558d3[_0x43de1f(0x7fb)]:_0x1558d3[_0x43de1f(0x7fb)]=_0x193a9b;}});const _0x2a43fb=_0x1fb889['questions'][_0x28d418(0xa7a)]((_0x4decde,_0x17e2a3)=>({..._0x4decde,'id':'q_'+Date[_0x28d418(0x255)]()+'_'+_0x17e2a3})),_0x60999e=_0x28d418(0xacf)+_0x4210d0['topic'],_0xd24863={'topic':_0x60999e,'questions':_0x2a43fb,'quizType':_0x4210d0[_0x28d418(0x7ed)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x28d418(0x7db)](),'status':_0x28d418(0x82a),'settings':_0x4210d0[_0x28d418(0x492)],'quizMode':'standard','pairedQuizId':null,'lessonPlan':null};await addDoc(collection(db,'artifacts/'+appId+_0x28d418(0xaca)),_0xd24863),showMessage(_0x28d418(0x886));}catch(_0x304392){console[_0x28d418(0x581)]('Error\x20generating\x20parallel\x20test\x20from\x20bank:',_0x304392),showMessage(_0x28d418(0x431)+_0x304392[_0x28d418(0x8a6)]);}finally{const _0x59781d=document[_0x28d418(0x318)](_0x28d418(0x5a1));_0x59781d&&_0x59781d['remove'](),_0x3c5ecf[_0x28d418(0x821)]['remove']('hidden');}}async function handleGenerateParallelPostTest(_0x5c0df3){const _0x390ec5=_0x5b6af5,_0x2eed35=document[_0x390ec5(0x318)](_0x390ec5(0x2d2)),_0x3fb97b=document[_0x390ec5(0x318)](_0x390ec5(0x45a));_0x3fb97b[_0x390ec5(0x821)]['add'](_0x390ec5(0x8be));const _0x35fdeb=_0x390ec5(0x580);_0x2eed35[_0x390ec5(0x5aa)](_0x390ec5(0x9a9),_0x35fdeb);try{const _0x237e32=_0x5c0df3[_0x390ec5(0x313)][_0x390ec5(0xa7a)]((_0x1894f6,_0x442e18)=>{const _0x5613b3=_0x390ec5;let _0x5f5d60=_0x442e18+0x1+'.\x20'+(_0x1894f6['questionText']||_0x1894f6['stem']);if(_0x1894f6[_0x5613b3(0x6c3)])_0x5f5d60+=_0x5613b3(0x223)+_0x1894f6[_0x5613b3(0x6c3)]['join'](',\x20');return _0x5f5d60;})[_0x390ec5(0x8c0)]('\x0a\x0a'),_0x4295bd='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22'+_0x5c0df3[_0x390ec5(0x53e)]+_0x390ec5(0x9e4)+_0x237e32+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x390ec5(0x5c1),_0x4a5193={'type':_0x390ec5(0xa0a),'properties':{'topic':{'type':_0x390ec5(0x864)},'questions':{'type':_0x390ec5(0x805),'items':{'type':_0x390ec5(0xa0a),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':'STRING'},'options':{'type':_0x390ec5(0x805),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x390ec5(0x5e1)},'idealAnswer':{'type':_0x390ec5(0x864)},'explanation':{'type':_0x390ec5(0x864)}},'required':['questionText',_0x390ec5(0xb12)]}}},'required':[_0x390ec5(0x53e),'questions']},_0x5c86b4=await callAnalysisApi(_0x4295bd,_0x4a5193),_0x1314ce=_0x5c0df3[_0x390ec5(0x53e)][_0x390ec5(0x6c2)]('(ก่อนเรียน)','')['trim'](),_0x2c1a9c='(หลังเรียน)\x20'+_0x1314ce,_0x32b467={..._0x5c86b4,'topic':_0x2c1a9c,'quizType':_0x5c0df3[_0x390ec5(0x7ed)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x390ec5(0x7db)](),'status':_0x390ec5(0x82a),'settings':_0x5c0df3[_0x390ec5(0x492)],'quizMode':_0x390ec5(0x636),'pairedQuizId':_0x5c0df3['id']};let _0x99edce;while(!![]){_0x99edce=Math['floor'](0x3e8+Math['random']()*0x2328)[_0x390ec5(0x742)]();const _0x52d9f9=await getDoc(doc(db,_0x390ec5(0x58b)+appId+'/public/data/quizzes',_0x99edce));if(!_0x52d9f9['exists']())break;}await setDoc(doc(db,'artifacts/'+appId+_0x390ec5(0xaca),_0x99edce),_0x32b467);const _0x629773=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x5c0df3['id']);await updateDoc(_0x629773,{'pairedQuizId':_0x99edce}),showMessage(_0x390ec5(0x8e2));}catch(_0x5f5465){console[_0x390ec5(0x581)]('Error\x20generating\x20parallel\x20post-test:',_0x5f5465),showMessage(_0x390ec5(0x431)+_0x5f5465['message']);}finally{const _0x5c53a2=document[_0x390ec5(0x318)](_0x390ec5(0x5a1));if(_0x5c53a2)_0x5c53a2[_0x390ec5(0x981)]();_0x3fb97b[_0x390ec5(0x821)]['remove'](_0x390ec5(0x8be));}}async function handleGenerateParallelTest(){const _0x991fa5=_0x5b6af5,_0x36e5ba=document[_0x991fa5(0x318)](_0x991fa5(0x632)),_0x4b74b2=_0x36e5ba[_0x991fa5(0x3f3)][0x0];if(!_0x4b74b2){showMessage(_0x991fa5(0x72e));return;}const _0x1c62fa=document[_0x991fa5(0x318)](_0x991fa5(0xa27)),_0x270e77=document[_0x991fa5(0x318)](_0x991fa5(0x85a)),_0xbfad92=document['getElementById'](_0x991fa5(0x9a3)),_0x1b4ca7=document[_0x991fa5(0x318)](_0x991fa5(0x244));_0x1b4ca7[_0x991fa5(0x204)]=!![],document[_0x991fa5(0x318)](_0x991fa5(0x559))['classList']['remove'](_0x991fa5(0x8be)),_0xbfad92[_0x991fa5(0x993)]='',_0x1c62fa['classList'][_0x991fa5(0x981)](_0x991fa5(0x8be)),_0x270e77[_0x991fa5(0x950)]=_0x991fa5(0x35e);try{const _0x401a22=await extractTextFromPdf(_0x4b74b2);if(!_0x401a22[_0x991fa5(0x442)]())throw new Error(_0x991fa5(0x5f4));_0x270e77[_0x991fa5(0x950)]=_0x991fa5(0x7c8);const _0x11b6fa=document[_0x991fa5(0x318)]('include-images-checkbox')[_0x991fa5(0x82f)],_0x31af93=_0x11b6fa?_0x991fa5(0x620):'',_0x2ba7d5=_0x991fa5(0x807)+_0x401a22+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์ข้อสอบต้นฉบับนี้อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20จำนวนข้อ,\x20รูปแบบคำถาม\x20(เช่น\x20ปรนัย,\x20เติมคำ),\x20และระดับความยากง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งเป็นแบบทดสอบที่วัดความรู้ความสามารถในเรื่องเดียวกันและมีระดับความยากเท่ากันกับต้นฉบับ\x20**แต่ต้องใช้คำถาม\x20ตัวเลข\x20และสถานการณ์ที่แตกต่างออกไป\x20ห้ามคัดลอกโจทย์เดิมมาโดยเด็ดขาด**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทของคำถาม\x20(multiple_choice,\x20short_answer)\x20ต้องตรงกับข้อสอบต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x31af93+_0x991fa5(0x4b6)+simpleMathPrompt+_0x991fa5(0x5c1),_0x3ded68={'type':_0x991fa5(0xa0a),'properties':{'questionText':{'type':_0x991fa5(0x864)},'questionType':{'type':_0x991fa5(0x864),'enum':['multiple_choice',_0x991fa5(0xa9e)]},'options':{'type':_0x991fa5(0x805),'items':{'type':_0x991fa5(0x864)}},'correctAnswerIndex':{'type':_0x991fa5(0x5e1)},'idealAnswer':{'type':_0x991fa5(0x864)},'explanation':{'type':_0x991fa5(0x864)},'imageCode':{'type':_0x991fa5(0x864)}},'required':[_0x991fa5(0x7a4),_0x991fa5(0xb01),_0x991fa5(0xb12)]},_0x2483b6={'type':_0x991fa5(0xa0a),'properties':{'topic':{'type':_0x991fa5(0x864)},'questions':{'type':'ARRAY','items':_0x3ded68}},'required':['topic','questions']};await handleApiCall(_0x2ba7d5,'กำลังสร้างแบบทดสอบคู่ขนาน...',_0x2483b6);}catch(_0x2f912e){console['error']('Error\x20generating\x20from\x20parallel\x20test\x20file:',_0x2f912e),showMessage('เกิดข้อผิดพลาด:\x20'+_0x2f912e['message']),_0xbfad92[_0x991fa5(0x993)]=_0x991fa5(0x1ee);}finally{_0x1c62fa[_0x991fa5(0x821)][_0x991fa5(0x231)](_0x991fa5(0x8be)),_0x1b4ca7['disabled']=![];}}async function handleRegenerateQuestionInEditor(_0x42b6b1){const _0x3c746f=_0x5b6af5;if(currentEditingQuizData===null)return;const _0x5290ac=document['querySelector'](_0x3c746f(0x2fb)+_0x42b6b1+'\x22]');_0x5290ac&&(_0x5290ac[_0x3c746f(0x993)]=_0x3c746f(0x9e7));const _0x28b44f=currentEditingQuizData[_0x3c746f(0x313)][_0x42b6b1],_0x41569c=currentEditingQuizData['topic'],_0x2429b7=_0x28b44f[_0x3c746f(0xb01)],_0x1d56ff={'type':_0x3c746f(0xa0a),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x3c746f(0x805),'items':{'type':_0x3c746f(0x864)}},'correctAnswerIndex':{'type':_0x3c746f(0x5e1)},'explanation':{'type':_0x3c746f(0x864)}},'required':['questionText',_0x3c746f(0x6c3),_0x3c746f(0x859),'explanation']},_0x35adcd={'type':_0x3c746f(0xa0a),'properties':{'questionText':{'type':_0x3c746f(0x864)},'idealAnswer':{'type':_0x3c746f(0x864)},'explanation':{'type':_0x3c746f(0x864)}},'required':['questionText',_0x3c746f(0x7b3),_0x3c746f(0xb12)]};let _0x3804ed,_0x2a144b='';_0x2429b7===_0x3c746f(0x40c)?(_0x3804ed=_0x1d56ff,_0x2a144b=_0x3c746f(0x760)):(_0x3804ed=_0x35adcd,_0x2a144b='แบบเติมคำตอบ');const _0x1a2984=_0x3c746f(0x819)+_0x41569c+_0x3c746f(0x625)+_0x2a144b+_0x3c746f(0x8bc)+(_0x28b44f[_0x3c746f(0x7a4)]||_0x28b44f[_0x3c746f(0x6f3)])+_0x3c746f(0x561)+simpleMathPrompt;try{const _0x19ecaf=await callAnalysisApi(_0x1a2984,_0x3804ed);currentEditingQuizData[_0x3c746f(0x313)][_0x42b6b1]={..._0x28b44f,..._0x19ecaf},renderQuizEditor(currentEditingQuizData);}catch(_0x35773f){console[_0x3c746f(0x581)]('Error\x20regenerating\x20question\x20in\x20editor:',_0x35773f),showMessage(_0x3c746f(0x94a)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x239ded=_0x5b6af5,_0x3c3eef=document[_0x239ded(0x318)](_0x239ded(0x990));currentMode===_0x239ded(0x73a)?(adminPasswordModal[_0x239ded(0x821)][_0x239ded(0x981)](_0x239ded(0x8be)),document[_0x239ded(0x318)](_0x239ded(0x1f3))[_0x239ded(0x489)]()):(currentMode=_0x239ded(0x73a),_0x3c3eef['innerHTML']=_0x239ded(0x4b1),_0x3c3eef[_0x239ded(0x2f9)]='สลับไปโหมดผู้ควบคุม',showView(_0x239ded(0x73a)));}function handleAdminLogin(){const _0x5bc1f8=_0x5b6af5,_0x4639b5=document[_0x5bc1f8(0x318)](_0x5bc1f8(0x1f3)),_0x4d578e=document[_0x5bc1f8(0x318)](_0x5bc1f8(0x301));if(_0x4639b5[_0x5bc1f8(0x3e2)]===_0x5bc1f8(0x2ce)){adminPasswordModal[_0x5bc1f8(0x821)]['add'](_0x5bc1f8(0x8be)),_0x4639b5[_0x5bc1f8(0x3e2)]='',_0x4d578e[_0x5bc1f8(0x821)][_0x5bc1f8(0x231)](_0x5bc1f8(0x8be)),currentMode=_0x5bc1f8(0x6a3);const _0xc06c31=document['getElementById'](_0x5bc1f8(0x990));_0xc06c31[_0x5bc1f8(0x993)]=_0x5bc1f8(0xa35),_0xc06c31[_0x5bc1f8(0x2f9)]=_0x5bc1f8(0x78e),showView(_0x5bc1f8(0x334));}else _0x4d578e['classList'][_0x5bc1f8(0x981)](_0x5bc1f8(0x8be)),_0x4639b5['value']='';}function switchProjectTab(_0x2adfb1){const _0x33d111=_0x5b6af5;[_0x33d111(0x622),_0x33d111(0x8ce),_0x33d111(0x571)][_0x33d111(0x394)](_0x387763=>{const _0x5d8624=_0x33d111;document[_0x5d8624(0x318)](_0x387763+'-tab')[_0x5d8624(0x821)]['remove'](_0x5d8624(0x82a)),document['getElementById'](_0x387763+_0x5d8624(0x30d))[_0x5d8624(0x821)][_0x5d8624(0x231)](_0x5d8624(0x8be));}),document[_0x33d111(0x318)](_0x2adfb1+_0x33d111(0xa0f))[_0x33d111(0x821)][_0x33d111(0x231)](_0x33d111(0x82a)),document[_0x33d111(0x318)](_0x2adfb1+_0x33d111(0x30d))['classList'][_0x33d111(0x981)]('hidden');}function switchQuizDetailTab(_0x1d13f4){const _0x39c703=_0x5b6af5,_0x145ab3={'analytics':{'btn':_0x39c703(0x9b1),'content':'analytics-tab-content'},'scores':{'btn':_0x39c703(0x9c5),'content':'scores-tab-content'},'leaderboard-quiz':{'btn':_0x39c703(0x261),'content':_0x39c703(0xa94)},'behavior-log':{'btn':'behavior-log-tab-btn','content':'behavior-log-tab-content'}};for(const _0xb37e4b in _0x145ab3){document[_0x39c703(0x318)](_0x145ab3[_0xb37e4b]['btn'])[_0x39c703(0x821)][_0x39c703(0x981)](_0x39c703(0x82a)),document[_0x39c703(0x318)](_0x145ab3[_0xb37e4b]['content'])[_0x39c703(0x821)][_0x39c703(0x231)](_0x39c703(0x8be));}document['getElementById'](_0x145ab3[_0x1d13f4][_0x39c703(0x71a)])[_0x39c703(0x821)][_0x39c703(0x231)]('active'),document[_0x39c703(0x318)](_0x145ab3[_0x1d13f4][_0x39c703(0x912)])[_0x39c703(0x821)]['remove'](_0x39c703(0x8be));}function showMessage(_0x5c4e56,_0x45b48e=null){const _0x27b21b=_0x5b6af5;modalMessage[_0x27b21b(0x950)]=_0x5c4e56,modalConfirmAction=_0x45b48e,messageModal['classList'][_0x27b21b(0x981)]('hidden');}function showConfirmation(_0x10bdb3,_0x268e21){const _0x26d87f=_0x5b6af5;document[_0x26d87f(0x318)](_0x26d87f(0x93f))[_0x26d87f(0x950)]=_0x10bdb3,document[_0x26d87f(0x318)](_0x26d87f(0x5a9))[_0x26d87f(0x3f9)]('h3')[_0x26d87f(0x950)]=_0x26d87f(0x225),confirmAction=_0x268e21,confirmationModal[_0x26d87f(0x821)][_0x26d87f(0x981)](_0x26d87f(0x8be));}function listenForProjects(){const _0x4237dd=_0x5b6af5,_0x42ba47=doc(db,_0x4237dd(0x5d9),'dashboardConfig');onSnapshot(_0x42ba47,_0x42857c=>{const _0x10234b=_0x4237dd;if(_0x42857c[_0x10234b(0xa76)]()){const _0x58ff93=_0x42857c['data']();globalDashboardSettings[_0x10234b(0x94e)]=_0x58ff93[_0x10234b(0x94e)]||_0x10234b(0x84f),globalDashboardSettings['pinnedProjects']=_0x58ff93['pinnedProjects']||[],globalDashboardSettings[_0x10234b(0x7f0)]=_0x58ff93['projectOrder']||[];}allProjects[_0x10234b(0x326)]>0x0&&renderProjects();});const _0x49ae35=collection(db,_0x4237dd(0x58b)+appId+_0x4237dd(0x268));unsubscribeProjectsListener=onSnapshot(_0x49ae35,_0x50f461=>{const _0x459681=_0x4237dd;allProjects=_0x50f461[_0x459681(0xa18)]['map'](_0x3af0fb=>({'id':_0x3af0fb['id'],..._0x3af0fb[_0x459681(0x266)]()})),renderProjects();},_0x22b1c5=>{const _0x3f3f99=_0x4237dd;console[_0x3f3f99(0x581)](_0x3f3f99(0xa6b),_0x22b1c5),showMessage('เกิดข้อผิดพลาดในการโหลดโปรเจค');});}function showColorPalette(_0x26a97b,_0x4bf736){const _0x181bf9=_0x5b6af5;document['querySelectorAll'](_0x181bf9(0x5b8))[_0x181bf9(0x394)](_0x5461a7=>_0x5461a7[_0x181bf9(0x981)]());const _0x20283a=['#FFFFFF',_0x181bf9(0x900),_0x181bf9(0x3e4),_0x181bf9(0x7ab),_0x181bf9(0x4bd),'#E0E7FF',_0x181bf9(0x582),_0x181bf9(0xae2),_0x181bf9(0x809)],_0x21dd02=document[_0x181bf9(0x7f1)](_0x181bf9(0x404));_0x21dd02[_0x181bf9(0xa44)]=_0x181bf9(0x723),_0x20283a[_0x181bf9(0x394)](_0x224da0=>{const _0x376c25=_0x181bf9,_0x2ab2cf=document[_0x376c25(0x7f1)]('div');_0x2ab2cf[_0x376c25(0xa44)]=_0x376c25(0x9f0),_0x2ab2cf[_0x376c25(0xae7)]['backgroundColor']=_0x224da0,_0x2ab2cf['addEventListener'](_0x376c25(0x382),()=>{const _0x40ece3=_0x376c25;handleProjectColorChange(_0x4bf736,_0x224da0),_0x21dd02[_0x40ece3(0x981)]();}),_0x21dd02[_0x376c25(0x239)](_0x2ab2cf);}),document[_0x181bf9(0x228)][_0x181bf9(0x239)](_0x21dd02);const _0x2beef2=_0x26a97b[_0x181bf9(0x4b7)]();_0x21dd02[_0x181bf9(0xae7)][_0x181bf9(0x339)]=_0x2beef2[_0x181bf9(0x535)]+window[_0x181bf9(0x49e)]+'px',_0x21dd02[_0x181bf9(0xae7)][_0x181bf9(0x691)]=_0x2beef2[_0x181bf9(0x691)]+window[_0x181bf9(0x94f)]-_0x21dd02[_0x181bf9(0x24c)]/0x2+'px';}async function handleProjectColorChange(_0x2ca6a5,_0x1fa387){const _0x204dae=_0x5b6af5,_0x3c3158=doc(db,_0x204dae(0x58b)+appId+_0x204dae(0x268),_0x2ca6a5);try{await updateDoc(_0x3c3158,{'color':_0x1fa387});}catch(_0x3d9f18){console[_0x204dae(0x581)]('Error\x20updating\x20project\x20color:',_0x3d9f18),showMessage(_0x204dae(0x378));}}async function renderProjects(){const _0x54319b=_0x5b6af5,_0x113e8a=globalDashboardSettings[_0x54319b(0x94e)]||_0x54319b(0x84f),_0x2d9271=new Set(globalDashboardSettings['pinnedProjects']||[]),_0x473b06=globalDashboardSettings[_0x54319b(0x6cc)]||'grid',_0x3c66e9=document[_0x54319b(0x318)](_0x54319b(0x8ae)),_0x2d8761=document[_0x54319b(0x318)](_0x54319b(0x871));_0x3c66e9[_0x54319b(0x821)][_0x54319b(0x4fe)](_0x54319b(0x82a),_0x473b06==='grid'),_0x2d8761[_0x54319b(0x821)][_0x54319b(0x4fe)](_0x54319b(0x82a),_0x473b06==='list'),document[_0x54319b(0x318)]('project-sort-select')[_0x54319b(0x3e2)]=_0x113e8a;const _0xe1fe64=document[_0x54319b(0x318)]('project-search-input')['value'][_0x54319b(0xa19)]();let _0x20f0d2=allProjects['filter'](_0x347b8a=>_0x347b8a['projectName'][_0x54319b(0xa19)]()[_0x54319b(0x680)](_0xe1fe64));const _0x49e495=_0x20f0d2[_0x54319b(0x5e3)](_0x2cfe3a=>_0x2d9271['has'](_0x2cfe3a['id'])),_0x2eb783=_0x20f0d2[_0x54319b(0x5e3)](_0x10e20b=>!_0x2d9271['has'](_0x10e20b['id'])),_0x11ca52=(_0x1e3e9d,_0x1879bc)=>{const _0x113e7e=_0x54319b;switch(_0x113e8a){case _0x113e7e(0x4d9):return _0x1e3e9d['projectName']['localeCompare'](_0x1879bc['projectName'],'th');case _0x113e7e(0xa1e):return _0x1879bc[_0x113e7e(0x368)][_0x113e7e(0x972)](_0x1e3e9d[_0x113e7e(0x368)],'th');case _0x113e7e(0x70d):return new Date(_0x1e3e9d[_0x113e7e(0x7a0)])-new Date(_0x1879bc['createdAt']);default:return new Date(_0x1879bc[_0x113e7e(0x7a0)])-new Date(_0x1e3e9d[_0x113e7e(0x7a0)]);}};_0x49e495['sort'](_0x11ca52),_0x2eb783['sort'](_0x11ca52);const _0x170fb5=[..._0x49e495,..._0x2eb783],_0x1fbcd1=globalDashboardSettings[_0x54319b(0x7f0)]||[];_0x1fbcd1['length']>0x0&&_0x473b06===_0x54319b(0x718)&&_0x170fb5[_0x54319b(0xaa5)]((_0xb06c94,_0x7c8fd5)=>{const _0x30daf5=_0x54319b,_0x8bf163=_0x1fbcd1[_0x30daf5(0x856)](_0xb06c94['id']),_0x2db1d0=_0x1fbcd1[_0x30daf5(0x856)](_0x7c8fd5['id']);if(_0x8bf163===-0x1)return 0x1;if(_0x2db1d0===-0x1)return-0x1;return _0x8bf163-_0x2db1d0;});const _0x3ea6f2={};await Promise[_0x54319b(0x3a5)](_0x170fb5[_0x54319b(0xa7a)](async _0x531317=>{const _0x2a1e29=_0x54319b,_0x184f19=query(collection(db,_0x2a1e29(0x58b)+appId+'/public/data/quizzes'),where(_0x2a1e29(0x1f9),'==',_0x531317['id'])),_0x3be5e3=await getDocs(_0x184f19);_0x3ea6f2[_0x531317['id']]=_0x3be5e3['size'];}));const _0x236e3f=document['getElementById'](_0x54319b(0x591));let _0x3afbc4='';if(_0x473b06===_0x54319b(0x718)){_0x236e3f[_0x54319b(0xa44)]=_0x54319b(0x7ba);if(starredQuizzes['length']>0x0&&_0xe1fe64===''){const _0x43e6da=starredQuizzes[_0x54319b(0xa7a)](_0x388664=>{const _0x7d025f=_0x54319b,_0x23e671=allProjects[_0x7d025f(0xa93)](_0x25a5d3=>_0x25a5d3['id']===_0x388664[_0x7d025f(0x1f9)]);return{..._0x388664,'projectName':_0x23e671?_0x23e671['projectName']:'N/A'};});_0x3afbc4+=_0x54319b(0xa82)+_0x43e6da[_0x54319b(0xa7a)](_0x45c477=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22'+_0x45c477[_0x54319b(0x53e)]+'\x22>'+_0x45c477[_0x54319b(0x53e)]+_0x54319b(0x412)+_0x45c477[_0x54319b(0x368)]+'\x22>จาก:\x20'+_0x45c477[_0x54319b(0x368)]+_0x54319b(0x782))[_0x54319b(0x8c0)]('')+_0x54319b(0x852)+starredQuizzes['length']+_0x54319b(0x6dc);}_0x170fb5[_0x54319b(0x394)](_0x535d85=>{const _0x191396=_0x54319b,_0x11eb3a=_0x3ea6f2[_0x535d85['id']]??0x0,_0x2b3c25=_0x2d9271[_0x191396(0x27b)](_0x535d85['id']),_0x27fcf4=_0x535d85[_0x191396(0x8a2)]||'#FFFFFF',_0x441188=parseInt(_0x27fcf4['substring'](0x1,0x3),0x10)*0.299+parseInt(_0x27fcf4[_0x191396(0x4c4)](0x3,0x5),0x10)*0.587+parseInt(_0x27fcf4[_0x191396(0x4c4)](0x5,0x7),0x10)*0.114<0xba,_0x32056d=_0x441188?_0x191396(0x3b4):_0x191396(0x849),_0x48f3b9=_0x441188?_0x191396(0x7e2):_0x191396(0x20c);_0x3afbc4+=_0x191396(0xa69)+(_0x2b3c25?_0x191396(0x765):'border-gray-200')+_0x191396(0x4f6)+_0x27fcf4+_0x191396(0x93a)+_0x535d85['id']+_0x191396(0x1e1)+_0x535d85['id']+_0x191396(0x6af)+(_0x441188?_0x191396(0xa7b):_0x191396(0x6de))+_0x191396(0x24f)+_0x535d85['id']+'\x22\x20class=\x22pin-project-btn\x20'+(_0x441188?'text-gray-300\x20hover:text-white':_0x191396(0x6de))+'\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20'+(_0x2b3c25?_0x441188?_0x191396(0x452):'text-indigo-600':'')+_0x191396(0x885)+_0x535d85['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20'+_0x32056d+'\x20pointer-events-none\x22>'+_0x535d85[_0x191396(0x368)]+_0x191396(0x6e5)+_0x48f3b9+_0x191396(0xaf5)+new Date(_0x535d85[_0x191396(0x7a0)])['toLocaleDateString'](_0x191396(0x668))+_0x191396(0x499)+(_0x441188?_0x191396(0xb07):_0x191396(0x75e))+'\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20'+_0x11eb3a+_0x191396(0x8b8)+_0x535d85['id']+_0x191396(0x74b)+_0x535d85[_0x191396(0x368)]+'\x22\x20class=\x22delete-project-btn\x20'+(_0x441188?_0x191396(0xa16):_0x191396(0xa84))+'\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';});}else _0x236e3f['className']='flex\x20flex-col\x20gap-2',starredQuizzes['length']>0x0&&_0xe1fe64===''&&(_0x3afbc4+='\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>'+starredQuizzes[_0x54319b(0x326)]+'\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20'),_0x3afbc4+='<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',_0x170fb5['forEach'](_0x4cb2bf=>{const _0x53f3cb=_0x54319b,_0x57882f=_0x3ea6f2[_0x4cb2bf['id']]??0x0,_0x23e477=_0x2d9271[_0x53f3cb(0x27b)](_0x4cb2bf['id']);_0x3afbc4+=_0x53f3cb(0x470)+(_0x4cb2bf['color']||_0x53f3cb(0x809))+'\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22'+_0x4cb2bf['id']+_0x53f3cb(0xa89)+_0x4cb2bf[_0x53f3cb(0x368)]+_0x53f3cb(0x8e3)+_0x57882f+_0x53f3cb(0x65e)+new Date(_0x4cb2bf['createdAt'])['toLocaleString'](_0x53f3cb(0x668))+_0x53f3cb(0x7ca)+_0x4cb2bf['id']+'\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20'+(_0x23e477?_0x53f3cb(0x4d1):'')+_0x53f3cb(0x2db)+_0x4cb2bf['id']+_0x53f3cb(0x74b)+_0x4cb2bf[_0x53f3cb(0x368)]+_0x53f3cb(0x922);});projectList['innerHTML']=_0x3afbc4,noProjectsMsg[_0x54319b(0x821)][_0x54319b(0x4fe)]('hidden',_0x3afbc4[_0x54319b(0x326)]>0x0);}document[_0x5b6af5(0x318)](_0x5b6af5(0xaac))[_0x5b6af5(0x78c)]('click',async()=>{const _0x362eb2=_0x5b6af5,_0x460332=document[_0x362eb2(0x318)](_0x362eb2(0x46c)),_0x4927c8=_0x460332['value'][_0x362eb2(0x442)]();if(!_0x4927c8){showMessage(_0x362eb2(0x47e));return;}try{const _0x955f3f=doc(collection(db,_0x362eb2(0x58b)+appId+_0x362eb2(0x268)));await setDoc(_0x955f3f,{'projectName':_0x4927c8,'students':[],'settings':{'resultsDisplay':_0x362eb2(0x696),'shuffleSetting':'none','defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x362eb2(0x6f7),'timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()['toISOString']()}),_0x460332[_0x362eb2(0x3e2)]='',createProjectModal['classList']['add'](_0x362eb2(0x8be)),showMessage(_0x362eb2(0x299));}catch(_0x37b003){console[_0x362eb2(0x581)](_0x362eb2(0x537),_0x37b003),showMessage('ไม่สามารถสร้างโปรเจคได้');}}),projectList[_0x5b6af5(0x78c)]('click',async _0x22342a=>{const _0x565619=_0x5b6af5,_0x1a3c70=_0x22342a['target']['closest'](_0x565619(0x935)),_0x8212bc=_0x22342a['target'][_0x565619(0x487)](_0x565619(0x53f)),_0x215c86=_0x22342a[_0x565619(0xa81)][_0x565619(0x487)](_0x565619(0x6a4)),_0x24ae84=_0x22342a[_0x565619(0xa81)][_0x565619(0x487)]('.color-palette-btn');if(_0x215c86){const _0x2ab274=_0x215c86['dataset']['id'],_0x2ec336=doc(db,'globalSettings','dashboardConfig'),_0x2ec509=globalDashboardSettings[_0x565619(0x5c7)];let _0x53b552;_0x2ec509[_0x565619(0x680)](_0x2ab274)?_0x53b552=_0x2ec509[_0x565619(0x5e3)](_0x32d963=>_0x32d963!==_0x2ab274):_0x53b552=[..._0x2ec509,_0x2ab274];try{await setDoc(_0x2ec336,{'pinnedProjects':_0x53b552},{'merge':!![]});}catch(_0x4082f9){console[_0x565619(0x581)](_0x565619(0x34e),_0x4082f9),showMessage(_0x565619(0x919));}}else{if(_0x24ae84){const _0x729e09=_0x24ae84[_0x565619(0x896)]['id'];showColorPalette(_0x24ae84,_0x729e09);}else{if(_0x1a3c70){const _0x127198=_0x1a3c70['dataset']['id'];_0x127198===_0x565619(0x904)?showStarredProjectView():(currentProjectId=_0x127198,await loadProjectDetails(currentProjectId),showView(_0x565619(0xb16)));}else{if(_0x8212bc){const _0x38a1be=_0x8212bc[_0x565619(0x896)]['id'],_0x5ce422=_0x8212bc[_0x565619(0x896)][_0x565619(0x59f)];showConfirmation(_0x565619(0x8c1)+_0x5ce422+_0x565619(0x4c2),()=>handleDeleteProject(_0x38a1be));}}}}}),projectList[_0x5b6af5(0x78c)]('dragstart',_0x3a5a03=>{const _0x2dde3a=_0x5b6af5,_0x1bf34a=_0x3a5a03[_0x2dde3a(0xa81)]['closest'](_0x2dde3a(0x3bc));_0x1bf34a&&_0x1bf34a[_0x2dde3a(0x821)][_0x2dde3a(0x231)](_0x2dde3a(0x287));}),projectList[_0x5b6af5(0x78c)]('dragend',_0x513a33=>{const _0x50a92b=_0x5b6af5,_0x3465d7=_0x513a33['target'][_0x50a92b(0x487)]('.project-card-container');_0x3465d7&&_0x3465d7[_0x50a92b(0x821)]['remove']('opacity-50');}),projectList[_0x5b6af5(0x78c)](_0x5b6af5(0x744),_0x342361=>{const _0x42bfe6=_0x5b6af5;_0x342361[_0x42bfe6(0x577)]();const _0x305982=document[_0x42bfe6(0x3f9)](_0x42bfe6(0x243));if(!_0x305982)return;const _0x2c8edd=getDragAfterElement(projectList,_0x342361['clientY']);_0x2c8edd==null?projectList[_0x42bfe6(0x239)](_0x305982):projectList[_0x42bfe6(0x9b2)](_0x305982,_0x2c8edd);}),projectList[_0x5b6af5(0x78c)](_0x5b6af5(0x421),_0x24c1f7=>{const _0x1d1855=_0x5b6af5;_0x24c1f7['preventDefault']();const _0x53040e=[...projectList['querySelectorAll'](_0x1d1855(0x9ee))][_0x1d1855(0xa7a)](_0x4e949a=>_0x4e949a[_0x1d1855(0x896)]['id']);saveProjectOrder(_0x53040e);});function renderBehaviorLog(_0x2b2e19){const _0x2302a5=_0x5b6af5,_0xe44b98=document[_0x2302a5(0x318)]('behavior-log-container');if(!_0xe44b98)return;const _0x47ea29=_0x2b2e19['filter'](_0x4caf74=>_0x4caf74[_0x2302a5(0x49c)]&&_0x4caf74[_0x2302a5(0x49c)][_0x2302a5(0x326)]>0x0);if(_0x47ea29[_0x2302a5(0x326)]===0x0){_0xe44b98['innerHTML']='<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>';return;}let _0x56602b='';_0x47ea29[_0x2302a5(0x394)](_0x527224=>{const _0x63bd1f=_0x2302a5;_0x56602b+=_0x63bd1f(0x48d)+_0x527224[_0x63bd1f(0x8cb)]+_0x63bd1f(0x285),_0x527224[_0x63bd1f(0x49c)][_0x63bd1f(0xaa5)]((_0xfc75d9,_0xedcd3e)=>new Date(_0xedcd3e[_0x63bd1f(0x803)])-new Date(_0xfc75d9[_0x63bd1f(0x803)]))[_0x63bd1f(0x394)](_0x2cd7fa=>{const _0x42d319=_0x63bd1f,_0x43270c=new Date(_0x2cd7fa['timestamp'])['toLocaleString']('th-TH',{'dateStyle':_0x42d319(0x7d9),'timeStyle':_0x42d319(0x377)});_0x56602b+=_0x42d319(0x7ad)+_0x2cd7fa['attemptNumber']+')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>'+_0x43270c+_0x42d319(0x794);}),_0x56602b+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0xe44b98[_0x2302a5(0x993)]=_0x56602b;}function getDragAfterElement(_0x18c174,_0x5c37b2){const _0x495764=_0x5b6af5,_0x3e289f=[..._0x18c174[_0x495764(0x502)]('.project-card-container:not(.opacity-50)')];return _0x3e289f[_0x495764(0xa97)]((_0x18fa8f,_0x14afa3)=>{const _0x20cc56=_0x495764,_0x1c7f1a=_0x14afa3[_0x20cc56(0x4b7)](),_0x2ecaee=_0x5c37b2-_0x1c7f1a[_0x20cc56(0x339)]-_0x1c7f1a[_0x20cc56(0x8a3)]/0x2;return _0x2ecaee<0x0&&_0x2ecaee>_0x18fa8f[_0x20cc56(0x752)]?{'offset':_0x2ecaee,'element':_0x14afa3}:_0x18fa8f;},{'offset':Number[_0x495764(0x6e4)]})['element'];}async function saveProjectOrder(_0x2fd2c4){const _0x3da049=_0x5b6af5,_0x2f24a1=doc(db,_0x3da049(0x5d9),_0x3da049(0xa5b));try{await setDoc(_0x2f24a1,{'projectOrder':_0x2fd2c4},{'merge':!![]});}catch(_0x5653dd){console[_0x3da049(0x581)]('Error\x20saving\x20project\x20order:',_0x5653dd),showMessage(_0x3da049(0x32c));}}async function logBehaviorEvent(_0x3a022c,_0x1f217b={}){const _0x192c04=_0x5b6af5;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console['warn'](_0x192c04(0x30f));return;}const _0x531c0b=doc(db,_0x192c04(0x58b)+appId+_0x192c04(0x39f)+currentQuizData['id']+_0x192c04(0x7f2),currentStudentName),_0x36f57b={'event':_0x3a022c,'timestamp':new Date()[_0x192c04(0x7db)](),..._0x1f217b};try{await updateDoc(_0x531c0b,{'behaviorLog':arrayUnion(_0x36f57b)}),console['log'](_0x192c04(0xad5)+currentStudentName+_0x192c04(0x341));}catch(_0x36c6b3){_0x36c6b3[_0x192c04(0x7b8)]===_0x192c04(0x78b)?console[_0x192c04(0x51a)](_0x192c04(0x91f)+currentStudentName+_0x192c04(0x9da)):console[_0x192c04(0x581)](_0x192c04(0x67b),_0x36c6b3);}}function calculateMeanAndStdDev(_0x1909c5){const _0xa115b=_0x5b6af5;if(_0x1909c5[_0xa115b(0x326)]===0x0)return{'mean':0x0,'stdDev':0x0};const _0x3f1545=_0x1909c5[_0xa115b(0xa97)]((_0x51352d,_0x4b64f3)=>_0x51352d+_0x4b64f3,0x0)/_0x1909c5['length'];if(_0x1909c5[_0xa115b(0x326)]===0x1)return{'mean':_0x3f1545,'stdDev':0x0};const _0x18c56f=Math[_0xa115b(0x9e5)](_0x1909c5[_0xa115b(0xa7a)](_0x4212ed=>Math[_0xa115b(0x4db)](_0x4212ed-_0x3f1545,0x2))[_0xa115b(0xa97)]((_0x3f65ef,_0x21902d)=>_0x3f65ef+_0x21902d,0x0)/(_0x1909c5[_0xa115b(0x326)]-0x1));return{'mean':_0x3f1545,'stdDev':_0x18c56f};}function calculateZScore(_0x269de4,_0x460c8e,_0x408f25){if(_0x408f25===0x0)return 0x0;return(_0x269de4-_0x460c8e)/_0x408f25;}function calculateTScore(_0x5620c7){return 0xa*_0x5620c7+0x32;}function showStarredProjectView(){const _0x12bb7a=_0x5b6af5;currentProjectId=_0x12bb7a(0x7cb),currentProjectData=null,projectTitle['textContent']=_0x12bb7a(0x9fd),projectIdDisplay[_0x12bb7a(0x950)]=_0x12bb7a(0x868),showView(_0x12bb7a(0xb16)),manageTab['classList'][_0x12bb7a(0x231)]('hidden'),leaderboardTab[_0x12bb7a(0x821)][_0x12bb7a(0x231)](_0x12bb7a(0x8be)),switchProjectTab(_0x12bb7a(0x8ce)),renderQuizzes();}async function loadProjectDetails(_0x557c19){const _0x3e05db=_0x5b6af5,_0x3b264e=doc(db,_0x3e05db(0x58b)+appId+_0x3e05db(0x268),_0x557c19),_0x2fdbc5=await getDoc(_0x3b264e);if(_0x2fdbc5[_0x3e05db(0xa76)]()){manageTab[_0x3e05db(0x821)][_0x3e05db(0x981)](_0x3e05db(0x8be)),leaderboardTab[_0x3e05db(0x821)]['remove'](_0x3e05db(0x8be)),currentProjectData=_0x2fdbc5[_0x3e05db(0x266)](),projectTitle['textContent']=currentProjectData['projectName'],projectIdDisplay[_0x3e05db(0x950)]=_0x557c19;const _0x1ad2c4=currentProjectData[_0x3e05db(0x492)]||{};document[_0x3e05db(0x318)](_0x3e05db(0x2e9))['value']=_0x1ad2c4[_0x3e05db(0xa39)]||_0x3e05db(0x6f7);const _0x22797e=document[_0x3e05db(0x318)]('show-in-student-dashboard-checkbox');_0x22797e[_0x3e05db(0x82f)]=_0x1ad2c4[_0x3e05db(0x73e)]!==![];const _0x39072c=document[_0x3e05db(0x318)](_0x3e05db(0x40e)),_0x4f9a14=document[_0x3e05db(0x318)](_0x3e05db(0x65d)),_0x5cae18=document['getElementById'](_0x3e05db(0x518)),_0x2c72f3=_0x1ad2c4[_0x3e05db(0x846)]||![];_0x39072c[_0x3e05db(0x82f)]=_0x2c72f3,_0x5cae18['value']=_0x1ad2c4[_0x3e05db(0x4c5)]||'',_0x4f9a14[_0x3e05db(0x821)][_0x3e05db(0x4fe)](_0x3e05db(0x8be),!_0x2c72f3),_0x39072c[_0x3e05db(0x879)]=()=>{const _0x1c8e76=_0x3e05db;_0x4f9a14[_0x1c8e76(0x821)][_0x1c8e76(0x4fe)](_0x1c8e76(0x8be),!_0x39072c['checked']);};if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x557c19),listenForProjectQuizzes(_0x557c19),listenForStudentProfiles(_0x557c19);}else showMessage(_0x3e05db(0x75b)),showView(_0x3e05db(0x334));}async function handleResetProjectOrder(){const _0x51d762=_0x5b6af5,_0x810db5=doc(db,'globalSettings',_0x51d762(0xa5b));try{await setDoc(_0x810db5,{'projectOrder':[]},{'merge':!![]}),showMessage('รีเซ็ตลำดับโปรเจคแล้ว');}catch(_0x33d28f){console['error'](_0x51d762(0x9d9),_0x33d28f),showMessage(_0x51d762(0x63b));}}async function handleTogglePinProject(_0x5a8f37){const _0x1b6f75=_0x5b6af5;if(!_0x5a8f37)return;const _0x246cd2=doc(db,'artifacts/'+appId+'/public/data/projects',_0x5a8f37);try{const _0x19ef9a=await getDoc(_0x246cd2);if(_0x19ef9a[_0x1b6f75(0xa76)]()){const _0x32e6f3=_0x19ef9a['data']()[_0x1b6f75(0x271)]||![];await updateDoc(_0x246cd2,{'isPinned':!_0x32e6f3});}}catch(_0x109c98){console['error'](_0x1b6f75(0x5d2),_0x109c98),showMessage(_0x1b6f75(0x919));}}async function handleDeleteProject(_0x45e15e){const _0x418767=_0x5b6af5;try{const _0x46fec7=writeBatch(db),_0x291522=collection(db,_0x418767(0x58b)+appId+'/public/data/quizzes'),_0x32fa04=query(_0x291522,where(_0x418767(0x1f9),'==',_0x45e15e)),_0x1694b5=await getDocs(_0x32fa04);for(const _0xe40f70 of _0x1694b5[_0x418767(0xa18)]){const _0x2c62f4=collection(db,_0x418767(0x58b)+appId+'/public/data/quizzes/'+_0xe40f70['id']+_0x418767(0x7f2)),_0x7b30f6=await getDocs(_0x2c62f4);_0x7b30f6[_0x418767(0x394)](_0x38cc73=>{const _0x37fa01=_0x418767;_0x46fec7[_0x37fa01(0x9b7)](_0x38cc73[_0x37fa01(0x5c9)]);}),_0x46fec7['delete'](_0xe40f70[_0x418767(0x5c9)]);}const _0x1c47db=collection(db,_0x418767(0x58b)+appId+'/public/data/projects/'+_0x45e15e+_0x418767(0x24d)),_0x29094b=await getDocs(_0x1c47db);_0x29094b['forEach'](_0x5ad332=>{const _0x54470f=_0x418767;_0x46fec7[_0x54470f(0x9b7)](_0x5ad332[_0x54470f(0x5c9)]);});const _0x5725f9=doc(db,_0x418767(0x58b)+appId+'/public/data/projects',_0x45e15e);_0x46fec7[_0x418767(0x9b7)](_0x5725f9),await _0x46fec7[_0x418767(0x991)](),showMessage('ลบโปรเจคสำเร็จแล้ว'),showView(_0x418767(0x334));}catch(_0x2a911e){console[_0x418767(0x581)]('Error\x20deleting\x20project:',_0x2a911e),showMessage(_0x418767(0x3fd));}}document['getElementById'](_0x5b6af5(0x4d7))[_0x5b6af5(0x78c)](_0x5b6af5(0x382),async()=>{const _0x56167e=_0x5b6af5;if(!currentProjectId)return;const _0x497569={'defaultNumQuestions':parseInt(document[_0x56167e(0x318)](_0x56167e(0x589))[_0x56167e(0x3e2)]),'defaultNumChoices':parseInt(document[_0x56167e(0x318)](_0x56167e(0x52b))['value']),'defaultPassingScore':parseInt(document[_0x56167e(0x318)](_0x56167e(0x4e6))[_0x56167e(0x3e2)]),'resultsDisplay':document[_0x56167e(0x318)]('results-display-select')['value'],'shuffleSetting':document[_0x56167e(0x318)](_0x56167e(0x2e9))[_0x56167e(0x3e2)],'timerMode':document[_0x56167e(0x318)](_0x56167e(0x75c))[_0x56167e(0x3e2)],'timerDuration':parseInt(document[_0x56167e(0x318)](_0x56167e(0x1fc))[_0x56167e(0x3e2)])};try{const _0x49a10c=doc(db,_0x56167e(0x58b)+appId+'/public/data/projects',currentProjectId);await updateDoc(_0x49a10c,{'settings':_0x497569}),showMessage(_0x56167e(0x27d));}catch(_0x55d6b8){console[_0x56167e(0x581)](_0x56167e(0x634),_0x55d6b8),showMessage('ไม่สามารถบันทึกการตั้งค่าได้');}});function listenForStudents(_0x1b3359){const _0x18986a=_0x5b6af5,_0x392b1f=doc(db,_0x18986a(0x58b)+appId+'/public/data/projects',_0x1b3359);unsubscribeStudentsListener=onSnapshot(_0x392b1f,_0x3cfa8=>{const _0x3cf388=_0x18986a;if(_0x3cfa8['exists']()){const _0x3243ab=_0x3cfa8[_0x3cf388(0x266)]();currentProjectData=_0x3243ab,renderStudentList(_0x3243ab[_0x3cf388(0x938)]||[]);}});}function renderStudentList(_0x3473f6){const _0x51b3f5=_0x5b6af5,_0xef7c3e=document[_0x51b3f5(0x318)](_0x51b3f5(0x7aa));_0x3473f6['length']===0x0?(studentList[_0x51b3f5(0x993)]='<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>',_0xef7c3e[_0x51b3f5(0x821)][_0x51b3f5(0x231)](_0x51b3f5(0x8be))):(studentList[_0x51b3f5(0x993)]=_0x3473f6[_0x51b3f5(0xa7a)](_0x226c02=>_0x51b3f5(0x375)+_0x226c02+_0x51b3f5(0x32e)+_0x226c02+'\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x51b3f5(0x8c0)](''),_0xef7c3e[_0x51b3f5(0x821)]['remove'](_0x51b3f5(0x8be)));}document[_0x5b6af5(0x318)](_0x5b6af5(0xb06))['addEventListener'](_0x5b6af5(0x382),async()=>{const _0x6f3822=_0x5b6af5;if(!currentProjectId)return;const _0x1ef51d=document['getElementById'](_0x6f3822(0x4cb)),_0x191c0c=_0x1ef51d[_0x6f3822(0x3e2)][_0x6f3822(0x442)]();if(!_0x191c0c){showMessage(_0x6f3822(0x5a8));return;}const _0x2e5ed7=_0x191c0c[_0x6f3822(0x35a)]('\x0a')[_0x6f3822(0xa7a)](_0x56d21a=>_0x56d21a['trim']())[_0x6f3822(0x5e3)](_0x39970b=>_0x39970b);if(_0x2e5ed7[_0x6f3822(0x326)]===0x0)return;try{const _0x38c0fc=doc(db,_0x6f3822(0x58b)+appId+'/public/data/projects',currentProjectId),_0x456d64=await getDoc(_0x38c0fc);if(_0x456d64['exists']()){const _0x2f3cda=_0x456d64['data']()[_0x6f3822(0x938)]||[],_0x5d495f=[...new Set([..._0x2f3cda,..._0x2e5ed7])];await updateDoc(_0x38c0fc,{'students':_0x5d495f}),_0x1ef51d[_0x6f3822(0x3e2)]='';}}catch(_0x21e8dd){console[_0x6f3822(0x581)]('Error\x20adding\x20students:',_0x21e8dd),showMessage(_0x6f3822(0x673));}});async function handleManualQuizPairing(_0x1c89b9){const _0x39c5fd=_0x5b6af5,_0x4762cb=document[_0x39c5fd(0x318)](_0x39c5fd(0x401)),_0x5d7c1d=document[_0x39c5fd(0x318)](_0x39c5fd(0x4e5)),_0x25f3f0=_0x4762cb[_0x39c5fd(0x3f9)]('h3'),_0x507f50=document[_0x39c5fd(0x318)](_0x39c5fd(0x763)),_0x565729=document[_0x39c5fd(0x318)](_0x39c5fd(0xa49));_0x25f3f0[_0x39c5fd(0x950)]=_0x39c5fd(0x721),_0x5d7c1d[_0x39c5fd(0x993)]='<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>',_0x507f50['textContent']=_0x39c5fd(0xa0e),_0x4762cb[_0x39c5fd(0x821)][_0x39c5fd(0x981)](_0x39c5fd(0x8be));const _0x3b957b=allQuizzes['filter'](_0x33005c=>_0x33005c['id']!==_0x1c89b9);_0x3b957b[_0x39c5fd(0x326)]===0x0?(_0x5d7c1d[_0x39c5fd(0x993)]=_0x39c5fd(0x433),_0x507f50[_0x39c5fd(0x204)]=!![]):(_0x5d7c1d[_0x39c5fd(0x993)]=_0x39c5fd(0x538)+_0x3b957b['map'](_0x34e279=>'<option\x20value=\x22'+_0x34e279['id']+'\x22>'+_0x34e279['topic']+_0x39c5fd(0x91e))[_0x39c5fd(0x8c0)](''),_0x507f50[_0x39c5fd(0x204)]=![]);const _0x2adca8=async()=>{const _0x38381f=_0x39c5fd,_0x5d43a6=_0x5d7c1d[_0x38381f(0x3e2)];if(!_0x5d43a6){showMessage(_0x38381f(0x32f));return;}_0x507f50[_0x38381f(0x204)]=!![],_0x507f50[_0x38381f(0x950)]=_0x38381f(0x7c3);try{const _0x6f3ab8=doc(db,_0x38381f(0x58b)+appId+_0x38381f(0xaca),_0x1c89b9),_0x180a53=doc(db,_0x38381f(0x58b)+appId+'/public/data/quizzes',_0x5d43a6),_0x512934=writeBatch(db);_0x512934[_0x38381f(0x302)](_0x6f3ab8,{'pairedQuizId':_0x5d43a6}),_0x512934[_0x38381f(0x302)](_0x180a53,{'pairedQuizId':_0x1c89b9}),await _0x512934[_0x38381f(0x991)](),showMessage(_0x38381f(0x971)),_0x4762cb[_0x38381f(0x821)][_0x38381f(0x231)]('hidden');}catch(_0x166116){console[_0x38381f(0x581)](_0x38381f(0x405),_0x166116),showMessage(_0x38381f(0x825));}finally{_0x25f3f0['textContent']=_0x38381f(0x5a4),_0x507f50[_0x38381f(0x950)]='ย้าย',_0x507f50['disabled']=![],_0x507f50[_0x38381f(0x7d1)](_0x38381f(0x382),_0x2adca8),_0x565729[_0x38381f(0x7d1)](_0x38381f(0x382),_0x297532);}},_0x297532=()=>{const _0x1b096e=_0x39c5fd;_0x4762cb['classList']['add'](_0x1b096e(0x8be)),_0x25f3f0[_0x1b096e(0x950)]='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x507f50[_0x1b096e(0x950)]=_0x1b096e(0x6c5),_0x507f50['removeEventListener']('click',_0x2adca8),_0x565729[_0x1b096e(0x7d1)]('click',_0x297532);};_0x507f50[_0x39c5fd(0x78c)](_0x39c5fd(0x382),_0x2adca8),_0x565729['addEventListener'](_0x39c5fd(0x382),_0x297532);}function handleDeleteStudent(_0x4b0ba5){const _0x3173dc=_0x5b6af5;showConfirmation(_0x3173dc(0x4ed)+_0x4b0ba5+_0x3173dc(0xab8),async()=>{const _0x3dca88=_0x3173dc;if(!currentProjectId||!currentProjectData)return;const _0xa199db=currentProjectData[_0x3dca88(0x938)][_0x3dca88(0x5e3)](_0x15fe1f=>_0x15fe1f!==_0x4b0ba5);try{const _0x5168d6=doc(db,_0x3dca88(0x58b)+appId+_0x3dca88(0x268),currentProjectId),_0x2545a6=doc(db,_0x3dca88(0x58b)+appId+_0x3dca88(0x1f7)+currentProjectId+_0x3dca88(0x24d),_0x4b0ba5),_0x55b05d=writeBatch(db);_0x55b05d['update'](_0x5168d6,{'students':_0xa199db}),_0x55b05d[_0x3dca88(0x9b7)](_0x2545a6),await _0x55b05d[_0x3dca88(0x991)]();}catch(_0x26db47){console['error'](_0x3dca88(0x203),_0x26db47),showMessage(_0x3dca88(0x303));}});}function handleDeleteAllStudents(){const _0x1f6a9e=_0x5b6af5;showConfirmation(_0x1f6a9e(0xaaf),async()=>{const _0x289004=_0x1f6a9e;if(!currentProjectId)return;try{const _0x85beee=doc(db,'artifacts/'+appId+_0x289004(0x268),currentProjectId),_0x29799a=collection(db,_0x289004(0x58b)+appId+_0x289004(0x1f7)+currentProjectId+_0x289004(0x24d)),_0x248043=await getDocs(_0x29799a),_0x19ecae=writeBatch(db);_0x19ecae['update'](_0x85beee,{'students':[]}),_0x248043[_0x289004(0x394)](_0x4b7082=>_0x19ecae[_0x289004(0x9b7)](_0x4b7082[_0x289004(0x5c9)])),await _0x19ecae[_0x289004(0x991)]();}catch(_0x4874fd){console['error']('Error\x20deleting\x20all\x20students:',_0x4874fd),showMessage('เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด');}});}async function handleGenerateFromFileClick(){const _0x1f4a26=_0x5b6af5;if(!selectedFile){showMessage(_0x1f4a26(0x9e2));return;}const _0x487b39=document[_0x1f4a26(0x318)](_0x1f4a26(0xa27)),_0x2f7d7c=document[_0x1f4a26(0x318)]('loader-text'),_0x48dafd=document['getElementById'](_0x1f4a26(0x9a3)),_0x151665=document['getElementById']('generate-from-file-btn');_0x151665[_0x1f4a26(0x204)]=!![],document[_0x1f4a26(0x318)](_0x1f4a26(0x559))[_0x1f4a26(0x821)][_0x1f4a26(0x981)]('hidden'),_0x48dafd['innerHTML']='',_0x487b39[_0x1f4a26(0x821)]['remove'](_0x1f4a26(0x8be)),_0x2f7d7c[_0x1f4a26(0x950)]=_0x1f4a26(0x757);const _0x2c3a04=new FileReader();_0x2c3a04[_0x1f4a26(0x810)](selectedFile),_0x2c3a04[_0x1f4a26(0x210)]=async()=>{const _0x510552=_0x1f4a26;try{const _0x28ecbf=_0x2c3a04[_0x510552(0x6d5)][_0x510552(0x35a)](',')[0x1],_0x11d014=selectedFile[_0x510552(0x835)];await generateQuizFromFile(_0x11d014,_0x28ecbf);}catch(_0x8a10a8){console[_0x510552(0x581)](_0x510552(0x4bc),_0x8a10a8),showMessage('เกิดข้อผิดพลาดในการเตรียมไฟล์:\x20'+_0x8a10a8['message']),_0x487b39['classList'][_0x510552(0x231)]('hidden');}finally{}},_0x2c3a04[_0x1f4a26(0x8ec)]=_0x30e7e0=>{const _0x9f2fa8=_0x1f4a26;console[_0x9f2fa8(0x581)](_0x9f2fa8(0x887),_0x30e7e0),showMessage(_0x9f2fa8(0x799)),_0x487b39[_0x9f2fa8(0x821)][_0x9f2fa8(0x231)](_0x9f2fa8(0x8be)),_0x151665[_0x9f2fa8(0x204)]=![];};}function autoFormatMath(_0x560729){const _0x1d82a5=_0x5b6af5;if(typeof _0x560729!==_0x1d82a5(0x2d1)||!_0x560729)return _0x560729;const _0x46d88d=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x3b0d49=_0x560729['replace'](_0x46d88d,_0x137eba=>{const _0x21ffdb=_0x1d82a5;return'$'+_0x137eba[_0x21ffdb(0x442)]()+'$';});return _0x3b0d49;}function sanitizeQuizData(_0x4b9cf3){const _0x38d0d3=_0x5b6af5;if(!_0x4b9cf3||!_0x4b9cf3[_0x38d0d3(0x313)])return _0x4b9cf3;const _0x551599={'imes':_0x38d0d3(0x85e),'div':_0x38d0d3(0x843)},_0x9255df=_0x3f6e42=>{const _0x32a4c9=_0x38d0d3;if(typeof _0x3f6e42!==_0x32a4c9(0x2d1))return _0x3f6e42;let _0x31b3cc=_0x3f6e42;for(const [_0x388192,_0x34b611]of Object[_0x32a4c9(0xad2)](_0x551599)){const _0x2bbc69=new RegExp('\x5cb'+_0x388192+'\x5cb','g');_0x31b3cc=_0x31b3cc[_0x32a4c9(0x6c2)](_0x2bbc69,_0x34b611);}return _0x31b3cc=_0x31b3cc['replace'](/\\\//g,_0x32a4c9(0x843)),_0x31b3cc=_0x31b3cc[_0x32a4c9(0x6c2)](/<(i|em)>\s*div\s*<\/\1>/gi,_0x32a4c9(0x843))['replace'](/<(i|em)>\s*times\s*<\/\1>/gi,'\x5ctimes')['replace'](/÷/g,_0x32a4c9(0x843))['replace'](/×/g,_0x32a4c9(0x85e)),_0x31b3cc=_0x31b3cc[_0x32a4c9(0x6c2)](/(\d)(\\frac)/g,_0x32a4c9(0x6aa)),_0x31b3cc=autoFormatMath(_0x31b3cc),_0x31b3cc;};return _0x4b9cf3[_0x38d0d3(0x53e)]&&(_0x4b9cf3[_0x38d0d3(0x53e)]=_0x9255df(_0x4b9cf3[_0x38d0d3(0x53e)])),_0x4b9cf3[_0x38d0d3(0x313)][_0x38d0d3(0x394)](_0x25551d=>{const _0xe2e550=_0x38d0d3;_0x25551d[_0xe2e550(0x7a4)]=_0x9255df(_0x25551d[_0xe2e550(0x7a4)]),_0x25551d[_0xe2e550(0x6c3)]&&(_0x25551d[_0xe2e550(0x6c3)]=_0x25551d[_0xe2e550(0x6c3)][_0xe2e550(0xa7a)](_0x9255df)),_0x25551d[_0xe2e550(0xb12)]&&(_0x25551d[_0xe2e550(0xb12)]=_0x9255df(_0x25551d[_0xe2e550(0xb12)])),_0x25551d[_0xe2e550(0x6f3)]&&(_0x25551d['stem']=_0x9255df(_0x25551d['stem'])),_0x25551d['correctResponse']&&(_0x25551d[_0xe2e550(0x2e3)]=_0x9255df(_0x25551d[_0xe2e550(0x2e3)])),_0x25551d[_0xe2e550(0x3e5)]&&(_0x25551d['allResponses']=_0x25551d[_0xe2e550(0x3e5)][_0xe2e550(0xa7a)](_0x9255df));}),_0x4b9cf3;}const simpleMathPrompt='กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว';async function handleGenerateFromLink(){const _0x2656d2=_0x5b6af5,_0x2856f0=document[_0x2656d2(0x318)](_0x2656d2(0x2c1)),_0xb0d329=document['getElementById']('link-topic-input'),_0x5a8131=_0x2856f0[_0x2656d2(0x3e2)][_0x2656d2(0x442)](),_0xd4c319=_0xb0d329['value'][_0x2656d2(0x442)]();if(!_0x5a8131){showMessage('กรุณาวาง\x20URL\x20ของบทความก่อน');return;}const _0x4aed3c=document[_0x2656d2(0x318)](_0x2656d2(0xa27)),_0x1486d4=document[_0x2656d2(0x318)](_0x2656d2(0x85a)),_0x216cba=document[_0x2656d2(0x318)]('generated-quiz-container'),_0x7ef562=document[_0x2656d2(0x318)](_0x2656d2(0x2e0));document[_0x2656d2(0x318)](_0x2656d2(0x559))[_0x2656d2(0x821)][_0x2656d2(0x981)](_0x2656d2(0x8be)),_0x216cba['innerHTML']='',_0x4aed3c[_0x2656d2(0x821)][_0x2656d2(0x981)]('hidden'),_0x1486d4[_0x2656d2(0x950)]=_0x2656d2(0x882),_0x7ef562[_0x2656d2(0x204)]=!![];try{const _0x3489aa='https://corsproxy.io/?'+encodeURIComponent(_0x5a8131),_0x52c4b1=await fetch(_0x3489aa);if(!_0x52c4b1['ok'])throw new Error('ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20'+_0x52c4b1[_0x2656d2(0x6d0)]+')');const _0xda87ab=await _0x52c4b1[_0x2656d2(0xa8c)](),_0x2e4efb=extractTextFromHtml(_0xda87ab);if(!_0x2e4efb||_0x2e4efb[_0x2656d2(0x326)]<0x64)throw new Error(_0x2656d2(0x9ce));await generateQuiz(_0xd4c319,_0x2e4efb);}catch(_0x2f0c5b){console[_0x2656d2(0x581)]('Error\x20generating\x20from\x20link:',_0x2f0c5b),showMessage(_0x2656d2(0x431)+_0x2f0c5b['message']),_0x216cba['innerHTML']=_0x2656d2(0x235);}finally{_0x4aed3c[_0x2656d2(0x821)][_0x2656d2(0x231)](_0x2656d2(0x8be)),_0x7ef562[_0x2656d2(0x204)]=![];}}function extractTextFromHtml(_0x4b42b9){const _0x560c24=_0x5b6af5,_0x340097=new DOMParser()[_0x560c24(0x8d9)](_0x4b42b9,_0x560c24(0x3de));return _0x340097[_0x560c24(0x502)](_0x560c24(0x7d8))[_0x560c24(0x394)](_0x1b48dd=>_0x1b48dd['remove']()),_0x340097[_0x560c24(0x228)]['textContent']||'';}document[_0x5b6af5(0x318)](_0x5b6af5(0x9a4))[_0x5b6af5(0x78c)](_0x5b6af5(0x382),()=>{const _0x1cdca9=_0x5b6af5,_0x565a7b=document[_0x1cdca9(0x318)](_0x1cdca9(0x7c9))[_0x1cdca9(0x3e2)][_0x1cdca9(0x442)]();generateQuiz(_0x565a7b,null);}),document['getElementById'](_0x5b6af5(0x21e))[_0x5b6af5(0x78c)](_0x5b6af5(0x382),()=>{const _0x593717=_0x5b6af5,_0x4d71c9=document['getElementById']('text-content-input')[_0x593717(0x3e2)][_0x593717(0x442)]();if(!_0x4d71c9){showMessage(_0x593717(0x87e));return;}const _0x52c24b=document['getElementById']('topic-input')['value'][_0x593717(0x442)]();generateQuiz(_0x52c24b,_0x4d71c9);});async function generateQuiz(_0x52486b,_0x3a0647,_0x456a63=null){const _0x2cfe41=_0x5b6af5,_0x1456bc=document[_0x2cfe41(0x318)]('include-images-checkbox')[_0x2cfe41(0x82f)],_0x45b925=document[_0x2cfe41(0x318)](_0x2cfe41(0x689))[_0x2cfe41(0x3e2)],_0x498d8a=document[_0x2cfe41(0x318)](_0x2cfe41(0x589))['value'],_0x272cdf=document[_0x2cfe41(0x318)]('num-choices')[_0x2cfe41(0x3e2)],_0x5b4549=document[_0x2cfe41(0x318)](_0x2cfe41(0x57e))['checked'],_0x4e93bd=_0x5b4549?'':_0x2cfe41(0x57f),_0x196193=document[_0x2cfe41(0x318)](_0x2cfe41(0x5ec)),_0x30c77e=_0x196193[_0x2cfe41(0x3e2)];let _0x2ea649='';_0x30c77e!=='auto'&&(_0x2ea649=_0x2cfe41(0x55b)+_0x30c77e+'\x22');const _0x695a5d=document[_0x2cfe41(0x318)](_0x2cfe41(0x1f1)),_0x2832ef=_0x695a5d['value'];let _0x36ede6='';_0x2832ef!==_0x2cfe41(0x93e)&&(_0x36ede6=_0x2cfe41(0x461)+_0x2832ef+_0x2cfe41(0xac5));const _0x12717a=document[_0x2cfe41(0x502)](_0x2cfe41(0x2a7)),_0x4713c9=Array[_0x2cfe41(0x918)](_0x12717a)[_0x2cfe41(0xa7a)](_0x2dbb13=>_0x2dbb13['value']);let _0xecfdf6='';_0x4713c9[_0x2cfe41(0x326)]>0x0&&(_0xecfdf6=_0x2cfe41(0x212)+_0x4713c9[_0x2cfe41(0x8c0)](',\x20')+_0x2cfe41(0x28d));let _0x4f8ede='',_0x4ffb5f='',_0x124b92,_0x27eaf3='เกี่ยวกับหัวข้อ\x20\x22'+_0x52486b+'\x22';if(!_0x52486b&&_0x3a0647)_0x27eaf3=_0x2cfe41(0xad9);else!_0x52486b&&!_0x3a0647&&(_0x27eaf3=_0x2cfe41(0x639));const _0x87da80={'type':_0x2cfe41(0xa0a),'properties':{'questionText':{'type':_0x2cfe41(0x864)},'options':{'type':_0x2cfe41(0x805),'items':{'type':_0x2cfe41(0x864)}},'correctAnswerIndex':{'type':_0x2cfe41(0x5e1)},'explanation':{'type':_0x2cfe41(0x864)},'imageCode':{'type':_0x2cfe41(0x864)}},'required':[_0x2cfe41(0x7a4),_0x2cfe41(0x6c3),_0x2cfe41(0x859),_0x2cfe41(0xb12)]},_0x384709={'type':_0x2cfe41(0xa0a),'properties':{'questionText':{'type':_0x2cfe41(0x864)},'idealAnswer':{'type':_0x2cfe41(0x864)},'explanation':{'type':_0x2cfe41(0x864)},'imageCode':{'type':_0x2cfe41(0x864)}},'required':[_0x2cfe41(0x7a4),_0x2cfe41(0x7b3),'explanation']},_0x26c8fd={'type':_0x2cfe41(0xa0a),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x2cfe41(0x864),'enum':['multiple_choice',_0x2cfe41(0xa9e)]},'options':{'type':_0x2cfe41(0x805),'items':{'type':_0x2cfe41(0x864)}},'correctAnswerIndex':{'type':_0x2cfe41(0x5e1)},'idealAnswer':{'type':_0x2cfe41(0x864)},'explanation':{'type':_0x2cfe41(0x864)},'imageCode':{'type':_0x2cfe41(0x864)}},'required':[_0x2cfe41(0x7a4),'questionType',_0x2cfe41(0xb12)]},_0x4c406d={'type':'OBJECT','properties':{'questionText':{'type':_0x2cfe41(0x864)},'correctAnswer':{'type':_0x2cfe41(0x2bd)},'explanation':{'type':_0x2cfe41(0x864)},'imageCode':{'type':_0x2cfe41(0x864)}},'required':[_0x2cfe41(0x7a4),_0x2cfe41(0x86a),'explanation']},_0x315b1b={'type':'OBJECT','properties':{'questionType':{'type':'STRING','enum':[_0x2cfe41(0x917)]},'stem':{'type':_0x2cfe41(0x864)},'correctResponse':{'type':_0x2cfe41(0x864)},'allResponses':{'type':_0x2cfe41(0x805),'items':{'type':'STRING'}},'explanation':{'type':'STRING'},'imageCode':{'type':_0x2cfe41(0x864)}},'required':['questionType',_0x2cfe41(0x6f3),_0x2cfe41(0x2e3),'allResponses',_0x2cfe41(0xb12)]};let _0x4940eb;if(_0x456a63!==null){const _0x3dba93=currentQuizData['questions'][_0x456a63][_0x2cfe41(0xb01)],_0x132619=_0x1456bc?_0x2cfe41(0x3cc):'';_0x4f8ede=_0x2cfe41(0x6f6)+_0x27eaf3+'\x20'+_0xecfdf6+'\x20'+_0x2ea649+_0x2cfe41(0xafd)+_0x132619+'\x20'+simpleMathPrompt;if(_0x3dba93==='multiple_choice')_0x124b92=_0x87da80;else{if(_0x3dba93===_0x2cfe41(0x917))_0x124b92={'type':'OBJECT','properties':{'questionType':{'type':'STRING','enum':[_0x2cfe41(0x917)]},'stem':{'type':_0x2cfe41(0x864)},'correctResponse':{'type':'STRING'},'explanation':{'type':_0x2cfe41(0x864)},'imageCode':{'type':_0x2cfe41(0x864)}},'required':['questionType',_0x2cfe41(0x6f3),'correctResponse',_0x2cfe41(0xb12)]};else _0x124b92=_0x384709;}_0x4940eb=_0x124b92;}else{const _0x12057e=_0x1456bc?_0x2cfe41(0x781):'',_0x42fba4=_0x2cfe41(0x5e6);switch(_0x45b925){case _0x2cfe41(0x40c):_0x4f8ede=_0x2cfe41(0x702)+_0x4e93bd+'\x20'+_0x498d8a+_0x2cfe41(0x2b7)+_0x27eaf3+'\x20'+_0xecfdf6+'\x20'+_0x2ea649+'\x20'+_0x36ede6+'.\x20แต่ละข้อมี\x20'+_0x272cdf+_0x2cfe41(0x4a3)+_0x12057e+'\x20'+simpleMathPrompt,_0x124b92=_0x87da80;break;case _0x2cfe41(0xa50):_0x4f8ede='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x4e93bd+'\x20'+_0x498d8a+_0x2cfe41(0x2b7)+_0x27eaf3+'\x20'+_0xecfdf6+'\x20'+_0x2ea649+'\x20'+_0x36ede6+_0x2cfe41(0x5e0)+_0x272cdf+_0x2cfe41(0x327)+_0x12057e+'\x20'+simpleMathPrompt,_0x124b92=_0x87da80;break;case _0x2cfe41(0x773):_0x4f8ede='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x4e93bd+'\x20'+_0x498d8a+_0x2cfe41(0x2b7)+_0x27eaf3+'\x20'+_0xecfdf6+'\x20'+_0x2ea649+'\x20'+_0x36ede6+_0x2cfe41(0x4df)+_0x12057e+'\x20'+simpleMathPrompt,_0x124b92=_0x384709;break;case _0x2cfe41(0x93e):_0x4f8ede=_0x2cfe41(0x2b4)+_0x4e93bd+'\x20'+_0x498d8a+_0x2cfe41(0x2b7)+_0x27eaf3+'\x20'+_0xecfdf6+'\x20'+_0x2ea649+'\x20'+_0x36ede6+_0x2cfe41(0x8b1)+_0x272cdf+_0x2cfe41(0x74a)+_0x12057e+'\x20'+simpleMathPrompt+'.',_0x124b92=_0x26c8fd;break;case _0x2cfe41(0x8d0):_0x4f8ede=_0x2cfe41(0x468)+_0x4e93bd+'\x20'+_0x498d8a+_0x2cfe41(0x2b7)+_0x27eaf3+'\x20'+_0xecfdf6+'\x20'+_0x2ea649+'\x20'+_0x36ede6+_0x2cfe41(0xa41)+_0x12057e+'\x20'+simpleMathPrompt,_0x124b92=_0x4c406d;break;case _0x2cfe41(0x866):_0x4f8ede=_0x2cfe41(0x3f6)+_0x4e93bd+'\x20'+_0x498d8a+'\x20คู่\x20'+_0x27eaf3+'\x20'+_0xecfdf6+'\x20'+_0x2ea649+'\x20'+_0x36ede6+'.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20'+_0x12057e+'\x20'+simpleMathPrompt,_0x124b92=_0x315b1b;break;}_0x4940eb={'type':_0x2cfe41(0xa0a),'properties':{'topic':{'type':_0x2cfe41(0x864)},'questions':{'type':'ARRAY','items':_0x124b92}},'required':['topic',_0x2cfe41(0x313)]};}return _0x3a0647?(_0x4f8ede=_0x2cfe41(0xa51)+_0x3a0647+_0x2cfe41(0x82b)+_0x4f8ede,_0x4ffb5f=_0x2cfe41(0x447)):_0x4ffb5f=_0x2cfe41(0x532),handleApiCall(_0x4f8ede,_0x4ffb5f,_0x4940eb,_0x456a63);}async function generateQuizFromFile(_0x43b803,_0x25f684){const _0x2f494e=_0x5b6af5,_0x28da68=document[_0x2f494e(0x318)](_0x2f494e(0x248))[_0x2f494e(0x3e2)][_0x2f494e(0x442)](),_0x2891ee=document[_0x2f494e(0x318)](_0x2f494e(0x689))['value'],_0x2380ad=document[_0x2f494e(0x318)](_0x2f494e(0x589))['value'],_0x3a1270=document[_0x2f494e(0x318)](_0x2f494e(0x52b))['value'],_0x3e380c=document[_0x2f494e(0x318)](_0x2f494e(0x33d))[_0x2f494e(0x82f)],_0x357557=document[_0x2f494e(0x318)]('force-math-checkbox')[_0x2f494e(0x82f)],_0x91c727=_0x357557?'':_0x2f494e(0x57f);let _0xafe012='',_0x45ce6f,_0x3a2d00='เกี่ยวกับหัวข้อ\x20\x22'+_0x28da68+'\x22';!_0x28da68&&(_0x3a2d00=_0x2f494e(0x554));const _0x449202=_0x3e380c?'สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.':'';switch(_0x2891ee){case'multiple_choice':_0xafe012=_0x2f494e(0x702)+_0x91c727+'\x20'+_0x2380ad+'\x20ข้อ\x20'+_0x3a2d00+_0x2f494e(0xa4e)+_0x3a1270+_0x2f494e(0x4a3)+_0x449202+'\x20'+simpleMathPrompt,_0x45ce6f={'type':_0x2f494e(0xa0a),'properties':{'questionText':{'type':_0x2f494e(0x864)},'options':{'type':_0x2f494e(0x805),'items':{'type':_0x2f494e(0x864)}},'correctAnswerIndex':{'type':_0x2f494e(0x5e1)},'explanation':{'type':_0x2f494e(0x864)},'imageCode':{'type':_0x2f494e(0x864)}},'required':[_0x2f494e(0x7a4),_0x2f494e(0x6c3),_0x2f494e(0x859),_0x2f494e(0xb12)]};break;case'fill_in_with_choices':_0xafe012=_0x2f494e(0x8d6)+_0x91c727+'\x20'+_0x2380ad+_0x2f494e(0x2b7)+_0x3a2d00+'.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20'+_0x3a1270+'\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20'+_0x449202+'\x20'+simpleMathPrompt,_0x45ce6f={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'options':{'type':_0x2f494e(0x805),'items':{'type':_0x2f494e(0x864)}},'correctAnswerIndex':{'type':_0x2f494e(0x5e1)},'explanation':{'type':_0x2f494e(0x864)},'imageCode':{'type':_0x2f494e(0x864)}},'required':[_0x2f494e(0x7a4),'options','correctAnswerIndex',_0x2f494e(0xb12)]};break;case _0x2f494e(0x773):_0xafe012=_0x2f494e(0x8d6)+_0x91c727+'\x20'+_0x2380ad+_0x2f494e(0x2b7)+_0x3a2d00+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20'+_0x449202+'\x20'+simpleMathPrompt,_0x45ce6f={'type':_0x2f494e(0xa0a),'properties':{'questionText':{'type':_0x2f494e(0x864)},'idealAnswer':{'type':'STRING'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x2f494e(0x864)}},'required':[_0x2f494e(0x7a4),_0x2f494e(0x7b3),_0x2f494e(0xb12)]};break;case _0x2f494e(0x93e):_0xafe012='สร้างแบบทดสอบ'+_0x91c727+'\x20'+_0x2380ad+_0x2f494e(0x2b7)+_0x3a2d00+_0x2f494e(0x63e)+_0x3a1270+_0x2f494e(0x74a)+_0x449202+'\x20'+simpleMathPrompt+'.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.',_0x45ce6f={'type':'OBJECT','properties':{'questionText':{'type':_0x2f494e(0x864)},'questionType':{'type':_0x2f494e(0x864),'enum':[_0x2f494e(0x40c),_0x2f494e(0xa9e)]},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x2f494e(0x5e1)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x2f494e(0x864)},'imageCode':{'type':_0x2f494e(0x864)}},'required':['questionText',_0x2f494e(0xb01),_0x2f494e(0xb12)]};break;case'true_false':_0xafe012=_0x2f494e(0x468)+_0x91c727+'\x20'+_0x2380ad+_0x2f494e(0x2b7)+_0x3a2d00+_0x2f494e(0x2e8)+_0x449202+'\x20'+simpleMathPrompt,_0x45ce6f={'type':'OBJECT','properties':{'questionText':{'type':_0x2f494e(0x864)},'correctAnswer':{'type':_0x2f494e(0x2bd)},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x2f494e(0x7a4),_0x2f494e(0x86a),'explanation']};break;case _0x2f494e(0x866):_0xafe012='สร้างชุดคำถามจับคู่'+_0x91c727+'\x20'+_0x2380ad+'\x20คู่\x20'+_0x3a2d00+_0x2f494e(0x902)+_0x2380ad+'\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20'+_0x449202+'\x20'+simpleMathPrompt,_0x45ce6f={'type':_0x2f494e(0xa0a),'properties':{'questionType':{'type':_0x2f494e(0x864),'enum':[_0x2f494e(0x917)]},'stem':{'type':_0x2f494e(0x864)},'correctResponse':{'type':_0x2f494e(0x864)},'allResponses':{'type':_0x2f494e(0x805),'items':{'type':_0x2f494e(0x864)}},'explanation':{'type':'STRING'},'imageCode':{'type':_0x2f494e(0x864)}},'required':[_0x2f494e(0xb01),_0x2f494e(0x6f3),_0x2f494e(0x2e3),_0x2f494e(0x3e5),_0x2f494e(0xb12)]};break;}const _0x2135f6={'type':'OBJECT','properties':{'topic':{'type':'STRING'},'questions':{'type':_0x2f494e(0x805),'items':_0x45ce6f}},'required':[_0x2f494e(0x53e),_0x2f494e(0x313)]},_0x14e7ce='จากไฟล์ที่แนบมานี้,\x20'+_0xafe012,_0x42cade={'contents':[{'parts':[{'text':_0x14e7ce},{'inlineData':{'mimeType':_0x43b803,'data':_0x25f684}}]}],'generationConfig':{'responseMimeType':_0x2f494e(0x96f),'responseSchema':_0x2135f6}};return handleApiCall(_0x42cade['contents'][0x0][_0x2f494e(0x95b)],_0x2f494e(0x291),_0x2135f6);}async function handleApiCall(_0x4972a7,_0x39c244,_0x3c29a4,_0x46cece=null){const _0x594ea5=_0x5b6af5,_0x3d76ff=document['getElementById'](_0x594ea5(0x559)),_0x5de121=document['getElementById'](_0x594ea5(0xa27)),_0x3c3202=document[_0x594ea5(0x318)](_0x594ea5(0x85a)),_0x1ed4ad=document[_0x594ea5(0x318)](_0x594ea5(0x9a3));_0x3d76ff[_0x594ea5(0x821)][_0x594ea5(0x981)](_0x594ea5(0x8be));_0x46cece===null&&(_0x1ed4ad[_0x594ea5(0x993)]='');_0x5de121['classList'][_0x594ea5(0x981)](_0x594ea5(0x8be)),_0x3c3202[_0x594ea5(0x950)]=_0x39c244,document[_0x594ea5(0x318)](_0x594ea5(0x9a4))[_0x594ea5(0x204)]=!![],document[_0x594ea5(0x318)]('generate-from-text-btn')[_0x594ea5(0x204)]=!![],document[_0x594ea5(0x318)](_0x594ea5(0x2e0))[_0x594ea5(0x204)]=!![];try{const _0x55cd11={'responseMimeType':_0x594ea5(0x96f),'responseSchema':_0x3c29a4},_0x2775b9=Array[_0x594ea5(0x397)](_0x4972a7)?_0x4972a7:[{'text':_0x4972a7}],_0x404e25={'contents':[{'role':_0x594ea5(0x6fd),'parts':_0x2775b9}],'generationConfig':_0x55cd11},_0x30cc40=_0x594ea5(0x31d),_0x360850='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key='+_0x30cc40,_0x31f617=await fetch(_0x360850,{'method':_0x594ea5(0x436),'headers':{'Content-Type':_0x594ea5(0x96f)},'body':JSON[_0x594ea5(0x617)](_0x404e25)});if(!_0x31f617['ok'])throw new Error('API\x20call\x20failed\x20with\x20status:\x20'+_0x31f617['status']);const _0x303a4c=await _0x31f617[_0x594ea5(0x320)]();if(_0x303a4c[_0x594ea5(0x539)]?.[0x0]?.[_0x594ea5(0x912)]?.['parts']?.[0x0]){let _0x92ed6=_0x303a4c[_0x594ea5(0x539)][0x0]['content'][_0x594ea5(0x95b)][0x0][_0x594ea5(0xa8c)],_0x430a0c;try{if(_0x92ed6[_0x594ea5(0x7c6)](_0x594ea5(0x3be)))_0x92ed6=_0x92ed6[_0x594ea5(0x4c4)](0x7,_0x92ed6['length']-0x3)[_0x594ea5(0x442)]();else _0x92ed6[_0x594ea5(0x7c6)]('```')&&(_0x92ed6=_0x92ed6['substring'](0x3,_0x92ed6[_0x594ea5(0x326)]-0x3)['trim']());_0x430a0c=JSON[_0x594ea5(0x97b)](_0x92ed6);}catch(_0x539aaa){console[_0x594ea5(0x581)]('Failed\x20to\x20parse\x20JSON\x20from\x20AI',_0x539aaa,_0x92ed6);throw new Error(_0x594ea5(0x336));}if(_0x46cece!==null){if(_0x430a0c[_0x594ea5(0xb01)]===_0x594ea5(0x917)){const _0x2da69a=currentQuizData[_0x594ea5(0x313)][_0x594ea5(0xa7a)](_0x47d261=>_0x47d261[_0x594ea5(0x2e3)]);_0x430a0c[_0x594ea5(0x3e5)]=_0x2da69a;const _0x317db3=currentQuizData[_0x594ea5(0x313)][_0x46cece][_0x594ea5(0x2e3)],_0x32f6a7=_0x2da69a[_0x594ea5(0x856)](_0x317db3);_0x32f6a7>-0x1&&(_0x2da69a[_0x32f6a7]=_0x430a0c[_0x594ea5(0x2e3)]),currentQuizData[_0x594ea5(0x313)]['forEach'](_0x36dd26=>{const _0x492335=_0x594ea5;if(_0x36dd26[_0x492335(0xb01)]===_0x492335(0x917))_0x36dd26[_0x492335(0x3e5)]=_0x2da69a;});}currentQuizData[_0x594ea5(0x313)][_0x46cece]=_0x430a0c,displayGeneratedQuiz(currentQuizData);}else{currentQuizData=_0x430a0c;const _0x390218=document[_0x594ea5(0x318)](_0x594ea5(0x689))[_0x594ea5(0x3e2)];currentQuizData[_0x594ea5(0x7ed)]=_0x390218,currentQuizData['questions']&&currentQuizData['questions'][_0x594ea5(0x394)](_0x51a76f=>{const _0x398182=_0x594ea5;if(!_0x51a76f['questionType']){if(_0x390218===_0x398182(0xa50))_0x51a76f[_0x398182(0xb01)]=_0x398182(0x40c);else _0x390218===_0x398182(0x773)?_0x51a76f[_0x398182(0xb01)]='short_answer':_0x51a76f['questionType']=_0x390218;}}),displayGeneratedQuiz(currentQuizData);}}else{console[_0x594ea5(0x581)](_0x594ea5(0x832),JSON[_0x594ea5(0x617)](_0x303a4c));throw new Error(_0x594ea5(0x336));}}catch(_0x103e2b){console['error'](_0x594ea5(0x369),_0x103e2b),showMessage(_0x594ea5(0x83e)),_0x46cece===null&&(_0x1ed4ad['innerHTML']='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>');}finally{_0x5de121[_0x594ea5(0x821)][_0x594ea5(0x231)](_0x594ea5(0x8be)),document[_0x594ea5(0x318)](_0x594ea5(0x9a4))[_0x594ea5(0x204)]=![],document[_0x594ea5(0x318)]('generate-from-text-btn')['disabled']=![],document[_0x594ea5(0x318)](_0x594ea5(0x2e0))[_0x594ea5(0x204)]=![];const _0x20c01c=document['getElementById']('generate-from-file-btn');_0x20c01c&&(_0x20c01c['disabled']=![]);}}function exitFullscreen(){const _0x3c1bcf=_0x5b6af5;if(document[_0x3c1bcf(0x5cd)])document[_0x3c1bcf(0x5cd)]()[_0x3c1bcf(0x714)](_0x201800=>console[_0x3c1bcf(0x581)](_0x201800));else{if(document[_0x3c1bcf(0x544)])document[_0x3c1bcf(0x544)]();else document[_0x3c1bcf(0x3ab)]&&document[_0x3c1bcf(0x3ab)]();}}function enterFullscreen(){const _0x38b304=_0x5b6af5,_0xfb2da0=document['documentElement'];if(_0xfb2da0[_0x38b304(0x37c)])_0xfb2da0[_0x38b304(0x37c)]()[_0x38b304(0x714)](_0x2625fa=>{const _0x1378f9=_0x38b304;console[_0x1378f9(0x581)](_0x1378f9(0x9a0)+_0x2625fa['message']+'\x20('+_0x2625fa['name']+')');});else{if(_0xfb2da0[_0x38b304(0x9bf)])_0xfb2da0[_0x38b304(0x9bf)]();else _0xfb2da0[_0x38b304(0x29a)]&&_0xfb2da0[_0x38b304(0x29a)]();}}function handleCheatingEvent(){const _0x4a36b7=_0x5b6af5;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent(_0x4a36b7(0x899),{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage(_0x4a36b7(0x641)+maxCheatAttempts+_0x4a36b7(0x8e6)),document[_0x4a36b7(0x318)]('quiz-form')?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document[_0x4a36b7(0x7d1)](_0x4a36b7(0x6b5),handleVisibilityChange),document['removeEventListener'](_0x4a36b7(0x823),handleFullscreenChange)):showMessage(_0x4a36b7(0x7f9)+cheatAttempts+'/'+maxCheatAttempts+_0x4a36b7(0x840),enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x186c5c=_0x5b6af5;if(currentMode===_0x186c5c(0x8da)||!isQuizActive)return;if(document['visibilityState']===_0x186c5c(0x8be))handleCheatingEvent();else document[_0x186c5c(0x76f)]===_0x186c5c(0x9d8)&&(console[_0x186c5c(0xaa8)](_0x186c5c(0xa73)),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){const _0x381806=_0x5b6af5;if(currentMode==='admin-testing'||!isQuizActive)return;!document[_0x381806(0x1e4)]&&handleCheatingEvent();}function displayGeneratedQuiz(_0x4f4178){const _0x568c36=_0x5b6af5,_0x510143=document['getElementById']('generated-quiz-container');let _0x111ff5=_0x568c36(0x3aa)+_0x4f4178[_0x568c36(0x53e)]+_0x568c36(0xb20);_0x4f4178[_0x568c36(0x313)][_0x568c36(0x394)]((_0x18eae1,_0x30d3cb)=>{const _0x3b568c=_0x568c36;!_0x18eae1['id']&&(_0x18eae1['id']='q_'+Date[_0x3b568c(0x255)]()+'_'+_0x30d3cb);const _0x584400=_0x18eae1[_0x3b568c(0xb01)]||_0x4f4178['quizType'];_0x111ff5+=_0x3b568c(0x414)+_0x30d3cb+_0x3b568c(0x86c)+_0x30d3cb+'\x22\x20class=\x22save-to-bank-btn\x20text-purple-600\x20hover:text-purple-800\x20p-1\x22\x20title=\x22เก็บเข้าคลังข้อสอบส่วนตัว\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-university\x22></i>\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x30d3cb+_0x3b568c(0x2af)+_0x30d3cb+'\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';switch(_0x584400){case _0x3b568c(0x917):_0x111ff5+=_0x3b568c(0x6e9)+_0x30d3cb+'\x22>'+(_0x30d3cb+0x1)+'.\x20'+_0x18eae1[_0x3b568c(0x6f3)]+'</p>';_0x18eae1[_0x3b568c(0x7fb)]&&(_0x111ff5+='<div\x20id=\x22q-image-container-'+_0x30d3cb+_0x3b568c(0x4ea)+_0x18eae1['imageCode']+_0x3b568c(0x6cb));_0x111ff5+=_0x3b568c(0x99a)+_0x30d3cb+'\x22>'+_0x18eae1['correctResponse']+_0x3b568c(0x812),_0x111ff5+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x30d3cb+'\x22>'+_0x18eae1[_0x3b568c(0xb12)]+'</span></div>';break;case _0x3b568c(0xa9e):_0x111ff5+=_0x3b568c(0x6e9)+_0x30d3cb+'\x22>'+(_0x30d3cb+0x1)+'.\x20'+_0x18eae1['questionText']+'</p>';_0x18eae1[_0x3b568c(0x7fb)]&&(_0x111ff5+=_0x3b568c(0x29d)+_0x30d3cb+_0x3b568c(0x4ea)+_0x18eae1['imageCode']+_0x3b568c(0x6cb));_0x111ff5+=_0x3b568c(0x733)+_0x30d3cb+'\x22>'+_0x18eae1[_0x3b568c(0x7b3)]+_0x3b568c(0x812),_0x111ff5+=_0x3b568c(0x88c)+_0x30d3cb+'\x22>'+_0x18eae1[_0x3b568c(0xb12)]+_0x3b568c(0x812);break;case _0x3b568c(0x8d0):_0x111ff5+=_0x3b568c(0x6e9)+_0x30d3cb+'\x22>'+(_0x30d3cb+0x1)+'.\x20'+_0x18eae1[_0x3b568c(0x7a4)]+_0x3b568c(0x6fa);_0x18eae1[_0x3b568c(0x7fb)]&&(_0x111ff5+=_0x3b568c(0x29d)+_0x30d3cb+_0x3b568c(0x4ea)+_0x18eae1[_0x3b568c(0x7fb)]+_0x3b568c(0x6cb));_0x111ff5+=_0x3b568c(0x2ed)+(_0x18eae1[_0x3b568c(0x86a)]===!![]?'text-green-600\x20font-bold':'')+'\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22'+(_0x18eae1['correctAnswer']===![]?_0x3b568c(0x80d):'')+_0x3b568c(0x6e2),_0x111ff5+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x30d3cb+'\x22>'+_0x18eae1[_0x3b568c(0xb12)]+_0x3b568c(0x812);break;case _0x3b568c(0x5b7):case _0x3b568c(0x40c):default:_0x111ff5+=_0x3b568c(0x6e9)+_0x30d3cb+'\x22>'+(_0x30d3cb+0x1)+'.\x20'+_0x18eae1['questionText']+_0x3b568c(0x6fa);_0x18eae1[_0x3b568c(0x7fb)]&&(_0x111ff5+=_0x3b568c(0x29d)+_0x30d3cb+_0x3b568c(0x4ea)+_0x18eae1[_0x3b568c(0x7fb)]+_0x3b568c(0x6cb));_0x111ff5+=_0x3b568c(0x740)+_0x30d3cb+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x18eae1[_0x3b568c(0x6c3)][_0x3b568c(0xa7a)]((_0x24243e,_0x1d81c0)=>'<li\x20class=\x22'+(_0x1d81c0===_0x18eae1[_0x3b568c(0x859)]?'text-green-600\x20font-bold':'')+'\x22>'+_0x24243e+_0x3b568c(0x359))[_0x3b568c(0x8c0)]('')+_0x3b568c(0x5d7),_0x111ff5+=_0x3b568c(0x88c)+_0x30d3cb+'\x22>'+_0x18eae1[_0x3b568c(0xb12)]+_0x3b568c(0x812);break;}_0x111ff5+=_0x3b568c(0x6cb);}),_0x111ff5+=_0x568c36(0x705),_0x510143[_0x568c36(0x993)]=_0x111ff5,document['querySelectorAll'](_0x568c36(0x8a8))[_0x568c36(0x394)](_0x1fde5b=>_0x1fde5b['addEventListener'](_0x568c36(0x382),handleEditQuestion)),document['querySelectorAll'](_0x568c36(0x28f))['forEach'](_0x36c60c=>_0x36c60c[_0x568c36(0x78c)]('click',handleRegenerateQuestion)),document[_0x568c36(0x502)](_0x568c36(0x7d4))[_0x568c36(0x394)](_0x145df7=>_0x145df7[_0x568c36(0x78c)]('click',handleSaveToBank)),document[_0x568c36(0x318)]('export-worksheet-pdf-btn')['addEventListener']('click',exportQuizAsWorksheetPDF),document[_0x568c36(0x318)](_0x568c36(0x6ec))['addEventListener'](_0x568c36(0x382),saveQuiz),document['getElementById']('verify-answers-btn')[_0x568c36(0x78c)](_0x568c36(0x382),handleVerifyAnswers);if(window['MathJax'])window[_0x568c36(0x2c3)][_0x568c36(0x4f5)]([_0x510143]);}function handleRegenerateQuestion(_0x12c771){const _0xf03f0a=_0x5b6af5,_0x132058=_0x12c771[_0xf03f0a(0x645)]['dataset']['index'],_0x44f80d=currentQuizData[_0xf03f0a(0x53e)];showMessage('กำลังสร้างคำถามข้อ\x20'+(parseInt(_0x132058)+0x1)+_0xf03f0a(0xa88)),generateQuiz(_0x44f80d,null,parseInt(_0x132058));}function getPointerPosition(_0x41b9ed,_0x1c004e){const _0x3a1d38=_0x5b6af5,_0x2ee7fc=_0x41b9ed['getScreenCTM']();let _0x448872,_0x17e78a;return _0x1c004e[_0x3a1d38(0x717)]&&_0x1c004e[_0x3a1d38(0x717)][_0x3a1d38(0x326)]>0x0?(_0x448872=_0x1c004e[_0x3a1d38(0x717)][0x0][_0x3a1d38(0x7cf)],_0x17e78a=_0x1c004e[_0x3a1d38(0x717)][0x0][_0x3a1d38(0x5e8)]):(_0x448872=_0x1c004e[_0x3a1d38(0x7cf)],_0x17e78a=_0x1c004e[_0x3a1d38(0x5e8)]),{'x':(_0x448872-_0x2ee7fc['e'])/_0x2ee7fc['a'],'y':(_0x17e78a-_0x2ee7fc['f'])/_0x2ee7fc['d']};}function startDrag(_0x2d3e96){const _0x4d8be4=_0x5b6af5;_0x2d3e96['type']===_0x4d8be4(0xad3)&&_0x2d3e96[_0x4d8be4(0x577)]();const _0x2edf12=_0x2d3e96[_0x4d8be4(0xa81)][_0x4d8be4(0x487)]('.draggable-text');if(_0x2edf12){draggedSvgElement=_0x2edf12;const _0x5a3f01=draggedSvgElement[_0x4d8be4(0x4a9)],_0x3089bf=getPointerPosition(_0x5a3f01,_0x2d3e96);svgOffset['x']=_0x3089bf['x']-parseFloat(draggedSvgElement[_0x4d8be4(0x616)](null,'x')),svgOffset['y']=_0x3089bf['y']-parseFloat(draggedSvgElement[_0x4d8be4(0x616)](null,'y'));}}function calculateItemAnalysis(_0x1a5737,_0x472621){const _0x1c60c7=_0x5b6af5,_0xdb49f2={};if(_0x472621[_0x1c60c7(0x326)]<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x3bc1db=[..._0x472621][_0x1c60c7(0xaa5)]((_0x34885a,_0x16288d)=>{const _0x438e31=_0x1c60c7,_0x4d6a72=_0x16288d[_0x438e31(0x709)]-_0x34885a['latestScore'];if(_0x4d6a72!==0x0)return _0x4d6a72;const _0x266a4e=_0x34885a[_0x438e31(0x49a)]?.['length']||0x1,_0x3d5912=_0x16288d[_0x438e31(0x49a)]?.[_0x438e31(0x326)]||0x1,_0x3c0554=_0x266a4e-_0x3d5912;if(_0x3c0554!==0x0)return _0x3c0554;const _0x178ca2=new Date(_0x34885a['latestSubmittedAt']),_0x547ce3=new Date(_0x16288d[_0x438e31(0x937)]),_0x1b7e7a=_0x178ca2-_0x547ce3;if(_0x1b7e7a!==0x0)return _0x1b7e7a;return _0x34885a[_0x438e31(0x8cb)][_0x438e31(0x972)](_0x16288d['studentName'],'th');}),_0x2b3042=_0x3bc1db['length'],_0x33c76b=Math[_0x1c60c7(0x481)](0x1,Math[_0x1c60c7(0x957)](_0x2b3042*0.33));if(_0x33c76b===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x5834bc=_0x3bc1db[_0x1c60c7(0xb0f)](0x0,_0x33c76b),_0x3ad2f6=_0x3bc1db[_0x1c60c7(0xb0f)](-_0x33c76b),_0x40c469=_0x5834bc[_0x1c60c7(0xa7a)](_0x192a0b=>_0x192a0b[_0x1c60c7(0x8cb)]),_0x286e51=_0x3ad2f6[_0x1c60c7(0xa7a)](_0x830a2=>_0x830a2[_0x1c60c7(0x8cb)]);return _0x1a5737[_0x1c60c7(0x313)][_0x1c60c7(0x394)]((_0x2f60da,_0x2f1830)=>{const _0x8fb5f3=_0x1c60c7,_0x53d705=_0x2f60da[_0x8fb5f3(0x6f3)]||_0x2f60da[_0x8fb5f3(0x7a4)];let _0x17393a=0x0,_0x28e8bd=0x0,_0x4aac17=0x0;const _0x47d2ca=[],_0x3db47c=[];_0x5834bc[_0x8fb5f3(0x394)](_0x1003ff=>{const _0x32283d=_0x8fb5f3,_0x5dcd8f=_0x1003ff[_0x32283d(0x49a)][_0x1003ff[_0x32283d(0x49a)][_0x32283d(0x326)]-0x1],_0x4ec3e3=_0x5dcd8f[_0x32283d(0x739)][_0x32283d(0xa93)](_0x27414b=>_0x27414b['originalQuestionText']===_0x53d705);_0x47d2ca[_0x32283d(0x27f)]({'name':_0x1003ff[_0x32283d(0x8cb)],'isCorrect':_0x4ec3e3?_0x4ec3e3[_0x32283d(0x64c)]:![]}),_0x4ec3e3&&_0x4ec3e3[_0x32283d(0x64c)]&&_0x28e8bd++;}),_0x3ad2f6['forEach'](_0x2116e5=>{const _0x1e25f9=_0x8fb5f3,_0x2d2874=_0x2116e5['attempts'][_0x2116e5[_0x1e25f9(0x49a)][_0x1e25f9(0x326)]-0x1],_0x54e668=_0x2d2874[_0x1e25f9(0x739)][_0x1e25f9(0xa93)](_0x43b6cf=>_0x43b6cf[_0x1e25f9(0xb04)]===_0x53d705);_0x3db47c['push']({'name':_0x2116e5['studentName'],'isCorrect':_0x54e668?_0x54e668['isCorrect']:![]}),_0x54e668&&_0x54e668[_0x1e25f9(0x64c)]&&_0x4aac17++;}),_0x472621['forEach'](_0x9bb135=>{const _0x2b78aa=_0x8fb5f3,_0xc9c29a=_0x9bb135['attempts'][_0x9bb135['attempts']['length']-0x1],_0x3be1f1=_0xc9c29a[_0x2b78aa(0x739)][_0x2b78aa(0xa93)](_0x34041f=>_0x34041f[_0x2b78aa(0xb04)]===_0x53d705);_0x3be1f1&&_0x3be1f1[_0x2b78aa(0x64c)]&&_0x17393a++;});const _0x184a31=_0x2b3042>0x0?_0x17393a/_0x2b3042:0x0,_0x5e0a6c=_0x33c76b>0x0?_0x28e8bd/_0x33c76b-_0x4aac17/_0x33c76b:0x0;_0xdb49f2[_0x2f1830]={'p':_0x184a31,'r':_0x5e0a6c,'upperGroupResponders':_0x47d2ca,'lowerGroupResponders':_0x3db47c};}),{'perQuestionStats':_0xdb49f2,'overallGroups':{'upperGroupNames':_0x40c469,'lowerGroupNames':_0x286e51}};}function drag(_0x45960b){const _0xa8753c=_0x5b6af5;if(draggedSvgElement){_0x45960b[_0xa8753c(0x577)]();const _0x4405f7=draggedSvgElement[_0xa8753c(0x4a9)],_0x2daae3=getPointerPosition(_0x4405f7,_0x45960b),_0x55a29b=_0x4405f7['viewBox']['baseVal'];let _0x58fc65=_0x2daae3['x']-svgOffset['x'],_0x48bf5c=_0x2daae3['y']-svgOffset['y'];const _0x10888e=draggedSvgElement[_0xa8753c(0x9ca)]();_0x58fc65=Math[_0xa8753c(0x481)](_0x55a29b['x'],Math[_0xa8753c(0x30e)](_0x58fc65,_0x55a29b['x']+_0x55a29b['width']-_0x10888e['width'])),_0x48bf5c=Math[_0xa8753c(0x481)](_0x55a29b['y'],Math['min'](_0x48bf5c,_0x55a29b['y']+_0x55a29b[_0xa8753c(0x8a3)]-_0x10888e[_0xa8753c(0x8a3)])),draggedSvgElement[_0xa8753c(0x2e6)](null,'x',_0x58fc65),draggedSvgElement[_0xa8753c(0x2e6)](null,'y',_0x48bf5c);}}function endDrag(_0x86d9c6){draggedSvgElement=null;}function handleSvgEditClick(_0xb6c18f){const _0x58f2a0=_0x5b6af5;if(_0xb6c18f[_0x58f2a0(0xa81)]['classList'][_0x58f2a0(0x47b)](_0x58f2a0(0x789))){const _0x1af8e5=_0xb6c18f[_0x58f2a0(0xa81)][_0x58f2a0(0x896)][_0x58f2a0(0x611)],_0x3ae12f=_0xb6c18f['currentTarget'],_0x4689c1=_0x3ae12f[_0x58f2a0(0x3f9)]('#'+_0x1af8e5);_0x4689c1&&_0x4689c1['remove'](),_0xb6c18f[_0x58f2a0(0xa81)]['remove']();}}function handleEditQuestion(_0x392142){const _0x309336=_0x5b6af5,_0x3daa8e=_0x392142[_0x309336(0x645)],_0xb917a2=_0x3daa8e[_0x309336(0x896)][_0x309336(0x3b2)],_0x3f0adc=currentQuizData[_0x309336(0x313)][_0xb917a2],_0xf4bea=document['getElementById'](_0x309336(0x2e5)+_0xb917a2),_0x321eac=document[_0x309336(0x318)](_0x309336(0x93c)+_0xb917a2),_0x28e391=document[_0x309336(0x318)](_0x309336(0x65c)+_0xb917a2);if(_0x3daa8e[_0x309336(0x993)]['includes'](_0x309336(0x4d4))){_0x3daa8e[_0x309336(0x993)]=_0x309336(0x7cd),_0x3daa8e[_0x309336(0x2f9)]=_0x309336(0x6e6);if(_0xf4bea)_0xf4bea[_0x309336(0x264)]=!![];if(_0x321eac)_0x321eac[_0x309336(0x264)]=!![];if(_0x28e391){const _0x265953=_0x28e391['querySelector'](_0x309336(0xade));if(_0x265953){const _0x2f777d=_0x265953[_0x309336(0x502)]('text');_0x2f777d['forEach']((_0x1fad1e,_0x5f33f1)=>{const _0x1f7fe5=_0x309336,_0x235079=_0x1f7fe5(0x6d2)+_0xb917a2+'-'+_0x5f33f1;_0x1fad1e['id']=_0x235079,_0x1fad1e['classList'][_0x1f7fe5(0x231)](_0x1f7fe5(0x4f0)),_0x1fad1e[_0x1f7fe5(0xae7)][_0x1f7fe5(0x24e)]=_0x1f7fe5(0x6ff);const _0x503a31=document[_0x1f7fe5(0x7a6)]('http://www.w3.org/2000/svg','circle'),_0x48074e=_0x1fad1e[_0x1f7fe5(0x9ca)]();_0x503a31[_0x1f7fe5(0x768)]('cx',String(_0x48074e['x']+_0x48074e[_0x1f7fe5(0x95c)]+0x5)),_0x503a31[_0x1f7fe5(0x768)]('cy',String(_0x48074e['y']+_0x48074e[_0x1f7fe5(0x8a3)]/0x2-0x5)),_0x503a31[_0x1f7fe5(0x768)]('r','5'),_0x503a31['setAttribute'](_0x1f7fe5(0x602),_0x1f7fe5(0x9cc)),_0x503a31['setAttribute'](_0x1f7fe5(0x5f8),_0x1f7fe5(0x789)),_0x503a31[_0x1f7fe5(0x896)]['targetId']=_0x235079,_0x1fad1e[_0x1f7fe5(0x9b6)](_0x503a31);}),_0x265953[_0x309336(0x78c)](_0x309336(0x9f9),startDrag),_0x265953[_0x309336(0x78c)]('mousemove',drag),_0x265953[_0x309336(0x78c)]('mouseup',endDrag),_0x265953[_0x309336(0x78c)](_0x309336(0x81b),endDrag),_0x265953[_0x309336(0x78c)](_0x309336(0xad3),startDrag,{'passive':![]}),_0x265953[_0x309336(0x78c)](_0x309336(0x269),drag,{'passive':![]}),_0x265953[_0x309336(0x78c)](_0x309336(0x279),endDrag),_0x265953[_0x309336(0x78c)]('touchcancel',endDrag),_0x265953['addEventListener'](_0x309336(0x382),handleSvgEditClick);}}if(_0xf4bea)_0xf4bea['focus']();}else{_0x3daa8e[_0x309336(0x993)]=_0x309336(0x98c),_0x3daa8e[_0x309336(0x2f9)]='แก้ไขข้อนี้';if(_0xf4bea){_0xf4bea[_0x309336(0x264)]=![];const _0x346416=_0x3f0adc[_0x309336(0xb01)]||currentQuizData[_0x309336(0x7ed)];_0x346416===_0x309336(0x917)?_0x3f0adc[_0x309336(0x6f3)]=_0xf4bea[_0x309336(0x688)][_0x309336(0x4c4)](_0xf4bea[_0x309336(0x688)][_0x309336(0x856)]('.')+0x2)[_0x309336(0x442)]():_0x3f0adc['questionText']=_0xf4bea[_0x309336(0x688)]['substring'](_0xf4bea[_0x309336(0x688)]['indexOf']('.')+0x2)[_0x309336(0x442)]();}_0x321eac&&(_0x321eac[_0x309336(0x264)]=![],_0x3f0adc['explanation']=_0x321eac[_0x309336(0x688)]);if(_0x28e391){const _0x5c5065=_0x28e391[_0x309336(0x3f9)](_0x309336(0xade));if(_0x5c5065){const _0x2299aa=_0x5c5065[_0x309336(0xa48)](!![]);_0x2299aa[_0x309336(0x502)]('.delete-svg-btn')[_0x309336(0x394)](_0x13f4b3=>_0x13f4b3[_0x309336(0x981)]()),_0x2299aa[_0x309336(0x502)](_0x309336(0x293))['forEach'](_0x232644=>{const _0x326d21=_0x309336;_0x232644[_0x326d21(0x821)][_0x326d21(0x981)]('draggable-text'),_0x232644[_0x326d21(0xae7)][_0x326d21(0x24e)]=_0x326d21(0x7b0),_0x232644[_0x326d21(0x5ba)]('id');}),_0x3f0adc[_0x309336(0x7fb)]=_0x2299aa[_0x309336(0x4d3)],_0x5c5065[_0x309336(0x7d1)](_0x309336(0x9f9),startDrag),_0x5c5065[_0x309336(0x7d1)](_0x309336(0x4af),drag),_0x5c5065[_0x309336(0x7d1)](_0x309336(0x2ff),endDrag),_0x5c5065[_0x309336(0x7d1)](_0x309336(0x81b),endDrag),_0x5c5065['removeEventListener']('touchstart',startDrag),_0x5c5065[_0x309336(0x7d1)](_0x309336(0x269),drag),_0x5c5065[_0x309336(0x7d1)](_0x309336(0x279),endDrag),_0x5c5065[_0x309336(0x7d1)]('touchcancel',endDrag),_0x5c5065['removeEventListener'](_0x309336(0x382),handleSvgEditClick),_0x5c5065[_0x309336(0x502)]('.delete-svg-btn')['forEach'](_0x5ef5b0=>_0x5ef5b0[_0x309336(0x981)]()),_0x5c5065[_0x309336(0x502)](_0x309336(0x293))[_0x309336(0x394)](_0x275768=>{const _0x479bf6=_0x309336;_0x275768[_0x479bf6(0x821)][_0x479bf6(0x981)](_0x479bf6(0x4f0)),_0x275768[_0x479bf6(0xae7)][_0x479bf6(0x24e)]=_0x479bf6(0x7b0);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x519f2f){const _0x40da39=_0x5b6af5,_0x427475=document['getElementById'](_0x40da39(0x480)),_0x531f3e=document[_0x40da39(0x318)](_0x40da39(0x713));_0x531f3e[_0x40da39(0x993)]=_0x40da39(0x3e1),_0x427475[_0x40da39(0x821)][_0x40da39(0x981)](_0x40da39(0x8be));try{const _0x472c79=doc(db,_0x40da39(0x58b)+appId+'/public/data/quizzes',_0x519f2f),_0x4cbdca=await getDoc(_0x472c79);if(!_0x4cbdca['exists']())throw new Error(_0x40da39(0xae5));currentEditingQuizData={'id':_0x519f2f,..._0x4cbdca[_0x40da39(0x266)]()},renderQuizEditor(currentEditingQuizData);}catch(_0x21a6f5){console['error']('Error\x20opening\x20quiz\x20editor:',_0x21a6f5),showMessage(_0x40da39(0x91d)),_0x427475[_0x40da39(0x821)][_0x40da39(0x231)]('hidden');}}function renderQuizEditor(_0x1d7f98){const _0xf1da2d=_0x5b6af5;document[_0xf1da2d(0x318)]('editor-quiz-topic')[_0xf1da2d(0x3e2)]=_0x1d7f98['topic'];const _0x38a150=document[_0xf1da2d(0x318)]('quiz-editor-questions-container');let _0x3fd810=_0x1d7f98['questions'][_0xf1da2d(0xa7a)]((_0x13d258,_0xdb978c)=>{const _0x2115ef=_0xf1da2d;let _0x15953d='';const _0x541a33=_0x13d258[_0x2115ef(0xb01)]||_0x1d7f98[_0x2115ef(0x7ed)];switch(_0x541a33){case _0x2115ef(0x40c):const _0x59a2e9=(_0x13d258[_0x2115ef(0x6c3)]||[])[_0x2115ef(0xa7a)]((_0x11a1bc,_0x5476ef)=>_0x2115ef(0xa56)+_0xdb978c+'\x22\x20value=\x22'+_0x5476ef+'\x22\x20'+(_0x5476ef===_0x13d258[_0x2115ef(0x859)]?_0x2115ef(0x82f):'')+_0x2115ef(0x6b2)+_0x11a1bc+_0x2115ef(0x69f))[_0x2115ef(0x8c0)]('');_0x15953d=_0x2115ef(0x5b3)+_0x59a2e9+_0x2115ef(0x707);break;case _0x2115ef(0xa9e):_0x15953d=_0x2115ef(0x9a1)+(_0x13d258[_0x2115ef(0x7b3)]||'')+_0x2115ef(0x2d3);break;case _0x2115ef(0x8d0):_0x15953d=_0x2115ef(0x466)+_0xdb978c+_0x2115ef(0x8c9)+(_0x13d258[_0x2115ef(0x86a)]===!![]?_0x2115ef(0x82f):'')+_0x2115ef(0x8bf)+_0xdb978c+_0x2115ef(0x63f)+(_0x13d258['correctAnswer']===![]?'checked':'')+_0x2115ef(0x90c);break;case _0x2115ef(0x917):_0x15953d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+(_0x13d258[_0x2115ef(0x2e3)]||'')+_0x2115ef(0x6e0);break;}const _0x5cd764=_0x13d258[_0x2115ef(0x7a4)]||_0x13d258[_0x2115ef(0x6f3)]||'';return _0x2115ef(0x81c)+_0xdb978c+_0x2115ef(0x2f4)+_0x541a33+_0x2115ef(0x855)+(_0xdb978c+0x1)+'\x20('+_0x541a33+_0x2115ef(0x4ef)+_0x5cd764+_0x2115ef(0xa95)+_0x15953d+_0x2115ef(0x97d);})[_0xf1da2d(0x8c0)]('');_0x38a150[_0xf1da2d(0x993)]=_0x3fd810,_0x38a150['querySelectorAll'](_0xf1da2d(0x4ca))['forEach'](_0x39d6f5=>{const _0x30be4b=_0xf1da2d;_0x39d6f5[_0x30be4b(0x78c)](_0x30be4b(0x382),handleAiFixQuestion);});}async function handleAiFixQuestion(_0x3ed560){const _0x1e7a97=_0x5b6af5,_0x428863=_0x3ed560['currentTarget'],_0x52918f=_0x428863['closest'](_0x1e7a97(0x31f));if(!_0x52918f)return;const _0x2b99ac=parseInt(_0x52918f['dataset'][_0x1e7a97(0x64d)],0xa);if(isNaN(_0x2b99ac)||!currentEditingQuizData[_0x1e7a97(0x313)][_0x2b99ac]){showMessage(_0x1e7a97(0x519));return;}const _0x3b206e=currentEditingQuizData[_0x1e7a97(0x313)][_0x2b99ac];_0x428863[_0x1e7a97(0x993)]=_0x1e7a97(0x79a),_0x428863[_0x1e7a97(0x204)]=!![];const _0x7433f=_0x1e7a97(0x72d)+JSON[_0x1e7a97(0x617)](_0x3b206e)+_0x1e7a97(0x880);let _0x1ec4ca;const _0xd1fc4=_0x3b206e[_0x1e7a97(0xb01)]||currentEditingQuizData['quizType'];switch(_0xd1fc4){case'short_answer':_0x1ec4ca={'type':_0x1e7a97(0xa0a),'properties':{'questionText':{'type':_0x1e7a97(0x864)},'idealAnswer':{'type':_0x1e7a97(0x864)},'explanation':{'type':_0x1e7a97(0x864)},'imageCode':{'type':'STRING'}},'required':[_0x1e7a97(0x7a4),_0x1e7a97(0x7b3),_0x1e7a97(0xb12)]};break;case _0x1e7a97(0x40c):default:_0x1ec4ca={'type':_0x1e7a97(0xa0a),'properties':{'questionText':{'type':_0x1e7a97(0x864)},'options':{'type':_0x1e7a97(0x805),'items':{'type':_0x1e7a97(0x864)}},'correctAnswerIndex':{'type':_0x1e7a97(0x5e1)},'explanation':{'type':_0x1e7a97(0x864)},'imageCode':{'type':'STRING'}},'required':['questionText',_0x1e7a97(0x6c3),_0x1e7a97(0x859),_0x1e7a97(0xb12)]};break;}try{let _0x9c8b78=await callAnalysisApi(_0x7433f,_0x1ec4ca);_0x9c8b78[_0x1e7a97(0x6c3)]&&Array[_0x1e7a97(0x397)](_0x9c8b78[_0x1e7a97(0x6c3)])&&(_0x9c8b78[_0x1e7a97(0x6c3)]=_0x9c8b78[_0x1e7a97(0x6c3)][_0x1e7a97(0xa7a)](_0x1677fb=>typeof _0x1677fb===_0x1e7a97(0x2d1)?_0x1677fb[_0x1e7a97(0x6c2)](/S(\s*[\d_]+?\s*)S/g,'$$$1$'):_0x1677fb)),_0x3b206e[_0x1e7a97(0x7fb)]&&_0x3b206e[_0x1e7a97(0x7fb)][_0x1e7a97(0x680)]('fix\x20the\x20option')&&(_0x9c8b78[_0x1e7a97(0x7fb)]=''),currentEditingQuizData[_0x1e7a97(0x313)][_0x2b99ac]={..._0x3b206e,..._0x9c8b78},renderQuizEditor(currentEditingQuizData),showMessage('AI\x20แก้ไขคำถามสำเร็จ!');}catch(_0x101f63){console[_0x1e7a97(0x581)](_0x1e7a97(0x8fe),_0x101f63),showMessage(_0x1e7a97(0xada)),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0x405232=_0x5b6af5,_0xda6649=document['getElementById'](_0x405232(0x53b));_0xda6649[_0x405232(0x204)]=!![],_0xda6649[_0x405232(0x993)]=_0x405232(0x1ef);try{const _0x525e7c=document[_0x405232(0x318)](_0x405232(0x525))[_0x405232(0x3e2)],_0x1e189f=document[_0x405232(0x502)](_0x405232(0x31f));let _0x576134=[];const _0x22ff6b=Array['from'](_0x1e189f)[_0x405232(0xa7a)]((_0x179658,_0x169cdf)=>{const _0x424a3d=_0x405232,_0x1018f2=_0x179658[_0x424a3d(0x896)][_0x424a3d(0x928)],_0x43fdcd=_0x179658[_0x424a3d(0x3f9)](_0x424a3d(0x650))['value'];let _0xc020f={'questionType':_0x1018f2};const _0x291f04=currentEditingQuizData[_0x424a3d(0x313)][_0x169cdf];switch(_0x1018f2){case _0x424a3d(0x40c):_0xc020f[_0x424a3d(0x7a4)]=_0x43fdcd;const _0x4ddf4d=_0x179658['querySelectorAll'](_0x424a3d(0x8e7));_0xc020f[_0x424a3d(0x6c3)]=Array[_0x424a3d(0x918)](_0x4ddf4d)['map'](_0x4180dc=>_0x4180dc['value']);const _0x441f1e=_0x179658[_0x424a3d(0x3f9)](_0x424a3d(0x446));_0xc020f[_0x424a3d(0x859)]=_0x441f1e?parseInt(_0x441f1e['value']):0x0;break;case _0x424a3d(0xa9e):_0xc020f['questionText']=_0x43fdcd,_0xc020f[_0x424a3d(0x7b3)]=_0x179658[_0x424a3d(0x3f9)](_0x424a3d(0x89a))['value'];break;case _0x424a3d(0x8d0):_0xc020f[_0x424a3d(0x7a4)]=_0x43fdcd;const _0xe2b5c2=_0x179658['querySelector'](_0x424a3d(0x446));_0xc020f[_0x424a3d(0x86a)]=_0xe2b5c2?_0xe2b5c2[_0x424a3d(0x3e2)]==='true':!![];break;case'matching_item':_0xc020f[_0x424a3d(0x6f3)]=_0x43fdcd;const _0x445a71=_0x179658[_0x424a3d(0x3f9)](_0x424a3d(0x2b6));_0xc020f['correctResponse']=_0x445a71?_0x445a71['value']:'',_0x576134[_0x424a3d(0x27f)](_0xc020f['correctResponse']);break;default:_0xc020f[_0x424a3d(0x7a4)]=_0x43fdcd;break;}return{..._0x291f04,..._0xc020f};});_0x576134[_0x405232(0x326)]>0x0&&_0x22ff6b[_0x405232(0x394)](_0x13778c=>{const _0x1a177a=_0x405232;_0x13778c[_0x1a177a(0xb01)]===_0x1a177a(0x917)&&(_0x13778c['allResponses']=_0x576134);});const _0x303bdb=currentEditingQuizData['id'],_0x4eb154=doc(db,_0x405232(0x58b)+appId+_0x405232(0xaca),_0x303bdb);await updateDoc(_0x4eb154,{'topic':_0x525e7c,'questions':_0x22ff6b}),document[_0x405232(0x318)](_0x405232(0x480))['classList']['add'](_0x405232(0x8be)),showMessage(_0x405232(0xa79),()=>initiateReGradeProcess(_0x303bdb));}catch(_0x6f723c){console[_0x405232(0x581)](_0x405232(0x465),_0x6f723c),showMessage(_0x405232(0xb08));}finally{_0xda6649['disabled']=![],_0xda6649['innerHTML']=_0x405232(0x7e8);}}async function initiateReGradeProcess(_0x48acbc){const _0x2f317d=_0x5b6af5;showMessage(_0x2f317d(0x2c4));try{const _0x1ca4ad=doc(db,_0x2f317d(0x58b)+appId+_0x2f317d(0xaca),_0x48acbc),_0x13b95a=await getDoc(_0x1ca4ad);if(!_0x13b95a[_0x2f317d(0xa76)]())throw new Error('ไม่พบข้อมูลแบบทดสอบ');const _0x8f3793={'id':_0x48acbc,..._0x13b95a[_0x2f317d(0x266)]()},_0x577e43=collection(db,_0x2f317d(0x58b)+appId+'/public/data/quizzes',_0x48acbc,'submissions'),_0x32692d=await getDocs(_0x577e43);if(_0x32692d[_0x2f317d(0x2d0)]){showMessage(_0x2f317d(0x472));return;}const _0x3325fa=_0x32692d[_0x2f317d(0xa18)][_0x2f317d(0xa7a)](_0x52db57=>reGradeSingleSubmission(_0x52db57,_0x8f3793));await Promise[_0x2f317d(0x3a5)](_0x3325fa);if(_0x8f3793['projectId']){const _0x1d1b5e=doc(db,_0x2f317d(0x58b)+appId+_0x2f317d(0x268),_0x8f3793[_0x2f317d(0x1f9)]),_0x2db05e=await getDoc(_0x1d1b5e);if(_0x2db05e['exists']()&&_0x2db05e['data']()[_0x2f317d(0x938)]){const _0x513c66=_0x2db05e['data']()[_0x2f317d(0x938)][_0x2f317d(0xa7a)](_0x21a0e8=>updateStudentProfile(_0x8f3793['projectId'],_0x21a0e8));await Promise[_0x2f317d(0x3a5)](_0x513c66);}}showMessage(_0x2f317d(0x81d)+_0x32692d[_0x2f317d(0x35d)]+_0x2f317d(0x42b));}catch(_0x501820){console[_0x2f317d(0x581)](_0x2f317d(0xb21),_0x501820),showMessage('เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20'+_0x501820[_0x2f317d(0x8a6)]);}}async function reGradeSingleSubmission(_0x552ce7,_0x392c85){const _0x3c546c=_0x5b6af5,_0x507f69=_0x552ce7[_0x3c546c(0x266)](),_0x4a6e35=_0x507f69[_0x3c546c(0x8cb)],_0x513c2d=_0x507f69[_0x3c546c(0x49a)]||[],_0x47e37f=[];for(const _0x50e66c of _0x513c2d){let _0x51c320=0x0,_0x1ba4af=[],_0x593d34=0x0;const _0x2720a8=[];for(const _0x234224 of _0x50e66c[_0x3c546c(0x739)]){let _0x224042;_0x234224[_0x3c546c(0x97a)]&&(_0x224042=_0x392c85[_0x3c546c(0x313)][_0x3c546c(0xa93)](_0x46f4f2=>_0x46f4f2['id']===_0x234224['questionId']));!_0x224042&&_0x234224[_0x3c546c(0xb04)]&&(_0x224042=_0x392c85[_0x3c546c(0x313)][_0x3c546c(0xa93)](_0x531177=>(_0x531177[_0x3c546c(0x6f3)]||_0x531177[_0x3c546c(0x7a4)])===_0x234224['originalQuestionText']));let _0x425b0f=![];if(_0x224042){const _0x1cd5a8=_0x224042[_0x3c546c(0xb01)]||_0x392c85['quizType'];switch(_0x1cd5a8){case _0x3c546c(0x40c):if(_0x224042[_0x3c546c(0x6c3)]&&_0x224042[_0x3c546c(0x859)]<_0x224042[_0x3c546c(0x6c3)][_0x3c546c(0x326)]){const _0x49f762=_0x224042[_0x3c546c(0x6c3)][_0x224042['correctAnswerIndex']];_0x425b0f=_0x234224['answerText']===_0x49f762;}break;case _0x3c546c(0x8d0):const _0x4a6c7c=_0x234224[_0x3c546c(0x520)]===!![]||_0x234224[_0x3c546c(0x520)]===_0x3c546c(0x2a4);_0x425b0f=_0x4a6c7c===_0x224042['correctAnswer'];break;case _0x3c546c(0x917):_0x425b0f=_0x234224['answer']===_0x224042['correctResponse'];break;case'short_answer':_0x425b0f=await gradeShortAnswer(_0x234224[_0x3c546c(0x520)],_0x224042);break;default:_0x425b0f=_0x234224[_0x3c546c(0x64c)];break;}}if(_0x425b0f){_0x51c320++,_0x593d34++;if(_0x593d34===0x3)_0x1ba4af[_0x3c546c(0x27f)](BADGES['ON_FIRE']['id']);}else _0x593d34=0x0;_0x2720a8[_0x3c546c(0x27f)]({..._0x234224,'isCorrect':_0x425b0f});}let _0x58fda2=_0x51c320*0xa;_0x51c320===_0x392c85['questions'][_0x3c546c(0x326)]&&(_0x58fda2+=0x32,_0x1ba4af[_0x3c546c(0x27f)](BADGES[_0x3c546c(0x710)]['id'])),_0x47e37f['push']({..._0x50e66c,'score':_0x51c320,'points':_0x58fda2,'badges':Array[_0x3c546c(0x918)](new Set(_0x1ba4af)),'answers':_0x2720a8});}const _0x4670ed=_0x47e37f[_0x3c546c(0x326)]>0x0?_0x47e37f[0x0][_0x3c546c(0x829)]:0x0,_0x1aa290=Math[_0x3c546c(0x481)](..._0x47e37f[_0x3c546c(0xa7a)](_0x11c2cf=>_0x11c2cf[_0x3c546c(0x829)])),_0x5650de=_0x47e37f[_0x3c546c(0x326)]>0x0?_0x47e37f[_0x47e37f['length']-0x1][_0x3c546c(0x829)]:0x0,_0x275345=_0x47e37f[_0x3c546c(0x326)]>0x0?_0x47e37f[_0x47e37f[_0x3c546c(0x326)]-0x1][_0x3c546c(0x73b)]:0x0,_0x2e504f=doc(db,_0x3c546c(0x58b)+appId+_0x3c546c(0x39f)+_0x392c85['id']+_0x3c546c(0x7f2),_0x4a6e35);await updateDoc(_0x2e504f,{'attempts':_0x47e37f,'firstScore':_0x4670ed,'bestScore':_0x1aa290,'latestScore':_0x5650de,'points':_0x275345});}function cleanupQuizOptions(_0x4e5098){const _0x3138ef=_0x5b6af5,_0x46ee39=(_0x203be6,_0x54c0ea)=>_0x54c0ea===0x0?_0x203be6:_0x46ee39(_0x54c0ea,_0x203be6%_0x54c0ea),_0x5c44e3=_0x34016c=>{const _0x10f54d=_0x2b61;if(typeof _0x34016c!==_0x10f54d(0x2d1))return null;_0x34016c=_0x34016c[_0x10f54d(0x442)]();const _0xfdce19=_0x34016c[_0x10f54d(0x35a)](/[ /]/)['filter'](_0x1009a4=>_0x1009a4!=='');if(_0xfdce19[_0x10f54d(0x326)]===0x3)return parseInt(_0xfdce19[0x0])+parseInt(_0xfdce19[0x1])/parseInt(_0xfdce19[0x2]);else{if(_0xfdce19[_0x10f54d(0x326)]===0x2)return parseInt(_0xfdce19[0x0])/parseInt(_0xfdce19[0x1]);else{if(_0xfdce19[_0x10f54d(0x326)]===0x1&&!isNaN(_0xfdce19[0x0]))return parseFloat(_0xfdce19[0x0]);}}return null;},_0x3e7add=_0xd7cbc=>{const _0x651f0d=_0x2b61;if(typeof _0xd7cbc!==_0x651f0d(0x2d1))return _0xd7cbc;const _0x25d0a4=_0xd7cbc[_0x651f0d(0x4a1)](/(\d+)\s+(\d+)\/(\d+)/);if(_0x25d0a4){const _0x46ea12=parseInt(_0x25d0a4[0x1]);let _0x3feab9=parseInt(_0x25d0a4[0x2]),_0x2a4a5d=parseInt(_0x25d0a4[0x3]);const _0x109cdb=_0x46ee39(_0x3feab9,_0x2a4a5d);_0x3feab9/=_0x109cdb,_0x2a4a5d/=_0x109cdb;if(_0x2a4a5d===0x1)return(_0x46ea12+_0x3feab9)[_0x651f0d(0x742)]();return _0x46ea12+'\x20'+_0x3feab9+'/'+_0x2a4a5d;}return _0xd7cbc;};return _0x4e5098&&_0x4e5098[_0x3138ef(0x313)]&&_0x4e5098['questions'][_0x3138ef(0x394)](_0x843f84=>{const _0x59d8ca=_0x3138ef;if(_0x843f84[_0x59d8ca(0xb01)]===_0x59d8ca(0x40c)&&_0x843f84[_0x59d8ca(0x6c3)]){const _0x19fd9e=new Map(),_0xdaf82c=_0x843f84[_0x59d8ca(0x6c3)][_0x843f84[_0x59d8ca(0x859)]];_0x843f84['options']['forEach'](_0x225175=>{const _0x3b20c2=_0x59d8ca,_0x71d449=_0x3e7add(_0x225175),_0x43dc03=_0x5c44e3(_0x71d449);_0x43dc03!==null&&!_0x19fd9e[_0x3b20c2(0x27b)](_0x43dc03)&&_0x19fd9e[_0x3b20c2(0xaa2)](_0x43dc03,_0x71d449);}),_0x843f84[_0x59d8ca(0x6c3)]=Array[_0x59d8ca(0x918)](_0x19fd9e[_0x59d8ca(0x6db)]());const _0x25a66f=_0x843f84[_0x59d8ca(0x6c3)][_0x59d8ca(0x585)](_0x171685=>_0x171685===_0x3e7add(_0xdaf82c));_0x843f84[_0x59d8ca(0x859)]=_0x25a66f!==-0x1?_0x25a66f:0x0;}}),_0x4e5098;}function showGameStartConfirmationModal(_0x3336b3,_0x4fb6ed,_0x3ee7b6){const _0x3bda05=_0x5b6af5,_0x17ccf6=document[_0x3bda05(0x318)](_0x3bda05(0x9b5));document[_0x3bda05(0x318)](_0x3bda05(0x83d))['textContent']=_0x3bda05(0x42f)+_0x3ee7b6,document[_0x3bda05(0x318)]('game-start-quiz-id')['value']=_0x3336b3,document['getElementById'](_0x3bda05(0x297))[_0x3bda05(0x3e2)]=_0x4fb6ed,document[_0x3bda05(0x318)](_0x3bda05(0x58f))[_0x3bda05(0x82f)]=!![],_0x17ccf6['classList']['remove'](_0x3bda05(0x8be));}async function saveGameResultsAsSubmissions(_0x9ca732){const _0x34a649=_0x5b6af5;console[_0x34a649(0xaa8)](_0x34a649(0x46a),_0x9ca732);const _0x1eac4b=_0x9ca732[_0x34a649(0x79c)];let _0x56a60e=[];if(_0x9ca732['players'])_0x56a60e=Object[_0x34a649(0xad2)](_0x9ca732['players'])['map'](([_0x12ef08,_0xe226a3])=>({'name':_0x12ef08,..._0xe226a3}));else{if(_0x9ca732[_0x34a649(0x253)])Object[_0x34a649(0x6db)](_0x9ca732[_0x34a649(0x253)])[_0x34a649(0x394)](_0x12bbe9=>{const _0x429d84=_0x34a649;_0x12bbe9[_0x429d84(0x530)][_0x429d84(0x394)](_0x30f768=>{const _0x318fe6=_0x429d84;_0x56a60e[_0x318fe6(0x27f)]({'name':_0x30f768,'score':_0x12bbe9[_0x318fe6(0x829)]});});});else _0x9ca732[_0x34a649(0x2e4)]&&Object[_0x34a649(0xad2)](_0x9ca732[_0x34a649(0x2e4)])[_0x34a649(0x394)](([_0x5316b2,_0x1c5cdb])=>{_0x56a60e['push']({'name':_0x5316b2,..._0x1c5cdb});});}if(_0x56a60e['length']===0x0){console[_0x34a649(0xaa8)](_0x34a649(0x6ae));return;}const _0x333b18=_0x9ca732[_0x34a649(0x3a4)]?.[_0x34a649(0x313)][_0x34a649(0x326)]||currentQuizData[_0x34a649(0x313)][_0x34a649(0x326)],_0x3ca8f9=writeBatch(db);for(const _0x36e92c of _0x56a60e){const _0x58fbc1=_0x36e92c[_0x34a649(0x829)]||0x0,_0x239566=doc(db,'artifacts/'+appId+_0x34a649(0x39f)+_0x1eac4b+_0x34a649(0x7f2),_0x36e92c[_0x34a649(0x59f)]),_0x311513={'score':_0x58fbc1,'points':_0x58fbc1*0xa,'badges':_0x36e92c[_0x34a649(0x50f)]||[],'submittedAt':new Date()['toISOString'](),'answers':(_0x36e92c[_0x34a649(0x739)]||[])[_0x34a649(0xa7a)](_0x2339fe=>({'questionId':_0x2339fe[_0x34a649(0x97a)],'answer':_0x2339fe['answer'],'answerText':_0x2339fe[_0x34a649(0x42c)],'isCorrect':_0x2339fe[_0x34a649(0x64c)],'originalQuestionText':_0x2339fe[_0x34a649(0xb04)]}))},_0x598e4f=await getDoc(_0x239566),_0x1a347f=_0x598e4f[_0x34a649(0xa76)]()?_0x598e4f[_0x34a649(0x266)]():{},_0x450056=_0x1a347f['bestScore']||0x0,_0x2db1d3=_0x1a347f[_0x34a649(0x49a)]||[],_0x42c8f5={'studentName':_0x36e92c[_0x34a649(0x59f)],'totalQuestions':_0x333b18,'attempts':arrayUnion(_0x311513),'latestScore':_0x58fbc1,'latestSubmittedAt':_0x311513[_0x34a649(0x77e)],'bestScore':Math['max'](_0x450056,_0x58fbc1),'firstScore':_0x2db1d3['length']===0x0?_0x58fbc1:_0x1a347f['firstScore']||0x0};_0x3ca8f9['set'](_0x239566,_0x42c8f5,{'merge':!![]});}try{await _0x3ca8f9[_0x34a649(0x991)](),showMessage(_0x34a649(0x1f8)+_0x56a60e[_0x34a649(0x326)]+_0x34a649(0x4ac));const _0x2d226b=_0x9ca732[_0x34a649(0x3a4)]?.['projectId']||currentQuizData?.[_0x34a649(0x1f9)]||currentProjectId;if(_0x2d226b){const _0x3e101a=[...new Set(_0x56a60e[_0x34a649(0xa7a)](_0x1df167=>_0x1df167[_0x34a649(0x59f)]))];for(const _0x4b8cf2 of _0x3e101a){await updateStudentProfile(_0x2d226b,_0x4b8cf2);}}}catch(_0xd12279){console[_0x34a649(0x581)](_0x34a649(0x1fe),_0xd12279),showMessage('เกิดข้อผิดพลาดในการบันทึกผลจากเกม');}}async function saveQuiz(){const _0xd40026=_0x5b6af5;if(!currentProjectId){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData[_0xd40026(0x313)]||!userId){showMessage('ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้');return;}const _0x446ee2=document[_0xd40026(0x318)](_0xd40026(0x6ec));_0x446ee2[_0xd40026(0x204)]=!![],_0x446ee2[_0xd40026(0x993)]=_0xd40026(0x1ef);const _0x9cbdc7=document[_0xd40026(0x318)](_0xd40026(0x3d9))['checked'];let _0xfd61dd=document['getElementById'](_0xd40026(0x55e))[_0xd40026(0x688)][_0xd40026(0x442)]();_0x9cbdc7&&!_0xfd61dd[_0xd40026(0x7c6)]('(ก่อนเรียน)')&&(_0xfd61dd=_0xd40026(0x565)+_0xfd61dd);try{const _0x2cd13c={'resultsDisplay':document[_0xd40026(0x318)](_0xd40026(0xa62))['value'],'shuffle':document['getElementById'](_0xd40026(0x2e9))[_0xd40026(0x3e2)],'timerMode':document['getElementById'](_0xd40026(0x75c))[_0xd40026(0x3e2)],'timerDuration':parseInt(document[_0xd40026(0x318)]('timer-duration-input')[_0xd40026(0x3e2)])||0xa,'passingScore':parseInt(document[_0xd40026(0x318)]('passing-score-input')[_0xd40026(0x3e2)])||0x0,'isAdaptive':document[_0xd40026(0x318)](_0xd40026(0x71b))[_0xd40026(0x82f)],'loopUntilPass':document[_0xd40026(0x318)](_0xd40026(0x2b0))[_0xd40026(0x82f)]},_0x4fd890=(currentQuizData[_0xd40026(0x313)]||[])[_0xd40026(0xa7a)]((_0x537f41,_0x5dd3b6)=>{const _0x5e56d6=_0xd40026,_0x4a18a9=document[_0x5e56d6(0x318)](_0x5e56d6(0x689))[_0x5e56d6(0x3e2)],_0xe7417={'id':'q_'+Date['now']()+'_'+_0x5dd3b6,'questionText':_0x537f41[_0x5e56d6(0x7a4)]||'','explanation':_0x537f41[_0x5e56d6(0xb12)]||'ไม่มีคำอธิบาย','questionType':_0x537f41['questionType']||_0x4a18a9,'imageCode':_0x537f41['imageCode']||null};return(_0xe7417[_0x5e56d6(0xb01)]==='multiple_choice'||_0xe7417[_0x5e56d6(0xb01)]==='fill_in_with_choices'||_0xe7417['questionType']===_0x5e56d6(0x93e)&&_0x537f41['options'])&&(_0xe7417[_0x5e56d6(0x6c3)]=_0x537f41['options']||[],_0xe7417[_0x5e56d6(0x859)]=_0x537f41[_0x5e56d6(0x859)]!==undefined?_0x537f41['correctAnswerIndex']:0x0),(_0xe7417[_0x5e56d6(0xb01)]===_0x5e56d6(0xa9e)||_0xe7417[_0x5e56d6(0xb01)]===_0x5e56d6(0x773)||_0xe7417['questionType']===_0x5e56d6(0x93e)&&_0x537f41[_0x5e56d6(0x7b3)])&&(_0xe7417[_0x5e56d6(0x7b3)]=_0x537f41['idealAnswer']||''),_0xe7417['questionType']==='true_false'&&(_0xe7417['correctAnswer']=_0x537f41[_0x5e56d6(0x86a)]===!![]),_0xe7417[_0x5e56d6(0xb01)]===_0x5e56d6(0x917)&&(_0xe7417[_0x5e56d6(0x6f3)]=_0x537f41[_0x5e56d6(0x6f3)]||'',_0xe7417['correctResponse']=_0x537f41['correctResponse']||'',_0xe7417[_0x5e56d6(0x3e5)]=_0x537f41[_0x5e56d6(0x3e5)]||[]),_0xe7417;}),_0x382853={'topic':_0xfd61dd,'quizType':currentQuizData[_0xd40026(0x7ed)]||'multiple_choice','questions':_0x4fd890,'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0xd40026(0x7db)](),'status':'active','settings':_0x2cd13c,'quizMode':_0x9cbdc7?'pre-test':'standard','pairedQuizId':null,'lessonPlan':null};let _0x1ef20b;while(!![]){_0x1ef20b=Math['floor'](0x3e8+Math[_0xd40026(0x8f7)]()*0x2328)['toString']();const _0x232b0b=await getDoc(doc(db,_0xd40026(0x58b)+appId+_0xd40026(0xaca),_0x1ef20b));if(!_0x232b0b[_0xd40026(0xa76)]())break;}await setDoc(doc(db,_0xd40026(0x58b)+appId+'/public/data/quizzes',_0x1ef20b),_0x382853),currentQuizData[_0xd40026(0x492)]=_0x2cd13c,currentQuizData['id']=_0x1ef20b;const _0x36ff59=document['getElementById'](_0xd40026(0x6a2));_0x36ff59['innerHTML']=_0xd40026(0x6b3)+_0x1ef20b+_0xd40026(0xb1f),document['getElementById'](_0xd40026(0x61f))['addEventListener'](_0xd40026(0x382),()=>copyTextToClipboard(_0x1ef20b,'คัดลอกรหัสแล้ว!')),document[_0xd40026(0x318)](_0xd40026(0x325))[_0xd40026(0x78c)](_0xd40026(0x382),()=>handleStartLiveRace(_0x1ef20b)),document['getElementById'](_0xd40026(0x946))[_0xd40026(0x78c)](_0xd40026(0x382),()=>startPresentation(currentQuizData)),document[_0xd40026(0x318)]('admin-try-quiz-btn')['addEventListener'](_0xd40026(0x382),startAdminTest),showMessage(_0xd40026(0x686));}catch(_0x195f30){console['error']('Error\x20saving\x20quiz:',_0x195f30),showMessage(_0xd40026(0x31b)),_0x446ee2[_0xd40026(0x204)]=![],_0x446ee2[_0xd40026(0x993)]=_0xd40026(0x4dd);}}function promptForProjectAndSave(){const _0x328d53=_0x5b6af5,_0x20f23c=document['getElementById'](_0x328d53(0x401)),_0x321a6b=document[_0x328d53(0x318)]('move-quiz-project-select'),_0x3878d2=_0x20f23c[_0x328d53(0x3f9)]('h3'),_0x2b0174=document['getElementById'](_0x328d53(0x763));_0x3878d2[_0x328d53(0x950)]='เลือกโปรเจคเพื่อบันทึก',_0x2b0174[_0x328d53(0x950)]=_0x328d53(0x80a);allProjects[_0x328d53(0x326)]===0x0?(_0x321a6b['innerHTML']=_0x328d53(0xa38),_0x2b0174[_0x328d53(0x204)]=!![]):(_0x321a6b[_0x328d53(0x993)]=allProjects[_0x328d53(0xa7a)](_0x12335b=>_0x328d53(0x6ed)+_0x12335b['id']+'\x22>'+_0x12335b[_0x328d53(0x368)]+_0x328d53(0x91e))[_0x328d53(0x8c0)](''),_0x2b0174[_0x328d53(0x204)]=![]);_0x20f23c[_0x328d53(0x821)][_0x328d53(0x981)]('hidden');const _0x1d8f39=()=>{const _0x2e4a2a=_0x328d53,_0x338273=_0x321a6b['value'];_0x338273?(currentProjectId=_0x338273,_0x20f23c[_0x2e4a2a(0x821)][_0x2e4a2a(0x231)](_0x2e4a2a(0x8be)),saveQuiz(),_0x3878d2['textContent']=_0x2e4a2a(0x5a4),_0x2b0174[_0x2e4a2a(0x950)]=_0x2e4a2a(0x6c5),_0x2b0174[_0x2e4a2a(0x7d1)](_0x2e4a2a(0x382),_0x1d8f39),_0x2b0174[_0x2e4a2a(0x78c)]('click',confirmMoveQuiz)):showMessage(_0x2e4a2a(0x700));};_0x2b0174[_0x328d53(0x7d1)](_0x328d53(0x382),confirmMoveQuiz),_0x2b0174[_0x328d53(0x78c)](_0x328d53(0x382),_0x1d8f39);}function copyTextToClipboard(_0x456085,_0x1330bd){const _0x2c664d=_0x5b6af5,_0xea08e8=document['createElement'](_0x2c664d(0x650));_0xea08e8[_0x2c664d(0x3e2)]=_0x456085,_0xea08e8[_0x2c664d(0xae7)][_0x2c664d(0x48b)]=_0x2c664d(0x263),_0xea08e8[_0x2c664d(0xae7)][_0x2c664d(0x315)]='0',document[_0x2c664d(0x228)][_0x2c664d(0x239)](_0xea08e8),_0xea08e8['focus'](),_0xea08e8[_0x2c664d(0xaff)]();try{const _0x1cdea5=document[_0x2c664d(0xa60)]('copy');showMessage(_0x1cdea5?_0x1330bd:_0x2c664d(0x5b2));}catch(_0x48c2fd){showMessage(_0x2c664d(0x5b2)),console[_0x2c664d(0x581)](_0x2c664d(0x725),_0x48c2fd);}document['body'][_0x2c664d(0x7fd)](_0xea08e8);}function listenForProjectQuizzes(_0x9e89c5){const _0x40f6bd=_0x5b6af5,_0x5cbdbb=collection(db,'artifacts/'+appId+_0x40f6bd(0xaca)),_0x36ec04=query(_0x5cbdbb,where(_0x40f6bd(0x1f9),'==',_0x9e89c5));unsubscribeQuizzesListener=onSnapshot(_0x36ec04,async _0x150474=>{const _0x347b57=_0x40f6bd;allQuizzes=_0x150474['docs'][_0x347b57(0xa7a)](_0x48658c=>({'id':_0x48658c['id'],..._0x48658c[_0x347b57(0x266)]()})),renderQuizzes();},_0x3e993a=>{const _0x2be7a0=_0x40f6bd;console['error'](_0x2be7a0(0x47d),_0x3e993a),document[_0x2be7a0(0x318)](_0x2be7a0(0x45a))['innerHTML']=_0x2be7a0(0x22d);});}async function renderQuizzes(){const _0x2e07b3=_0x5b6af5,_0xe6becc=document[_0x2e07b3(0x318)](_0x2e07b3(0x45a)),_0x1f3804=document['getElementById'](_0x2e07b3(0x251))[_0x2e07b3(0x3e2)][_0x2e07b3(0xa19)]();let _0x53be00;currentProjectId==='starred'?_0x53be00=starredQuizzes:_0x53be00=allQuizzes;let _0x15545d=_0x53be00[_0x2e07b3(0x5e3)](_0x2825dd=>_0x2825dd[_0x2e07b3(0x53e)]['toLowerCase']()['includes'](_0x1f3804));_0x15545d[_0x2e07b3(0xaa5)]((_0xfb8433,_0x7e8c76)=>new Date(_0x7e8c76[_0x2e07b3(0x7a0)])-new Date(_0xfb8433[_0x2e07b3(0x7a0)]));if(_0x15545d[_0x2e07b3(0x326)]===0x0){_0xe6becc[_0x2e07b3(0x993)]='<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>';return;}const _0x827dc3={},_0x51498c=_0x15545d[_0x2e07b3(0xa7a)](async _0x5ae12c=>{const _0x5726d1=_0x2e07b3,_0x56be1a=collection(db,'artifacts/'+appId+_0x5726d1(0x39f)+_0x5ae12c['id']+_0x5726d1(0x7f2)),_0x41d6f7=await getDocs(_0x56be1a);_0x827dc3[_0x5ae12c['id']]=_0x41d6f7[_0x5726d1(0x35d)];});await Promise[_0x2e07b3(0x3a5)](_0x51498c);let _0x457b9f='';_0x15545d[_0x2e07b3(0x394)](_0x5c6994=>{const _0x3f8b6a=_0x2e07b3,_0xf44543=_0x827dc3[_0x5c6994['id']]||0x0,_0x4ff2a2=_0x5c6994[_0x3f8b6a(0x6d0)]||_0x3f8b6a(0x82a),_0x40238a=_0x5c6994[_0x3f8b6a(0x492)]?.[_0x3f8b6a(0xa36)]||'none';let _0x878f30='',_0x16ee15='';const _0xb9213=new Date();let _0x25eced=_0x4ff2a2;if(_0x4ff2a2===_0x3f8b6a(0x898)){const _0x1613c3=_0x5c6994[_0x3f8b6a(0xb1c)]?new Date(_0x5c6994[_0x3f8b6a(0xb1c)]):null,_0x5bba5b=_0x5c6994[_0x3f8b6a(0x6b1)]?new Date(_0x5c6994[_0x3f8b6a(0x6b1)]):null;if(_0x5bba5b&&_0xb9213>_0x5bba5b)_0x25eced=_0x3f8b6a(0x592);else _0x1613c3&&_0xb9213<_0x1613c3?_0x25eced=_0x3f8b6a(0x915):_0x25eced=_0x3f8b6a(0x82a);}switch(_0x25eced){case'inactive':_0x878f30=_0x3f8b6a(0x3e0),_0x16ee15=_0x3f8b6a(0x844);break;case _0x3f8b6a(0x915):_0x878f30='รอเปิด',_0x16ee15='text-blue-700\x20bg-blue-100';break;case _0x3f8b6a(0x82a):_0x878f30=_0x40238a!==_0x3f8b6a(0x6f7)?_0x3f8b6a(0x820):_0x3f8b6a(0x543),_0x16ee15='text-green-700\x20bg-green-100';break;default:_0x878f30=_0x3f8b6a(0x259),_0x16ee15=_0x3f8b6a(0x6c7);break;}let _0x3ad685='';const _0x35d9fa={'day':_0x3f8b6a(0x27c),'month':_0x3f8b6a(0x27c),'year':_0x3f8b6a(0x4a4),'hour':'2-digit','minute':_0x3f8b6a(0x27c),'hour12':![]};if(_0x4ff2a2==='scheduled'){if(_0x5c6994[_0x3f8b6a(0xb1c)])_0x3ad685+=_0x3f8b6a(0x999)+new Date(_0x5c6994[_0x3f8b6a(0xb1c)])[_0x3f8b6a(0x5ac)](_0x3f8b6a(0x668),_0x35d9fa)+_0x3f8b6a(0x6fa);if(_0x5c6994[_0x3f8b6a(0x6b1)])_0x3ad685+='<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20'+new Date(_0x5c6994[_0x3f8b6a(0x6b1)])[_0x3f8b6a(0x5ac)](_0x3f8b6a(0x668),_0x35d9fa)+_0x3f8b6a(0x6fa);}let _0x243cd6='';if(_0x5c6994[_0x3f8b6a(0xac7)]){const _0x117d28=allQuizzes['find'](_0x4959c=>_0x4959c['id']===_0x5c6994[_0x3f8b6a(0xac7)]);if(_0x117d28){let _0xe6b265,_0x5bf09a;new Date(_0x5c6994[_0x3f8b6a(0x7a0)])<new Date(_0x117d28[_0x3f8b6a(0x7a0)])?(_0xe6b265=_0x5c6994['id'],_0x5bf09a=_0x117d28['id']):(_0xe6b265=_0x117d28['id'],_0x5bf09a=_0x5c6994['id']),_0x243cd6+=_0x3f8b6a(0x9be)+_0x5bf09a+_0x3f8b6a(0x8aa)+_0xe6b265+_0x3f8b6a(0x953);}}else _0x5c6994[_0x3f8b6a(0x837)]===_0x3f8b6a(0x924)&&(_0x243cd6+=_0x3f8b6a(0x362)+_0x5c6994['id']+'\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');if(_0x5c6994[_0x3f8b6a(0x837)]===_0x3f8b6a(0x924)&&_0xf44543>0x0)_0x243cd6+=_0x3f8b6a(0x362)+_0x5c6994['id']+_0x3f8b6a(0x6ef);else!_0x5c6994[_0x3f8b6a(0xac7)]&&_0x5c6994[_0x3f8b6a(0x837)]!==_0x3f8b6a(0x924)&&_0xf44543>0x0&&(_0x243cd6+=_0x3f8b6a(0x362)+_0x5c6994['id']+_0x3f8b6a(0xa42));let _0x437b48='';_0x5c6994[_0x3f8b6a(0xac7)]?_0x437b48='<button\x20data-quiz-id=\x22'+_0x5c6994['id']+'\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>':_0x437b48=_0x3f8b6a(0x89d)+_0x5c6994['id']+_0x3f8b6a(0x208),_0x457b9f+=_0x3f8b6a(0x962)+_0x5c6994['id']+_0x3f8b6a(0x7da)+_0x5c6994[_0x3f8b6a(0x53e)]+_0x3f8b6a(0x50a)+_0x5c6994[_0x3f8b6a(0x313)]['length']+'\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20'+new Date(_0x5c6994[_0x3f8b6a(0x7a0)])[_0x3f8b6a(0x5ac)]('th-TH')+_0x3f8b6a(0x82e)+_0xf44543+_0x3f8b6a(0x509)+_0x3ad685+_0x3f8b6a(0x658)+_0x16ee15+'\x22>'+_0x878f30+_0x3f8b6a(0x858)+_0x5c6994['id']+_0x3f8b6a(0x445)+_0x5c6994['id']+_0x3f8b6a(0x579)+(_0x5c6994['isStarred']?_0x3f8b6a(0x627):_0x3f8b6a(0x5b1))+_0x3f8b6a(0x59b)+_0x243cd6+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x5c6994['id']+_0x3f8b6a(0x6ba)+_0x5c6994['id']+'\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x5c6994['id']+'\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x5c6994['id']+'\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x5c6994['id']+_0x3f8b6a(0x365)+_0x5c6994['id']+_0x3f8b6a(0x8ad)+_0x5c6994['id']+_0x3f8b6a(0x38f)+_0x5c6994[_0x3f8b6a(0x53e)]+'\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x5c6994['id']+'\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x5c6994['id']+_0x3f8b6a(0xa4f)+_0x437b48+_0x3f8b6a(0x5af)+_0x5c6994['id']+_0x3f8b6a(0xb18)+_0x5c6994['id']+'\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x5c6994['id']+_0x3f8b6a(0x875)+_0x5c6994['id']+'\x22\x20data-mode=\x22team\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x22></i>\x20Team\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x5c6994['id']+'\x22\x20data-mode=\x22group\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x22></i>\x20Group\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x5c6994['id']+_0x3f8b6a(0xa8d)+_0x5c6994['id']+_0x3f8b6a(0x329)+_0x5c6994['id']+_0x3f8b6a(0x38f)+_0x5c6994[_0x3f8b6a(0x53e)]+_0x3f8b6a(0x3c0)+_0x5c6994['id']+_0x3f8b6a(0x87a);}),_0xe6becc[_0x2e07b3(0x993)]=_0x457b9f,document['querySelectorAll'](_0x2e07b3(0x9cd))[_0x2e07b3(0x394)](_0xddbd25=>{const _0x331cf3=_0x2e07b3;_0xddbd25[_0x331cf3(0x78c)](_0x331cf3(0x382),()=>{const _0x4146e5=_0x331cf3,_0x2b5c37=_0xddbd25[_0x4146e5(0x896)][_0x4146e5(0x79c)];showQuizDetailView(_0x2b5c37);});});}async function handleUnpairQuiz(_0x3a0b5e){const _0x8a255b=_0x5b6af5,_0x286870=allQuizzes[_0x8a255b(0xa93)](_0x6b989f=>_0x6b989f['id']===_0x3a0b5e);if(!_0x286870||!_0x286870[_0x8a255b(0xac7)]){showMessage('ไม่พบข้อมูลการจับคู่');return;}showConfirmation(_0x8a255b(0xa12),async()=>{const _0x49a5df=_0x8a255b;try{const _0x29dae4=doc(db,_0x49a5df(0x58b)+appId+'/public/data/quizzes',_0x3a0b5e),_0x4acfe2=doc(db,_0x49a5df(0x58b)+appId+_0x49a5df(0xaca),_0x286870['pairedQuizId']),_0x3d490f=writeBatch(db);_0x3d490f[_0x49a5df(0x302)](_0x29dae4,{'pairedQuizId':null}),_0x3d490f[_0x49a5df(0x302)](_0x4acfe2,{'pairedQuizId':null}),await _0x3d490f['commit'](),showMessage(_0x49a5df(0x545));}catch(_0x5f318e){console['error'](_0x49a5df(0x719),_0x5f318e),showMessage(_0x49a5df(0x738));}});}function formatAndPrintLessonPlan(_0x434fdf,_0x3aff71){const _0x3b98a3=_0x5b6af5,_0x4d1590=window[_0x3b98a3(0xa8b)]('','_blank'),_0x3a49c8=_0x3b98a3(0xb02)+_0x3aff71[_0x3b98a3(0x53e)]+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20'+_0x3aff71[_0x3b98a3(0x53e)]+_0x3b98a3(0x895)+_0x434fdf['learningGaps'][_0x3b98a3(0xa7a)](_0x75b6b=>'<li>'+_0x75b6b+_0x3b98a3(0x359))[_0x3b98a3(0x8c0)]('')+_0x3b98a3(0xa5f)+_0x434fdf[_0x3b98a3(0x792)]+_0x3b98a3(0x56c)+_0x434fdf['practiceProblems'][_0x3b98a3(0xa7a)](_0x48da5b=>_0x3b98a3(0x496)+_0x48da5b[_0x3b98a3(0x406)]+_0x3b98a3(0xa75)+_0x48da5b['solution']+_0x3b98a3(0x791))[_0x3b98a3(0x8c0)]('')+_0x3b98a3(0x4b8);_0x4d1590[_0x3b98a3(0x99b)][_0x3b98a3(0x2a6)](_0x3a49c8),_0x4d1590[_0x3b98a3(0x99b)]['close'](),_0x4d1590[_0x3b98a3(0x210)]=function(){setTimeout(()=>{const _0x742125=_0x2b61;_0x4d1590[_0x742125(0x5f1)]();},0x3e8);};}async function handleAiFixFormula(_0x280980){const _0x3fc52b=_0x5b6af5,_0x2b3d1d=document[_0x3fc52b(0x3f9)](_0x3fc52b(0x2fb)+_0x280980+'\x22]');if(!_0x2b3d1d)return;const _0x2db9f5=_0x2b3d1d[_0x3fc52b(0x896)][_0x3fc52b(0x928)],_0xd4ed00=_0x2b3d1d[_0x3fc52b(0x3f9)](_0x3fc52b(0x94b));let _0x59437e={'question':_0x2b3d1d[_0x3fc52b(0x3f9)](_0x3fc52b(0x650))[_0x3fc52b(0x3e2)]};switch(_0x2db9f5){case'multiple_choice':_0x59437e[_0x3fc52b(0x6c3)]=Array[_0x3fc52b(0x918)](_0x2b3d1d[_0x3fc52b(0x502)]('input[type=\x22text\x22]'))[_0x3fc52b(0xa7a)](_0x396d3d=>_0x396d3d['value']);break;case _0x3fc52b(0xa9e):_0x59437e[_0x3fc52b(0x7b3)]=_0x2b3d1d[_0x3fc52b(0x3f9)](_0x3fc52b(0x89a))[_0x3fc52b(0x3e2)];break;case _0x3fc52b(0x917):_0x59437e[_0x3fc52b(0x2e3)]=_0x2b3d1d[_0x3fc52b(0x3f9)](_0x3fc52b(0x2b6))[_0x3fc52b(0x3e2)];break;}_0xd4ed00[_0x3fc52b(0x993)]=_0x3fc52b(0x79a),_0xd4ed00[_0x3fc52b(0x204)]=!![];try{const _0x311714=_0x3fc52b(0x3ec)+JSON[_0x3fc52b(0x617)](_0x59437e)+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x20ซึ่งภายในมีโครงสร้างและข้อมูลเหมือนกับที่ได้รับ\x20แต่เป็นเวอร์ชันที่แก้ไขโค้ด\x20LaTeX\x20แล้วเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x254929={'type':'OBJECT','properties':{'fixedData':{'type':_0x3fc52b(0xa0a),'properties':{'question':{'type':_0x3fc52b(0x864)},'options':{'type':_0x3fc52b(0x805),'items':{'type':_0x3fc52b(0x864)}},'idealAnswer':{'type':_0x3fc52b(0x864)},'correctResponse':{'type':_0x3fc52b(0x864)}},'required':['question']}},'required':[_0x3fc52b(0x53a)]},_0x5469d3=await callAnalysisApi(_0x311714,_0x254929);if(_0x5469d3&&_0x5469d3[_0x3fc52b(0x53a)]){const _0x1a92bd=_0x5469d3[_0x3fc52b(0x53a)];_0x2b3d1d[_0x3fc52b(0x3f9)](_0x3fc52b(0x650))[_0x3fc52b(0x3e2)]=_0x1a92bd[_0x3fc52b(0x406)]||_0x59437e[_0x3fc52b(0x406)];switch(_0x2db9f5){case _0x3fc52b(0x40c):_0x1a92bd[_0x3fc52b(0x6c3)]&&_0x1a92bd[_0x3fc52b(0x6c3)][_0x3fc52b(0x326)]>0x0&&_0x2b3d1d[_0x3fc52b(0x502)](_0x3fc52b(0x8e7))[_0x3fc52b(0x394)]((_0x26b8d3,_0x45a440)=>{const _0x4b79e5=_0x3fc52b;_0x26b8d3[_0x4b79e5(0x3e2)]=_0x1a92bd[_0x4b79e5(0x6c3)][_0x45a440]||_0x59437e[_0x4b79e5(0x6c3)][_0x45a440];});break;case _0x3fc52b(0xa9e):_0x2b3d1d[_0x3fc52b(0x3f9)](_0x3fc52b(0x89a))['value']=_0x1a92bd[_0x3fc52b(0x7b3)]||_0x59437e[_0x3fc52b(0x7b3)];break;case _0x3fc52b(0x917):_0x2b3d1d[_0x3fc52b(0x3f9)](_0x3fc52b(0x2b6))[_0x3fc52b(0x3e2)]=_0x1a92bd[_0x3fc52b(0x2e3)]||_0x59437e['correctResponse'];break;}if(_0x59437e[_0x3fc52b(0x406)]!==_0x1a92bd['question'])try{const _0x29cc65=collection(db,_0x3fc52b(0x58b)+appId+'/public/data/learnedFixes');await addDoc(_0x29cc65,{'broken':_0x59437e[_0x3fc52b(0x406)],'fixed':_0x1a92bd['question'],'createdAt':serverTimestamp()});}catch(_0x353e0f){console[_0x3fc52b(0x581)]('ไม่สามารถบันทึกรูปแบบการแก้ไขได้:',_0x353e0f);}showMessage(_0x3fc52b(0x8cc));}else throw new Error('AI\x20ไม่สามารถประมวลผลข้อมูลได้');}catch(_0x32481f){console[_0x3fc52b(0x581)](_0x3fc52b(0x816),_0x32481f),showMessage(_0x3fc52b(0x54b));}finally{_0xd4ed00['innerHTML']=_0x3fc52b(0x42e),_0xd4ed00[_0x3fc52b(0x204)]=![];}}async function handleGenerateLessonPlan(_0x1d63dd){const _0x234e3a=_0x5b6af5;showMessage(_0x234e3a(0x1fb));try{const _0x4b8e41=doc(db,_0x234e3a(0x58b)+appId+_0x234e3a(0xaca),_0x1d63dd),_0x31d660=await getDoc(_0x4b8e41);if(!_0x31d660[_0x234e3a(0xa76)]())throw new Error('ไม่พบข้อมูลแบบทดสอบ');const _0x5df557={'id':_0x1d63dd,..._0x31d660[_0x234e3a(0x266)]()},_0x59f72c=collection(db,_0x234e3a(0x58b)+appId+_0x234e3a(0xaca),_0x1d63dd,_0x234e3a(0x872)),_0x3a2613=await getDocs(_0x59f72c),_0x246255=_0x3a2613[_0x234e3a(0xa18)]['map'](_0x92e40e=>_0x92e40e[_0x234e3a(0x266)]());if(_0x246255['length']===0x0)throw new Error(_0x234e3a(0x9bb));const _0x704688=calculateItemAnalysis(_0x5df557,_0x246255)[_0x234e3a(0x6cd)],_0x5de92f=calculateDistractorAnalysis(_0x5df557,_0x246255),_0x3b2eab=_0x26ab6b=>{const _0xe60d0e=_0x234e3a;if(!_0x26ab6b)return'';return _0x26ab6b[_0xe60d0e(0x6c2)](/\\/g,'\x5c\x5c')[_0xe60d0e(0x6c2)](/"/g,'\x5c\x22')[_0xe60d0e(0x6c2)](/\n/g,'\x5cn');};let _0xe981e0=_0x234e3a(0x8a4);_0x5df557[_0x234e3a(0x313)][_0x234e3a(0x394)]((_0x1d27ff,_0x275d56)=>{const _0x934b44=_0x234e3a,_0x506ddf=_0x704688[_0x275d56]?.['p'][_0x934b44(0x7ae)](0x2)||'N/A',_0x1257ef=_0x704688[_0x275d56]?.['r'][_0x934b44(0x7ae)](0x2)||_0x934b44(0x8f6),_0x96b39b=_0x3b2eab(_0x1d27ff[_0x934b44(0x7a4)]||_0x1d27ff['stem']);_0xe981e0+=_0x934b44(0x81e)+(_0x275d56+0x1)+_0x934b44(0x666)+_0x506ddf+',\x20r='+_0x1257ef+'):\x20'+_0x96b39b+'\x5cn';if(_0x1d27ff[_0x934b44(0xb01)]===_0x934b44(0x40c)&&_0x5de92f[_0x275d56]){const _0x59bf09=_0x5de92f[_0x275d56],_0x426939=Object[_0x934b44(0x593)](_0x59bf09)[_0x934b44(0x5e3)](_0xa51d17=>parseInt(_0xa51d17)!==_0x1d27ff[_0x934b44(0x859)])[_0x934b44(0xaa5)]((_0x27fad3,_0x57f8f2)=>_0x59bf09[_0x57f8f2][_0x934b44(0x3e8)]-_0x59bf09[_0x27fad3][_0x934b44(0x3e8)])[0x0];if(_0x426939&&_0x59bf09[_0x426939]['total']>0x0){const _0x13bb60=_0x3b2eab(_0x59bf09[_0x426939]['text']);_0xe981e0+=_0x934b44(0x640)+_0x13bb60+_0x934b44(0x438);}}});const _0x14c3cc=_0x234e3a(0x6ee)+_0x5df557[_0x234e3a(0x53e)]+_0x234e3a(0x47f)+_0xe981e0+_0x234e3a(0x249),_0x1feba7={'type':_0x234e3a(0xa0a),'properties':{'learningGaps':{'type':_0x234e3a(0x805),'items':{'type':_0x234e3a(0x864)}},'teachingContent':{'type':_0x234e3a(0x864)},'practiceProblems':{'type':_0x234e3a(0x805),'items':{'type':_0x234e3a(0xa0a),'properties':{'question':{'type':_0x234e3a(0x864)},'solution':{'type':_0x234e3a(0x864)}}}}},'required':[_0x234e3a(0x43b),'teachingContent',_0x234e3a(0x460)]},_0x50b508=await callAnalysisApi(_0x14c3cc,_0x1feba7);await updateDoc(_0x4b8e41,{'lessonPlan':_0x50b508});const _0x25d4f1=_0x234e3a(0xb0d)+_0x5df557['topic']+_0x234e3a(0x970)+_0x50b508[_0x234e3a(0x43b)][_0x234e3a(0xa7a)](_0x512350=>'<li>'+_0x512350+_0x234e3a(0x359))[_0x234e3a(0x8c0)]('')+_0x234e3a(0x952)+_0x50b508[_0x234e3a(0x792)]+_0x234e3a(0x62e)+_0x50b508['practiceProblems']['map'](_0x32f3cb=>_0x234e3a(0x1dd)+_0x32f3cb[_0x234e3a(0x406)]+'</p><p><strong>เฉลย:</strong>\x20'+_0x32f3cb['solution']+_0x234e3a(0x1e6))[_0x234e3a(0x8c0)]('')+_0x234e3a(0x6d7);document[_0x234e3a(0x318)](_0x234e3a(0xa91))['textContent']='แผนการสอน:\x20'+_0x5df557[_0x234e3a(0x53e)],document[_0x234e3a(0x318)]('lesson-plan-content')[_0x234e3a(0x993)]=_0x25d4f1,document[_0x234e3a(0x318)](_0x234e3a(0x6f2))[_0x234e3a(0x821)][_0x234e3a(0x981)]('hidden');if(window[_0x234e3a(0x2c3)])MathJax[_0x234e3a(0x4f5)]();messageModal[_0x234e3a(0x821)][_0x234e3a(0x231)](_0x234e3a(0x8be));}catch(_0x106597){console[_0x234e3a(0x581)](_0x234e3a(0x921),_0x106597),showMessage(_0x234e3a(0x431)+_0x106597[_0x234e3a(0x8a6)]);}}async function handleDuplicateQuiz(_0x748914){const _0x3e8e7d=_0x5b6af5;try{const _0x1a9880=doc(db,'artifacts/'+appId+_0x3e8e7d(0xaca),_0x748914),_0x4cacc9=await getDoc(_0x1a9880);if(_0x4cacc9[_0x3e8e7d(0xa76)]()){const _0x121118=_0x4cacc9[_0x3e8e7d(0x266)]();let _0xd5b6dd='',_0xbd323b=_0x3e8e7d(0x229),_0x989300=null;if(_0x121118[_0x3e8e7d(0x837)]===_0x3e8e7d(0x924)){let _0x32a025=_0x121118[_0x3e8e7d(0x53e)][_0x3e8e7d(0x6c2)](_0x3e8e7d(0x5ce),'')[_0x3e8e7d(0x442)]();_0xd5b6dd=_0x3e8e7d(0x89f)+_0x32a025,_0xbd323b='post-test',_0x989300=_0x748914;}else _0xd5b6dd=_0x3e8e7d(0x569)+_0x121118[_0x3e8e7d(0x53e)];const _0x195b01={..._0x121118,'topic':_0xd5b6dd,'createdAt':new Date()['toISOString'](),'quizMode':_0xbd323b,'pairedQuizId':_0x989300};let _0x2eb2b7;while(!![]){_0x2eb2b7=Math[_0x3e8e7d(0x957)](0x3e8+Math[_0x3e8e7d(0x8f7)]()*0x2328)[_0x3e8e7d(0x742)]();const _0x41188a=await getDoc(doc(db,'artifacts/'+appId+_0x3e8e7d(0xaca),_0x2eb2b7));if(!_0x41188a[_0x3e8e7d(0xa76)]())break;}const _0x5c1181=doc(db,_0x3e8e7d(0x58b)+appId+'/public/data/quizzes',_0x2eb2b7);await setDoc(_0x5c1181,_0x195b01),_0x195b01[_0x3e8e7d(0x837)]===_0x3e8e7d(0x636)&&await updateDoc(_0x1a9880,{'pairedQuizId':_0x2eb2b7}),showMessage(_0x3e8e7d(0x3d2));}else throw new Error(_0x3e8e7d(0x9fb));}catch(_0x2dad14){console['error'](_0x3e8e7d(0xafc),_0x2dad14),showMessage(_0x3e8e7d(0x749));}}async function handleDeleteQuiz(_0x5c4d3e,_0x10e0ec=!![]){const _0x48d448=_0x5b6af5;try{const _0x14518b=writeBatch(db),_0x1f4213=collection(db,_0x48d448(0x58b)+appId+_0x48d448(0x39f)+_0x5c4d3e+_0x48d448(0x7f2)),_0x19f484=await getDocs(_0x1f4213);_0x19f484[_0x48d448(0x394)](_0x1540f0=>{const _0x35a99c=_0x48d448;_0x14518b[_0x35a99c(0x9b7)](doc(_0x1f4213,_0x1540f0['id']));});const _0x2a96e1=doc(db,_0x48d448(0x58b)+appId+_0x48d448(0xaca),_0x5c4d3e);_0x14518b[_0x48d448(0x9b7)](_0x2a96e1),await _0x14518b[_0x48d448(0x991)](),_0x10e0ec&&showMessage('ลบแบบทดสอบสำเร็จแล้ว');}catch(_0x441bb9){console['error'](_0x48d448(0x44a),_0x441bb9),_0x10e0ec&&showMessage('เกิดข้อผิดพลาดในการลบแบบทดสอบ');}}async function showQuizDetailView(_0xcab47a){const _0x5711ba=_0x5b6af5;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0x5711ba(0x73c));try{const _0x1b3a23=doc(db,_0x5711ba(0x58b)+appId+_0x5711ba(0xaca),_0xcab47a),_0x18baa6=await getDoc(_0x1b3a23);if(!_0x18baa6[_0x5711ba(0xa76)]()){showMessage(_0x5711ba(0x1f2));return;}const _0x10b11f={'id':_0x18baa6['id'],..._0x18baa6[_0x5711ba(0x266)]()};currentQuizData=_0x10b11f;const _0x421ffd=doc(db,'artifacts/'+appId+'/public/data/projects',_0x10b11f[_0x5711ba(0x1f9)]),_0x231818=await getDoc(_0x421ffd);_0x231818[_0x5711ba(0xa76)]()?(currentProjectData=_0x231818['data'](),currentProjectId=_0x10b11f[_0x5711ba(0x1f9)]):(currentProjectData={'students':[]},currentProjectId=_0x10b11f[_0x5711ba(0x1f9)]);document[_0x5711ba(0x318)](_0x5711ba(0xae0))[_0x5711ba(0x950)]=_0x10b11f['topic'],document[_0x5711ba(0x318)](_0x5711ba(0x61b))[_0x5711ba(0x950)]=_0xcab47a;const _0x474654=collection(db,'artifacts/'+appId+_0x5711ba(0xaca),_0xcab47a,'submissions');unsubscribeSubmissionsListener=onSnapshot(_0x474654,_0x3125e3=>{const _0x2b0d72=_0x5711ba,_0x194c6a=_0x3125e3[_0x2b0d72(0xa18)][_0x2b0d72(0xa7a)](_0x5207a5=>({'id':_0x5207a5['id'],..._0x5207a5[_0x2b0d72(0x266)]()}));currentSubmissions=_0x194c6a;const _0x29e5b6=_0x194c6a['filter'](_0x114ef8=>_0x114ef8[_0x2b0d72(0x49a)]&&_0x114ef8[_0x2b0d72(0x49a)][_0x2b0d72(0x326)]>0x0);renderBehaviorLog(_0x194c6a),renderAnswerGrid(currentProjectData[_0x2b0d72(0x938)],_0x29e5b6,_0x10b11f),renderAnalytics(_0x10b11f,_0x29e5b6),renderQuizResultsTable(currentProjectData[_0x2b0d72(0x938)],_0x194c6a,_0x10b11f),renderQuizLeaderboard(_0x29e5b6,_0x10b11f,_0x2b0d72(0x9ac));}),showView(_0x5711ba(0x72a));}catch(_0x1a714d){console[_0x5711ba(0x581)](_0x5711ba(0x39a),_0x1a714d),showMessage(_0x5711ba(0x38a));}}function renderAnswerGrid(_0x3ad0b7,_0x4c50a1,_0xac1fb1){const _0x4328ec=_0x5b6af5,_0x568b35=document[_0x4328ec(0x318)](_0x4328ec(0x7a5));if(!_0x568b35)return;if(!_0x3ad0b7||_0x3ad0b7[_0x4328ec(0x326)]===0x0){_0x568b35[_0x4328ec(0x993)]=_0x4328ec(0x60d);return;}const _0x2588f8=_0xac1fb1['questions'],_0x51310d=_0x4c50a1[_0x4328ec(0xa97)]((_0x4a55ff,_0x2b8095)=>{const _0x439271=_0x4328ec;return _0x4a55ff[_0x2b8095[_0x439271(0x8cb)]]=_0x2b8095,_0x4a55ff;},{}),_0x4fd68a=_0x474415=>String[_0x4328ec(0x968)](0x41+_0x474415),_0x4b357c=_0x4e7e7b=>{const _0x31a5c9=_0x4328ec,_0x1bc458=_0x4e7e7b[_0x31a5c9(0xb01)]||_0xac1fb1[_0x31a5c9(0x7ed)];switch(_0x1bc458){case _0x31a5c9(0x40c):return _0x4e7e7b[_0x31a5c9(0x6c3)]&&_0x4e7e7b[_0x31a5c9(0x6c3)]['length']>_0x4e7e7b['correctAnswerIndex']?_0x4fd68a(_0x4e7e7b['correctAnswerIndex']):'-';case _0x31a5c9(0x8d0):return _0x4e7e7b[_0x31a5c9(0x86a)]?_0x31a5c9(0xb00):_0x31a5c9(0x942);case'matching_item':return _0x4e7e7b[_0x31a5c9(0x2e3)]||'-';case _0x31a5c9(0xa9e):return _0x31a5c9(0x911);default:return'-';}},_0x29c5a4=(_0x529dff,_0xf0ad96)=>{const _0x2c8fc0=_0x4328ec;if(_0xf0ad96[_0x2c8fc0(0x520)]===null||_0xf0ad96[_0x2c8fc0(0x520)]===undefined)return'-';const _0x1632af=_0x529dff[_0x2c8fc0(0xb01)]||_0xac1fb1[_0x2c8fc0(0x7ed)];switch(_0x1632af){case _0x2c8fc0(0x40c):const _0x31c78b=_0x529dff['options'][_0x2c8fc0(0x585)](_0x439d1a=>_0x439d1a===_0xf0ad96[_0x2c8fc0(0x42c)]);return _0x31c78b!==-0x1?_0x4fd68a(_0x31c78b):_0xf0ad96[_0x2c8fc0(0x42c)]||'-';case _0x2c8fc0(0x8d0):return _0xf0ad96['answer']===_0x2c8fc0(0x2a4)||_0xf0ad96[_0x2c8fc0(0x520)]===!![]?_0x2c8fc0(0xb00):'ไม่ใช่';default:return _0xf0ad96[_0x2c8fc0(0x520)];}};let _0x56fa7f=_0x4328ec(0x663)+_0x2588f8[_0x4328ec(0xa7a)]((_0x29afee,_0x53083e)=>_0x4328ec(0x426)+(_0x53083e+0x1)+_0x4328ec(0x497))[_0x4328ec(0x8c0)]('')+_0x4328ec(0x455)+_0x2588f8[_0x4328ec(0xa7a)](_0x261b83=>_0x4328ec(0x415)+_0x4b357c(_0x261b83)+_0x4328ec(0x68d))[_0x4328ec(0x8c0)]('')+_0x4328ec(0x2b2);_0x3ad0b7[_0x4328ec(0x394)](_0xd024bf=>{const _0xdac04d=_0x4328ec;_0x56fa7f+=_0xdac04d(0x562),_0x56fa7f+=_0xdac04d(0x732)+_0xd024bf+'</td>';const _0xc71016=_0x51310d[_0xd024bf];if(_0xc71016){const _0x49a4cb=_0xc71016[_0xdac04d(0x49a)][_0xc71016[_0xdac04d(0x49a)][_0xdac04d(0x326)]-0x1];_0x2588f8['forEach']((_0x2d0bcf,_0x4c4fe0)=>{const _0x572640=_0xdac04d,_0x1ef23e=_0x49a4cb[_0x572640(0x739)][_0x572640(0xa93)](_0x5a992d=>_0x5a992d[_0x572640(0x97a)]===_0x2d0bcf['id']);if(_0x1ef23e){let _0x4a7561=![];const _0x3180b9=_0x2d0bcf[_0x572640(0xb01)]||_0xac1fb1[_0x572640(0x7ed)];if(_0x1ef23e[_0x572640(0x520)]!==null&&_0x1ef23e[_0x572640(0x520)]!==undefined)switch(_0x3180b9){case _0x572640(0x40c):const _0x3d9019=_0x2d0bcf[_0x572640(0x6c3)][_0x2d0bcf[_0x572640(0x859)]];_0x4a7561=_0x1ef23e[_0x572640(0x42c)]===_0x3d9019;break;case _0x572640(0x8d0):const _0x507bf3=_0x1ef23e[_0x572640(0x520)]===!![]||_0x1ef23e[_0x572640(0x520)]===_0x572640(0x2a4);_0x4a7561=_0x507bf3===_0x2d0bcf[_0x572640(0x86a)];break;case'matching_item':_0x4a7561=_0x1ef23e[_0x572640(0x520)]===_0x2d0bcf[_0x572640(0x2e3)];break;default:_0x4a7561=_0x1ef23e[_0x572640(0x64c)];break;}const _0x498d9d=_0x4a7561?_0x572640(0x84a):_0x572640(0x90b);_0x56fa7f+=_0x572640(0x98e)+_0x498d9d+'\x22>'+_0x29c5a4(_0x2d0bcf,_0x1ef23e)+_0x572640(0x68d);}else _0x56fa7f+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>';});}else _0x56fa7f+=_0x2588f8[_0xdac04d(0xa7a)](()=>_0xdac04d(0x623))[_0xdac04d(0x8c0)]('');_0x56fa7f+=_0xdac04d(0x52c);}),_0x56fa7f+=_0x4328ec(0x424),_0x568b35['innerHTML']=_0x56fa7f;}function renderQuizResultsTable(_0x44004c,_0x5a36ef,_0x52ee3b){const _0x3113fc=_0x5b6af5,_0x5d4bdf=_0x5a36ef['reduce']((_0x23647d,_0x9a4b16)=>{const _0x2c3e0b=_0x2b61;return _0x23647d[_0x9a4b16[_0x2c3e0b(0x8cb)]]=_0x9a4b16,_0x23647d;},{}),_0x128d7c=document[_0x3113fc(0x3f9)]('#results-table\x20thead\x20tr');_0x128d7c&&!_0x128d7c['innerHTML']['includes'](_0x3113fc(0xa05))&&(_0x128d7c[_0x3113fc(0x993)]+=_0x3113fc(0x71e));const _0x1ccc65=document['getElementById'](_0x3113fc(0x66c));if(!_0x44004c||_0x44004c[_0x3113fc(0x326)]===0x0){_0x1ccc65[_0x3113fc(0x993)]=_0x3113fc(0x5bf);return;}const _0x1d2750=_0x52ee3b[_0x3113fc(0x493)]===!![],_0x368f12=_0x52ee3b[_0x3113fc(0x492)]?.[_0x3113fc(0x72c)]??-0x1;let _0x37543c='';_0x44004c['forEach'](_0x357801=>{const _0x3a0f44=_0x3113fc,_0x503289=_0x5d4bdf[_0x357801];let _0x589502=_0x3a0f44(0x33b)+(_0x1d2750?_0x3a0f44(0x9e3):_0x3a0f44(0x9af))+'\x22>'+(_0x1d2750?_0x3a0f44(0x59e):'สอบปกติ')+_0x3a0f44(0x98d);if(_0x503289){if(_0x503289['attempts']&&_0x503289[_0x3a0f44(0x49a)][_0x3a0f44(0x326)]>0x0){let _0x4c3ecb=_0x1d2750?_0x503289[_0x3a0f44(0x74c)]===_0x503289['totalQuestions']:_0x368f12!==-0x1&&_0x503289[_0x3a0f44(0x74c)]>=_0x368f12;const _0x39defe=_0x4c3ecb?_0x3a0f44(0x3d4):'bg-red-100\x20text-red-800',_0x1a46a1=_0x4c3ecb?_0x3a0f44(0xaaa):_0x3a0f44(0x52a),_0x40c24b=_0x3a0f44(0x929)+_0x39defe+'\x22>'+_0x1a46a1+_0x3a0f44(0x98d),_0x409236='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20('+(_0x503289['attempts']?.['length']||0x1)+_0x3a0f44(0x66f);_0x37543c+=_0x3a0f44(0x748)+_0x357801+_0x3a0f44(0x27a)+_0x503289['bestScore']+_0x3a0f44(0x682)+_0x503289[_0x3a0f44(0x550)]+_0x3a0f44(0x459)+_0x40c24b+_0x3a0f44(0x5da)+_0x589502+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>'+_0x503289['firstScore']+_0x3a0f44(0x682)+_0x503289[_0x3a0f44(0x550)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>'+_0x503289[_0x3a0f44(0x709)]+'\x20/\x20'+_0x503289['totalQuestions']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>'+(_0x503289['points']||0x0)+_0x3a0f44(0x459)+_0x409236+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>'+new Date(_0x503289[_0x3a0f44(0x937)])[_0x3a0f44(0x5ac)]('th-TH')+_0x3a0f44(0xa0b)+_0x357801+_0x3a0f44(0x3d3);}else{const _0x375f25=_0x3a0f44(0x845);_0x37543c+=_0x3a0f44(0x2c2)+_0x357801+_0x3a0f44(0x4b3)+_0x589502+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x375f25+_0x3a0f44(0x96c)+new Date(_0x503289[_0x3a0f44(0x9cb)])[_0x3a0f44(0x5ac)](_0x3a0f44(0x668))+_0x3a0f44(0x578)+_0x357801+_0x3a0f44(0x3d3);}}else{const _0x55c8ec=_0x3a0f44(0x48c);_0x37543c+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x357801+_0x3a0f44(0x9a6)+_0x589502+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x55c8ec+_0x3a0f44(0xaf3);}}),_0x1ccc65['innerHTML']=_0x37543c;}async function confirmRenameQuiz(){const _0x50fba8=_0x5b6af5,_0x443c43=document[_0x50fba8(0x318)](_0x50fba8(0x8b5))[_0x50fba8(0x3e2)]['trim']();if(!_0x443c43){showMessage(_0x50fba8(0x776));return;}if(!actionTargetId)return;const _0x1c7e94=doc(db,_0x50fba8(0x58b)+appId+_0x50fba8(0xaca),actionTargetId);try{await updateDoc(_0x1c7e94,{'topic':_0x443c43}),showMessage('เปลี่ยนชื่อแบบทดสอบสำเร็จ'),renameQuizModal[_0x50fba8(0x821)][_0x50fba8(0x231)](_0x50fba8(0x8be)),actionTargetId=null;}catch(_0x55034d){console['error'](_0x50fba8(0x6ea),_0x55034d),showMessage(_0x50fba8(0x423));}}async function handleMoveQuiz(_0x272864){const _0x5dbaef=_0x5b6af5;actionTargetId=_0x272864;const _0x2790b4=document['getElementById'](_0x5dbaef(0x4e5));_0x2790b4[_0x5dbaef(0x993)]=_0x5dbaef(0x3f4),moveQuizModal['classList']['remove'](_0x5dbaef(0x8be));try{const _0x54dc52=collection(db,_0x5dbaef(0x58b)+appId+_0x5dbaef(0x268)),_0x1c7a24=await getDocs(_0x54dc52),_0x10b9dc=_0x1c7a24[_0x5dbaef(0xa18)][_0x5dbaef(0xa7a)](_0x117374=>({'id':_0x117374['id'],..._0x117374[_0x5dbaef(0x266)]()})),_0x1d0559=_0x10b9dc[_0x5dbaef(0x5e3)](_0x3fc3f0=>_0x3fc3f0['id']!==currentProjectId);if(_0x1d0559[_0x5dbaef(0x326)]===0x0){_0x2790b4['innerHTML']='<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>',document['getElementById']('confirm-move-quiz-btn')[_0x5dbaef(0x204)]=!![];return;}_0x2790b4[_0x5dbaef(0x993)]=_0x1d0559['map'](_0x1a8081=>_0x5dbaef(0x6ed)+_0x1a8081['id']+'\x22>'+_0x1a8081[_0x5dbaef(0x368)]+_0x5dbaef(0x91e))[_0x5dbaef(0x8c0)](''),document['getElementById'](_0x5dbaef(0x763))['disabled']=![];}catch(_0x2706c4){console[_0x5dbaef(0x581)](_0x5dbaef(0x7d0),_0x2706c4),showMessage(_0x5dbaef(0x241)),moveQuizModal[_0x5dbaef(0x821)][_0x5dbaef(0x231)](_0x5dbaef(0x8be));}}async function confirmMoveQuiz(){const _0x28d303=_0x5b6af5,_0x352e73=document[_0x28d303(0x318)]('move-quiz-project-select')[_0x28d303(0x3e2)];if(!_0x352e73){showMessage(_0x28d303(0x9c0));return;}if(!actionTargetId)return;const _0x15a8de=doc(db,_0x28d303(0x58b)+appId+_0x28d303(0xaca),actionTargetId);try{await updateDoc(_0x15a8de,{'projectId':_0x352e73}),showMessage('ย้ายแบบทดสอบสำเร็จ'),moveQuizModal[_0x28d303(0x821)][_0x28d303(0x231)]('hidden'),actionTargetId=null;}catch(_0x161a3a){console[_0x28d303(0x581)](_0x28d303(0x39c),_0x161a3a),showMessage(_0x28d303(0xa40));}}async function handleQuizSettings(_0x107445){const _0x2bb2e0=_0x5b6af5;actionTargetId=_0x107445;const _0x12f1bc=doc(db,'artifacts/'+appId+_0x2bb2e0(0xaca),_0x107445);try{const _0x511f53=await getDoc(_0x12f1bc);if(_0x511f53['exists']()){const _0xf64239=_0x511f53[_0x2bb2e0(0x266)](),_0x51ec2b=_0xf64239['settings']||{},_0x4c48f0=_0xf64239[_0x2bb2e0(0x313)][_0x2bb2e0(0x326)];document[_0x2bb2e0(0x318)](_0x2bb2e0(0x3b5))[_0x2bb2e0(0x3e2)]=_0x51ec2b[_0x2bb2e0(0x7dd)]||'none',document[_0x2bb2e0(0x318)]('modal-results-display-select')[_0x2bb2e0(0x3e2)]=_0x51ec2b[_0x2bb2e0(0x26c)]||'show_results_and_answers',document['getElementById'](_0x2bb2e0(0x931))[_0x2bb2e0(0x3e2)]=_0x51ec2b[_0x2bb2e0(0xa36)]||'none',document[_0x2bb2e0(0x318)](_0x2bb2e0(0x39b))[_0x2bb2e0(0x3e2)]=_0x51ec2b[_0x2bb2e0(0x51f)]||0xa,document[_0x2bb2e0(0x318)](_0x2bb2e0(0x784))['value']=_0x51ec2b[_0x2bb2e0(0x72c)]||Math['floor'](_0x4c48f0/0x2),document[_0x2bb2e0(0x318)]('modal-passing-score-input')[_0x2bb2e0(0x481)]=_0x4c48f0,document['getElementById'](_0x2bb2e0(0x7d6))[_0x2bb2e0(0x82f)]=_0x51ec2b[_0x2bb2e0(0x55c)]||![],document['getElementById'](_0x2bb2e0(0xa6d))[_0x2bb2e0(0x82f)]=_0x51ec2b['loopUntilPass']||![],document[_0x2bb2e0(0x318)]('modal-timer-mode-select')['dispatchEvent'](new Event('change')),quizSettingsModal[_0x2bb2e0(0x821)]['remove'](_0x2bb2e0(0x8be));}else showMessage(_0x2bb2e0(0x1f2));}catch(_0x209dea){console[_0x2bb2e0(0x581)](_0x2bb2e0(0x1e9),_0x209dea),showMessage(_0x2bb2e0(0x49f));}}async function confirmQuizSettings(){const _0x28f322=_0x5b6af5;if(!actionTargetId)return;const _0x3807bc=doc(db,_0x28f322(0x58b)+appId+'/public/data/quizzes',actionTargetId),_0x18b64b={'shuffle':document['getElementById'](_0x28f322(0x3b5))['value'],'resultsDisplay':document['getElementById'](_0x28f322(0x38c))[_0x28f322(0x3e2)],'timerMode':document[_0x28f322(0x318)](_0x28f322(0x931))[_0x28f322(0x3e2)],'timerDuration':parseInt(document[_0x28f322(0x318)](_0x28f322(0x39b))[_0x28f322(0x3e2)])||0xa,'passingScore':parseInt(document[_0x28f322(0x318)](_0x28f322(0x784))[_0x28f322(0x3e2)])||0x0,'passingScore':parseInt(document[_0x28f322(0x318)](_0x28f322(0x784))['value'])||0x0,'isAdaptive':document[_0x28f322(0x318)](_0x28f322(0x7d6))[_0x28f322(0x82f)],'loopUntilPass':document[_0x28f322(0x318)](_0x28f322(0xa6d))[_0x28f322(0x82f)]};try{await updateDoc(_0x3807bc,{'settings':_0x18b64b}),showMessage(_0x28f322(0x463)),quizSettingsModal[_0x28f322(0x821)][_0x28f322(0x231)](_0x28f322(0x8be)),actionTargetId=null;}catch(_0x2e6207){console[_0x28f322(0x581)](_0x28f322(0x3dd),_0x2e6207),showMessage(_0x28f322(0xb08));}}async function handleQuizStatus(_0x3a630c){const _0x3060d3=_0x5b6af5;actionTargetId=_0x3a630c;const _0x28ccc9=doc(db,_0x3060d3(0x58b)+appId+'/public/data/quizzes',_0x3a630c);try{const _0x14bd6c=await getDoc(_0x28ccc9);if(_0x14bd6c[_0x3060d3(0xa76)]()){const _0x363163=_0x14bd6c[_0x3060d3(0x266)](),_0x302c75=_0x363163[_0x3060d3(0x6d0)]||_0x3060d3(0x82a),_0x298685=document['getElementById'](_0x3060d3(0x413)),_0x40214d=document[_0x3060d3(0x318)](_0x3060d3(0x88a)),_0x5a0fce=document[_0x3060d3(0x318)]('quiz-schedule-end-container');let _0x50c279=_0x3060d3(0x39d)+(_0x302c75===_0x3060d3(0x82a)?_0x3060d3(0x82f):'')+_0x3060d3(0x61d)+(_0x302c75===_0x3060d3(0x592)?_0x3060d3(0x82f):'')+_0x3060d3(0x27e)+(_0x302c75==='scheduled'?_0x3060d3(0x82f):'')+'>\x20<label\x20for=\x22status-schedule\x22>ตั้งเวลาเปิด/ปิด\x20(Schedule)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';_0x298685[_0x3060d3(0x993)]=_0x50c279;const _0x37dc4c=_0x302c75===_0x3060d3(0x898);_0x40214d[_0x3060d3(0x821)]['toggle'](_0x3060d3(0x8be),!_0x37dc4c),_0x5a0fce[_0x3060d3(0x821)][_0x3060d3(0x4fe)](_0x3060d3(0x8be),!_0x37dc4c),document[_0x3060d3(0x318)](_0x3060d3(0xaa1))[_0x3060d3(0x3e2)]=_0x363163[_0x3060d3(0xb1c)]?_0x363163[_0x3060d3(0xb1c)][_0x3060d3(0x4c4)](0x0,0x10):'',document['getElementById'](_0x3060d3(0x3ff))[_0x3060d3(0x3e2)]=_0x363163[_0x3060d3(0x6b1)]?_0x363163[_0x3060d3(0x6b1)][_0x3060d3(0x4c4)](0x0,0x10):'',_0x298685['querySelectorAll'](_0x3060d3(0x482))[_0x3060d3(0x394)](_0x1daa04=>{const _0x5a8fde=_0x3060d3;_0x1daa04[_0x5a8fde(0x78c)](_0x5a8fde(0x87f),_0x1826fa=>{const _0x4c5bc9=_0x5a8fde,_0xc4d1cf=_0x1826fa[_0x4c5bc9(0xa81)]['value']===_0x4c5bc9(0x2bb);_0x40214d[_0x4c5bc9(0x821)][_0x4c5bc9(0x4fe)](_0x4c5bc9(0x8be),!_0xc4d1cf),_0x5a0fce[_0x4c5bc9(0x821)][_0x4c5bc9(0x4fe)](_0x4c5bc9(0x8be),!_0xc4d1cf);});}),quizStatusModal[_0x3060d3(0x821)]['remove']('hidden');}}catch(_0x55005f){console[_0x3060d3(0x581)](_0x3060d3(0x389),_0x55005f),showMessage(_0x3060d3(0xa4c));}}async function confirmQuizStatus(){const _0x38510b=_0x5b6af5;if(!actionTargetId)return;const _0x137663=doc(db,_0x38510b(0x58b)+appId+_0x38510b(0xaca),actionTargetId),_0x59073e=document[_0x38510b(0x3f9)](_0x38510b(0x5e9));if(!_0x59073e){showMessage(_0x38510b(0x6f4));return;}const _0x2d2232=_0x59073e['value'];let _0x46a121={};if(_0x2d2232===_0x38510b(0x82a)||_0x2d2232===_0x38510b(0x592))_0x46a121={'status':_0x2d2232,'startTime':null,'endTime':null};else{if(_0x2d2232===_0x38510b(0x2bb)){const _0x567f05=document['getElementById']('quiz-start-time')['value'],_0x1f85a7=document[_0x38510b(0x318)]('quiz-end-time')[_0x38510b(0x3e2)];if(!_0x567f05&&!_0x1f85a7){showMessage(_0x38510b(0x8f2));return;}_0x46a121={'status':'scheduled','startTime':_0x567f05?new Date(_0x567f05)[_0x38510b(0x7db)]():null,'endTime':_0x1f85a7?new Date(_0x1f85a7)[_0x38510b(0x7db)]():null};}}try{await updateDoc(_0x137663,_0x46a121),showMessage('อัปเดตสถานะสำเร็จ'),quizStatusModal[_0x38510b(0x821)][_0x38510b(0x231)](_0x38510b(0x8be)),actionTargetId=null;}catch(_0x46cf62){console['error']('Error\x20updating\x20quiz\x20status:',_0x46cf62),showMessage(_0x38510b(0x5bb));}}function listenForStudentProfiles(_0x185847){const _0x295338=_0x5b6af5,_0x55f3bf=collection(db,_0x295338(0x58b)+appId+_0x295338(0x1f7)+_0x185847+_0x295338(0x24d));unsubscribeStudentProfilesListener=onSnapshot(_0x55f3bf,_0x50daf7=>{const _0x413624=_0x295338,_0x1e99c3=_0x50daf7[_0x413624(0xa18)]['map'](_0x38eeb2=>_0x38eeb2['data']());renderLeaderboard(_0x1e99c3,'leaderboard-table-body');},_0x1ea3c3=>{const _0x1ea0a3=_0x295338;console['error']('Error\x20listening\x20for\x20student\x20profiles:',_0x1ea3c3),document[_0x1ea0a3(0x318)](_0x1ea0a3(0x507))[_0x1ea0a3(0x993)]=_0x1ea0a3(0x6d4);});}function renderLeaderboard(_0x51a597,_0x584ebb){const _0x370fe1=_0x5b6af5,_0x3cec22=document['getElementById'](_0x584ebb);if(!_0x51a597||_0x51a597[_0x370fe1(0x326)]===0x0){_0x3cec22[_0x370fe1(0x993)]='<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>';return;}_0x51a597['sort']((_0x3d4cb1,_0x58f9dc)=>{const _0x1ef6b2=_0x370fe1,_0x1677f4=(_0x58f9dc[_0x1ef6b2(0x91a)]||0x0)-(_0x3d4cb1['totalPoints']||0x0);if(_0x1677f4!==0x0)return _0x1677f4;const _0x223bf9=(_0x58f9dc[_0x1ef6b2(0xb1e)]?.[_0x1ef6b2(0x97f)]||0x0)-(_0x3d4cb1[_0x1ef6b2(0xb1e)]?.['specialist']||0x0);if(_0x223bf9!==0x0)return _0x223bf9;const _0x282211=(_0x58f9dc[_0x1ef6b2(0xb1e)]?.[_0x1ef6b2(0x95f)]||0x0)-(_0x3d4cb1[_0x1ef6b2(0xb1e)]?.['first_try_ace']||0x0);if(_0x282211!==0x0)return _0x282211;const _0x49e94c=(_0x58f9dc['badgesCount']?.[_0x1ef6b2(0x4da)]||0x0)-(_0x3d4cb1['badgesCount']?.[_0x1ef6b2(0x4da)]||0x0);if(_0x49e94c!==0x0)return _0x49e94c;const _0x107333=(_0x58f9dc[_0x1ef6b2(0xb1e)]?.[_0x1ef6b2(0x256)]||0x0)-(_0x3d4cb1['badgesCount']?.[_0x1ef6b2(0x256)]||0x0);if(_0x107333!==0x0)return _0x107333;return _0x3d4cb1[_0x1ef6b2(0x8cb)]['localeCompare'](_0x58f9dc[_0x1ef6b2(0x8cb)],'th');});let _0x583896='';_0x51a597['forEach']((_0x2cf220,_0x18c445)=>{const _0x237482=_0x370fe1,_0x58b1cf=_0x18c445+0x1,_0x3fdaca=_0x2cf220['badgesCount']||{};let _0x45b2eb='';const _0x5189ac=[_0x237482(0x97f),_0x237482(0x4da),_0x237482(0x95f),_0x237482(0x256)];_0x5189ac['forEach'](_0x30029b=>{const _0x118e92=_0x237482;if(_0x3fdaca[_0x30029b]>0x0){const _0x56b719=Object[_0x118e92(0x6db)](BADGES)['find'](_0x327ee8=>_0x327ee8['id']===_0x30029b);_0x56b719&&(_0x30029b==='specialist'?_0x45b2eb+=_0x118e92(0x720)+_0x56b719[_0x118e92(0x59f)]+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0x56b719['icon']+_0x118e92(0x1ea):_0x45b2eb+=_0x118e92(0x720)+_0x56b719['name']+'\x20('+_0x3fdaca[_0x30029b]+_0x118e92(0x96a)+_0x56b719['icon']+_0x118e92(0x746)+_0x3fdaca[_0x30029b]+_0x118e92(0xae6));}}),_0x583896+=_0x237482(0x89c)+_0x58b1cf+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x2cf220[_0x237482(0x8cb)]+_0x237482(0x2d9)+(_0x2cf220[_0x237482(0x91a)]||0x0)+_0x237482(0x779)+(_0x45b2eb||'-')+_0x237482(0x9a8);}),_0x3cec22[_0x370fe1(0x993)]=_0x583896;}function displayLoopScreen(_0x28036d,_0x59e334,_0x34cad8){const _0xad088=_0x5b6af5;let _0x22f1a1='';_0x34cad8!=='show_pass_fail_only'&&(_0x22f1a1=_0xad088(0x25d)+_0x28036d+_0xad088(0x682)+_0x59e334+'</strong></p>');const _0x222578=_0xad088(0xa83)+_0x22f1a1+_0xad088(0x587);studentResultArea['innerHTML']=_0x222578,studentResultArea[_0xad088(0x821)][_0xad088(0x981)]('hidden'),studentQuizArea['classList'][_0xad088(0x231)](_0xad088(0x8be)),document[_0xad088(0x318)]('retake-quiz-loop-btn')[_0xad088(0x78c)]('click',()=>{const _0x21bc6b=_0xad088;studentResultArea[_0x21bc6b(0x821)][_0x21bc6b(0x231)](_0x21bc6b(0x8be)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x4cf607,_0x1a3a4b,_0x101888){const _0x21d3e3=_0x5b6af5,_0xa39f4f=document[_0x21d3e3(0x318)](_0x101888),_0x5d5c36=_0x101888==='student-quiz-leaderboard-table-body',_0x457d40=_0x1a3a4b[_0x21d3e3(0x313)][_0x21d3e3(0x326)],_0x1c3cfe=document[_0x21d3e3(0x318)](_0x101888)[_0x21d3e3(0x487)]('table');if(_0x1c3cfe&&!_0x5d5c36){const _0x1172ca=_0x1c3cfe['querySelector'](_0x21d3e3(0x2fc));_0x1172ca[_0x21d3e3(0x993)]=_0x21d3e3(0xa1d);}if(!_0x4cf607||_0x4cf607['length']===0x0){_0xa39f4f['innerHTML']=_0x21d3e3(0x684)+(_0x5d5c36?0x6:0x8)+_0x21d3e3(0x573);return;}const _0xefc12d=[..._0x4cf607];_0xefc12d[_0x21d3e3(0xaa5)]((_0x327b3c,_0x1e5349)=>{const _0xc30b44=_0x21d3e3;let _0x4bfe6d,_0x1e7742;switch(quizLeaderboardSortBy){case _0xc30b44(0x8cb):_0x4bfe6d=_0x327b3c[_0xc30b44(0x8cb)]||'',_0x1e7742=_0x1e5349[_0xc30b44(0x8cb)]||'';return quizLeaderboardSortOrder==='asc'?_0x4bfe6d[_0xc30b44(0x972)](_0x1e7742,'th'):_0x1e7742[_0xc30b44(0x972)](_0x4bfe6d,'th');case _0xc30b44(0x73b):_0x4bfe6d=_0x327b3c['points']||0x0,_0x1e7742=_0x1e5349[_0xc30b44(0x73b)]||0x0;break;case _0xc30b44(0x49a):_0x4bfe6d=_0x327b3c[_0xc30b44(0x49a)]?.[_0xc30b44(0x326)]||0x1,_0x1e7742=_0x1e5349['attempts']?.[_0xc30b44(0x326)]||0x1;break;case'latestSubmittedAt':_0x4bfe6d=new Date(_0x327b3c[_0xc30b44(0x937)]),_0x1e7742=new Date(_0x1e5349[_0xc30b44(0x937)]);break;case _0xc30b44(0x74c):default:_0x4bfe6d=_0x327b3c['bestScore'],_0x1e7742=_0x1e5349[_0xc30b44(0x74c)];break;}if(_0x4bfe6d<_0x1e7742)return quizLeaderboardSortOrder===_0xc30b44(0x3fb)?-0x1:0x1;if(_0x4bfe6d>_0x1e7742)return quizLeaderboardSortOrder===_0xc30b44(0x3fb)?0x1:-0x1;return 0x0;});const _0x3bbb85=_0x1a3a4b[_0x21d3e3(0x493)]===!![],_0x4de913=_0x1a3a4b['settings']?.['passingScore']??-0x1;let _0x3b8d97='';_0xefc12d['forEach']((_0x3eb238,_0x196e6e)=>{const _0x11e189=_0x21d3e3,_0x445bb0=_0x196e6e+0x1;let _0x1273be=_0x11e189(0x42d);if(_0x3bbb85||_0x4de913!==-0x1){let _0x42c909=_0x3bbb85?_0x3eb238[_0x11e189(0x74c)]===_0x457d40:_0x3eb238['bestScore']>=_0x4de913;const _0x435942=_0x42c909?_0x11e189(0x3d4):_0x11e189(0xaa3),_0x209b3d=_0x42c909?_0x11e189(0xaaa):'ไม่ผ่าน';_0x1273be=_0x11e189(0x6f5)+_0x435942+'\x22>'+_0x209b3d+_0x11e189(0x98d);}const _0x5c53e2=_0x3eb238[_0x11e189(0x49a)][_0x3eb238[_0x11e189(0x49a)][_0x11e189(0x326)]-0x1],_0x5a8f5e=(_0x5c53e2[_0x11e189(0x50f)]||[])['map'](_0x71b852=>{const _0x5e110d=_0x11e189,_0x4e05a8=Object['values'](BADGES)[_0x5e110d(0xa93)](_0x46b9cd=>_0x46b9cd['id']===_0x71b852);return _0x4e05a8?'<span\x20title=\x22'+_0x4e05a8[_0x5e110d(0x59f)]+'\x22><i\x20class=\x22fas\x20'+_0x4e05a8['icon']+_0x5e110d(0x54c):'';})[_0x11e189(0x8c0)]('');_0x3b8d97+=_0x11e189(0x8cf)+_0x445bb0+_0x11e189(0x97c)+_0x3eb238[_0x11e189(0x8cb)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>'+_0x3eb238['bestScore']+'\x20/\x20'+_0x457d40+_0x11e189(0x3b3)+_0x1273be+_0x11e189(0x529)+(_0x3eb238['points']||0x0)+_0x11e189(0x3b3)+(_0x5d5c36?'':'<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>'+(_0x3eb238[_0x11e189(0x49a)]?.[_0x11e189(0x326)]||0x1)+_0x11e189(0x68d))+_0x11e189(0x801)+(_0x5d5c36?'':_0x11e189(0x9f2)+new Date(_0x3eb238[_0x11e189(0x937)])[_0x11e189(0x5ac)](_0x11e189(0x668))+_0x11e189(0x68d))+_0x11e189(0x704)+(_0x5a8f5e||'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0xa39f4f[_0x21d3e3(0x993)]=_0x3b8d97,_0x1c3cfe&&!_0x5d5c36&&_0x1c3cfe[_0x21d3e3(0x502)](_0x21d3e3(0x860))[_0x21d3e3(0x394)](_0x45cd8e=>{const _0x1a3b4a=_0x21d3e3,_0x4a55aa=_0x45cd8e[_0x1a3b4a(0x3f9)](_0x1a3b4a(0x96e));if(_0x4a55aa)_0x4a55aa[_0x1a3b4a(0x981)]();_0x45cd8e[_0x1a3b4a(0x896)][_0x1a3b4a(0xaa5)]===quizLeaderboardSortBy&&(_0x45cd8e['innerHTML']+=_0x1a3b4a(0x207)+(quizLeaderboardSortOrder===_0x1a3b4a(0x3fb)?'▲':'▼')+_0x1a3b4a(0x642));});}async function handleDeleteSubmission(_0x328500){const _0x480123=_0x5b6af5;if(!currentQuizData||!currentQuizData['id']||!_0x328500){showMessage(_0x480123(0x286));return;}showConfirmation(_0x480123(0x2c6)+_0x328500+'\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง',async()=>{const _0xe3b5fd=_0x480123,_0x2db4ac=currentQuizData['id'],_0x495374=doc(db,'artifacts/'+appId+_0xe3b5fd(0x39f)+_0x2db4ac+_0xe3b5fd(0x7f2),_0x328500);try{await deleteDoc(_0x495374),showMessage(_0xe3b5fd(0x440)+_0x328500+_0xe3b5fd(0x341));}catch(_0x4cfd0b){console['error'](_0xe3b5fd(0x23b),_0x4cfd0b),showMessage(_0xe3b5fd(0x6be));}});}async function handleLoadQuiz(){const _0x1539e2=_0x5b6af5,_0x2de47f=document[_0x1539e2(0x318)](_0x1539e2(0x96d)),_0x5ac871=_0x2de47f['value'][_0x1539e2(0x442)]();if(!_0x5ac871){showMessage(_0x1539e2(0x8e4));return;}loadQuizBtn[_0x1539e2(0x204)]=!![],loadQuizBtn[_0x1539e2(0x993)]=_0x1539e2(0x390);try{const _0x470173=doc(db,'artifacts/'+appId+_0x1539e2(0xaca),_0x5ac871),_0xf39f38=await getDoc(_0x470173);if(!_0xf39f38[_0x1539e2(0xa76)]()){showMessage(_0x1539e2(0xa3e));return;}currentQuizData={'id':_0xf39f38['id'],..._0xf39f38[_0x1539e2(0x266)]()};const _0x536ce0=currentQuizData[_0x1539e2(0x6d0)]||'active',_0x3f16c9=new Date();if(_0x536ce0===_0x1539e2(0x592)){showMessage(_0x1539e2(0x69e));return;}if(_0x536ce0===_0x1539e2(0x898)){const _0x5bcb4b=currentQuizData[_0x1539e2(0xb1c)]?new Date(currentQuizData[_0x1539e2(0xb1c)]):null,_0x356853=currentQuizData['endTime']?new Date(currentQuizData[_0x1539e2(0x6b1)]):null;if(_0x5bcb4b&&_0x3f16c9<_0x5bcb4b){showMessage(_0x1539e2(0x418)+_0x5bcb4b[_0x1539e2(0x5ac)]('th-TH',{'hour12':![]}));return;}if(_0x356853&&_0x3f16c9>_0x356853){showMessage(_0x1539e2(0x82c));return;}}const _0x2095ab=currentQuizData[_0x1539e2(0x1f9)];currentProjectId=_0x2095ab;const _0x561299=doc(db,'artifacts/'+appId+_0x1539e2(0x268),_0x2095ab),_0x4d6106=await getDoc(_0x561299);if(!_0x4d6106[_0x1539e2(0xa76)]()){showMessage(_0x1539e2(0x857));return;}const _0x5d1129=_0x4d6106[_0x1539e2(0x266)]();currentStudentProjectData=_0x5d1129,displayStudentNameSelector(_0x5d1129['students'],currentQuizData['topic']);}catch(_0x2c3698){console[_0x1539e2(0x581)](_0x1539e2(0x65a),_0x2c3698),showMessage(_0x1539e2(0x322));}finally{loadQuizBtn[_0x1539e2(0x204)]=![],loadQuizBtn[_0x1539e2(0x993)]=_0x1539e2(0x4ec);}}async function handleJoinLiveGame(){const _0x4c024=_0x5b6af5,_0xcb988=document['getElementById'](_0x4c024(0x37e)),_0x52295e=document[_0x4c024(0x318)](_0x4c024(0x41f)),_0x29e6d7=document[_0x4c024(0x318)]('confirm-join-game-btn'),_0x584b7f=_0xcb988[_0x4c024(0x3e2)][_0x4c024(0x442)](),_0x5b9e15=_0x52295e[_0x4c024(0x3e2)]['trim']();if(!_0x584b7f||!_0x5b9e15){showMessage(_0x4c024(0x9f1));return;}_0x29e6d7['disabled']=!![],_0x29e6d7[_0x4c024(0x993)]=_0x4c024(0xa0c);try{const _0x5d2b40=collection(db,'artifacts/'+appId+_0x4c024(0x2f8)),_0xe71db8=query(_0x5d2b40,where(_0x4c024(0x25b),'==',_0x584b7f),where(_0x4c024(0x6d0),'in',[_0x4c024(0x45d),_0x4c024(0x406)])),_0x2df325=await getDocs(_0xe71db8);if(_0x2df325['empty']){showMessage(_0x4c024(0x93b));return;}const _0x474efc=_0x2df325[_0x4c024(0xa18)][0x0],_0x2b8832=_0x474efc[_0x4c024(0x266)]();currentLiveGameId=_0x474efc['id'];const _0x3753f2=_0x2b8832[_0x4c024(0x79c)],_0x36424c=doc(db,_0x4c024(0x58b)+appId+_0x4c024(0xaca),_0x3753f2),_0x11b58c=await getDoc(_0x36424c);if(!_0x11b58c[_0x4c024(0xa76)]()){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้');return;}currentQuizData={'id':_0x11b58c['id'],..._0x11b58c[_0x4c024(0x266)]()};if(_0x2b8832[_0x4c024(0x546)]&&_0x2b8832[_0x4c024(0x546)][_0x5b9e15]){const _0x59e68d=_0x2b8832[_0x4c024(0x546)][_0x5b9e15];if(_0x59e68d[_0x4c024(0x6d0)]==='inactive'){_0x29e6d7[_0x4c024(0x993)]=_0x4c024(0x741);const _0x4c51da={};_0x4c51da['players.'+_0x5b9e15+'.status']=_0x4c024(0x82a),await updateDoc(doc(db,_0x4c024(0x58b)+appId+'/public/data/liveGames',currentLiveGameId),_0x4c51da),showView(_0x4c024(0x7a3)),currentStudentName=_0x5b9e15,listenForLiveGameUpdates();return;}else{showMessage(_0x4c024(0x58a));return;}}if(_0x2b8832[_0x4c024(0x6d0)]!==_0x4c024(0x45d)){showMessage('ไม่สามารถเข้าร่วมได้\x20เกมได้เริ่มไปแล้ว');return;}_0x29e6d7['innerHTML']=_0x4c024(0x798);const _0x8a358f={};_0x8a358f[_0x4c024(0x441)+_0x5b9e15]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0,'status':'active'},await updateDoc(doc(db,_0x4c024(0x58b)+appId+'/public/data/liveGames',currentLiveGameId),_0x8a358f),currentStudentName=_0x5b9e15,listenForLiveGameUpdates();}catch(_0x160906){console['error'](_0x4c024(0x961),_0x160906),showMessage(_0x4c024(0xa5e));}finally{_0x29e6d7[_0x4c024(0x204)]=![],_0x29e6d7[_0x4c024(0x993)]=_0x4c024(0x57d);}}function displayStudentNameSelector(_0x5c503e,_0x25be8d){const _0x3e4da3=_0x5b6af5,_0x4e7815=document[_0x3e4da3(0x318)]('student-name-select');document[_0x3e4da3(0x318)](_0x3e4da3(0x1f6))[_0x3e4da3(0x950)]=_0x3e4da3(0x33c)+_0x25be8d,!_0x5c503e||_0x5c503e['length']===0x0?(_0x4e7815['innerHTML']=_0x3e4da3(0x69c),startQuizBtn['disabled']=!![]):(_0x4e7815[_0x3e4da3(0x993)]=_0x3e4da3(0xa3f),_0x5c503e[_0x3e4da3(0x394)](_0xd2da37=>{const _0x1dd4fe=_0x3e4da3,_0x3d6534=document['createElement'](_0x1dd4fe(0x84e));_0x3d6534[_0x1dd4fe(0x3e2)]=_0xd2da37,_0x3d6534[_0x1dd4fe(0x950)]=_0xd2da37,_0x4e7815['appendChild'](_0x3d6534);}),startQuizBtn[_0x3e4da3(0x204)]=![]),studentInitialView[_0x3e4da3(0x821)][_0x3e4da3(0x231)](_0x3e4da3(0x8be)),studentNameSelectionView['classList'][_0x3e4da3(0x981)](_0x3e4da3(0x8be));}function shuffleArray(_0xcf28d3){const _0x1f36c4=_0x5b6af5;for(let _0x238343=_0xcf28d3[_0x1f36c4(0x326)]-0x1;_0x238343>0x0;_0x238343--){const _0x56d27e=Math[_0x1f36c4(0x957)](Math[_0x1f36c4(0x8f7)]()*(_0x238343+0x1));[_0xcf28d3[_0x238343],_0xcf28d3[_0x56d27e]]=[_0xcf28d3[_0x56d27e],_0xcf28d3[_0x238343]];}}function getShuffledQuiz(_0x3d588a){const _0x3cdd0f=_0x5b6af5;let _0x301bd1=JSON[_0x3cdd0f(0x97b)](JSON['stringify'](_0x3d588a));const _0x31ad04=_0x301bd1[_0x3cdd0f(0x492)]?.[_0x3cdd0f(0x7dd)]||_0x3cdd0f(0x6f7);if(_0x31ad04==='none')return _0x301bd1;return(_0x31ad04===_0x3cdd0f(0xacb)||_0x31ad04===_0x3cdd0f(0x92b))&&shuffleArray(_0x301bd1[_0x3cdd0f(0x313)]),(_0x31ad04===_0x3cdd0f(0x9cf)||_0x31ad04===_0x3cdd0f(0x92b))&&_0x301bd1['questions'][_0x3cdd0f(0x394)](_0x10024d=>{const _0x1cebe8=_0x3cdd0f,_0x40cdb1=_0x10024d['questionType']||_0x301bd1[_0x1cebe8(0x7ed)];if(_0x10024d[_0x1cebe8(0x6c3)]){let _0x118522=_0x10024d[_0x1cebe8(0x6c3)][_0x1cebe8(0xa7a)]((_0xc2327d,_0x5445db)=>({'text':_0xc2327d,'isCorrect':_0x5445db===_0x10024d['correctAnswerIndex']}));shuffleArray(_0x118522),_0x10024d[_0x1cebe8(0x6c3)]=_0x118522[_0x1cebe8(0xa7a)](_0x2b2ee0=>_0x2b2ee0[_0x1cebe8(0xa8c)]),_0x10024d[_0x1cebe8(0x859)]=_0x118522['findIndex'](_0x3ef14b=>_0x3ef14b[_0x1cebe8(0x64c)]);}_0x40cdb1===_0x1cebe8(0x917)&&_0x10024d[_0x1cebe8(0x3e5)]&&shuffleArray(_0x10024d['allResponses']);}),_0x301bd1;}function displayQuizForStudent(_0x2a4eaa){const _0x37e3d5=_0x5b6af5;studentQuizArea['classList'][_0x37e3d5(0x981)](_0x37e3d5(0x8be)),currentDisplayedQuiz=getShuffledQuiz(_0x2a4eaa);currentMode!==_0x37e3d5(0x8da)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x37e3d5(0x78c)](_0x37e3d5(0x823),handleFullscreenChange),document['addEventListener'](_0x37e3d5(0x6b5),handleVisibilityChange),enterFullscreen(),window[_0x37e3d5(0x78c)](_0x37e3d5(0x4af),resetDimTimer),window[_0x37e3d5(0x78c)](_0x37e3d5(0x9f9),resetDimTimer),window[_0x37e3d5(0x78c)](_0x37e3d5(0xad3),resetDimTimer),window['addEventListener']('keydown',resetDimTimer),resetDimTimer());const _0x5514a0=currentDisplayedQuiz['settings']?.[_0x37e3d5(0xa36)]||_0x37e3d5(0x6f7);if(_0x5514a0==='whole_quiz')renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0x37e3d5(0x492)][_0x37e3d5(0x51f)]);else _0x5514a0===_0x37e3d5(0x77a)?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x455773=_0x5b6af5;let _0x33b57c=_0x455773(0x298)+currentDisplayedQuiz[_0x455773(0x53e)]+_0x455773(0x787)+(currentMode===_0x455773(0x8da)?_0x455773(0x352):'')+_0x455773(0x370);currentDisplayedQuiz[_0x455773(0x313)]['forEach']((_0x51ca41,_0x463481)=>{const _0x2ce8ad=_0x455773,_0x254d16=_0x51ca41[_0x2ce8ad(0xb01)]||currentDisplayedQuiz['quizType'];_0x33b57c+=_0x2ce8ad(0x1fd);_0x254d16===_0x2ce8ad(0x917)?_0x33b57c+='\x0a\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>'+(_0x463481+0x1)+'.\x20'+_0x51ca41[_0x2ce8ad(0x6f3)]+_0x2ce8ad(0x38b)+_0x463481+_0x2ce8ad(0xa7e)+_0x51ca41[_0x2ce8ad(0x3e5)]['map'](_0x1d3ccd=>_0x2ce8ad(0x6ed)+_0x1d3ccd+'\x22>'+_0x1d3ccd+_0x2ce8ad(0x91e))[_0x2ce8ad(0x8c0)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a':(_0x33b57c+='<p>'+(_0x463481+0x1)+'.\x20'+(_0x51ca41[_0x2ce8ad(0xaed)]||_0x51ca41[_0x2ce8ad(0x7a4)])+_0x2ce8ad(0x6fa),_0x51ca41[_0x2ce8ad(0x7fb)]&&(_0x33b57c+=_0x2ce8ad(0x88e)+_0x51ca41[_0x2ce8ad(0x7fb)]+'</div>'));_0x33b57c+='</div><div\x20class=\x22space-y-2\x22>';switch(_0x254d16){case _0x2ce8ad(0xa9e):_0x33b57c+=_0x2ce8ad(0x603)+_0x463481+_0x2ce8ad(0x770);break;case _0x2ce8ad(0x8d0):_0x33b57c+=_0x2ce8ad(0x8a5)+_0x463481+_0x2ce8ad(0x4a5)+_0x463481+_0x2ce8ad(0x43e)+_0x463481+'_opt0\x22>ใช่</label></div>',_0x33b57c+=_0x2ce8ad(0x8a5)+_0x463481+_0x2ce8ad(0x9f6)+_0x463481+_0x2ce8ad(0x3cf)+_0x463481+_0x2ce8ad(0x6e3);break;case _0x2ce8ad(0x917):break;case _0x2ce8ad(0x5b7):case _0x2ce8ad(0x40c):default:_0x33b57c+=_0x51ca41[_0x2ce8ad(0x6c3)][_0x2ce8ad(0xa7a)]((_0x2cd011,_0x562817)=>'\x0a\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q'+_0x463481+_0x2ce8ad(0x72f)+_0x562817+_0x2ce8ad(0xa1b)+_0x463481+_0x2ce8ad(0x7be)+_0x562817+_0x2ce8ad(0x85d)+_0x463481+_0x2ce8ad(0x72f)+_0x562817+'\x22>'+_0x2cd011+_0x2ce8ad(0x4f9))[_0x2ce8ad(0x8c0)]('');break;}_0x33b57c+=_0x2ce8ad(0x2f5);}),_0x33b57c+=_0x455773(0x6c1),_0x33b57c+=_0x455773(0x46e),studentQuizArea[_0x455773(0x993)]=_0x33b57c;if(currentMode===_0x455773(0x8da)){const _0x45a431=document[_0x455773(0x318)](_0x455773(0x994));if(_0x45a431)_0x45a431['addEventListener'](_0x455773(0x382),cancelAdminTest);}document[_0x455773(0x318)](_0x455773(0x21a))[_0x455773(0x78c)]('submit',handleSubmitQuiz);if(window['MathJax'])window['MathJax'][_0x455773(0x4f5)]([studentQuizArea]);}async function handleSubmitQuiz(_0x5b0a02){const _0xd79281=_0x5b6af5;if(_0x5b0a02)_0x5b0a02[_0xd79281(0x577)]();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x4e808b=document['getElementById']('quiz-form');if(!_0x4e808b)return;const _0x14c045=_0x4e808b[_0xd79281(0x3f9)]('button[type=\x22submit\x22]'),_0x3d752f=currentDisplayedQuiz[_0xd79281(0x313)][_0xd79281(0xa11)](_0x9f0f1c=>_0x9f0f1c[_0xd79281(0xb01)]===_0xd79281(0xa9e));_0x14c045&&(_0x14c045[_0xd79281(0x204)]=!![],_0x3d752f?_0x14c045[_0xd79281(0x993)]=_0xd79281(0x8eb):_0x14c045['innerHTML']=_0xd79281(0x7e4));const _0x9c6f45=new FormData(_0x4e808b),_0x3fffcb=currentDisplayedQuiz[_0xd79281(0x313)][_0xd79281(0xa7a)]((_0x4e5c5e,_0x1c3f3b)=>{const _0xcb249=_0xd79281,_0x57dcf6=_0x4e5c5e[_0xcb249(0xb01)]||currentDisplayedQuiz[_0xcb249(0x7ed)],_0x1faff4=_0x9c6f45[_0xcb249(0x330)](_0xcb249(0x406)+_0x1c3f3b);if(_0x1faff4!==null&&_0x1faff4!==undefined){if(_0x57dcf6===_0xcb249(0x40c)||_0x57dcf6==='fill_in_the_blank')return parseInt(_0x1faff4);return _0x1faff4;}return null;}),_0x44c3f1=currentQuizData['id'],_0x522656=doc(db,_0xd79281(0x58b)+appId+_0xd79281(0x39f)+_0x44c3f1+_0xd79281(0x7f2),currentStudentName),_0x33a559=await getDoc(_0x522656),_0x5d984a=_0x33a559[_0xd79281(0xa76)]()?_0x33a559['data']():{},_0x1b08b7=_0x5d984a[_0xd79281(0x49a)]||[];await processAndSubmitAnswers(_0x3fffcb,_0x1b08b7);}async function gradeShortAnswerWithAI(_0x1344c8,_0x2f930a){const _0x57f444=_0x5b6af5;if(!_0x1344c8||!_0x2f930a)return![];try{const _0x58e366='Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22'+_0x1344c8+'\x22.\x20Ideal\x20Answer:\x20\x22'+_0x2f930a+_0x57f444(0x4e1),_0x5b3592={'contents':[{'role':_0x57f444(0x6fd),'parts':[{'text':_0x58e366}]}]},_0x1da3bb='AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA',_0x1e5b01=_0x57f444(0x7df)+_0x1da3bb,_0x41fc5e=await fetch(_0x1e5b01,{'method':_0x57f444(0x436),'headers':{'Content-Type':_0x57f444(0x96f)},'body':JSON[_0x57f444(0x617)](_0x5b3592)});if(!_0x41fc5e['ok'])throw new Error('API\x20call\x20failed');const _0x3cf045=await _0x41fc5e[_0x57f444(0x320)](),_0x406c06=_0x3cf045[_0x57f444(0x539)][0x0][_0x57f444(0x912)][_0x57f444(0x95b)][0x0]['text'][_0x57f444(0x442)]()[_0x57f444(0xa19)]();return _0x406c06===_0x57f444(0x2a4);}catch(_0x459327){return console[_0x57f444(0x581)]('AI\x20grading\x20failed:',_0x459327),![];}}async function processAndSubmitAnswers(_0x58b318,_0x24be2a){const _0x30075a=_0x5b6af5;releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document['removeEventListener']('fullscreenchange',handleFullscreenChange),document[_0x30075a(0x7d1)]('visibilitychange',handleVisibilityChange);let _0x225569=0x0,_0x48d761=0x0,_0x2091ad=[];const _0x3c4034=[],_0x5da8a5=currentDisplayedQuiz['questions'][_0x30075a(0x326)];let _0x5aaecc=0x0;const _0x4e5a3a=currentDisplayedQuiz[_0x30075a(0x313)];for(let _0x1cd174=0x0;_0x1cd174<_0x4e5a3a[_0x30075a(0x326)];_0x1cd174++){const _0x16e6cb=_0x4e5a3a[_0x1cd174],_0x3bafb5=_0x58b318[_0x1cd174],_0x532728=_0x16e6cb[_0x30075a(0xb01)]||currentDisplayedQuiz['quizType'];let _0x3a0a45=![];if(_0x3bafb5!==null&&_0x3bafb5!=='')switch(_0x532728){case _0x30075a(0x917):_0x3a0a45=_0x3bafb5===_0x16e6cb[_0x30075a(0x2e3)];break;case'true_false':const _0xbe3822=_0x3bafb5===!![]||_0x3bafb5===_0x30075a(0x2a4);_0x3a0a45=_0xbe3822===_0x16e6cb[_0x30075a(0x86a)];break;case _0x30075a(0xa9e):_0x3a0a45=await gradeShortAnswer(_0x3bafb5,_0x16e6cb);break;case _0x30075a(0x40c):default:_0x3a0a45=Number(_0x3bafb5)===_0x16e6cb[_0x30075a(0x859)];break;}_0x3a0a45?(_0x225569++,_0x5aaecc++,_0x5aaecc===0x3&&(_0x2091ad[_0x30075a(0x27f)](BADGES['ON_FIRE']['id']),_0x5aaecc=0x0)):_0x5aaecc=0x0;let _0x36307b=null;_0x16e6cb['options']&&_0x3bafb5!==null&&(_0x36307b=_0x16e6cb[_0x30075a(0x6c3)][_0x3bafb5]),_0x3c4034['push']({'questionId':_0x16e6cb['id'],'answer':_0x3bafb5,'answerText':_0x36307b,'isCorrect':_0x3a0a45,'originalQuestionText':_0x16e6cb[_0x30075a(0x6f3)]||_0x16e6cb[_0x30075a(0x7a4)]});}_0x48d761=_0x225569*0xa;_0x225569===_0x5da8a5&&_0x5da8a5>0x0&&!currentDisplayedQuiz[_0x30075a(0x493)]&&(_0x48d761+=0x32,_0x2091ad[_0x30075a(0x27f)](BADGES[_0x30075a(0x710)]['id']));const _0x438a14=currentDisplayedQuiz[_0x30075a(0x492)]?.['passingScore']??Math[_0x30075a(0x957)](_0x5da8a5/0x2),_0x2443f6=currentDisplayedQuiz['settings']?.['timerMode'];if(_0x2443f6===_0x30075a(0x7b2)&&quizStartTime){const _0x450d5b=(new Date()-quizStartTime)/0x3e8,_0x4c617b=currentDisplayedQuiz['settings'][_0x30075a(0x51f)]*0x3c;_0x225569>=_0x438a14&&_0x450d5b<_0x4c617b/0x2&&(_0x48d761+=0x14,_0x2091ad['push'](BADGES[_0x30075a(0x479)]['id']));}_0x24be2a[_0x30075a(0x326)]===0x0&&_0x225569===_0x5da8a5&&_0x5da8a5>0x0&&_0x2091ad[_0x30075a(0x27f)](BADGES['FIRST_TRY_ACE']['id']);if(_0x24be2a[_0x30075a(0x326)]>0x0){const _0x1b3efd=_0x24be2a[0x0]['score'];if(_0x1b3efd<_0x438a14&&_0x225569>=_0x438a14){const _0x40fff6=_0x24be2a[_0x30075a(0xa11)](_0x2f4255=>(_0x2f4255[_0x30075a(0x50f)]||[])[_0x30075a(0x680)](BADGES['COMEBACK_KING']['id']));!_0x40fff6&&_0x2091ad[_0x30075a(0x27f)](BADGES[_0x30075a(0x8af)]['id']);}}_0x24be2a[_0x30075a(0x326)]===0x4&&_0x2091ad['push'](BADGES[_0x30075a(0x6a5)]['id']);const _0x3f7d4f=currentDisplayedQuiz[_0x30075a(0x492)][_0x30075a(0x26c)];if(currentMode===_0x30075a(0x8da)){handleResultDisplay(_0x3f7d4f,_0x225569,_0x48d761,_0x2091ad,_0x3c4034,_0x5da8a5);return;}const _0x4da959=currentQuizData['id'],_0x56335b=doc(db,_0x30075a(0x58b)+appId+_0x30075a(0x39f)+_0x4da959+'/submissions',currentStudentName);try{const _0x33badd=[..._0x24be2a],_0x2e0c73={'score':_0x225569,'points':_0x48d761,'badges':_0x2091ad,'submittedAt':new Date()[_0x30075a(0x7db)](),'answers':_0x3c4034};_0x33badd[_0x30075a(0x27f)](_0x2e0c73);const _0x3210b9=_0x24be2a[_0x30075a(0x326)]===0x0?_0x225569:_0x24be2a[0x0][_0x30075a(0x829)]||0x0,_0x330dcd=Math['max'](..._0x33badd[_0x30075a(0xa7a)](_0x3cbdd7=>_0x3cbdd7['score'])),_0x55b30b=_0x225569,_0x3ce39e=_0x2e0c73['submittedAt'];await setDoc(_0x56335b,{'studentName':currentStudentName,'totalQuestions':_0x5da8a5,'attempts':_0x33badd,'firstScore':_0x3210b9,'bestScore':_0x330dcd,'latestScore':_0x55b30b,'points':_0x48d761,'latestSubmittedAt':_0x3ce39e},{'merge':!![]}),await updateStudentProfile(currentQuizData[_0x30075a(0x1f9)],currentStudentName),handleResultDisplay(_0x3f7d4f,_0x225569,_0x48d761,_0x2091ad,_0x3c4034,_0x5da8a5);}catch(_0x37e1a3){console[_0x30075a(0x581)]('Error\x20saving\x20submission:',_0x37e1a3),showMessage(_0x30075a(0xa2f));}}async function updateStudentProfile(_0x214584,_0x85b14a){const _0x50c13b=_0x5b6af5,_0x57a2de=doc(db,_0x50c13b(0x58b)+appId+_0x50c13b(0x1f7)+_0x214584+_0x50c13b(0x24d),_0x85b14a);try{const _0x41da46=query(collection(db,_0x50c13b(0x58b)+appId+_0x50c13b(0xaca)),where(_0x50c13b(0x1f9),'==',_0x214584)),_0x4bfeab=await getDocs(_0x41da46),_0x248d61=new Map(_0x4bfeab[_0x50c13b(0xa18)][_0x50c13b(0xa7a)](_0x4f34b2=>[_0x4f34b2['id'],_0x4f34b2['data']()])),_0x23bfcf=Array[_0x50c13b(0x918)](_0x248d61[_0x50c13b(0x593)]());await runTransaction(db,async _0x48bd6d=>{const _0x810398=_0x50c13b;let _0x2bf174=0x0;const _0x1bb9cb={};let _0x4497a7=!![],_0x3a8278=0x0,_0x45e0ae=0x0;for(const _0xae239f of _0x23bfcf){const _0x3dda64=_0x248d61[_0x810398(0x330)](_0xae239f),_0x37abf2=doc(db,_0x810398(0x58b)+appId+_0x810398(0x39f)+_0xae239f+_0x810398(0x7f2),_0x85b14a),_0x7b6dde=await _0x48bd6d['get'](_0x37abf2);if(_0x7b6dde[_0x810398(0xa76)]()){const _0xcb2e1f=_0x7b6dde[_0x810398(0x266)](),_0xa34f6b=_0xcb2e1f[_0x810398(0x49a)]||[];if(_0xa34f6b[_0x810398(0x326)]>0x0){const _0x144ea5=_0xa34f6b['reduce']((_0x205121,_0xd18db8)=>{const _0xb0a963=_0x810398;if(_0xd18db8[_0xb0a963(0x829)]>_0x205121[_0xb0a963(0x829)])return _0xd18db8;if(_0xd18db8[_0xb0a963(0x829)]===_0x205121[_0xb0a963(0x829)])return(_0xd18db8[_0xb0a963(0x73b)]||0x0)>(_0x205121[_0xb0a963(0x73b)]||0x0)?_0xd18db8:_0x205121;return _0x205121;},{'score':-0x1,'points':-0x1});_0x144ea5[_0x810398(0x829)]>-0x1&&(_0x2bf174+=_0x144ea5[_0x810398(0x73b)]||0x0,(_0x144ea5[_0x810398(0x50f)]||[])[_0x810398(0x394)](_0x3be4b9=>{_0x1bb9cb[_0x3be4b9]=(_0x1bb9cb[_0x3be4b9]||0x0)+0x1;}));}}if(_0x3dda64['topic']!=='แบบทดสอบซ่อมเสริม'){_0x45e0ae++;if(_0x7b6dde[_0x810398(0xa76)]()){_0x3a8278++;const _0x5f3c7c=_0x7b6dde['data']();_0x5f3c7c['bestScore']!==_0x5f3c7c[_0x810398(0x550)]&&(_0x4497a7=![]);}else _0x4497a7=![];}}_0x45e0ae>0x0&&_0x3a8278===_0x45e0ae&&_0x4497a7?_0x1bb9cb[_0x810398(0x97f)]=0x1:_0x1bb9cb[_0x810398(0x97f)]=0x0,_0x48bd6d['set'](_0x57a2de,{'studentName':_0x85b14a,'totalPoints':_0x2bf174,'unlockedBadges':Object[_0x810398(0x593)](_0x1bb9cb)[_0x810398(0x5e3)](_0x15bc4d=>_0x1bb9cb[_0x15bc4d]>0x0),'badgesCount':_0x1bb9cb},{'merge':!![]});});}catch(_0x3226d7){console[_0x50c13b(0x581)]('Leaderboard\x20update\x20transaction\x20failed:\x20',_0x3226d7),showMessage('เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ');}}function startAdminTest(){const _0x26ee15=_0x5b6af5;if(!currentQuizData){showMessage(_0x26ee15(0x8c2));return;}let _0x2dca79=JSON[_0x26ee15(0x97b)](JSON[_0x26ee15(0x617)](currentQuizData));currentMode='admin-testing',currentStudentName=_0x26ee15(0x22b),adminView['classList'][_0x26ee15(0x231)](_0x26ee15(0x8be)),studentView[_0x26ee15(0x821)][_0x26ee15(0x981)](_0x26ee15(0x8be)),studentInitialView[_0x26ee15(0x821)][_0x26ee15(0x231)](_0x26ee15(0x8be)),studentNameSelectionView[_0x26ee15(0x821)][_0x26ee15(0x231)](_0x26ee15(0x8be)),studentResultArea[_0x26ee15(0x821)][_0x26ee15(0x231)](_0x26ee15(0x8be)),studentQuizArea[_0x26ee15(0x821)]['remove'](_0x26ee15(0x8be)),quizStartTime=new Date(),displayQuizForStudent(_0x2dca79);}function handleResultDisplay(_0x53a724,_0xe55ec5,_0x4ea52b,_0xc8f04,_0x3eab88,_0x597433){const _0x14c80f=_0x5b6af5;if(_0x53a724===_0x14c80f(0x699)){displaySubmissionConfirmation();return;}const _0x33127c=currentDisplayedQuiz[_0x14c80f(0x492)]?.[_0x14c80f(0x72c)]??Math[_0x14c80f(0x957)](_0x597433/0x2),_0x194674=currentDisplayedQuiz['settings']?.['isAdaptive']??![],_0x1cac51=currentDisplayedQuiz[_0x14c80f(0x492)]?.[_0x14c80f(0x669)]===!![],_0x2cd1bd=_0xe55ec5<_0x33127c,_0x54f93f=_0x53a724===_0x14c80f(0x1de)||_0x53a724===_0x14c80f(0x91b);if(_0x1cac51&&_0x2cd1bd&&!_0x54f93f){_0x53a724===_0x14c80f(0x696)?displayResultsWithAnswers(_0xe55ec5,_0x4ea52b,_0xc8f04,_0x3eab88,_0x597433,!![]):displayLoopScreen(_0xe55ec5,_0x597433,_0x53a724);return;}if(_0x194674&&_0x2cd1bd){startAdaptiveFlow(_0x3eab88,_0xe55ec5,_0x597433);return;}switch(_0x53a724){case _0x14c80f(0x696):displayResultsWithAnswers(_0xe55ec5,_0x4ea52b,_0xc8f04,_0x3eab88,_0x597433);break;case _0x14c80f(0x41e):displayResultsScoreOnly(_0xe55ec5,_0x4ea52b,_0xc8f04,_0x597433);break;case _0x14c80f(0x503):displayPassFailOnly(_0xe55ec5,_0x597433);break;case _0x14c80f(0x1de):displayHalfMarkResult(_0xe55ec5,_0x597433);break;case _0x14c80f(0x91b):displayPerfectScoreResult(_0xe55ec5,_0x597433);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x3a8181){const _0x4b28e2=_0x5b6af5;studentReadingArea[_0x4b28e2(0x993)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0x12d288=_0x4b28e2(0x3ee)+_0x3a8181+_0x4b28e2(0x903)+simpleMathPrompt+_0x4b28e2(0x5bd),_0x291f19={'type':_0x4b28e2(0xa0a),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x4b28e2(0x805),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x4b28e2(0x864)}},'required':[_0x4b28e2(0x7a4),_0x4b28e2(0x6c3),_0x4b28e2(0x859),_0x4b28e2(0xb12)]},_0x2c66f8={'type':'OBJECT','properties':{'topic':{'type':_0x4b28e2(0x864)},'questions':{'type':_0x4b28e2(0x805),'items':_0x291f19}},'required':[_0x4b28e2(0x53e),'questions']};try{const _0x440e6e=await callAnalysisApi(_0x12d288,_0x2c66f8);_0x440e6e[_0x4b28e2(0x493)]=!![],studentReadingArea[_0x4b28e2(0x821)][_0x4b28e2(0x231)](_0x4b28e2(0x8be));const _0x24f287={...currentDisplayedQuiz['settings'],'isAdaptive':![],'resultsDisplay':_0x4b28e2(0x696)};_0x440e6e[_0x4b28e2(0x492)]=_0x24f287,displayQuizForStudent(_0x440e6e);}catch(_0x16ad2b){console[_0x4b28e2(0x581)](_0x4b28e2(0x2fd),_0x16ad2b),showMessage('เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม'),showView(_0x4b28e2(0x73a));}}function displayPassFailOnly(_0x503fb8,_0x32d795){const _0x17110c=_0x5b6af5,_0x384da1=currentDisplayedQuiz[_0x17110c(0x492)]?.[_0x17110c(0x72c)]??-0x1,_0x374aaf=currentDisplayedQuiz[_0x17110c(0x493)]===!![];let _0x11ccd6='',_0x464370=![];if(_0x374aaf||_0x384da1!==-0x1){_0x464370=_0x374aaf?_0x503fb8===_0x32d795:_0x503fb8>=_0x384da1;const _0x34ec46=_0x464370?_0x17110c(0x3d4):_0x17110c(0xaa3),_0x23257d=_0x464370?'ผ่าน':'ไม่ผ่าน';_0x11ccd6='<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20'+_0x34ec46+'\x22>'+_0x23257d+'</span></div>';}else _0x11ccd6=_0x17110c(0x854);let _0x3493cd=_0x17110c(0x795)+currentStudentName+_0x17110c(0x99d)+_0x11ccd6+_0x17110c(0x275);studentResultArea['innerHTML']=_0x3493cd,studentResultArea[_0x17110c(0x821)][_0x17110c(0x981)](_0x17110c(0x8be)),studentQuizArea[_0x17110c(0x821)][_0x17110c(0x231)]('hidden'),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x464370});}function cancelAdminTest(){const _0x3641af=_0x5b6af5;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document[_0x3641af(0x7d1)](_0x3641af(0x823),handleFullscreenChange),document[_0x3641af(0x7d1)](_0x3641af(0x6b5),handleVisibilityChange),currentMode='admin',studentView[_0x3641af(0x821)][_0x3641af(0x231)](_0x3641af(0x8be)),adminView['classList'][_0x3641af(0x981)](_0x3641af(0x8be)),showView(_0x3641af(0xb16));}function setupResultScreenBackButton(_0x4b7037){const _0xcc2022=_0x5b6af5,_0x3cab8f={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x4b7037};if(_0x3cab8f['isLooping']){const _0x5058f8=_0xcc2022(0x47a);studentResultArea[_0xcc2022(0x5aa)]('beforeend',_0x5058f8),document[_0xcc2022(0x318)](_0xcc2022(0x9ec))[_0xcc2022(0x78c)]('click',()=>{const _0x579a0b=_0xcc2022;studentResultArea['classList'][_0x579a0b(0x231)](_0x579a0b(0x8be)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x537d88=_0xcc2022(0xa5d),_0x10b310=currentMode===_0xcc2022(0x8da),_0x5950ca=_0x10b310?'<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ':_0xcc2022(0xa2d);let _0x2793ce='';_0x3cab8f[_0xcc2022(0x870)]&&(_0x2793ce+=_0xcc2022(0xa64));let _0x2a32d1=_0x3cab8f[_0xcc2022(0x347)];_0x2a32d1===undefined&&(_0x2a32d1=_0x3cab8f[_0xcc2022(0x829)]<_0x3cab8f[_0xcc2022(0x550)]);_0x2a32d1&&(_0x2793ce+=_0xcc2022(0x41b));_0x2793ce+=_0xcc2022(0x4cc)+_0x537d88+_0xcc2022(0x395)+_0x5950ca+_0xcc2022(0x498);const _0x55f4bf=_0xcc2022(0x1ff)+_0x2793ce+'</div>';studentResultArea[_0xcc2022(0x5aa)](_0xcc2022(0x9a9),_0x55f4bf),studentResultArea['querySelector']('#view-rankings-btn')?.['addEventListener']('click',handleShowStudentRankings);const _0x419ba2=studentResultArea['querySelector'](_0xcc2022(0x98f));_0x419ba2&&_0x419ba2[_0xcc2022(0x78c)](_0xcc2022(0x382),()=>{const _0x222b8e=_0xcc2022;studentResultArea[_0x222b8e(0x821)][_0x222b8e(0x231)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0xcc2022(0x318)](_0x537d88)[_0xcc2022(0x78c)](_0xcc2022(0x382),()=>{const _0x832209=_0xcc2022;_0x10b310?(currentMode='admin',studentView['classList'][_0x832209(0x231)](_0x832209(0x8be)),adminView[_0x832209(0x821)][_0x832209(0x981)](_0x832209(0x8be)),showView(_0x832209(0xb16))):(showView(_0x832209(0x73a)),document['getElementById'](_0x832209(0x96d))[_0x832209(0x3e2)]='');});}function displayResultsWithAnswers(_0x33aec7,_0xfbf500,_0xaf8f16,_0x2be16e,_0x79a4c0,_0xb87123=![]){const _0x419b0b=_0x5b6af5,_0x4ff195=_0x79a4c0>0x0?_0x33aec7/_0x79a4c0*0x64:0x0,_0x4b30a2=currentDisplayedQuiz['settings']?.[_0x419b0b(0x72c)]??-0x1,_0x1237d1=currentDisplayedQuiz[_0x419b0b(0x493)]===!![];let _0x5d0219='';if(_0x1237d1||_0x4b30a2!==-0x1){let _0x452d0d=_0x1237d1?_0x33aec7===_0x79a4c0:_0x33aec7>=_0x4b30a2;const _0x362601=_0x452d0d?_0x419b0b(0x3d4):_0x419b0b(0xaa3),_0x56a8c0=_0x452d0d?'ผ่าน':_0x419b0b(0x52a);_0x5d0219='<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20'+_0x362601+'\x22>'+_0x56a8c0+_0x419b0b(0x6fa);}let _0x3882be=_0x419b0b(0x2f6)+currentStudentName+_0x419b0b(0x788)+_0x33aec7+_0x419b0b(0x238)+_0x79a4c0+_0x419b0b(0x992)+_0x5d0219+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+'+_0xfbf500+_0x419b0b(0x6b7)+_0x4ff195[_0x419b0b(0x7ae)](0x0)+_0x419b0b(0x294);currentDisplayedQuiz['questions'][_0x419b0b(0x394)]((_0x108cc7,_0x4c256a)=>{const _0x242253=_0x419b0b,_0x120d94=_0x2be16e[_0x4c256a],_0x594433=_0x120d94[_0x242253(0x520)],_0x1817a0=_0x120d94[_0x242253(0x64c)],_0x1efe1b=_0x108cc7[_0x242253(0xb01)]||currentDisplayedQuiz[_0x242253(0x7ed)];_0x3882be+=_0x242253(0x9f4)+(_0x1817a0?_0x242253(0x869):'border-red-300\x20bg-red-50')+'\x22><p\x20class=\x22font-semibold\x22>'+(_0x4c256a+0x1)+'.\x20'+(_0x108cc7['stem']||_0x108cc7[_0x242253(0x7a4)])+_0x242253(0x56d);switch(_0x1efe1b){case _0x242253(0x917):const _0x4de9da=_0x594433||_0x242253(0x214),_0x707633=_0x108cc7[_0x242253(0x2e3)];_0x3882be+='<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22'+(!_0x1817a0?_0x242253(0x200):'')+'\x22>'+_0x4de9da+_0x242253(0x8b2);!_0x1817a0&&(_0x3882be+=_0x242253(0x996)+_0x707633+'</p>');break;case _0x242253(0xa9e):_0x3882be+=_0x242253(0x230)+(_0x594433||_0x242253(0x214))+_0x242253(0x6fa),_0x3882be+='<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20'+_0x108cc7[_0x242253(0x7b3)]+_0x242253(0x6fa);break;case'true_false':_0x3882be+='<p\x20class=\x22'+(_0x108cc7[_0x242253(0x86a)]===!![]?_0x242253(0x848):'')+'\x20'+(_0x594433===_0x242253(0x2a4)&&!_0x1817a0?_0x242253(0x200):'')+_0x242253(0xa8f),_0x3882be+=_0x242253(0x677)+(_0x108cc7[_0x242253(0x86a)]===![]?'font-bold\x20text-green-700':'')+'\x20'+(_0x594433==='false'&&!_0x1817a0?'line-through\x20text-red-700':'')+'\x22>ไม่ใช่</p>';break;default:_0x3882be+=_0x108cc7[_0x242253(0x6c3)][_0x242253(0xa7a)]((_0x30bd86,_0x2183ac)=>{const _0x2b9430=_0x242253;let _0x36392b='',_0x78b9fc='';if(_0x2183ac===_0x108cc7[_0x2b9430(0x859)])_0x36392b=_0x2b9430(0x848),_0x78b9fc=_0x2b9430(0x995);else _0x2183ac===_0x594433&&(_0x36392b='font-bold\x20text-red-700\x20line-through',_0x78b9fc=_0x2b9430(0x2fa));return'<div\x20class=\x22'+_0x36392b+'\x22>'+_0x78b9fc+_0x30bd86+_0x2b9430(0x6cb);})['join']('');break;}_0x3882be+='</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20'+(_0x108cc7[_0x242253(0xb12)]||_0x242253(0x277))+_0x242253(0x6cb);if(!_0x1817a0){const _0x5c1e7e=_0x108cc7[_0x242253(0x6f3)]||_0x108cc7[_0x242253(0x7a4)];_0x3882be+=_0x242253(0x8e1)+escape(_0x5c1e7e)+'\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>';}_0x3882be+=_0x242253(0x6cb);}),studentResultArea[_0x419b0b(0x993)]=_0x3882be,renderEarnedBadges(_0xaf8f16,'earned-badges-container'),studentResultArea[_0x419b0b(0x821)][_0x419b0b(0x981)]('hidden'),studentQuizArea['classList'][_0x419b0b(0x231)]('hidden'),setupResultScreenBackButton({'isLooping':_0xb87123,'score':_0x33aec7,'totalQuestions':_0x79a4c0,'showRankings':!![]});if(window[_0x419b0b(0x2c3)])window['MathJax'][_0x419b0b(0x4f5)]([studentResultArea]);}function displayResultsScoreOnly(_0x4c6cc8,_0x3bb4a5,_0x186e5a,_0x413cc4){const _0x1198f1=_0x5b6af5,_0x2ca621=_0x413cc4>0x0?_0x4c6cc8/_0x413cc4*0x64:0x0,_0x5a4fa0=currentDisplayedQuiz[_0x1198f1(0x492)]?.[_0x1198f1(0x72c)]??-0x1,_0xe693c9=currentDisplayedQuiz[_0x1198f1(0x493)]===!![];let _0x3bba50='';if(_0xe693c9||_0x5a4fa0!==-0x1){let _0x2c5460=_0xe693c9?_0x4c6cc8===_0x413cc4:_0x4c6cc8>=_0x5a4fa0;const _0x32e5ce=_0x2c5460?'bg-green-100\x20text-green-800':'bg-red-100\x20text-red-800',_0x39fd45=_0x2c5460?_0x1198f1(0xaaa):'ไม่ผ่าน';_0x3bba50=_0x1198f1(0x891)+_0x32e5ce+'\x22>'+_0x39fd45+'</p>';}let _0x40749a=_0x1198f1(0x795)+currentStudentName+_0x1198f1(0x60f)+_0x4c6cc8+_0x1198f1(0x5d5)+_0x413cc4+_0x1198f1(0x992)+_0x3bba50+_0x1198f1(0x6fe)+_0x3bb4a5+_0x1198f1(0xab5)+_0x2ca621[_0x1198f1(0x7ae)](0x0)+_0x1198f1(0xab7);studentResultArea[_0x1198f1(0x993)]=_0x40749a,renderEarnedBadges(_0x186e5a,'earned-badges-container'),studentResultArea[_0x1198f1(0x821)][_0x1198f1(0x981)](_0x1198f1(0x8be)),studentQuizArea['classList']['add']('hidden'),setupResultScreenBackButton({'score':_0x4c6cc8,'totalQuestions':_0x413cc4,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0xee1410=_0x5b6af5;let _0x1108d4=_0xee1410(0x908)+currentStudentName+_0xee1410(0x533);studentResultArea[_0xee1410(0x993)]=_0x1108d4,studentResultArea['classList'][_0xee1410(0x981)](_0xee1410(0x8be)),studentQuizArea[_0xee1410(0x821)][_0xee1410(0x231)]('hidden'),document['getElementById']('back-to-home-manual-release')[_0xee1410(0x78c)](_0xee1410(0x382),()=>{const _0x4b4fd5=_0xee1410;showView(_0x4b4fd5(0x73a)),document[_0x4b4fd5(0x318)](_0x4b4fd5(0x96d))[_0x4b4fd5(0x3e2)]='';});}function renderEarnedBadges(_0x3200f8,_0x3eff85){const _0x229fa6=_0x5b6af5,_0x5559bc=document[_0x229fa6(0x318)](_0x3eff85);if(!_0x5559bc||!_0x3200f8||_0x3200f8['length']===0x0)return;let _0xb87dd4='';_0x3200f8[_0x229fa6(0x394)]((_0x208192,_0x1c56d3)=>{const _0x333ddd=_0x229fa6,_0x41e189=Object[_0x333ddd(0x6db)](BADGES)[_0x333ddd(0xa93)](_0x21ab54=>_0x21ab54['id']===_0x208192);_0x41e189&&(_0xb87dd4+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20'+_0x1c56d3*0.2+_0x333ddd(0x3bb)+_0x41e189[_0x333ddd(0xa6f)]+_0x333ddd(0x8c4)+_0x41e189['icon']+'\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>'+_0x41e189[_0x333ddd(0x59f)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}),_0x5559bc[_0x229fa6(0x993)]=_0xb87dd4;}function startPresentation(_0x43e5b0){const _0x370228=_0x5b6af5;currentQuizData=getShuffledQuiz(_0x43e5b0),currentPresentationSlide=0x0,presentationModal[_0x370228(0xae7)][_0x370228(0x58e)]=_0x370228(0x8f4),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x229e89=_0x5b6af5;document[_0x229e89(0x1e4)]&&document[_0x229e89(0x5cd)](),presentationModal[_0x229e89(0xae7)]['display']=_0x229e89(0x6f7);}function renderPresentationSlide(_0x3ccd0f){const _0x4b4d8b=_0x5b6af5,_0x248d4f=document['getElementById'](_0x4b4d8b(0xa78));if(!currentQuizData||!currentQuizData[_0x4b4d8b(0x313)]||!currentQuizData['questions'][_0x3ccd0f]){_0x248d4f[_0x4b4d8b(0x993)]=_0x4b4d8b(0xa26);return;}const _0x46b3b5=currentQuizData[_0x4b4d8b(0x313)][_0x3ccd0f],_0x2bb8a6=_0x46b3b5[_0x4b4d8b(0xb01)]||currentQuizData[_0x4b4d8b(0x7ed)];_0x248d4f[_0x4b4d8b(0x993)]='';let _0x334adf='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20h-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x46b3b5[_0x4b4d8b(0x7fb)]?_0x4b4d8b(0x88e)+_0x46b3b5[_0x4b4d8b(0x7fb)]+_0x4b4d8b(0x6cb):'')+_0x4b4d8b(0x4fc)+(_0x3ccd0f+0x1)+'.\x20'+(_0x46b3b5['stem']||_0x46b3b5[_0x4b4d8b(0x7a4)])+_0x4b4d8b(0x644);switch(_0x2bb8a6){case _0x4b4d8b(0x917):_0x334adf+=_0x46b3b5['allResponses'][_0x4b4d8b(0xa7a)](_0x183e76=>_0x4b4d8b(0x564)+_0x183e76+_0x4b4d8b(0x949))[_0x4b4d8b(0x8c0)]('');break;case _0x4b4d8b(0x8d0):_0x334adf+=_0x4b4d8b(0x35b),_0x334adf+='<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>';break;case _0x4b4d8b(0x773):case _0x4b4d8b(0xa9e):_0x334adf+=_0x4b4d8b(0x386);break;case'fill_in_the_blank':case _0x4b4d8b(0x40c):default:_0x334adf+=_0x46b3b5['options'][_0x4b4d8b(0xa7a)]((_0x56e0ef,_0x163f7f)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22'+_0x163f7f+_0x4b4d8b(0x491)+_0x56e0ef+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x4b4d8b(0x8c0)]('');break;}_0x334adf+=_0x4b4d8b(0x1e2)+(_0x46b3b5[_0x4b4d8b(0xb12)]||_0x4b4d8b(0x277))+_0x4b4d8b(0x967),_0x248d4f[_0x4b4d8b(0x993)]=_0x334adf;if(window[_0x4b4d8b(0x2c3)])window['MathJax'][_0x4b4d8b(0x4f5)]([_0x248d4f]);let _0x124dde=[];switch(_0x2bb8a6){case _0x4b4d8b(0x917):_0x124dde=_0x46b3b5[_0x4b4d8b(0x3e5)]||[];break;case'true_false':_0x124dde=[_0x4b4d8b(0xb00),_0x4b4d8b(0x942)];break;default:_0x124dde=_0x46b3b5[_0x4b4d8b(0x6c3)]||[];break;}const _0x5703e3=document['getElementById'](_0x4b4d8b(0x8f0));_0x5703e3&&(_0x5703e3[_0x4b4d8b(0xad8)]=()=>{openScratchpad(_0x46b3b5,_0x124dde);});document[_0x4b4d8b(0x502)](_0x4b4d8b(0x469))['forEach'](_0x5cd5af=>{const _0x55a3b9=_0x4b4d8b;_0x5cd5af['addEventListener'](_0x55a3b9(0x382),_0x1ae70e=>revealAnswerForPresentation(_0x3ccd0f,_0x1ae70e[_0x55a3b9(0x645)]));});const _0xc6ac81=document[_0x4b4d8b(0x318)]('check-presentation-answer-btn');_0xc6ac81&&_0xc6ac81[_0x4b4d8b(0x78c)](_0x4b4d8b(0x382),()=>checkShortAnswerForPresentation(_0x3ccd0f)),document['getElementById']('slide-counter')[_0x4b4d8b(0x950)]=_0x4b4d8b(0x3c7)+(_0x3ccd0f+0x1)+_0x4b4d8b(0x682)+currentQuizData[_0x4b4d8b(0x313)][_0x4b4d8b(0x326)],document[_0x4b4d8b(0x318)](_0x4b4d8b(0x4d0))['disabled']=_0x3ccd0f===0x0,document[_0x4b4d8b(0x318)](_0x4b4d8b(0x604))[_0x4b4d8b(0x204)]=_0x3ccd0f===currentQuizData[_0x4b4d8b(0x313)]['length']-0x1;}async function checkShortAnswerForPresentation(_0x33338e){const _0x182092=_0x5b6af5,_0x496592=currentQuizData[_0x182092(0x313)][_0x33338e],_0x3226af=document[_0x182092(0x318)](_0x182092(0x8bd)),_0x3fef72=document[_0x182092(0x318)](_0x182092(0x3bf)),_0x29406a=document[_0x182092(0x318)]('presentation-ai-result'),_0x2f54de=document[_0x182092(0x318)](_0x182092(0x218));if(!_0x3226af||!_0x3fef72||!_0x29406a||!_0x2f54de)return;const _0x5aaae9=_0x3226af['value']['trim']();if(_0x5aaae9==='')return;_0x3fef72[_0x182092(0x204)]=!![],_0x3fef72['innerHTML']=_0x182092(0x32b),_0x3226af[_0x182092(0x204)]=!![];const _0x2bd6b3=await gradeShortAnswer(_0x5aaae9,_0x496592);_0x2bd6b3?_0x29406a[_0x182092(0x993)]='<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>':_0x29406a[_0x182092(0x993)]='<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20'+_0x496592[_0x182092(0x7b3)]+')',_0x29406a[_0x182092(0x821)][_0x182092(0x981)](_0x182092(0x8be)),_0x2f54de[_0x182092(0x821)]['remove'](_0x182092(0x8be)),_0x3fef72['classList'][_0x182092(0x231)]('hidden');}function revealAnswerForPresentation(_0x2d98b0,_0x4243ca){const _0x5897e8=_0x5b6af5,_0x48eccd=currentQuizData[_0x5897e8(0x313)][_0x2d98b0],_0x3f7fce=_0x48eccd[_0x5897e8(0xb01)]||currentQuizData[_0x5897e8(0x7ed)];document[_0x5897e8(0x502)]('.presentation-option')[_0x5897e8(0x394)](_0x2efb61=>{const _0xc9ee5c=_0x5897e8;_0x2efb61['disabled']=!![],_0x2efb61['classList'][_0xc9ee5c(0x981)](_0xc9ee5c(0x332));let _0x5a1eb1=![];if(_0x3f7fce==='multiple_choice'||_0x3f7fce===_0xc9ee5c(0x5b7)){const _0x5db439=parseInt(_0x2efb61[_0xc9ee5c(0x896)]['index']);_0x5a1eb1=_0x5db439===_0x48eccd['correctAnswerIndex'];}else{if(_0x3f7fce===_0xc9ee5c(0x8d0)){const _0x44f4e2=_0x2efb61[_0xc9ee5c(0x896)][_0xc9ee5c(0x520)]===_0xc9ee5c(0x2a4);_0x5a1eb1=_0x44f4e2===_0x48eccd['correctAnswer'];}else _0x3f7fce===_0xc9ee5c(0x917)&&(_0x5a1eb1=_0x2efb61[_0xc9ee5c(0x950)][_0xc9ee5c(0x442)]()===_0x48eccd['correctResponse']);}_0x5a1eb1?_0x2efb61[_0xc9ee5c(0x821)][_0xc9ee5c(0x231)]('bg-green-500',_0xc9ee5c(0x3b4),_0xc9ee5c(0x2cb)):_0x2efb61[_0xc9ee5c(0x821)][_0xc9ee5c(0x231)](_0xc9ee5c(0x287));}),_0x4243ca[_0x5897e8(0x821)][_0x5897e8(0x981)](_0x5897e8(0x287));let _0x9bedc0=![];if(_0x3f7fce==='multiple_choice')_0x9bedc0=parseInt(_0x4243ca[_0x5897e8(0x896)][_0x5897e8(0x3b2)])===_0x48eccd[_0x5897e8(0x859)];else{if(_0x3f7fce===_0x5897e8(0x8d0))_0x9bedc0=_0x4243ca['dataset']['answer']===_0x5897e8(0x2a4)===_0x48eccd[_0x5897e8(0x86a)];else _0x3f7fce==='matching_item'&&(_0x9bedc0=_0x4243ca['textContent']['trim']()===_0x48eccd[_0x5897e8(0x2e3)]);}!_0x9bedc0&&_0x4243ca['classList'][_0x5897e8(0x231)]('bg-red-500',_0x5897e8(0x3b4),_0x5897e8(0x23c)),document['getElementById'](_0x5897e8(0x218))[_0x5897e8(0x821)][_0x5897e8(0x981)](_0x5897e8(0x8be));}function startWholeQuizTimer(_0x39e215){const _0x31f892=_0x5b6af5,_0x2eb415=document['getElementById'](_0x31f892(0x3ad));if(!_0x2eb415)return;const _0x4db82e=Date['now']()+_0x39e215*0x3c*0x3e8;_0x2eb415[_0x31f892(0x993)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';const _0x1cb22f=document[_0x31f892(0x318)]('countdown-display');quizTimerInterval=setInterval(()=>{const _0x2dd880=_0x31f892,_0x205e4f=_0x4db82e-Date['now']();if(_0x205e4f<=0x0)clearInterval(quizTimerInterval),_0x1cb22f[_0x2dd880(0x950)]=_0x2dd880(0x57a),showMessage('หมดเวลา!\x20กำลังส่งคำตอบ...'),handleSubmitQuiz(null);else{const _0x46289f=Math[_0x2dd880(0x957)](_0x205e4f/0x3e8/0x3c%0x3c)[_0x2dd880(0x742)]()[_0x2dd880(0xa22)](0x2,'0'),_0xe36e77=Math[_0x2dd880(0x957)](_0x205e4f/0x3e8%0x3c)[_0x2dd880(0x742)]()[_0x2dd880(0xa22)](0x2,'0');_0x1cb22f[_0x2dd880(0x950)]=_0x46289f+':'+_0xe36e77;}},0x3e8);}function renderPerQuestionView(){const _0x59b56e=_0x5b6af5;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x135809=currentDisplayedQuiz['questions'][currentQuestionIndex],_0x19949e=_0x135809[_0x59b56e(0xb01)]||currentDisplayedQuiz[_0x59b56e(0x7ed)];let _0x448436=_0x59b56e(0x662)+(currentQuestionIndex+0x1)+'\x20จาก\x20'+currentDisplayedQuiz['questions'][_0x59b56e(0x326)]+_0x59b56e(0x4cf)+(currentMode===_0x59b56e(0x8da)?_0x59b56e(0x352):'')+_0x59b56e(0x25e)+currentDisplayedQuiz[_0x59b56e(0x53e)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentQuestionIndex===currentDisplayedQuiz[_0x59b56e(0x313)][_0x59b56e(0x326)]-0x1?_0x59b56e(0x3d5):_0x59b56e(0x3b0))+_0x59b56e(0x60b);studentQuizArea[_0x59b56e(0x993)]=_0x448436;let _0x506f8b='',_0x1a954a='';switch(_0x19949e){case _0x59b56e(0x917):_0x506f8b=currentQuestionIndex+0x1+'.\x20'+_0x135809[_0x59b56e(0x6f3)],_0x1a954a='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x135809[_0x59b56e(0x3e5)]['map'](_0x1f1f26=>_0x59b56e(0x6ed)+_0x1f1f26+'\x22>'+_0x1f1f26+_0x59b56e(0x91e))[_0x59b56e(0x8c0)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x59b56e(0x8d0):_0x506f8b=currentQuestionIndex+0x1+'.\x20'+_0x135809['questionText'],_0x1a954a='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_true\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_true\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_false\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_false\x22>ไม่ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x59b56e(0xa9e):case'fill_in_no_choices':_0x506f8b=currentQuestionIndex+0x1+'.\x20'+_0x135809[_0x59b56e(0x7a4)],_0x1a954a=_0x59b56e(0x8de);break;case _0x59b56e(0x40c):case _0x59b56e(0xa50):default:_0x506f8b=currentQuestionIndex+0x1+'.\x20'+_0x135809['questionText'],_0x1a954a=_0x135809[_0x59b56e(0x6c3)][_0x59b56e(0xa7a)]((_0x4a869f,_0x5ba67a)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q_opt'+_0x5ba67a+'\x22\x20name=\x22question_single\x22\x20value=\x22'+_0x5ba67a+_0x59b56e(0x975)+_0x5ba67a+'\x22>'+_0x4a869f+'</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('');break;}_0x135809['imageCode']&&(_0x506f8b+=_0x59b56e(0x88e)+_0x135809['imageCode']+_0x59b56e(0x6cb));document[_0x59b56e(0x318)](_0x59b56e(0x50e))[_0x59b56e(0x993)]=_0x506f8b,document[_0x59b56e(0x318)]('per-question-options')[_0x59b56e(0x993)]=_0x1a954a;if(currentMode==='admin-testing'){const _0x1e896d=document[_0x59b56e(0x318)]('cancel-test-btn');if(_0x1e896d)_0x1e896d['addEventListener'](_0x59b56e(0x382),cancelAdminTest);}document[_0x59b56e(0x318)](_0x59b56e(0x9d6))['addEventListener']('click',()=>handleNextQuestionInTimedMode(![]));if(window[_0x59b56e(0x2c3)])window['MathJax']['typesetPromise']([studentQuizArea]);startPerQuestionTimer();}function startPerQuestionTimer(){const _0x5a4fd7=_0x5b6af5,_0x50b943=currentDisplayedQuiz[_0x5a4fd7(0x492)][_0x5a4fd7(0x51f)],_0x423aa0=document[_0x5a4fd7(0x318)]('per-question-timer-container');if(!_0x423aa0)return;let _0x381aa5=_0x50b943;_0x423aa0[_0x5a4fd7(0x993)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>'+_0x381aa5+_0x5a4fd7(0x65b);const _0x5a56ae=document[_0x5a4fd7(0x318)](_0x5a4fd7(0x889)),_0x45ead4=document['getElementById'](_0x5a4fd7(0xaa7));perQuestionTimerInterval=setInterval(()=>{const _0x3af4ce=_0x5a4fd7;_0x381aa5--;const _0x279580=_0x381aa5/_0x50b943*0x64;_0x5a56ae['style']['width']=_0x279580+'%',_0x45ead4[_0x3af4ce(0x950)]=_0x381aa5,_0x381aa5<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0x3af4ce(0x8b0)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x1b3f0f=![]){const _0x1f4144=_0x5b6af5;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x21e895=null;if(!_0x1b3f0f){const _0x5c7900=currentDisplayedQuiz['questions'][currentQuestionIndex],_0x5a85f8=_0x5c7900[_0x1f4144(0xb01)]||currentDisplayedQuiz['quizType'];if(_0x5a85f8===_0x1f4144(0xa9e)||_0x5a85f8===_0x1f4144(0x773)){const _0x393bc8=document[_0x1f4144(0x3f9)]('#per-question-options\x20textarea');_0x21e895=_0x393bc8?_0x393bc8['value'][_0x1f4144(0x442)]():'';}else{if(_0x5a85f8===_0x1f4144(0x917)){const _0x286ed3=document['querySelector']('#per-question-options\x20select');_0x21e895=_0x286ed3?_0x286ed3[_0x1f4144(0x3e2)]:'';}else{const _0x2f4829=document[_0x1f4144(0x3f9)](_0x1f4144(0x656));if(_0x2f4829){const _0x1538f3=_0x2f4829[_0x1f4144(0x3e2)];_0x21e895=!isNaN(parseInt(_0x1538f3,0xa))&&_0x1538f3[_0x1f4144(0x442)]()!==''?parseInt(_0x1538f3,0xa):_0x1538f3;}}}}studentAnswersPerQuestion[_0x1f4144(0x27f)](_0x21e895),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz[_0x1f4144(0x313)][_0x1f4144(0x326)]?finalizePerQuestionQuiz():renderPerQuestionView();}async function finalizePerQuestionQuiz(){const _0x379ecc=_0x5b6af5,_0x494af6=currentDisplayedQuiz['questions'][_0x379ecc(0xa11)](_0x3d946d=>_0x3d946d[_0x379ecc(0xb01)]===_0x379ecc(0xa9e));_0x494af6?showMessage(_0x379ecc(0x675)):showMessage(_0x379ecc(0x64e));const _0x4a5dbc=currentQuizData['id'],_0x1b822a=doc(db,'artifacts/'+appId+_0x379ecc(0x39f)+_0x4a5dbc+'/submissions',currentStudentName),_0x455a35=await getDoc(_0x1b822a),_0x1dd877=_0x455a35['exists']()?_0x455a35[_0x379ecc(0x266)]():{},_0x27c3e4=_0x1dd877[_0x379ecc(0x49a)]||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x27c3e4);}function getResultsFilename(){const _0xa5a7f0=_0x5b6af5,_0x50b60e=document[_0xa5a7f0(0x318)]('results-quiz-title')['textContent'][_0xa5a7f0(0x6c2)](/[^a-z0-9]/gi,'_')[_0xa5a7f0(0xa19)]();return _0xa5a7f0(0xb19)+(_0x50b60e||_0xa5a7f0(0x83c));}function exportResultsAsImage(){const _0x4f8ca3=_0x5b6af5,_0x6c04e0=document['getElementById'](_0x4f8ca3(0x769));showMessage(_0x4f8ca3(0xace)),html2canvas(_0x6c04e0)[_0x4f8ca3(0x1e7)](_0x421eb6=>{const _0x120de1=_0x4f8ca3,_0x56b2ae=document['createElement']('a');_0x56b2ae['download']=getResultsFilename()+_0x120de1(0x383),_0x56b2ae['href']=_0x421eb6[_0x120de1(0xaab)](_0x120de1(0x797)),_0x56b2ae['click'](),messageModal[_0x120de1(0x821)][_0x120de1(0x231)](_0x120de1(0x8be));});}function exportResultsAsPDF(){const _0x48efbb=_0x5b6af5,{jsPDF:_0x1298a4}=window[_0x48efbb(0xb1d)],_0x4eb3aa=new _0x1298a4();_0x4eb3aa[_0x48efbb(0xab1)](_0x48efbb(0x522),_0x48efbb(0x633)),_0x4eb3aa[_0x48efbb(0xae8)]({'html':_0x48efbb(0x901)}),_0x4eb3aa[_0x48efbb(0x5a0)](getResultsFilename()+_0x48efbb(0x4e2));}function exportResultsAsWord(){const _0x361f44=_0x5b6af5,_0x922712=_0x361f44(0x37b)+_0x361f44(0x24a)+_0x361f44(0x8ef)+_0x361f44(0xb0a),_0x488b70=_0x361f44(0x549),_0x3bc254=_0x922712+document[_0x361f44(0x318)](_0x361f44(0x769))['innerHTML']+_0x488b70,_0x304d9e='data:application/vnd.ms-word;charset=utf-8,'+encodeURIComponent(_0x3bc254),_0x50e432=document[_0x361f44(0x7f1)]('a');document['body'][_0x361f44(0x239)](_0x50e432),_0x50e432[_0x361f44(0xa8a)]=_0x304d9e,_0x50e432[_0x361f44(0x219)]=getResultsFilename()+'.doc',_0x50e432[_0x361f44(0x382)](),document[_0x361f44(0x228)][_0x361f44(0x7fd)](_0x50e432);}function exportResultsAsExcel(){const _0x361c4b=_0x5b6af5,_0x51b8ab=document['getElementById'](_0x361c4b(0x764));let _0x41d0ea=[];for(let _0x18cc2e=0x0;_0x18cc2e<_0x51b8ab[_0x361c4b(0xa2b)][_0x361c4b(0x326)];_0x18cc2e++){let _0x5d51d1=[],_0x31a2f4=_0x51b8ab[_0x361c4b(0xa2b)][_0x18cc2e][_0x361c4b(0x502)](_0x361c4b(0x4dc));for(let _0x1b9dba=0x0;_0x1b9dba<_0x31a2f4[_0x361c4b(0x326)];_0x1b9dba++){_0x5d51d1[_0x361c4b(0x27f)]('\x22'+_0x31a2f4[_0x1b9dba][_0x361c4b(0x688)][_0x361c4b(0x6c2)](/"/g,'\x22\x22')+'\x22');}_0x41d0ea[_0x361c4b(0x27f)](_0x5d51d1['join'](','));}const _0x59dff7=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x41d0ea[_0x361c4b(0x8c0)]('\x0a')],{'type':'text/csv;charset=utf-8;'}),_0x403ceb=document[_0x361c4b(0x7f1)]('a');_0x403ceb[_0x361c4b(0xa8a)]=URL['createObjectURL'](_0x59dff7),_0x403ceb[_0x361c4b(0x219)]=getResultsFilename()+_0x361c4b(0xaf7),_0x403ceb[_0x361c4b(0x382)]();}function exportTableAsImage(_0x5cd5b6,_0x208e5e){const _0x3f8423=_0x5b6af5,_0x4d0264=document[_0x3f8423(0x318)](_0x5cd5b6);if(!_0x4d0264){showMessage(_0x3f8423(0xa37));return;}showMessage(_0x3f8423(0xace)),html2canvas(_0x4d0264)[_0x3f8423(0x1e7)](_0x1e0698=>{const _0x334f88=_0x3f8423,_0x8f6d04=document[_0x334f88(0x7f1)]('a');_0x8f6d04[_0x334f88(0x219)]=_0x208e5e+_0x334f88(0x383),_0x8f6d04[_0x334f88(0xa8a)]=_0x1e0698[_0x334f88(0xaab)]('image/png'),_0x8f6d04[_0x334f88(0x382)](),messageModal[_0x334f88(0x821)][_0x334f88(0x231)](_0x334f88(0x8be));});}function exportTableAsPDF(_0x1508ba,_0x417398){const _0x2b3030=_0x5b6af5,{jsPDF:_0x5a9fee}=window['jspdf'],_0x496a12=new _0x5a9fee();_0x496a12[_0x2b3030(0xab1)](_0x2b3030(0x522),_0x2b3030(0x633)),_0x496a12[_0x2b3030(0xae8)]({'html':'#'+_0x1508ba}),_0x496a12[_0x2b3030(0x5a0)](_0x417398+_0x2b3030(0x4e2));}function exportTableAsWord(_0x4568ae,_0x10189b){const _0x11a97a=_0x5b6af5,_0xab5725=document[_0x11a97a(0x318)](_0x4568ae);if(!_0xab5725){showMessage(_0x11a97a(0xa37));return;}const _0x284d49=_0x11a97a(0x37b)+'xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20'+_0x11a97a(0x8ef)+_0x11a97a(0xb0a),_0x945f7b=_0x11a97a(0x549),_0xdc256=_0x284d49+_0xab5725[_0x11a97a(0x993)]+_0x945f7b,_0x512ad8=_0x11a97a(0x349)+encodeURIComponent(_0xdc256),_0xa8931e=document[_0x11a97a(0x7f1)]('a');document[_0x11a97a(0x228)][_0x11a97a(0x239)](_0xa8931e),_0xa8931e[_0x11a97a(0xa8a)]=_0x512ad8,_0xa8931e[_0x11a97a(0x219)]=_0x10189b+_0x11a97a(0xa5a),_0xa8931e[_0x11a97a(0x382)](),document[_0x11a97a(0x228)][_0x11a97a(0x7fd)](_0xa8931e);}function exportTableAsExcel(_0x585d75,_0x2473a1){const _0x2d5491=_0x5b6af5,_0x2c6754=document[_0x2d5491(0x318)](_0x585d75);if(!_0x2c6754){showMessage(_0x2d5491(0xa37));return;}let _0x1304d7=[];for(let _0x36612c=0x0;_0x36612c<_0x2c6754['rows'][_0x2d5491(0x326)];_0x36612c++){let _0x3db98e=[],_0x1a795e=_0x2c6754[_0x2d5491(0xa2b)][_0x36612c]['querySelectorAll'](_0x2d5491(0x4dc));for(let _0x5d817b=0x0;_0x5d817b<_0x1a795e[_0x2d5491(0x326)];_0x5d817b++){_0x3db98e[_0x2d5491(0x27f)]('\x22'+_0x1a795e[_0x5d817b][_0x2d5491(0x688)][_0x2d5491(0x6c2)](/"/g,'\x22\x22')+'\x22');}_0x1304d7[_0x2d5491(0x27f)](_0x3db98e[_0x2d5491(0x8c0)](','));}const _0x4e49a8=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x1304d7[_0x2d5491(0x8c0)]('\x0a')],{'type':_0x2d5491(0x67d)}),_0x3c0f4a=document[_0x2d5491(0x7f1)]('a');_0x3c0f4a[_0x2d5491(0xa8a)]=URL[_0x2d5491(0x98a)](_0x4e49a8),_0x3c0f4a[_0x2d5491(0x219)]=_0x2473a1+_0x2d5491(0xaf7),_0x3c0f4a[_0x2d5491(0x382)]();}function renderAnalytics(_0x14b3ad,_0x48d919){const _0x51f0ab=_0x5b6af5,_0x2c7e20=_0x48d919[_0x51f0ab(0x5e3)](_0x59445b=>_0x59445b[_0x51f0ab(0x709)]!==undefined),_0x43fb82=currentProjectData['students'][_0x51f0ab(0x326)],_0x33f651=_0x2c7e20[_0x51f0ab(0x326)],_0x4a845f=_0x43fb82-_0x33f651,_0x36dea9=_0x43fb82>0x0?_0x33f651/_0x43fb82*0x64:0x0,_0x4f1417=_0x2c7e20[_0x51f0ab(0xa7a)](_0x5616f1=>_0x5616f1[_0x51f0ab(0x709)]),_0x2be1d3=_0x4f1417[_0x51f0ab(0x326)]>0x0?_0x4f1417['reduce']((_0x17153b,_0x1151fc)=>_0x17153b+_0x1151fc,0x0)/_0x4f1417[_0x51f0ab(0x326)]:0x0,_0x41b701=_0x14b3ad[_0x51f0ab(0x313)][_0x51f0ab(0x326)],_0x2d2adc=_0x41b701>0x0?_0x2be1d3/_0x41b701*0x64:0x0,_0x49964e=calculateItemAnalysis(_0x14b3ad,_0x2c7e20),_0x2e727a=calculateReliabilityKR20(_0x14b3ad,_0x2c7e20,_0x49964e[_0x51f0ab(0x6cd)]);let _0x320f39='';if(_0x2e727a!==null){let _0x18f4f7='';if(_0x2e727a>=0.9)_0x18f4f7=_0x51f0ab(0x6e7);else{if(_0x2e727a>=0.8)_0x18f4f7=_0x51f0ab(0x2f1);else{if(_0x2e727a>=0.7)_0x18f4f7='ดี';else{if(_0x2e727a>=0.6)_0x18f4f7=_0x51f0ab(0x964);else _0x18f4f7=_0x51f0ab(0x1e3);}}}_0x320f39=_0x51f0ab(0x8df)+_0x2e727a[_0x51f0ab(0x7ae)](0x2)+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>'+_0x18f4f7+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}const _0x36c39e=document[_0x51f0ab(0x318)](_0x51f0ab(0x453));_0x36c39e['innerHTML']=_0x51f0ab(0x8f9)+_0x36dea9[_0x51f0ab(0x7ae)](0x0)+_0x51f0ab(0x9db)+_0x33f651+'/'+_0x43fb82+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>'+_0x2be1d3['toFixed'](0x2)+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>('+_0x2d2adc['toFixed'](0x0)+_0x51f0ab(0x85b)+(_0x4f1417[_0x51f0ab(0x326)]>0x0?Math['max'](..._0x4f1417):_0x51f0ab(0x8f6))+_0x51f0ab(0x555)+(_0x4f1417[_0x51f0ab(0x326)]>0x0?Math[_0x51f0ab(0x30e)](..._0x4f1417):_0x51f0ab(0x8f6))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x320f39+'\x0a\x20\x20\x20\x20';const _0x8c6499=document[_0x51f0ab(0x318)]('interesting-stats-wrapper');_0x8c6499&&_0x8c6499[_0x51f0ab(0x981)]();const _0x102193=_0x51f0ab(0x61c);_0x36c39e[_0x51f0ab(0x5aa)](_0x51f0ab(0x712),_0x102193);const _0x2c16e9=currentProjectData[_0x51f0ab(0x938)]||[];renderSubmissionChart(_0x33f651,_0x4a845f,_0x2c7e20,_0x2c16e9),renderScoreDistributionChart(_0x2c7e20,_0x41b701),renderQuestionAnalytics(_0x14b3ad,_0x2c7e20,_0x2c16e9),renderInterestingStats(_0x14b3ad,_0x2c7e20);}async function handleExportLessonPDF(){const _0x3a183a=_0x5b6af5,_0x18fc48=document[_0x3a183a(0x318)](_0x3a183a(0x2fe)),_0x2d3fbb=document['getElementById']('lesson-plan-title')[_0x3a183a(0x950)],_0x51efda=window[_0x3a183a(0xa8b)]('',_0x3a183a(0x7b4)),_0x38a13c=_0x3a183a(0x71c)+_0x2d3fbb+_0x3a183a(0x201)+_0x18fc48['innerHTML']+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x51efda[_0x3a183a(0x99b)][_0x3a183a(0x2a6)](_0x38a13c),_0x51efda['document'][_0x3a183a(0x333)](),_0x51efda[_0x3a183a(0x210)]=function(){setTimeout(()=>{const _0x33236f=_0x2b61;_0x51efda[_0x33236f(0x5f1)]();},0x5dc);};}function renderInterestingStats(_0x235ef4,_0x5dd72a){const _0x454bbc=_0x5b6af5,_0x362ae0=document[_0x454bbc(0x318)](_0x454bbc(0x974));if(!_0x362ae0)return;if(_0x5dd72a[_0x454bbc(0x326)]===0x0){_0x362ae0[_0x454bbc(0x993)]=_0x454bbc(0x5f3);return;}const _0x2c43ce=_0x235ef4[_0x454bbc(0x313)]['map']((_0x25c14c,_0x2cd09a)=>({'index':_0x2cd09a+0x1,'text':_0x25c14c[_0x454bbc(0x7a4)]||_0x25c14c[_0x454bbc(0x6f3)],'correct':0x0}));_0x5dd72a[_0x454bbc(0x394)](_0x3127e1=>{const _0x34bbd0=_0x454bbc,_0x25809d=_0x3127e1[_0x34bbd0(0x49a)][_0x3127e1[_0x34bbd0(0x49a)][_0x34bbd0(0x326)]-0x1];_0x25809d&&_0x25809d[_0x34bbd0(0x739)]&&_0x25809d['answers'][_0x34bbd0(0x394)](_0x44b845=>{const _0x505e02=_0x34bbd0,_0x54428e=_0x2c43ce[_0x505e02(0xa93)](_0x26a3df=>_0x26a3df['text']===_0x44b845[_0x505e02(0xb04)]);_0x44b845[_0x505e02(0x64c)]&&_0x54428e&&_0x54428e[_0x505e02(0x2ea)]++;});});const _0x263689=_0x5dd72a['length'],_0x16bfb3=Math[_0x454bbc(0x481)](..._0x2c43ce[_0x454bbc(0xa7a)](_0x37fbfc=>_0x37fbfc['correct'])),_0x26a2fa=Math[_0x454bbc(0x30e)](..._0x2c43ce[_0x454bbc(0xa7a)](_0x867a42=>_0x867a42[_0x454bbc(0x2ea)])),_0x2a1998=_0x2c43ce[_0x454bbc(0x5e3)](_0x50fc82=>_0x50fc82['correct']===_0x16bfb3)[_0x454bbc(0xa7a)](_0x37b8a8=>_0x454bbc(0x9d0)+_0x37b8a8['index']),_0x265b0f=_0x2c43ce[_0x454bbc(0x5e3)](_0x2477f6=>_0x2477f6[_0x454bbc(0x2ea)]===_0x26a2fa)[_0x454bbc(0xa7a)](_0x589cd4=>_0x454bbc(0x9d0)+_0x589cd4[_0x454bbc(0x3b2)]),_0x1e86d7=_0x5dd72a['sort']((_0xb5f74,_0x3925d1)=>_0x3925d1[_0x454bbc(0x709)]-_0xb5f74[_0x454bbc(0x709)])[_0x454bbc(0x5e3)]((_0x1e9756,_0x1a5c70,_0x2ea9e3)=>_0x1e9756[_0x454bbc(0x709)]===_0x2ea9e3[0x0][_0x454bbc(0x709)]),_0x2a8538=_0x5dd72a[_0x454bbc(0xaa5)]((_0x13a7fc,_0x5ec2b7)=>_0x13a7fc['latestScore']-_0x5ec2b7['latestScore'])['filter']((_0x4ae629,_0x3d1bfe,_0x319f41)=>_0x4ae629['latestScore']===_0x319f41[0x0][_0x454bbc(0x709)]),_0x14859a=_0x454bbc(0x8a0)+_0x2a1998[_0x454bbc(0x8c0)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>('+_0x16bfb3+_0x454bbc(0x682)+_0x263689+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>'+_0x265b0f[_0x454bbc(0x8c0)](',\x20')+_0x454bbc(0x552)+(_0x263689-_0x26a2fa)+_0x454bbc(0x682)+_0x263689+_0x454bbc(0x2c7)+_0x1e86d7[_0x454bbc(0xa7a)](_0x19b52c=>_0x19b52c[_0x454bbc(0x8cb)])[_0x454bbc(0x8c0)](',\x20')+_0x454bbc(0x524)+_0x1e86d7[0x0][_0x454bbc(0x709)]+_0x454bbc(0x7f8)+_0x2a8538[_0x454bbc(0xa7a)](_0x3bbbb1=>_0x3bbbb1[_0x454bbc(0x8cb)])[_0x454bbc(0x8c0)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20'+_0x2a8538[0x0][_0x454bbc(0x709)]+_0x454bbc(0x6c4);_0x362ae0['innerHTML']=_0x14859a;}function renderSubmissionChart(_0x382ff4,_0x45a709,_0x40e0ea,_0x57ff0a){const _0xd8b288=_0x5b6af5,_0x47580e=document['getElementById'](_0xd8b288(0x2f7))[_0xd8b288(0x45f)]('2d'),_0xa747f9=_0x40e0ea[_0xd8b288(0xa7a)](_0xd30bd6=>_0xd30bd6[_0xd8b288(0x8cb)]),_0x1f5036=_0x57ff0a['filter'](_0x3494eb=>!_0xa747f9['includes'](_0x3494eb));chartInstances[_0xd8b288(0x354)]&&chartInstances[_0xd8b288(0x354)][_0xd8b288(0x4eb)](),chartInstances[_0xd8b288(0x354)]=new Chart(_0x47580e,{'type':_0xd8b288(0x9b4),'data':{'labels':['ส่งแล้ว',_0xd8b288(0x288)],'datasets':[{'data':[_0x382ff4,_0x45a709],'backgroundColor':[_0xd8b288(0x80e),'#F59E0B'],'borderColor':[_0xd8b288(0x41c),_0xd8b288(0x41c)],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':'bottom'},'tooltip':{'callbacks':{'label':function(_0x451c1f){const _0x46ce45=_0xd8b288;let _0x5076d0=_0x451c1f['label']||'';return _0x5076d0&&(_0x5076d0+=':\x20'),_0x5076d0+=_0x451c1f[_0x46ce45(0x3a2)],_0x5076d0;},'afterLabel':function(_0x5839cd){const _0x48f141=_0xd8b288;let _0x2a449c;return _0x5839cd['dataIndex']===0x0?_0x2a449c=_0xa747f9:_0x2a449c=_0x1f5036,_0x2a449c[_0x48f141(0x326)]>0x0?_0x2a449c[_0x48f141(0x8c0)]('\x0a'):_0x48f141(0xaf8);}}}}}});}function renderScoreDistributionChart(_0x4a6a83,_0x2907c1){const _0x59c8ae=_0x5b6af5,_0x5c99f6=document[_0x59c8ae(0x318)](_0x59c8ae(0x936))[_0x59c8ae(0x45f)]('2d'),_0x3c379f={};for(let _0x3a2b77=0x0;_0x3a2b77<=_0x2907c1;_0x3a2b77++){_0x3c379f[_0x3a2b77]=0x0;}_0x4a6a83[_0x59c8ae(0x394)](_0x2b34c8=>{const _0x1e7e39=_0x59c8ae;_0x3c379f[_0x2b34c8['latestScore']]!==undefined&&_0x3c379f[_0x2b34c8[_0x1e7e39(0x709)]]++;}),chartInstances[_0x59c8ae(0x829)]&&chartInstances['score'][_0x59c8ae(0x4eb)](),chartInstances[_0x59c8ae(0x829)]=new Chart(_0x5c99f6,{'type':_0x59c8ae(0x514),'data':{'labels':Object['keys'](_0x3c379f),'datasets':[{'label':_0x59c8ae(0x8f8),'data':Object['values'](_0x3c379f),'backgroundColor':_0x59c8ae(0x373),'borderColor':_0x59c8ae(0x7b7),'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x59c8ae(0x2df)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x4654cc){const _0x14c312=_0x59c8ae,_0x281467=_0x4654cc[_0x14c312(0x698)],_0x46d632=_0x4a6a83[_0x14c312(0x5e3)](_0x2cbaec=>_0x2cbaec[_0x14c312(0x709)]==_0x281467)['map'](_0x42c28a=>_0x42c28a['studentName']);return _0x46d632[_0x14c312(0x326)]>0x0?_0x46d632['join']('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x4f124e,_0x3c2ad7,_0x5d9131){const _0x48cd5b=_0x5b6af5,_0x4ae57b=document[_0x48cd5b(0x318)](_0x48cd5b(0x7bf));if(_0x5d9131[_0x48cd5b(0x326)]===0x0){_0x4ae57b['innerHTML']=_0x48cd5b(0x77c);return;}const _0x21bd81=calculateItemAnalysis(_0x4f124e,_0x3c2ad7),_0x58f67e=calculateDistractorAnalysis(_0x4f124e,_0x3c2ad7);let _0x4d193f='';_0x21bd81['overallGroups']&&(_0x4d193f=_0x48cd5b(0x216)+_0x21bd81['overallGroups']['upperGroupNames'][_0x48cd5b(0x326)]+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x21bd81[_0x48cd5b(0xad4)][_0x48cd5b(0xa4a)][_0x48cd5b(0xa7a)](_0x1e776a=>_0x48cd5b(0x874)+_0x1e776a+_0x48cd5b(0x359))[_0x48cd5b(0x8c0)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20('+_0x21bd81['overallGroups']['lowerGroupNames'][_0x48cd5b(0x326)]+_0x48cd5b(0x609)+_0x21bd81[_0x48cd5b(0xad4)][_0x48cd5b(0x411)][_0x48cd5b(0xa7a)](_0x15d029=>_0x48cd5b(0x874)+_0x15d029+'</li>')[_0x48cd5b(0x8c0)]('')+_0x48cd5b(0x4a2));let _0x3fcb27='';const _0x552405=_0x3c2ad7[_0x48cd5b(0xa7a)](_0x185dae=>_0x185dae[_0x48cd5b(0x8cb)]),_0x26dd11=_0x15578b=>{const _0x246d3b=_0x48cd5b;if(_0x15578b>=0.8)return _0x246d3b(0x9ad);if(_0x15578b>=0.6)return _0x246d3b(0x90e);if(_0x15578b>=0.4)return _0x246d3b(0x2ad);if(_0x15578b>=0.2)return _0x246d3b(0xaf2);return _0x246d3b(0x9e6);},_0xa3a55=_0x4b0a35=>{const _0x1601d9=_0x48cd5b;if(_0x4b0a35<0x0)return _0x1601d9(0x26b);if(_0x4b0a35>=0.4)return _0x1601d9(0x9e8);if(_0x4b0a35>=0.3)return _0x1601d9(0x79d);if(_0x4b0a35>=0.2)return'<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>';return'<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>';},_0x470895=_0x2c11ab=>{const _0x1ae20a=_0x48cd5b,_0x1e49b3=_0x2c11ab[_0x1ae20a(0x7ae)](0x0);if(parseFloat(_0x1e49b3)===0x64)return _0x1ae20a(0x2ab)+_0x1e49b3+'%</span>';if(_0x2c11ab>=0x32)return'<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20'+_0x1e49b3+_0x1ae20a(0x44d);return _0x1ae20a(0x3a7)+_0x1e49b3+_0x1ae20a(0x44d);};_0x4f124e[_0x48cd5b(0x313)]['forEach']((_0x3c2cb5,_0x310859)=>{const _0x2e5b7f=_0x48cd5b,_0x2ebdee=_0x21bd81[_0x2e5b7f(0x6cd)][_0x310859],_0x3667b4=_0x58f67e[_0x310859],_0x14bc32=_0x3c2cb5[_0x2e5b7f(0x6f3)]||_0x3c2cb5[_0x2e5b7f(0x7a4)]||_0x3c2cb5['instructions'];let _0x39115f=0x0;const _0x5cfc84=[],_0x206694=[];_0x3c2ad7[_0x2e5b7f(0x394)](_0x3e89d3=>{const _0x491166=_0x2e5b7f,_0x36a546=_0x3e89d3[_0x491166(0x49a)][_0x3e89d3['attempts'][_0x491166(0x326)]-0x1];if(_0x36a546&&_0x36a546['answers']){const _0x5d6310=_0x36a546[_0x491166(0x739)][_0x491166(0xa93)](_0x11849a=>_0x11849a[_0x491166(0xb04)]===_0x14bc32)??_0x36a546[_0x491166(0x739)][_0x310859]??null;_0x5d6310&&(_0x5d6310[_0x491166(0x64c)]?(_0x39115f++,_0x5cfc84[_0x491166(0x27f)](_0x3e89d3[_0x491166(0x8cb)])):_0x206694[_0x491166(0x27f)](_0x3e89d3[_0x491166(0x8cb)]));}});const _0x25f009=_0x3c2ad7[_0x2e5b7f(0x326)]>0x0?_0x39115f/_0x3c2ad7[_0x2e5b7f(0x326)]*0x64:0x0,_0x393bd6=_0x5d9131[_0x2e5b7f(0x5e3)](_0x2789b7=>!_0x552405[_0x2e5b7f(0x680)](_0x2789b7)),_0x1abc02=_0x2ebdee?_0x2e5b7f(0xadb)+_0x2ebdee['p'][_0x2e5b7f(0x7ae)](0x2)+_0x2e5b7f(0x977)+_0x26dd11(_0x2ebdee['p'])+_0x2e5b7f(0x95e)+_0x2ebdee['r']['toFixed'](0x2)+_0x2e5b7f(0x977)+_0xa3a55(_0x2ebdee['r'])+_0x2e5b7f(0x372)+_0x470895(_0x25f009)+_0x2e5b7f(0x7a2):'';let _0x6dd610='';_0x3667b4&&(_0x6dd610=_0x2e5b7f(0xa59)+Object['keys'](_0x3667b4)[_0x2e5b7f(0xa7a)](_0x133a56=>{const _0x4c93ad=_0x2e5b7f,_0x45cf85=_0x3667b4[_0x133a56],_0x5ec979=parseInt(_0x133a56)===_0x3c2cb5[_0x4c93ad(0x859)],_0xa4c01=!_0x5ec979&&_0x45cf85[_0x4c93ad(0x278)]>_0x45cf85[_0x4c93ad(0x6bd)];return'<tr\x20class=\x22'+(_0x5ec979?_0x4c93ad(0x280):'')+_0x4c93ad(0x7a8)+(_0x5ec979?'✔\x20':'')+_0x45cf85[_0x4c93ad(0xa8c)]+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0x45cf85[_0x4c93ad(0x6bd)]+_0x4c93ad(0x34b)+_0x45cf85[_0x4c93ad(0x278)]+'\x20'+(_0xa4c01?'👍':'')+_0x4c93ad(0x34b)+_0x45cf85[_0x4c93ad(0x3e8)]+'</td></tr>';})[_0x2e5b7f(0x8c0)]('')+_0x2e5b7f(0x70a));let _0x185450='';_0x2ebdee&&_0x2ebdee[_0x2e5b7f(0x6f9)]&&(_0x185450=_0x2e5b7f(0x211)+_0x2ebdee[_0x2e5b7f(0x6f9)][_0x2e5b7f(0x326)]+'\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>'+_0x2ebdee['upperGroupResponders']['map'](_0x1f8ec3=>_0x2e5b7f(0x874)+(_0x1f8ec3[_0x2e5b7f(0x64c)]?_0x2e5b7f(0x890):_0x2e5b7f(0xa6e))+'\x20'+_0x1f8ec3[_0x2e5b7f(0x59f)]+'</li>')['join']('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20('+_0x2ebdee['lowerGroupResponders'][_0x2e5b7f(0x326)]+_0x2e5b7f(0x1ec)+_0x2ebdee[_0x2e5b7f(0x246)][_0x2e5b7f(0xa7a)](_0x9934c4=>_0x2e5b7f(0x874)+(_0x9934c4['isCorrect']?_0x2e5b7f(0x890):'<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>')+'\x20'+_0x9934c4['name']+_0x2e5b7f(0x359))[_0x2e5b7f(0x8c0)]('')+_0x2e5b7f(0x7c2)),_0x3fcb27+=_0x2e5b7f(0xb11)+(_0x310859+0x1)+':\x20'+_0x14bc32+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>'+_0x1abc02+_0x2e5b7f(0x7e7)+_0x14bc32+_0x2e5b7f(0x23e)+_0x39115f+_0x2e5b7f(0xafb)+_0x3c2ad7[_0x2e5b7f(0x326)]+_0x2e5b7f(0x909)+_0x25f009[_0x2e5b7f(0x7ae)](0x0)+_0x2e5b7f(0x7ee)+_0x5cfc84[_0x2e5b7f(0x326)]+'\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0x5cfc84[_0x2e5b7f(0x326)]>0x0?_0x5cfc84[_0x2e5b7f(0x8c0)](',\x20'):_0x2e5b7f(0xaf8))+_0x2e5b7f(0x6f8)+_0x206694['length']+'\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0x206694['length']>0x0?_0x206694[_0x2e5b7f(0x8c0)](',\x20'):_0x2e5b7f(0xaf8))+_0x2e5b7f(0x867)+_0x393bd6[_0x2e5b7f(0x326)]+_0x2e5b7f(0xa15)+(_0x393bd6[_0x2e5b7f(0x326)]>0x0?_0x393bd6[_0x2e5b7f(0x8c0)](',\x20'):'ไม่มี')+_0x2e5b7f(0x46b)+_0x6dd610+_0x2e5b7f(0x31c)+_0x185450+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x4ae57b[_0x48cd5b(0x993)]=_0x4d193f+_0x3fcb27;try{window[_0x48cd5b(0x2c3)]&&MathJax['typesetPromise']&&MathJax[_0x48cd5b(0x4f5)]([_0x4ae57b]);}catch(_0x3a9ef9){console['error'](_0x48cd5b(0x861),_0x3a9ef9);}}function calculateDistractorAnalysis(_0x23bb08,_0xaf81ec){const _0x531f75=_0x5b6af5,_0x58d76d={};if(_0xaf81ec['length']<0x2)return _0x58d76d;const _0x3cabf3=[..._0xaf81ec]['sort']((_0x516e11,_0x2568d9)=>{const _0x54b607=_0x2b61,_0x5bcbe8=_0x2568d9[_0x54b607(0x709)]-_0x516e11['latestScore'];if(_0x5bcbe8!==0x0)return _0x5bcbe8;const _0x5a0a68=_0x516e11[_0x54b607(0x49a)]?.[_0x54b607(0x326)]||0x1,_0x5595a4=_0x2568d9[_0x54b607(0x49a)]?.['length']||0x1,_0xeefa68=_0x5a0a68-_0x5595a4;if(_0xeefa68!==0x0)return _0xeefa68;const _0x76c5cb=new Date(_0x516e11[_0x54b607(0x937)]),_0x3891d6=new Date(_0x2568d9[_0x54b607(0x937)]),_0x2357f0=_0x76c5cb-_0x3891d6;if(_0x2357f0!==0x0)return _0x2357f0;return _0x516e11['studentName'][_0x54b607(0x972)](_0x2568d9['studentName'],'th');}),_0x39c136=_0x3cabf3[_0x531f75(0x326)],_0x3897e9=Math[_0x531f75(0x481)](0x1,Math[_0x531f75(0x957)](_0x39c136*0.33)),_0x4cbf6b=_0x3cabf3[_0x531f75(0xb0f)](0x0,_0x3897e9),_0x5cf12c=_0x3cabf3[_0x531f75(0xb0f)](-_0x3897e9);return _0x23bb08['questions']['forEach']((_0x1344da,_0x35d2d1)=>{const _0x3c7938=_0x531f75;if(_0x1344da['questionType']!=='multiple_choice'||!_0x1344da[_0x3c7938(0x6c3)])return;const _0x47d5e6=_0x1344da[_0x3c7938(0x7a4)],_0x47d38f={};_0x1344da['options']['forEach']((_0x3d2167,_0x3501f2)=>{_0x47d38f[_0x3501f2]={'text':_0x3d2167,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x3cabf3[_0x3c7938(0x394)](_0x4dcd86=>{const _0x4c2f6b=_0x3c7938,_0x1b783b=_0x4dcd86[_0x4c2f6b(0x49a)][_0x4dcd86[_0x4c2f6b(0x49a)][_0x4c2f6b(0x326)]-0x1],_0x3b607b=_0x1b783b[_0x4c2f6b(0x739)][_0x4c2f6b(0xa93)](_0x17868f=>_0x17868f[_0x4c2f6b(0xb04)]===_0x47d5e6);if(_0x3b607b&&_0x3b607b['answer']!==null){const _0xf381f4=_0x1344da[_0x4c2f6b(0x6c3)][_0x4c2f6b(0x585)](_0x72361b=>_0x72361b===_0x3b607b[_0x4c2f6b(0x42c)]);_0xf381f4!==-0x1&&_0x47d38f[_0xf381f4]&&(_0x47d38f[_0xf381f4]['total']++,_0x4cbf6b[_0x4c2f6b(0x680)](_0x4dcd86)&&_0x47d38f[_0xf381f4]['upper_group_count']++,_0x5cf12c[_0x4c2f6b(0x680)](_0x4dcd86)&&_0x47d38f[_0xf381f4][_0x4c2f6b(0x278)]++);}}),_0x58d76d[_0x35d2d1]=_0x47d38f;}),_0x58d76d;}function calculateReliabilityKR20(_0x2a6ebc,_0x270c48,_0x3957cd){const _0x558216=_0x5b6af5,_0x5ecdb3=_0x2a6ebc[_0x558216(0x313)][_0x558216(0x326)];if(_0x5ecdb3<0x2||_0x270c48[_0x558216(0x326)]<0x2)return null;const _0x529cdc=_0x270c48[_0x558216(0xa7a)](_0x235ecb=>_0x235ecb['latestScore']),_0x2b94b7=_0x529cdc[_0x558216(0xa97)]((_0x5c75d4,_0x7daf74)=>_0x5c75d4+_0x7daf74,0x0)/_0x529cdc[_0x558216(0x326)],_0x35ced0=_0x529cdc[_0x558216(0xa7a)](_0x32e9ae=>Math['pow'](_0x32e9ae-_0x2b94b7,0x2))[_0x558216(0xa97)]((_0x294f61,_0x51da31)=>_0x294f61+_0x51da31,0x0)/_0x529cdc[_0x558216(0x326)];if(_0x35ced0===0x0)return null;let _0x1ab919=0x0;for(let _0x2965a7=0x0;_0x2965a7<_0x5ecdb3;_0x2965a7++){const _0x346da9=_0x3957cd[_0x2965a7]?.['p'];if(_0x346da9===undefined)continue;const _0x2f1f7e=0x1-_0x346da9;_0x1ab919+=_0x346da9*_0x2f1f7e;}if(_0x1ab919===0x0)return null;const _0x2333db=_0x5ecdb3/(_0x5ecdb3-0x1)*(0x1-_0x1ab919/_0x35ced0);if(_0x2333db>0x1)return null;return _0x2333db;}async function handleAnalyzeClass(){const _0x3176b5=_0x5b6af5;if(!currentQuizData||!currentQuizData['id']){showMessage(_0x3176b5(0x7fc));return;}const _0x416e86=collection(db,'artifacts/'+appId+_0x3176b5(0x39f)+currentQuizData['id']+'/submissions'),_0x389185=await getDocs(_0x416e86),_0x295c71=_0x389185[_0x3176b5(0xa18)][_0x3176b5(0xa7a)](_0xc66c5a=>_0xc66c5a[_0x3176b5(0x266)]());if(_0x295c71[_0x3176b5(0x326)]<0x2){showMessage(_0x3176b5(0x2a2));return;}const _0x5f1011=document[_0x3176b5(0x318)](_0x3176b5(0xac4));_0x5f1011[_0x3176b5(0x993)]=_0x3176b5(0x4b2),document['getElementById'](_0x3176b5(0x767))[_0x3176b5(0x204)]=!![];const _0x52b3c0=_0x295c71[_0x3176b5(0xa7a)]((_0x145fb5,_0x1d90ee)=>{const _0x221c1b=_0x3176b5,_0x2121bc=_0x145fb5[_0x221c1b(0x49a)][_0x145fb5[_0x221c1b(0x49a)]['length']-0x1];if(!_0x2121bc)return'';return _0x221c1b(0x9ea)+(_0x1d90ee+0x1)+'\x20('+_0x145fb5[_0x221c1b(0x8cb)]+'):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20'+_0x2121bc[_0x221c1b(0x829)]+'/'+_0x145fb5[_0x221c1b(0x550)]+_0x221c1b(0xae1)+JSON['stringify'](_0x2121bc[_0x221c1b(0x739)])+_0x221c1b(0x5c1);})[_0x3176b5(0x8c0)](_0x3176b5(0x613)),_0x383601=_0x3176b5(0x944)+currentQuizData[_0x3176b5(0x53e)]+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20'+JSON[_0x3176b5(0x617)](currentQuizData[_0x3176b5(0x313)])+_0x3176b5(0xad0)+_0x52b3c0+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20',_0x38ab87={'type':_0x3176b5(0xa0a),'properties':{'classStrengths':{'type':_0x3176b5(0x805),'items':{'type':'STRING'}},'classWeaknesses':{'type':'ARRAY','items':{'type':_0x3176b5(0x864)}},'teacherSuggestions':{'type':_0x3176b5(0x805),'items':{'type':_0x3176b5(0x864)}}},'required':[_0x3176b5(0x363),'classWeaknesses',_0x3176b5(0x4c0)]};try{const _0x6fba2=await callAnalysisApi(_0x383601,_0x38ab87);displayClassAnalysis(_0x6fba2);}catch(_0x555acb){console['error'](_0x3176b5(0x2f2),_0x555acb),_0x5f1011[_0x3176b5(0x993)]=_0x3176b5(0xa85)+_0x555acb[_0x3176b5(0x8a6)]+'</p></div>';}finally{document[_0x3176b5(0x318)]('analyze-strengths-btn')[_0x3176b5(0x204)]=![];}}function displayClassAnalysis(_0x3df445){const _0x437f8e=_0x5b6af5,_0x36a8c3=document[_0x437f8e(0x318)]('strength-weakness-analysis-container');if(!_0x3df445){_0x36a8c3[_0x437f8e(0x993)]=_0x437f8e(0x22a);return;}_0x36a8c3[_0x437f8e(0x993)]=_0x437f8e(0x6c0)+_0x3df445[_0x437f8e(0x363)][_0x437f8e(0xa7a)](_0x5af9f6=>_0x437f8e(0x874)+_0x5af9f6+'</li>')[_0x437f8e(0x8c0)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3df445['classWeaknesses'][_0x437f8e(0xa7a)](_0x29a396=>_0x437f8e(0x874)+_0x29a396+_0x437f8e(0x359))[_0x437f8e(0x8c0)]('')+_0x437f8e(0x3c4)+_0x3df445[_0x437f8e(0x4c0)][_0x437f8e(0xa7a)](_0x5168b0=>_0x437f8e(0x874)+_0x5168b0+'</li>')[_0x437f8e(0x8c0)]('')+_0x437f8e(0xa09);}function formatAndPrintWorksheet(_0x1ba840,_0x39e65a){const _0x128756=_0x5b6af5,_0x856409='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20'+_0x1ba840[_0x128756(0x53e)]+_0x128756(0x766)+_0x1ba840[_0x128756(0x53e)]+_0x128756(0xa52)+_0x1ba840[_0x128756(0x313)]['map']((_0x242331,_0x116160)=>_0x128756(0x56a)+(_0x116160+0x1)+'.\x20'+_0x242331['questionText']+_0x128756(0x33a)+(_0x242331[_0x128756(0x7fb)]?_0x128756(0x28c)+_0x242331[_0x128756(0x7fb)]+_0x128756(0x6cb):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x128756(0x8c0)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x39e65a[_0x128756(0x99b)][_0x128756(0x2a6)](_0x856409),_0x39e65a['document']['close'](),_0x39e65a[_0x128756(0x210)]=function(){setTimeout(()=>{const _0x52d13b=_0x2b61;_0x39e65a[_0x52d13b(0x5f1)]();},0x3e8);};}async function generateWorksheet(){const _0x234e42=_0x5b6af5,_0x41f521=document['getElementById'](_0x234e42(0x88f))['value'][_0x234e42(0x442)]();if(!_0x41f521){showMessage('กรุณาป้อนหัวข้อสำหรับใบงาน');return;}const _0x14c067=document[_0x234e42(0x318)](_0x234e42(0x57e))[_0x234e42(0x82f)],_0x5d7b4d=_0x14c067?'':'คณิตศาสตร์',_0x12c909=window[_0x234e42(0xa8b)]('',_0x234e42(0x7b4));_0x12c909[_0x234e42(0x99b)]['write'](_0x234e42(0x2bf));const _0x46e501=parseInt(document['getElementById'](_0x234e42(0x589))[_0x234e42(0x3e2)]),_0x205122=document[_0x234e42(0x318)]('include-images-checkbox')[_0x234e42(0x82f)],_0x348e06=_0x205122?'สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย':'',_0x10f234='\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน'+_0x5d7b4d+'ที่พิมพ์ได้\x20จำนวน\x20'+_0x46e501+'\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22'+_0x41f521+_0x234e42(0xad7)+_0x348e06+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+'\x20\x0a\x20\x20\x20\x20',_0x5b6d78={'type':_0x234e42(0xa0a),'properties':{'topic':{'type':_0x234e42(0x864)},'questions':{'type':_0x234e42(0x805),'items':{'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'imageCode':{'type':_0x234e42(0x864)}},'required':[_0x234e42(0x7a4)]}}},'required':[_0x234e42(0x53e),'questions']};document[_0x234e42(0x318)](_0x234e42(0x85a))[_0x234e42(0x950)]='',document[_0x234e42(0x318)](_0x234e42(0xa27))[_0x234e42(0x821)][_0x234e42(0x981)](_0x234e42(0x8be)),document[_0x234e42(0x318)](_0x234e42(0x559))[_0x234e42(0x821)]['remove'](_0x234e42(0x8be)),generateWorksheetBtn[_0x234e42(0x204)]=!![];try{const _0x584188=await callAnalysisApi(_0x10f234,_0x5b6d78);formatAndPrintWorksheet(_0x584188,_0x12c909);}catch(_0xabb62f){console[_0x234e42(0x581)](_0x234e42(0x59d),_0xabb62f);if(_0x12c909)_0x12c909[_0x234e42(0x333)]();showMessage(_0x234e42(0x7f3));}finally{document[_0x234e42(0x318)]('loader')[_0x234e42(0x821)][_0x234e42(0x231)](_0x234e42(0x8be)),document[_0x234e42(0x318)](_0x234e42(0x559))[_0x234e42(0x821)][_0x234e42(0x231)](_0x234e42(0x8be)),generateWorksheetBtn[_0x234e42(0x204)]=![];}}async function callAnalysisApi(_0x4a58d5,_0x20c134){const _0x4e0a22=_0x5b6af5,_0x29c457={'contents':[{'role':'user','parts':[{'text':_0x4a58d5}]}],'generationConfig':{'responseMimeType':'application/json','responseSchema':_0x20c134}},_0x51d77e=_0x4e0a22(0x31d),_0x56cda9=_0x4e0a22(0x7df)+_0x51d77e,_0x32e917=await fetch(_0x56cda9,{'method':_0x4e0a22(0x436),'headers':{'Content-Type':_0x4e0a22(0x96f)},'body':JSON['stringify'](_0x29c457)});if(!_0x32e917['ok'])throw new Error(_0x4e0a22(0x959)+_0x32e917[_0x4e0a22(0x6d0)]);const _0x6c124a=await _0x32e917[_0x4e0a22(0x320)]();if(_0x6c124a[_0x4e0a22(0x539)]?.[0x0]?.['content']?.[_0x4e0a22(0x95b)]?.[0x0])return JSON[_0x4e0a22(0x97b)](_0x6c124a[_0x4e0a22(0x539)][0x0]['content'][_0x4e0a22(0x95b)][0x0]['text']);else{let _0x4129a8=_0x4e0a22(0x336);if(_0x6c124a['promptFeedback']?.[_0x4e0a22(0x4c9)])_0x4129a8='AI\x20request\x20was\x20blocked.\x20Reason:\x20'+_0x6c124a[_0x4e0a22(0x983)]['blockReason']+'.';else _0x6c124a['candidates']?.[0x0]?.[_0x4e0a22(0x474)]&&_0x6c124a['candidates'][0x0][_0x4e0a22(0x474)]!=='STOP'&&(_0x4129a8=_0x4e0a22(0x69d)+_0x6c124a[_0x4e0a22(0x539)][0x0]['finishReason']+'.');console['error'](_0x4129a8,JSON[_0x4e0a22(0x617)](_0x6c124a));throw new Error(_0x4129a8);}}async function handleStartSyncMode(_0x104c9c,_0x408ff9=![]){const _0x59eb84=_0x5b6af5,_0x1e4377=allQuizzes[_0x59eb84(0xa93)](_0x255d22=>_0x255d22['id']===_0x104c9c)||allQuizzesGlobal[_0x59eb84(0xa93)](_0x21a985=>_0x21a985['id']===_0x104c9c);if(!_0x1e4377){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}currentQuizData=getShuffledQuiz(_0x1e4377);const _0x553a36=Math[_0x59eb84(0x957)](0x3e8+Math[_0x59eb84(0x8f7)]()*0x2328)['toString']();try{const _0x1bcf42=await addDoc(collection(db,_0x59eb84(0x58b)+appId+'/public/data/syncGames'),{'quizId':_0x1e4377['id'],'pin':_0x553a36,'status':_0x59eb84(0x45d),'currentQuestionIndex':-0x1,'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x408ff9,'players':{}});currentLiveGameId=_0x1bcf42['id'],showView(_0x59eb84(0x7a3)),renderSyncLobbyView(_0x553a36,_0x1e4377[_0x59eb84(0x53e)]),listenForSyncGameUpdates();}catch(_0x45c2fd){console[_0x59eb84(0x581)]('Error\x20starting\x20sync\x20game:',_0x45c2fd),showMessage('เกิดข้อผิดพลาดในการสร้างห้อง\x20Sync\x20Game');}}function calculateFinalPodiumScores(_0x52a2c3){const _0x242b14=_0x5b6af5;if(!_0x52a2c3||!_0x52a2c3['shuffledQuiz']||!_0x52a2c3['players'])return _0x52a2c3[_0x242b14(0x546)]||{};const _0xb1b1e5=_0x52a2c3['shuffledQuiz'][_0x242b14(0x313)][_0x242b14(0x326)],_0x388915=JSON[_0x242b14(0x97b)](JSON['stringify'](_0x52a2c3['players']));return Object['values'](_0x388915)[_0x242b14(0x394)](_0x2e3397=>{const _0x4d365b=_0x242b14,_0x2839d5=_0x2e3397[_0x4d365b(0x829)];let _0x5b8213=0x0;_0x52a2c3[_0x4d365b(0x254)]&&_0x2e3397[_0x4d365b(0x739)]&&_0x2e3397['answers'][_0x4d365b(0x394)](_0x381a52=>{const _0x5980f2=_0x4d365b;if(_0x381a52[_0x5980f2(0x64c)]&&_0x381a52['wasConfident'])_0x5b8213+=0x1;else!_0x381a52[_0x5980f2(0x64c)]&&_0x381a52['wasConfident']&&(_0x5b8213-=0x1);}),_0x2e3397[_0x4d365b(0x829)]=_0x2839d5+_0x5b8213,_0xb1b1e5>0x0&&_0x2839d5===_0xb1b1e5&&(_0x2e3397[_0x4d365b(0x829)]+=0x1,_0x2e3397[_0x4d365b(0x659)]=!![]);}),_0x388915;}function listenForSyncGameUpdates(){const _0x3e645d=_0x5b6af5;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0xfac179=doc(db,_0x3e645d(0x58b)+appId+'/public/data/syncGames',currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0xfac179,_0x17055f=>{const _0x1be069=_0x3e645d;if(!_0x17055f[_0x1be069(0xa76)]()){sessionStorage[_0x1be069(0x1e0)](_0x1be069(0x7f5));if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();showMessage(_0x1be069(0x40a)),showView(currentMode===_0x1be069(0x6a3)?_0x1be069(0xb16):_0x1be069(0x73a));return;}const _0x397c90=_0x17055f[_0x1be069(0x266)]();currentMode===_0x1be069(0x6a3)?updateAdminSyncView(_0x397c90):updateStudentSyncView(_0x397c90);});}function renderSyncLobbyView(_0x5ac5b3,_0x6e4e4){const _0x1941db=_0x5b6af5;liveGameView['innerHTML']=_0x1941db(0x5b6)+_0x6e4e4+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>'+_0x5ac5b3+_0x1941db(0x6cf);const _0x2c8cbb=document[_0x1941db(0x318)]('confidence-scoring-toggle'),_0xadb57a=document[_0x1941db(0x318)](_0x1941db(0x759));_0x2c8cbb[_0x1941db(0x78c)]('change',()=>{const _0x12b19f=_0x1941db;_0xadb57a[_0x12b19f(0xae7)][_0x12b19f(0x58e)]=_0x2c8cbb[_0x12b19f(0x82f)]?_0x12b19f(0x3cd):_0x12b19f(0x6f7);}),document['getElementById'](_0x1941db(0x9ab))[_0x1941db(0x78c)](_0x1941db(0x382),async()=>{const _0x3d8fd4=_0x1941db,_0x53595e=doc(db,_0x3d8fd4(0x58b)+appId+'/public/data/syncGames',currentLiveGameId),_0x55c944=document[_0x3d8fd4(0x318)]('confidence-scoring-toggle')['checked'];await updateDoc(_0x53595e,{'status':'question','currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp(),'isConfidenceScoringEnabled':_0x55c944});});}function updateAdminSyncView(_0x3c6e39){const _0x4d4a3c=_0x5b6af5;switch(_0x3c6e39[_0x4d4a3c(0x6d0)]){case'lobby':renderSyncLobbyView(_0x3c6e39[_0x4d4a3c(0x4fd)],_0x3c6e39[_0x4d4a3c(0x3a4)]['topic']);const _0x3bdb33=Object[_0x4d4a3c(0xad2)](_0x3c6e39[_0x4d4a3c(0x546)]||{})['filter'](([_0x4c4595,_0x44b2f4])=>_0x44b2f4[_0x4d4a3c(0x6d0)]!==_0x4d4a3c(0x592));document[_0x4d4a3c(0x318)](_0x4d4a3c(0x2b8))[_0x4d4a3c(0x950)]=_0x3bdb33[_0x4d4a3c(0x326)],document[_0x4d4a3c(0x318)]('player-list-lobby')[_0x4d4a3c(0x993)]=_0x3bdb33[_0x4d4a3c(0xa7a)](([_0x24abcf,_0x3bbe90])=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x24abcf+_0x4d4a3c(0x5fa)+_0x24abcf+_0x4d4a3c(0x22f))['join']('')||_0x4d4a3c(0x914),document[_0x4d4a3c(0x318)]('start-sync-game-btn')['disabled']=_0x3bdb33[_0x4d4a3c(0x326)]===0x0;break;case _0x4d4a3c(0x406):const _0x3be665=Object[_0x4d4a3c(0x6db)](_0x3c6e39['players']||{})[_0x4d4a3c(0x5e3)](_0xf5fe84=>_0xf5fe84['status']!==_0x4d4a3c(0x592)),_0x3a848f=_0x3be665[_0x4d4a3c(0x5e3)](_0x571379=>_0x571379[_0x4d4a3c(0x685)])[_0x4d4a3c(0x326)],_0x2ae485=_0x3a848f===_0x3be665[_0x4d4a3c(0x326)]&&_0x3be665[_0x4d4a3c(0x326)]>0x0;if(_0x2ae485&&_0x3c6e39[_0x4d4a3c(0x6d0)]===_0x4d4a3c(0x406)){const _0x3c9486=doc(db,'artifacts/'+appId+'/public/data/syncGames',currentLiveGameId);updateDoc(_0x3c9486,{'status':_0x4d4a3c(0x40b)});}else{if(document['getElementById']('sync-player-management')===null)renderAdminSyncQuestionView(_0x3c6e39);else{const _0x1f71f2=document['getElementById'](_0x4d4a3c(0x9ef));_0x1f71f2&&(_0x1f71f2['textContent']=_0x3a848f+'/'+_0x3be665[_0x4d4a3c(0x326)]);const _0x22b3a8=document[_0x4d4a3c(0x318)](_0x4d4a3c(0x3c5));_0x22b3a8&&(_0x22b3a8[_0x4d4a3c(0x993)]=_0x3be665[_0x4d4a3c(0xa7a)](_0x433618=>{const _0x16ca7b=_0x4d4a3c,_0x32b69d=_0x433618[_0x16ca7b(0x685)]?_0x16ca7b(0x357):_0x16ca7b(0xadf),_0x110331=_0x433618['answered']?_0x16ca7b(0x693):_0x16ca7b(0x250);return _0x16ca7b(0x5a6)+_0x32b69d+_0x16ca7b(0x33e)+_0x110331+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x433618[_0x16ca7b(0x59f)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22'+_0x433618[_0x16ca7b(0x59f)]+_0x16ca7b(0x5bc);})['join'](''));}}break;case'summary':const _0x3867a8=_0x3c6e39[_0x4d4a3c(0x2ca)],_0x1961d7=_0x3c6e39[_0x4d4a3c(0x3a4)]['questions'][_0x3867a8];renderSyncSummaryView(_0x3c6e39,_0x1961d7,!![]);break;case _0x4d4a3c(0x8ce):renderAdminSyncDashboard(_0x3c6e39,!![]);break;case _0x4d4a3c(0x3ce):_0x3c6e39[_0x4d4a3c(0x745)]&&saveGameResultsAsSubmissions(_0x3c6e39);sessionStorage['removeItem'](_0x4d4a3c(0x7f5));const _0x51c24c=calculateFinalPodiumScores(_0x3c6e39);showPodiumView(_0x51c24c,'sync');break;}}function renderAdminSyncQuestionView(_0x38b1e6){const _0x3dd894=_0x5b6af5,_0xfbc050=_0x38b1e6[_0x3dd894(0x2ca)],_0x85d0cc=_0x38b1e6[_0x3dd894(0x3a4)]['questions'][_0xfbc050],_0x52da3e=_0x38b1e6[_0x3dd894(0x3a4)]['questions'][_0x3dd894(0x326)],_0x41b952=Object[_0x3dd894(0x6db)](_0x38b1e6['players']||{})[_0x3dd894(0x5e3)](_0x41de0=>_0x41de0[_0x3dd894(0x6d0)]!==_0x3dd894(0x592)),_0x2c15e4=_0x41b952['filter'](_0x5245e2=>_0x5245e2['answered'])[_0x3dd894(0x326)],_0x21c590=_0x2c15e4===_0x41b952[_0x3dd894(0x326)]&&_0x41b952['length']>0x0,_0x48c4bb=(_0x85d0cc[_0x3dd894(0x6c3)]||[])['map'](_0x3f0ecf=>_0x3dd894(0x217)+_0x3f0ecf+'</div>')[_0x3dd894(0x8c0)]('');liveGameView['innerHTML']=_0x3dd894(0x7d2)+(_0xfbc050+0x1)+_0x3dd894(0x682)+_0x52da3e+_0x3dd894(0x314)+_0x2c15e4+'/'+_0x41b952[_0x3dd894(0x326)]+_0x3dd894(0x6a7)+_0x85d0cc[_0x3dd894(0x7a4)]+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>'+_0x48c4bb+_0x3dd894(0x70e)+(!_0x21c590?_0x3dd894(0x204):'')+'>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';if(window[_0x3dd894(0x2c3)])MathJax[_0x3dd894(0x4f5)]();document['getElementById'](_0x3dd894(0x32a))[_0x3dd894(0x78c)]('click',async()=>{const _0x57fb64=_0x3dd894,_0x4e09c4=doc(db,_0x57fb64(0x58b)+appId+'/public/data/syncGames',currentLiveGameId);await updateDoc(_0x4e09c4,{'status':_0x57fb64(0x8ce)});}),document[_0x3dd894(0x318)]('open-sync-scratchpad-btn')[_0x3dd894(0xad8)]=()=>{const _0x38d3e6=_0x3dd894;openScratchpad(_0x85d0cc,_0x85d0cc[_0x38d3e6(0x6c3)]||[]);},document[_0x3dd894(0x318)]('sync-manage-players-btn')['addEventListener'](_0x3dd894(0x382),()=>{const _0x43ccdf=_0x3dd894;document['getElementById']('sync-player-management')['classList'][_0x43ccdf(0x4fe)](_0x43ccdf(0x8be));});}function renderSyncLeaderboardView(_0x2b2a2a,_0x52d92c){const _0x451712=_0x5b6af5,_0x212801=Object[_0x451712(0x6db)](_0x2b2a2a[_0x451712(0x546)]||{});_0x212801[_0x451712(0xaa5)]((_0x386a39,_0x9ed10)=>_0x9ed10[_0x451712(0x829)]-_0x386a39[_0x451712(0x829)]);const _0x1357a0=_0x212801['slice'](0x0,0x5);let _0x451560='';if(_0x52d92c){const _0x6e736d=_0x2b2a2a[_0x451712(0x2ca)]>=_0x2b2a2a[_0x451712(0x3a4)][_0x451712(0x313)][_0x451712(0x326)]-0x1;_0x451560=_0x451712(0x20e)+(_0x6e736d?_0x451712(0x4f1):'ข้อต่อไป')+_0x451712(0x43d);}else _0x451560=_0x451712(0x4c6);liveGameView[_0x451712(0x993)]=_0x451712(0x78a)+_0x1357a0[_0x451712(0xa7a)]((_0x5e9a08,_0x2190af)=>'<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22><span\x20class=\x22font-semibold\x22>'+(_0x2190af+0x1)+'.\x20'+_0x5e9a08['name']+_0x451712(0x21b)+_0x5e9a08[_0x451712(0x829)]+_0x451712(0x812))[_0x451712(0x8c0)]('')+_0x451712(0x7a7)+_0x451560+_0x451712(0x275),_0x52d92c&&document[_0x451712(0x318)](_0x451712(0x7e9))['addEventListener']('click',async()=>{const _0x55c337=_0x451712,_0x2eaba5=doc(db,_0x55c337(0x58b)+appId+'/public/data/syncGames',currentLiveGameId),_0x5e8c1d=_0x2b2a2a[_0x55c337(0x2ca)]+0x1;if(_0x5e8c1d<_0x2b2a2a['shuffledQuiz'][_0x55c337(0x313)][_0x55c337(0x326)]){const _0xe5c5b2={};Object['keys'](_0x2b2a2a[_0x55c337(0x546)])[_0x55c337(0x394)](_0x812129=>{const _0x1b580d=_0x55c337;_0xe5c5b2[_0x1b580d(0x441)+_0x812129+_0x1b580d(0x8a7)]=![];}),await updateDoc(_0x2eaba5,{..._0xe5c5b2,'status':'question','currentQuestionIndex':_0x5e8c1d,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x2eaba5,{'status':_0x55c337(0x3ce)});});}async function handleJoinSyncGame(){const _0x2ec339=_0x5b6af5,_0x4a6846=prompt(_0x2ec339(0x4fb));if(!_0x4a6846||_0x4a6846[_0x2ec339(0x442)]()[_0x2ec339(0x326)]!==0x2){showMessage('รหัสไม่ถูกต้อง');return;}try{const _0x438952=collection(db,_0x2ec339(0x58b)+appId+_0x2ec339(0x649)),_0xe9c3cb=query(_0x438952,where(_0x2ec339(0x4fd),'==',_0x4a6846[_0x2ec339(0x442)]()),where(_0x2ec339(0x6d0),'==','lobby')),_0x1ba9e2=await getDocs(_0xe9c3cb);if(_0x1ba9e2[_0x2ec339(0x2d0)]){showMessage(_0x2ec339(0x3d6));return;}const _0x379fed=_0x1ba9e2['docs'][0x0];currentLiveGameId=_0x379fed['id'];const _0x307146=_0x379fed[_0x2ec339(0x266)](),_0x3a0a3b=doc(db,_0x2ec339(0x58b)+appId+_0x2ec339(0xaca),_0x307146['quizId']),_0x275521=await getDoc(_0x3a0a3b);if(!_0x275521[_0x2ec339(0xa76)]())throw new Error(_0x2ec339(0x4f4));const _0x103f7b=_0x275521[_0x2ec339(0x266)](),_0x39b42a=doc(db,_0x2ec339(0x58b)+appId+_0x2ec339(0x268),_0x103f7b[_0x2ec339(0x1f9)]),_0x40987f=await getDoc(_0x39b42a);if(!_0x40987f[_0x2ec339(0xa76)]())throw new Error(_0x2ec339(0x4fa));currentQuizData=_0x307146[_0x2ec339(0x3a4)];const _0x133c37=_0x40987f[_0x2ec339(0x266)]();showView(_0x2ec339(0x4d6)),showTeamPlayerSelection(_0x133c37[_0x2ec339(0x938)],_0x103f7b['topic']);const _0x196819=document['getElementById'](_0x2ec339(0x64a));_0x196819[_0x2ec339(0xad8)]=confirmAndJoinSyncGame;}catch(_0x1b1f8f){console[_0x2ec339(0x581)](_0x2ec339(0x495),_0x1b1f8f),showMessage(_0x2ec339(0x431)+_0x1b1f8f[_0x2ec339(0x8a6)]);}}function updateStudentSyncView(_0x43b936){const _0x389a9b=_0x5b6af5,_0x1ab285=_0x43b936['players'][localTeamPlayers[0x0]];switch(_0x43b936['status']){case _0x389a9b(0x45d):showView('live-game'),liveGameView[_0x389a9b(0x993)]='<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>เข้าร่วมสำเร็จ!</h2><p>รอผู้ควบคุมเริ่มเกม...</p></div>';break;case _0x389a9b(0x406):const _0x1848dc=localTeamPlayers[_0x389a9b(0x724)](_0x4d2a5e=>_0x43b936[_0x389a9b(0x546)][_0x4d2a5e]?.[_0x389a9b(0x685)]===!![]);_0x1848dc?liveGameView['innerHTML']=_0x389a9b(0x547):renderStudentSyncQuestionView(_0x43b936);break;case _0x389a9b(0x40b):liveGameView[_0x389a9b(0x993)]=_0x389a9b(0x29f);break;case _0x389a9b(0x8ce):localPlayerTurnIndex=0x0,renderStudentSyncResultsView(_0x43b936);break;case _0x389a9b(0x3ce):sessionStorage[_0x389a9b(0x1e0)](_0x389a9b(0x7f5));const _0x332917=calculateFinalPodiumScores(_0x43b936);showPodiumView(_0x332917,'sync');break;}}function renderStudentSyncResultsView(_0x41344c){const _0x212952=_0x5b6af5,_0x1a8605=localTeamPlayers[_0x212952(0xa7a)](_0x557ddb=>_0x41344c['players'][_0x557ddb])[_0x212952(0x5e3)](Boolean);_0x1a8605[_0x212952(0xaa5)]((_0x33de16,_0x3590f4)=>(_0x3590f4[_0x212952(0x829)]||0x0)-(_0x33de16[_0x212952(0x829)]||0x0));const _0x384b63=_0x41344c[_0x212952(0x2ca)]>=_0x41344c['shuffledQuiz'][_0x212952(0x313)][_0x212952(0x326)]-0x1;let _0xa1b1f5='';_0x384b63?_0xa1b1f5='<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>':_0xa1b1f5=_0x212952(0x4f3);const _0x3d64e8=_0x212952(0xa9b)+_0x1a8605[_0x212952(0xa7a)]((_0x595acc,_0x13b408)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>'+(_0x13b408+0x1)+'.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x595acc[_0x212952(0x59f)]+_0x212952(0x4de)+_0x595acc[_0x212952(0x829)]+_0x212952(0x7a9))[_0x212952(0x8c0)]('')+_0x212952(0x588)+_0xa1b1f5+_0x212952(0x5ed);liveGameView[_0x212952(0x993)]=_0x3d64e8;}function renderStudentSyncQuestionView(_0x54e195){const _0x26b437=_0x5b6af5;while(localPlayerTurnIndex<localTeamPlayers[_0x26b437(0x326)]&&_0x54e195[_0x26b437(0x546)][localTeamPlayers[localPlayerTurnIndex]]?.['answered']===!![]){localPlayerTurnIndex++;}const _0x2fb2dc=localTeamPlayers[localPlayerTurnIndex];if(!_0x2fb2dc)return;const _0x16b028=_0x54e195['currentQuestionIndex'],_0x3c6fc7=_0x54e195['shuffledQuiz'][_0x26b437(0x313)][_0x26b437(0x326)],_0x495d77=_0x54e195[_0x26b437(0x3a4)][_0x26b437(0x313)][_0x16b028],_0x262a0f=_0x495d77[_0x26b437(0xb01)]||_0x54e195[_0x26b437(0x3a4)][_0x26b437(0x7ed)];let _0x187f94='',_0x41f91a=![];switch(_0x262a0f){case'true_false':_0x187f94=_0x26b437(0x402);break;case _0x26b437(0xa9e):case _0x26b437(0x773):_0x41f91a=!![],_0x187f94=_0x26b437(0x55d);break;case _0x26b437(0x917):_0x41f91a=!![],_0x187f94=_0x26b437(0x2d5)+(_0x495d77[_0x26b437(0x3e5)]||[])[_0x26b437(0xa7a)](_0x48ae26=>_0x26b437(0x6ed)+_0x48ae26+'\x22>'+_0x48ae26+'</option>')[_0x26b437(0x8c0)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x26b437(0x40c):default:_0x187f94=(_0x495d77['options']||[])[_0x26b437(0xa7a)]((_0x49d97e,_0x51a95e)=>_0x26b437(0x842)+_0x51a95e+_0x26b437(0x73f)+_0x49d97e+_0x26b437(0x498))[_0x26b437(0x8c0)]('');break;}liveGameView['innerHTML']=_0x26b437(0x863)+(_0x16b028+0x1)+_0x26b437(0x682)+_0x3c6fc7+_0x26b437(0x37f)+_0x2fb2dc+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>'+(_0x495d77[_0x26b437(0x7a4)]||_0x495d77[_0x26b437(0x6f3)])+_0x26b437(0x32d)+_0x187f94+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';if(window[_0x26b437(0x2c3)])MathJax[_0x26b437(0x4f5)]();const _0x1b5b6e=_0x404d97=>{const _0x216dc7=_0x26b437;_0x54e195['isConfidenceScoringEnabled']?(document['getElementById'](_0x216dc7(0xac8))[_0x216dc7(0x3e2)]=_0x404d97,document[_0x216dc7(0x318)](_0x216dc7(0x48f))['classList'][_0x216dc7(0x981)](_0x216dc7(0x8be))):handleSyncAnswerSubmit(_0x404d97,_0x495d77,_0x54e195,_0x2fb2dc,![]);};_0x41f91a?document[_0x26b437(0x318)]('sync-submit-btn')[_0x26b437(0x78c)](_0x26b437(0x382),()=>{const _0x162344=_0x26b437,_0x385662=document[_0x162344(0x318)](_0x162344(0x5eb))||document['getElementById']('sync-matching-select');if(_0x385662['value']['trim']()===''){showMessage(_0x162344(0x7cc));return;}_0x1b5b6e(_0x385662[_0x162344(0x3e2)]);}):document[_0x26b437(0x502)](_0x26b437(0x2a0))[_0x26b437(0x394)](_0x7a33b9=>{const _0x36ab78=_0x26b437;_0x7a33b9[_0x36ab78(0x78c)](_0x36ab78(0x382),()=>{_0x1b5b6e(_0x7a33b9['dataset']['value']);});});}async function handleSyncAnswerSubmit(_0xb7c93a,_0x330c45,_0x5e7149,_0x4f1135,_0x14bce9){const _0x3f6f18=_0x5b6af5;document[_0x3f6f18(0x502)](_0x3f6f18(0x26e))['forEach'](_0x1fe76e=>_0x1fe76e[_0x3f6f18(0x204)]=!![]);const _0x57a447=_0x330c45[_0x3f6f18(0xb01)]||_0x5e7149[_0x3f6f18(0x3a4)][_0x3f6f18(0x7ed)];let _0x40fada=![],_0x2bb6d8=_0xb7c93a;switch(_0x57a447){case _0x3f6f18(0x8d0):const _0x24815a=_0xb7c93a==='true';_0x40fada=_0x24815a===_0x330c45[_0x3f6f18(0x86a)],_0x2bb6d8=_0x24815a?_0x3f6f18(0x451):_0x3f6f18(0x940);break;case _0x3f6f18(0xa9e):case _0x3f6f18(0x773):_0x40fada=await gradeShortAnswer(_0xb7c93a,_0x330c45);break;case _0x3f6f18(0x917):_0x40fada=_0xb7c93a===_0x330c45[_0x3f6f18(0x2e3)];break;case _0x3f6f18(0x40c):default:const _0x507fbc=parseInt(_0xb7c93a);_0x40fada=_0x507fbc===_0x330c45[_0x3f6f18(0x859)];_0x330c45[_0x3f6f18(0x6c3)]&&_0x330c45['options'][_0x507fbc]&&(_0x2bb6d8=_0x330c45[_0x3f6f18(0x6c3)][_0x507fbc]);break;}const _0x1786fc=_0x40fada?0x1:0x0,_0x52d629=doc(db,_0x3f6f18(0x58b)+appId+_0x3f6f18(0x649),currentLiveGameId),_0x7009c6={};_0x7009c6['players.'+_0x4f1135+_0x3f6f18(0xa21)]=increment(_0x1786fc),_0x7009c6['players.'+_0x4f1135+_0x3f6f18(0x8a7)]=!![],_0x7009c6[_0x3f6f18(0x441)+_0x4f1135+'.lastAnswerIndex']=_0x57a447==='multiple_choice'?parseInt(_0xb7c93a):null;const _0x9ea532={'questionIndex':_0x5e7149[_0x3f6f18(0x2ca)],'questionId':_0x330c45['id'],'answer':_0xb7c93a,'answerText':_0x2bb6d8,'isCorrect':_0x40fada,'originalQuestionText':_0x330c45[_0x3f6f18(0x7a4)]||_0x330c45[_0x3f6f18(0x6f3)],'wasConfident':_0x14bce9};_0x7009c6[_0x3f6f18(0x441)+_0x4f1135+_0x3f6f18(0x4ad)]=arrayUnion(_0x9ea532),await updateDoc(_0x52d629,_0x7009c6);}initialize();
