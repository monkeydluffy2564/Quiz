const _0x585543=_0x3a08;(function(_0x260db1,_0x4f1559){const _0x2ed749=_0x3a08,_0x4c5353=_0x260db1();while(!![]){try{const _0x2c6165=parseInt(_0x2ed749(0x645))/0x1*(-parseInt(_0x2ed749(0x407))/0x2)+-parseInt(_0x2ed749(0x3b9))/0x3*(parseInt(_0x2ed749(0x310))/0x4)+parseInt(_0x2ed749(0x2a8))/0x5+parseInt(_0x2ed749(0x41b))/0x6*(-parseInt(_0x2ed749(0x1a4))/0x7)+-parseInt(_0x2ed749(0x474))/0x8*(parseInt(_0x2ed749(0x362))/0x9)+parseInt(_0x2ed749(0x4e8))/0xa*(-parseInt(_0x2ed749(0x5e0))/0xb)+parseInt(_0x2ed749(0x252))/0xc;if(_0x2c6165===_0x4f1559)break;else _0x4c5353['push'](_0x4c5353['shift']());}catch(_0x4fd1e0){_0x4c5353['push'](_0x4c5353['shift']());}}}(_0xce18,0x686a9));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,writeBatch,runTransaction,serverTimestamp,increment}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';const allMathTopics=[{'category':_0x585543(0x2ee),'name':'การนับ'},{'category':'จำนวนและการดำเนินการ','name':_0x585543(0x24d)},{'category':'จำนวนและการดำเนินการ','name':_0x585543(0x31c)},{'category':'จำนวนและการดำเนินการ','name':_0x585543(0x1ed)},{'category':_0x585543(0x2ee),'name':_0x585543(0x155)},{'category':_0x585543(0x2ee),'name':_0x585543(0x3a5)},{'category':_0x585543(0x2ee),'name':_0x585543(0x525)},{'category':'จำนวนและการดำเนินการ','name':_0x585543(0x1c7)},{'category':_0x585543(0x2ee),'name':'จำนวนเต็มบวก'},{'category':_0x585543(0x2ee),'name':_0x585543(0x335)},{'category':_0x585543(0x2ee),'name':_0x585543(0x158)},{'category':'จำนวนและการดำเนินการ','name':_0x585543(0x5d2)},{'category':'จำนวนและการดำเนินการ','name':_0x585543(0x5bd)},{'category':_0x585543(0x2ee),'name':_0x585543(0x623)},{'category':'จำนวนและการดำเนินการ','name':_0x585543(0x4fa)},{'category':_0x585543(0x2ee),'name':_0x585543(0x357)},{'category':_0x585543(0x2ee),'name':_0x585543(0x55a)},{'category':_0x585543(0x2ee),'name':_0x585543(0x1a1)},{'category':_0x585543(0x2ee),'name':_0x585543(0x315)},{'category':_0x585543(0x2ee),'name':'การบวกเศษส่วน'},{'category':'จำนวนและการดำเนินการ','name':_0x585543(0x1b0)},{'category':_0x585543(0x2ee),'name':_0x585543(0x63e)},{'category':_0x585543(0x2ee),'name':_0x585543(0x428)},{'category':_0x585543(0x2ee),'name':_0x585543(0x44f)},{'category':'จำนวนและการดำเนินการ','name':_0x585543(0x3f6)},{'category':_0x585543(0x2ee),'name':_0x585543(0x28b)},{'category':_0x585543(0x2ee),'name':_0x585543(0x4e7)},{'category':_0x585543(0x2ee),'name':_0x585543(0x2e5)},{'category':_0x585543(0x2ee),'name':_0x585543(0x138)},{'category':'จำนวนและการดำเนินการ','name':'แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ'},{'category':_0x585543(0x2ee),'name':_0x585543(0x61c)},{'category':_0x585543(0x2ee),'name':_0x585543(0x18c)},{'category':'จำนวนและการดำเนินการ','name':_0x585543(0x590)},{'category':_0x585543(0x2ee),'name':_0x585543(0x642)},{'category':_0x585543(0x2ee),'name':'รากที่สองและที่สาม'},{'category':_0x585543(0x2ee),'name':_0x585543(0x1fe)},{'category':_0x585543(0x2ee),'name':'สัญกรณ์วิทยาศาสตร์'},{'category':_0x585543(0x54b),'name':_0x585543(0x1a2)},{'category':_0x585543(0x54b),'name':_0x585543(0x60a)},{'category':_0x585543(0x54b),'name':_0x585543(0x298)},{'category':_0x585543(0x54b),'name':_0x585543(0x2ad)},{'category':_0x585543(0x54b),'name':_0x585543(0x450)},{'category':_0x585543(0x54b),'name':_0x585543(0x3e5)},{'category':'การวัด','name':_0x585543(0x2ef)},{'category':_0x585543(0x54b),'name':_0x585543(0x2ba)},{'category':'การวัด','name':'พื้นที่วงกลม/ส่วนของวงกลม'},{'category':'การวัด','name':'พื้นที่ผิวรูปทรงสามมิติ'},{'category':_0x585543(0x54b),'name':_0x585543(0x148)},{'category':_0x585543(0x54b),'name':_0x585543(0x48f)},{'category':_0x585543(0x54b),'name':_0x585543(0x5c6)},{'category':_0x585543(0x54b),'name':_0x585543(0x16c)},{'category':'เรขาคณิต','name':_0x585543(0x325)},{'category':'เรขาคณิต','name':_0x585543(0x1ce)},{'category':_0x585543(0x377),'name':'สามเหลี่ยม\x20(ชนิด/สมบัติ)'},{'category':_0x585543(0x377),'name':_0x585543(0x2ba)},{'category':'เรขาคณิต','name':'ความเท่ากันทุกประการของสามเหลี่ยม'},{'category':_0x585543(0x377),'name':_0x585543(0x250)},{'category':_0x585543(0x377),'name':_0x585543(0x260)},{'category':'เรขาคณิต','name':_0x585543(0x19c)},{'category':_0x585543(0x377),'name':_0x585543(0x37c)},{'category':_0x585543(0x377),'name':_0x585543(0x159)},{'category':'เรขาคณิต','name':'วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์'},{'category':'เรขาคณิต','name':_0x585543(0x146)},{'category':_0x585543(0x377),'name':_0x585543(0x393)},{'category':_0x585543(0x377),'name':_0x585543(0x31b)},{'category':'เรขาคณิต','name':_0x585543(0x517)},{'category':'พีชคณิตและฟังก์ชัน','name':'ตัวแปรและนิพจน์'},{'category':_0x585543(0x451),'name':_0x585543(0x538)},{'category':_0x585543(0x451),'name':_0x585543(0x505)},{'category':_0x585543(0x451),'name':_0x585543(0x1be)},{'category':_0x585543(0x451),'name':_0x585543(0x169)},{'category':_0x585543(0x451),'name':'ระบบสมการเชิงเส้นสองตัวแปร'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x585543(0x2e2)},{'category':_0x585543(0x451),'name':_0x585543(0x31a)},{'category':_0x585543(0x451),'name':'สมการค่าสัมบูรณ์'},{'category':_0x585543(0x451),'name':_0x585543(0x300)},{'category':_0x585543(0x451),'name':'สมการราก\x20(radical)'},{'category':_0x585543(0x451),'name':'สมการยกกำลัง'},{'category':_0x585543(0x451),'name':_0x585543(0x134)},{'category':_0x585543(0x451),'name':_0x585543(0x46e)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x585543(0x503)},{'category':_0x585543(0x451),'name':_0x585543(0x5eb)},{'category':_0x585543(0x451),'name':'ฟังก์ชัน:\x20แนวคิดและสัญกรณ์'},{'category':'พีชคณิตและฟังก์ชัน','name':'โดเมนและเรนจ์'},{'category':_0x585543(0x451),'name':_0x585543(0x441)},{'category':_0x585543(0x451),'name':'ฟังก์ชันผกผัน'},{'category':_0x585543(0x451),'name':'การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)'},{'category':_0x585543(0x451),'name':_0x585543(0x1cc)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x585543(0x16b)},{'category':_0x585543(0x451),'name':_0x585543(0x5e9)},{'category':_0x585543(0x451),'name':_0x585543(0x529)},{'category':_0x585543(0x451),'name':_0x585543(0x1d3)},{'category':_0x585543(0x451),'name':_0x585543(0x54d)},{'category':_0x585543(0x451),'name':'ฟังก์ชันแบบชิ้นส่วน'},{'category':_0x585543(0x451),'name':_0x585543(0x44a)},{'category':_0x585543(0x451),'name':_0x585543(0x168)},{'category':'พีชคณิตและฟังก์ชัน','name':'ลำดับเลขคณิต\x20(AP)'},{'category':_0x585543(0x451),'name':_0x585543(0x438)},{'category':_0x585543(0x451),'name':_0x585543(0x311)},{'category':_0x585543(0x451),'name':_0x585543(0x276)},{'category':_0x585543(0x451),'name':_0x585543(0x265)},{'category':_0x585543(0x313),'name':'ระยะทางและจุดกึ่งกลาง'},{'category':_0x585543(0x313),'name':_0x585543(0x323)},{'category':_0x585543(0x313),'name':'เส้นตรง:\x20รูปแบบสมการ'},{'category':_0x585543(0x313),'name':_0x585543(0x539)},{'category':_0x585543(0x313),'name':'ระยะจากจุดถึงเส้นตรง'},{'category':'เรขาคณิตวิเคราะห์','name':_0x585543(0x618)},{'category':'เรขาคณิตวิเคราะห์','name':_0x585543(0x60c)},{'category':_0x585543(0x313),'name':_0x585543(0x581)},{'category':_0x585543(0x313),'name':'ไฮเพอร์โบลา'},{'category':_0x585543(0x2af),'name':'อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก'},{'category':_0x585543(0x2af),'name':_0x585543(0x157)},{'category':_0x585543(0x2af),'name':_0x585543(0x37a)},{'category':_0x585543(0x2af),'name':'เรเดียนและการแปลงหน่วย'},{'category':_0x585543(0x2af),'name':_0x585543(0x1b1)},{'category':_0x585543(0x2af),'name':_0x585543(0x1e1)},{'category':_0x585543(0x2af),'name':_0x585543(0x364)},{'category':'ตรีโกณมิติ','name':_0x585543(0x3ad)},{'category':_0x585543(0x2af),'name':_0x585543(0x646)},{'category':_0x585543(0x2af),'name':_0x585543(0x305)},{'category':_0x585543(0x2af),'name':_0x585543(0x293)},{'category':_0x585543(0x4cb),'name':_0x585543(0x552)},{'category':_0x585543(0x4cb),'name':_0x585543(0x5da)},{'category':_0x585543(0x4cb),'name':_0x585543(0x2d3)},{'category':_0x585543(0x4cb),'name':_0x585543(0x1e3)},{'category':'สถิติและความน่าจะเป็น','name':_0x585543(0x2e7)},{'category':_0x585543(0x4cb),'name':'แผนภาพกล่อง\x20(box\x20plot)'},{'category':_0x585543(0x4cb),'name':'ค่าเฉลี่ย'},{'category':_0x585543(0x4cb),'name':_0x585543(0x5c9)},{'category':_0x585543(0x4cb),'name':_0x585543(0x280)},{'category':_0x585543(0x4cb),'name':_0x585543(0x524)},{'category':_0x585543(0x4cb),'name':_0x585543(0x570)},{'category':_0x585543(0x4cb),'name':_0x585543(0x4b9)},{'category':'สถิติและความน่าจะเป็น','name':'ส่วนเบี่ยงเบนมาตรฐาน'},{'category':_0x585543(0x4cb),'name':'การแจกแจงปกติและ\x20z-score'},{'category':'สถิติและความน่าจะเป็น','name':'สหสัมพันธ์และเส้นถดถอยเชิงเส้น'},{'category':_0x585543(0x4cb),'name':_0x585543(0x3e3)},{'category':_0x585543(0x4cb),'name':'กฎบวกและกฎคูณ'},{'category':_0x585543(0x4cb),'name':_0x585543(0x27b)},{'category':_0x585543(0x4cb),'name':_0x585543(0x51e)},{'category':'สถิติและความน่าจะเป็น','name':'ความเป็นอิสระของเหตุการณ์'},{'category':'สถิติและความน่าจะเป็น','name':'การเรียงสับเปลี่ยน\x20(Permutation)'},{'category':'สถิติและความน่าจะเป็น','name':_0x585543(0x278)},{'category':'สถิติและความน่าจะเป็น','name':_0x585543(0x220)},{'category':_0x585543(0x4cb),'name':'ความคาดหมาย\x20(Expected\x20value)'},{'category':_0x585543(0x622),'name':_0x585543(0x12d)},{'category':'แคลคูลัสเบื้องต้น','name':_0x585543(0x475)},{'category':'แคลคูลัสเบื้องต้น','name':_0x585543(0x164)},{'category':_0x585543(0x622),'name':_0x585543(0x433)},{'category':_0x585543(0x622),'name':_0x585543(0x262)},{'category':_0x585543(0x622),'name':_0x585543(0x288)},{'category':_0x585543(0x622),'name':'ความชันเส้นสัมผัส'},{'category':'แคลคูลัสเบื้องต้น','name':'อัตราการเปลี่ยนแปลงทันที'},{'category':'แคลคูลัสเบื้องต้น','name':_0x585543(0x533)},{'category':'แคลคูลัสเบื้องต้น','name':_0x585543(0x29b)},{'category':_0x585543(0x622),'name':_0x585543(0x347)},{'category':_0x585543(0x622),'name':_0x585543(0x247)},{'category':_0x585543(0x622),'name':'พื้นที่ใต้กราฟ/ระหว่างกราฟ'},{'category':_0x585543(0x534),'name':_0x585543(0x2e9)},{'category':_0x585543(0x534),'name':'ดอทโปรดักต์\x20(dot)'},{'category':_0x585543(0x534),'name':_0x585543(0x617)},{'category':_0x585543(0x534),'name':'เมทริกซ์:\x20บวก/คูณ'},{'category':_0x585543(0x534),'name':_0x585543(0x512)},{'category':_0x585543(0x534),'name':_0x585543(0x389)},{'category':_0x585543(0x534),'name':_0x585543(0x3e9)},{'category':'คณิตการเงิน/บูรณาการ','name':_0x585543(0x61d)},{'category':_0x585543(0x3ca),'name':'ดอกเบี้ยทบต้น'},{'category':'คณิตการเงิน/บูรณาการ','name':_0x585543(0x363)},{'category':_0x585543(0x3ca),'name':_0x585543(0x2cf)},{'category':_0x585543(0x3ca),'name':'ร้อยละประยุกต์'},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':_0x585543(0x33e)},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':_0x585543(0x3f1)},{'category':_0x585543(0x542),'name':_0x585543(0x496)}];function renderTopicCheckboxes(){const _0x31b892=_0x585543,_0x566f54=document['getElementById'](_0x31b892(0x217));if(!_0x566f54)return;const _0x1bbd89=allMathTopics[_0x31b892(0x198)]((_0x5a1087,_0x48dcd2)=>{const _0x40caf5=_0x31b892;return!_0x5a1087[_0x48dcd2[_0x40caf5(0x606)]]&&(_0x5a1087[_0x48dcd2[_0x40caf5(0x606)]]=[]),_0x5a1087[_0x48dcd2[_0x40caf5(0x606)]][_0x40caf5(0x3c7)](_0x48dcd2),_0x5a1087;},{});let _0xacde43='';for(const _0x5f5431 in _0x1bbd89){_0xacde43+=_0x31b892(0x350),_0xacde43+=_0x31b892(0x35b)+_0x5f5431+_0x31b892(0x395),_0x1bbd89[_0x5f5431]['forEach'](_0x32a59e=>{const _0x5c6dd6=_0x31b892;_0xacde43+=_0x5c6dd6(0x2c9)+_0x32a59e[_0x5c6dd6(0x507)]+_0x5c6dd6(0x3d0)+_0x32a59e['name']+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0xacde43+='</div>';}_0x566f54[_0x31b892(0x48c)]=_0xacde43,_0x566f54['addEventListener'](_0x31b892(0x2cd),()=>{const _0x3c9134=_0x31b892,_0x405b1e=_0x566f54[_0x3c9134(0x243)](_0x3c9134(0x5b1))[_0x3c9134(0x31f)],_0x6f05d2=document[_0x3c9134(0x3b1)](_0x3c9134(0x4c7));_0x405b1e>0x0?_0x6f05d2[_0x3c9134(0x18d)]=_0x3c9134(0x5f5)+_0x405b1e+'\x20หัวข้อ)':_0x6f05d2[_0x3c9134(0x18d)]='';});}let db,auth,userId,currentMode=_0x585543(0x4c0),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy=_0x585543(0x2cb),quizLeaderboardSortOrder=_0x585543(0x1b5),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1;const BADGES={'PERFECT_SCORE':{'id':_0x585543(0x343),'name':_0x585543(0x59c),'description':_0x585543(0x460),'icon':_0x585543(0x2b8)},'QUICK_THINKER':{'id':_0x585543(0x353),'name':_0x585543(0x609),'description':_0x585543(0x24e),'icon':_0x585543(0x523)},'ON_FIRE':{'id':'on_fire','name':'ท็อปฟอร์ม','description':'ตอบถูก\x203\x20ข้อติดต่อกัน','icon':_0x585543(0x2c7)},'FIRST_TRY_ACE':{'id':_0x585543(0x142),'name':_0x585543(0x131),'description':_0x585543(0x445),'icon':_0x585543(0x3dd)},'COMEBACK_KING':{'id':_0x585543(0x613),'name':_0x585543(0x15e),'description':'สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','icon':_0x585543(0x4d6)},'SPECIALIST':{'id':_0x585543(0x5f7),'name':'ผู้เชี่ยวชาญ','description':'ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','icon':_0x585543(0x398)},'PERSEVERANCE':{'id':_0x585543(0x4e6),'name':_0x585543(0x16d),'description':_0x585543(0x23c),'icon':_0x585543(0x417)}},firebaseConfig={'apiKey':_0x585543(0x413),'authDomain':_0x585543(0x619),'projectId':_0x585543(0x359),'storageBucket':'ai-quiz-app-aefee.appspot.com','messagingSenderId':_0x585543(0x2c8),'appId':'1:274192258111:web:4120c9118229b5644dd48a','measurementId':_0x585543(0x35e)},appId=typeof __app_id!==_0x585543(0x627)?__app_id:'ai-quiz-generator-v3',adminView=document['getElementById']('admin-view'),studentView=document[_0x585543(0x3b1)](_0x585543(0x4a8)),projectDashboardView=document[_0x585543(0x3b1)](_0x585543(0x3aa)),projectDetailView=document['getElementById']('project-detail-view'),quizResultsView=document[_0x585543(0x3b1)](_0x585543(0x636)),projectList=document['getElementById'](_0x585543(0x358)),noProjectsMsg=document['getElementById'](_0x585543(0x2aa)),projectTitle=document['getElementById']('project-title'),projectIdDisplay=document[_0x585543(0x3b1)]('project-id-display'),studentList=document[_0x585543(0x3b1)]('student-list'),messageModal=document[_0x585543(0x3b1)](_0x585543(0x4a2)),modalMessage=document[_0x585543(0x3b1)](_0x585543(0x35c)),createProjectModal=document['getElementById']('create-project-modal'),adminPasswordModal=document['getElementById'](_0x585543(0x1b9)),confirmationModal=document['getElementById'](_0x585543(0x3ee)),userIdDisplay=document['getElementById']('user-id-display'),topicTab=document[_0x585543(0x3b1)](_0x585543(0x1ad)),textTab=document['getElementById'](_0x585543(0x238)),topicInputArea=document[_0x585543(0x3b1)]('topic-input-area'),textInputArea=document[_0x585543(0x3b1)](_0x585543(0x5e6)),manageTab=document[_0x585543(0x3b1)]('manage-tab'),resultsTab=document[_0x585543(0x3b1)]('results-tab'),leaderboardTab=document[_0x585543(0x3b1)]('leaderboard-tab'),manageTabContent=document['getElementById'](_0x585543(0x161)),resultsTabContent=document['getElementById'](_0x585543(0x2b4)),leaderboardTabContent=document[_0x585543(0x3b1)](_0x585543(0x41d)),projectQuizzesList=document[_0x585543(0x3b1)](_0x585543(0x3db)),fileTab=document[_0x585543(0x3b1)]('file-tab'),fileInputArea=document[_0x585543(0x3b1)]('file-input-area'),fileUploadInput=document['getElementById'](_0x585543(0x1e2)),worksheetTab=document[_0x585543(0x3b1)](_0x585543(0x5c2)),worksheetInputArea=document[_0x585543(0x3b1)]('worksheet-input-area'),generateWorksheetBtn=document['getElementById'](_0x585543(0x339)),studentInitialView=document[_0x585543(0x3b1)](_0x585543(0x4f3)),studentNameSelectionView=document[_0x585543(0x3b1)](_0x585543(0x376)),studentQuizArea=document[_0x585543(0x3b1)](_0x585543(0x273)),studentResultArea=document[_0x585543(0x3b1)](_0x585543(0x39c)),studentReadingArea=document[_0x585543(0x3b1)](_0x585543(0x2a6)),loadQuizBtn=document[_0x585543(0x3b1)]('load-quiz-btn'),startQuizBtn=document[_0x585543(0x3b1)](_0x585543(0x45a)),studentJoinGameView=document[_0x585543(0x3b1)](_0x585543(0x4bd)),presentationModal=document[_0x585543(0x3b1)](_0x585543(0x5c5)),renameQuizModal=document[_0x585543(0x3b1)](_0x585543(0x127)),moveQuizModal=document['getElementById'](_0x585543(0x253)),quizSettingsModal=document[_0x585543(0x3b1)](_0x585543(0x3f5)),quizStatusModal=document[_0x585543(0x3b1)]('quiz-status-modal'),liveGameView=document[_0x585543(0x3b1)](_0x585543(0x38e));function handleAutoFixLatex(){const _0x3ece5c=_0x585543,_0x23db88=document['getElementById']('quiz-editor-questions-container');if(!_0x23db88)return;const _0x1445e6=_0x23db88[_0x3ece5c(0x243)](_0x3ece5c(0x225)),_0x2b3601=[{'find':/\$[^a-zA-Z{}]*?(frac|rac)\s*\{([^}]+?)\}\s*\{([^}]+?)\}\$/g,'replace':_0x3ece5c(0x52b)},{'find':/\$[^a-zA-Z{}]*?(times|imes)\$/g,'replace':_0x3ece5c(0x2c3)}];let _0x53767b=0x0;_0x1445e6[_0x3ece5c(0x3c3)](_0x421d0f=>{const _0x10fc63=_0x3ece5c;let _0x446c96=_0x421d0f['value'],_0x127570=_0x446c96;_0x2b3601[_0x10fc63(0x3c3)](_0x2ce2f5=>{const _0x244eba=_0x10fc63;_0x127570=_0x127570[_0x244eba(0x41f)](_0x2ce2f5[_0x244eba(0x286)],_0x2ce2f5[_0x244eba(0x41f)]);}),_0x446c96!==_0x127570&&(_0x421d0f[_0x10fc63(0x401)]=_0x127570,_0x53767b++);}),_0x53767b>0x0?showMessage(_0x3ece5c(0x5b4)+_0x53767b+_0x3ece5c(0x478)):showMessage('ไม่พบโค้ดที่ต้องแก้ไขในรูปแบบที่รู้จัก');}async function initialize(){const _0x3c3628=_0x585543;try{const _0x4330ae=initializeApp(firebaseConfig);db=getFirestore(_0x4330ae),auth=getAuth(_0x4330ae),setupAuthListener(),setupEventListeners(),showView(_0x3c3628(0x4c0)),renderTopicCheckboxes();}catch(_0x13baf3){console[_0x3c3628(0x61f)](_0x3c3628(0x61a),_0x13baf3),showMessage(_0x3c3628(0x5f6));}}function compareNumericalAnswers(_0x5bbb74,_0x7c8cc3){const _0x49ee23=_0x585543,_0x31368d=String(_0x5bbb74)[_0x49ee23(0x41f)](',','.')[_0x49ee23(0x41f)](/[^\d.-]/g,'')[_0x49ee23(0x1d4)](),_0xdc1118=String(_0x7c8cc3)[_0x49ee23(0x41f)](',','.')['replace'](/[^\d.-]/g,'')[_0x49ee23(0x1d4)]();if(_0x31368d===''||_0xdc1118==='')return![];const _0x1a9358=parseFloat(_0x31368d),_0x3f9505=parseFloat(_0xdc1118);if(isNaN(_0x1a9358)||isNaN(_0x3f9505))return![];return Math['abs'](_0x1a9358-_0x3f9505)<0.001;}async function gradeShortAnswer(_0x317d53,_0x4b1242){const _0x482280=_0x585543,_0x498448=_0x4b1242[_0x482280(0x17a)];if(String(_0x317d53)['trim']()[_0x482280(0x191)]()===String(_0x498448)[_0x482280(0x1d4)]()[_0x482280(0x191)]())return!![];if(compareNumericalAnswers(_0x317d53,_0x498448))return!![];return console['log'](_0x482280(0x449)),await gradeShortAnswerWithAI(_0x317d53,_0x498448);}async function revealAnswerForAdmin(_0xa2d892,_0x2ead65){const _0x481d3e=_0x585543;if(document[_0x481d3e(0x3b1)](_0x481d3e(0x15c)))return;const _0x4d7e4a=doc(db,_0x481d3e(0x23a)+appId+_0x481d3e(0x2d2),currentLiveGameId);await updateDoc(_0x4d7e4a,{'questionStatus':_0x481d3e(0x569)});const _0x35ac29=liveGameView[_0x481d3e(0x3fc)](_0x481d3e(0x452));_0x35ac29&&(_0x35ac29[_0x481d3e(0x4c9)][_0x481d3e(0x5ce)](_0x481d3e(0x3cb)),_0x35ac29['classList'][_0x481d3e(0x21b)]('bg-green-300','text-green-900','font-bold',_0x481d3e(0x55f),_0x481d3e(0x3a1)),_0x35ac29[_0x481d3e(0x48c)]='<i\x20class=\x22fas\x20fa-check\x20mr-3\x22></i>'+_0x35ac29[_0x481d3e(0x48c)]);const _0x2a2bdf=document[_0x481d3e(0x3b1)](_0x481d3e(0x20e));_0x2a2bdf&&(_0x2a2bdf[_0x481d3e(0x48c)]=_0x481d3e(0x2f3)+(_0xa2d892+0x1===_0x2ead65?'ดูสรุปผล':'ข้อต่อไป')+_0x481d3e(0x371),document['getElementById'](_0x481d3e(0x15c))[_0x481d3e(0x336)](_0x481d3e(0x20a),async()=>{const _0xadb0c9=_0x481d3e,_0x2a268f=doc(db,_0xadb0c9(0x23a)+appId+_0xadb0c9(0x2d2),currentLiveGameId),_0x57d86b=await getDoc(_0x2a268f);if(!_0x57d86b[_0xadb0c9(0x4b7)]())return;const _0x5af223=_0x57d86b[_0xadb0c9(0x5d5)](),_0x53e165={};if(_0x5af223[_0xadb0c9(0x562)])for(const _0x5214a7 in _0x5af223[_0xadb0c9(0x562)]){_0x53e165['players.'+_0x5214a7+_0xadb0c9(0x154)]=![];}const _0xdbc0ac=_0xa2d892+0x1;_0xdbc0ac<_0x2ead65?(_0x53e165[_0xadb0c9(0x1e6)]=_0xdbc0ac,_0x53e165['questionDisplayedAt']=serverTimestamp(),_0x53e165[_0xadb0c9(0x2c6)]='answering',await updateDoc(_0x2a268f,_0x53e165)):await updateDoc(_0x2a268f,{'status':_0xadb0c9(0x60b)});}));}function setupAuthListener(){onAuthStateChanged(auth,async _0x40706a=>{const _0x3e62f2=_0x3a08;if(_0x40706a){userId=_0x40706a[_0x3e62f2(0x45e)],userIdDisplay[_0x3e62f2(0x18d)]=userId;if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes();}else await authenticateUser();});}function showPodiumView(_0x20cb73){const _0x5def7e=_0x585543,_0x400370=Object[_0x5def7e(0x140)](_0x20cb73)[_0x5def7e(0x20c)](([_0x3752d3,_0x178a02])=>({'name':_0x3752d3,'score':_0x178a02[_0x5def7e(0x2d4)]||0x0,'badges':_0x178a02[_0x5def7e(0x430)]||[]}));_0x400370[_0x5def7e(0x132)]((_0x16bd5c,_0x4f5bc7)=>{const _0x444437=_0x5def7e,_0x2d4f18=_0x4f5bc7['score']-_0x16bd5c[_0x444437(0x2d4)];if(_0x2d4f18!==0x0)return _0x2d4f18;return(_0x4f5bc7[_0x444437(0x430)]['length']||0x0)-(_0x16bd5c[_0x444437(0x430)]['length']||0x0);});const _0x55823b=_0x24537e=>{const _0x4b9684=_0x5def7e;if(!_0x24537e||_0x24537e[_0x4b9684(0x31f)]===0x0)return'';const _0x294538={'quick_thinker':'⚡️','on_fire':'🔥'};return'<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>'+_0x24537e[_0x4b9684(0x20c)](_0x191558=>_0x294538[_0x191558]||'')['join']('')+_0x4b9684(0x291);},_0x3fc323=_0x400370[_0x5def7e(0x39e)](0x3),_0x188006=_0x3fc323[_0x5def7e(0x31f)]>0x0?_0x5def7e(0x513)+_0x3fc323[_0x5def7e(0x20c)]((_0x3793b9,_0x1eeda0)=>_0x5def7e(0x4ea)+(_0x1eeda0+0x4)+_0x5def7e(0x2f7)+_0x3793b9[_0x5def7e(0x507)]+_0x5def7e(0x4ab)+_0x3793b9[_0x5def7e(0x2d4)]+_0x5def7e(0x2e8))[_0x5def7e(0x4a1)]('')+_0x5def7e(0x43d):'',_0x3f1af7=_0x5def7e(0x5f1)+(_0x400370[0x1]?_0x5def7e(0x228)+_0x400370[0x1][_0x5def7e(0x507)]+_0x5def7e(0x2bd)+_0x55823b(_0x400370[0x1][_0x5def7e(0x430)])+_0x5def7e(0x1cd)+_0x400370[0x1][_0x5def7e(0x2d4)]+'\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x5def7e(0x269))+_0x5def7e(0x5a6)+(_0x400370[0x0]?_0x5def7e(0x439)+_0x400370[0x0][_0x5def7e(0x507)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x55823b(_0x400370[0x0][_0x5def7e(0x430)])+_0x5def7e(0x4ce)+_0x400370[0x0][_0x5def7e(0x2d4)]+_0x5def7e(0x1ee):_0x5def7e(0x269))+_0x5def7e(0x5a6)+(_0x400370[0x2]?_0x5def7e(0x17b)+_0x400370[0x2][_0x5def7e(0x507)]+_0x5def7e(0x2bd)+_0x55823b(_0x400370[0x2][_0x5def7e(0x430)])+_0x5def7e(0x1cd)+_0x400370[0x2][_0x5def7e(0x2d4)]+_0x5def7e(0x5f3):'<div\x20class=\x22flex-1\x22></div>')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x188006+_0x5def7e(0x5db)+(currentMode===_0x5def7e(0x3fa)?_0x5def7e(0x3f3):_0x5def7e(0x443))+_0x5def7e(0x419);liveGameView[_0x5def7e(0x48c)]=_0x3f1af7,currentMode===_0x5def7e(0x3fa)&&document[_0x5def7e(0x3b1)](_0x5def7e(0x135))[_0x5def7e(0x336)](_0x5def7e(0x20a),async()=>{const _0x7b1236=_0x5def7e,_0x3eb978=doc(db,'artifacts/'+appId+_0x7b1236(0x2d2),currentLiveGameId);await deleteDoc(_0x3eb978),showView(_0x7b1236(0x14f));});}async function handleStartLiveRace(_0x7f6f8a){const _0xe4418c=_0x585543;let _0x170ac0=allQuizzes[_0xe4418c(0x286)](_0x4ce0c9=>_0x4ce0c9['id']===_0x7f6f8a);if(!_0x170ac0){const _0x1c445f=doc(db,_0xe4418c(0x23a)+appId+_0xe4418c(0x378),_0x7f6f8a),_0x3a95d5=await getDoc(_0x1c445f);if(!_0x3a95d5[_0xe4418c(0x4b7)]()){showMessage(_0xe4418c(0x5f2));return;}_0x170ac0={'id':_0x3a95d5['id'],..._0x3a95d5[_0xe4418c(0x5d5)]()};}currentQuizData=getShuffledQuiz(_0x170ac0);const _0x3c4df2=_0x170ac0[_0xe4418c(0x388)]||currentProjectId||null,_0x445507=Math['floor'](0x3e8+Math[_0xe4418c(0x299)]()*0x2328)[_0xe4418c(0x375)]();currentLiveGamePin=_0x445507;try{const _0x3bf6cb=await addDoc(collection(db,_0xe4418c(0x23a)+appId+'/public/data/liveGames'),{'quizId':_0x7f6f8a,'projectId':_0x3c4df2,'status':'lobby','currentQuestionIndex':-0x1,'players':{},'gamePin':_0x445507,'createdAt':serverTimestamp()});currentLiveGameId=_0x3bf6cb['id'],showAdminLobbyView(_0x445507,_0x170ac0[_0xe4418c(0x153)]),listenForLiveGameUpdates();}catch(_0x2f1fb1){console['error'](_0xe4418c(0x1ff),_0x2f1fb1),showMessage('เกิดข้อผิดพลาดในการสร้างห้องเกม');}}async function handleShowStudentRankings(){const _0x4954f6=_0x585543,_0x2f99b8=document[_0x4954f6(0x3fc)]('#student-quiz-leaderboard-content\x20thead');_0x2f99b8&&(_0x2f99b8['innerHTML']=_0x4954f6(0x4af));const _0x99335d=document[_0x4954f6(0x3fc)](_0x4954f6(0x3c4));_0x99335d&&(_0x99335d['innerHTML']=_0x4954f6(0x1e0));const _0x520072=document[_0x4954f6(0x3b1)](_0x4954f6(0x23d));_0x520072[_0x4954f6(0x4c9)]['remove'](_0x4954f6(0x4be)),document[_0x4954f6(0x3b1)]('close-student-rankings-btn')[_0x4954f6(0x143)]=()=>_0x520072[_0x4954f6(0x4c9)][_0x4954f6(0x21b)](_0x4954f6(0x4be));const _0x41e914=document[_0x4954f6(0x3b1)](_0x4954f6(0x27d)),_0x324965=document[_0x4954f6(0x3b1)](_0x4954f6(0x400)),_0x567a21=document['getElementById']('student-quiz-leaderboard-content'),_0x40ff9c=document[_0x4954f6(0x3b1)](_0x4954f6(0x4ae));_0x41e914[_0x4954f6(0x143)]=()=>{const _0x16ec89=_0x4954f6;_0x41e914['classList']['add'](_0x16ec89(0x5b0)),_0x324965[_0x16ec89(0x4c9)][_0x16ec89(0x5ce)]('active'),_0x567a21['classList'][_0x16ec89(0x5ce)](_0x16ec89(0x4be)),_0x40ff9c['classList']['add'](_0x16ec89(0x4be));},_0x324965['onclick']=()=>{const _0xd0dd18=_0x4954f6;_0x324965[_0xd0dd18(0x4c9)][_0xd0dd18(0x21b)](_0xd0dd18(0x5b0)),_0x41e914[_0xd0dd18(0x4c9)][_0xd0dd18(0x5ce)]('active'),_0x40ff9c['classList'][_0xd0dd18(0x5ce)](_0xd0dd18(0x4be)),_0x567a21[_0xd0dd18(0x4c9)]['add'](_0xd0dd18(0x4be));};try{const _0x3403bc=collection(db,_0x4954f6(0x23a)+appId+_0x4954f6(0x1ea)+currentQuizData['id']+_0x4954f6(0x620)),_0x4e6c8f=await getDocs(_0x3403bc),_0x376646=_0x4e6c8f[_0x4954f6(0x128)]['map'](_0x210378=>_0x210378[_0x4954f6(0x5d5)]());renderQuizLeaderboard(_0x376646,currentQuizData,_0x4954f6(0x4ed));const _0x38e126=collection(db,_0x4954f6(0x23a)+appId+_0x4954f6(0x43f)+currentQuizData[_0x4954f6(0x388)]+_0x4954f6(0x4d9)),_0x54f52e=await getDocs(_0x38e126),_0x325f8c=_0x54f52e[_0x4954f6(0x128)][_0x4954f6(0x20c)](_0x352cc0=>_0x352cc0[_0x4954f6(0x5d5)]());renderLeaderboard(_0x325f8c,_0x4954f6(0x472));}catch(_0x51fb4a){console[_0x4954f6(0x61f)](_0x4954f6(0x3d4),_0x51fb4a),showMessage(_0x4954f6(0x3a7));}}async function handleSaveToBank(_0x41647c){const _0x450ad3=_0x585543,_0x5551ae=_0x41647c['currentTarget'],_0x1df5e0=_0x5551ae['dataset']['index'],_0x429ff0=currentQuizData[_0x450ad3(0x480)][_0x1df5e0];if(!userId){showMessage('ไม่พบข้อมูลผู้ใช้');return;}try{const _0x286dd1={..._0x429ff0,'originalTopic':currentQuizData['topic'],'savedAt':serverTimestamp()},_0x2baadd=collection(db,_0x450ad3(0x23a)+appId+_0x450ad3(0x5c7)+userId+_0x450ad3(0x34e));await addDoc(_0x2baadd,_0x286dd1),showMessage(_0x450ad3(0x568)),_0x5551ae[_0x450ad3(0x4c9)][_0x450ad3(0x5ce)](_0x450ad3(0x15b)),_0x5551ae[_0x450ad3(0x4c9)]['add'](_0x450ad3(0x34f)),_0x5551ae[_0x450ad3(0x3f9)]=!![];}catch(_0x42c14b){console[_0x450ad3(0x61f)](_0x450ad3(0x42d),_0x42c14b),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}function listenForStarredQuizzes(){const _0x501e58=_0x585543;if(!userId)return;const _0x33262a=collection(db,_0x501e58(0x23a)+appId+'/public/data/quizzes'),_0x1e0399=query(_0x33262a,where(_0x501e58(0x481),'==',!![]));onSnapshot(_0x1e0399,_0x50c9ee=>{const _0x30cd70=_0x501e58;starredQuizzes=_0x50c9ee['docs'][_0x30cd70(0x20c)](_0x47188a=>({'id':_0x47188a['id'],..._0x47188a[_0x30cd70(0x5d5)]()})),renderProjects();},_0xb26e=>{const _0x3ce81d=_0x501e58;console[_0x3ce81d(0x61f)]('Error\x20listening\x20for\x20starred\x20quizzes:',_0xb26e);});}async function handleToggleStarQuiz(_0x249acc){const _0x4b3ad8=_0x585543,_0x14252c=doc(db,'artifacts/'+appId+_0x4b3ad8(0x378),_0x249acc);try{const _0x7bf7f=await getDoc(_0x14252c);if(_0x7bf7f[_0x4b3ad8(0x4b7)]()){const _0x486c7a=_0x7bf7f['data']()[_0x4b3ad8(0x481)]||![];await updateDoc(_0x14252c,{'isStarred':!_0x486c7a});}}catch(_0x7a7897){console[_0x4b3ad8(0x61f)]('Error\x20toggling\x20star\x20status:',_0x7a7897),showMessage('เกิดข้อผิดพลาดในการติดดาว');}}async function displayQuestionBank(){const _0x4bc7c6=_0x585543,_0x37c938=document[_0x4bc7c6(0x3b1)]('bank-input-area');_0x37c938[_0x4bc7c6(0x48c)]=_0x4bc7c6(0x5a9);try{const _0x1e4e77=collection(db,_0x4bc7c6(0x23a)+appId+_0x4bc7c6(0x5c7)+userId+_0x4bc7c6(0x34e)),_0x416cab=query(_0x1e4e77),_0x1223a2=await getDocs(_0x416cab);if(_0x1223a2[_0x4bc7c6(0x39d)]){_0x37c938['innerHTML']='<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>';return;}let _0x57ae7d=_0x1223a2[_0x4bc7c6(0x128)][_0x4bc7c6(0x20c)](_0x262934=>{const _0x2ca203=_0x4bc7c6,_0x11ff6c=_0x262934[_0x2ca203(0x5d5)](),_0x499ba5=_0x262934['id'];return _0x2ca203(0x2b1)+JSON[_0x2ca203(0x4d3)](_0x11ff6c)+_0x2ca203(0x369)+(_0x11ff6c[_0x2ca203(0x219)]||_0x11ff6c[_0x2ca203(0x50c)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20'+_0x11ff6c['originalTopic']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})['join']('');_0x37c938['innerHTML']=_0x4bc7c6(0x16a)+_0x57ae7d+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',document[_0x4bc7c6(0x3b1)]('create-from-bank-btn')[_0x4bc7c6(0x336)]('click',createQuizFromBank);}catch(_0x22c16b){console[_0x4bc7c6(0x61f)](_0x4bc7c6(0x187),_0x22c16b),_0x37c938['innerHTML']=_0x4bc7c6(0x1c8);}}function showAdminLiveQuestionView(_0x6c68f,_0x4f0b42,_0x59e95a){const _0x2876f8=_0x585543,_0x3868b6=_0x6c68f[_0x2876f8(0x5e2)]||currentQuizData[_0x2876f8(0x54f)];let _0x65a811='';if(_0x3868b6===_0x2876f8(0x4a9)||_0x3868b6===_0x2876f8(0x22d)){const _0x36e3f3=_0x3868b6===_0x2876f8(0x22d)?[_0x2876f8(0x643),_0x2876f8(0x436)]:_0x6c68f[_0x2876f8(0x275)],_0x3857c0=_0x3868b6===_0x2876f8(0x22d)?_0x6c68f[_0x2876f8(0x1f2)]?0x0:0x1:_0x6c68f['correctAnswerIndex'];_0x65a811=_0x36e3f3[_0x2876f8(0x20c)]((_0x5e8d9a,_0x3db77a)=>_0x2876f8(0x47e)+(_0x3db77a===_0x3857c0)+_0x2876f8(0x233)+_0x5e8d9a+_0x2876f8(0x360))[_0x2876f8(0x4a1)]('');}else{if(_0x3868b6==='matching_item'){const _0x202c29=_0x6c68f[_0x2876f8(0x48e)]||[];_0x65a811=_0x202c29['map'](_0x20dc3e=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22'+(_0x20dc3e===_0x6c68f[_0x2876f8(0x1b4)])+_0x2876f8(0x233)+_0x20dc3e+_0x2876f8(0x360))[_0x2876f8(0x4a1)]('');}}const _0x4cabe1=_0x6c68f[_0x2876f8(0x50c)]||_0x6c68f[_0x2876f8(0x219)],_0x539e84=_0x2876f8(0x601)+(_0x4f0b42+0x1)+_0x2876f8(0x272)+_0x59e95a+_0x2876f8(0x1fb)+_0x4cabe1+_0x2876f8(0x1cb)+_0x65a811+_0x2876f8(0x1ab);liveGameView[_0x2876f8(0x48c)]=_0x539e84;window[_0x2876f8(0x3a9)]&&MathJax[_0x2876f8(0x1e7)]&&MathJax['typesetPromise']([liveGameView]);const _0x199b9c=document[_0x2876f8(0x3b1)]('admin-action-buttons');document[_0x2876f8(0x3b1)](_0x2876f8(0x50e))['addEventListener'](_0x2876f8(0x20a),async()=>{const _0x191802=_0x2876f8,_0xffb39a=doc(db,_0x191802(0x23a)+appId+_0x191802(0x2d2),currentLiveGameId);await updateDoc(_0xffb39a,{'questionStatus':'revealed'});const _0x23c448=liveGameView['querySelector'](_0x191802(0x452));_0x23c448&&(_0x23c448[_0x191802(0x4c9)][_0x191802(0x5ce)]('bg-white/30'),_0x23c448['classList']['add'](_0x191802(0x24a),_0x191802(0x455),_0x191802(0x31e),'border-4',_0x191802(0x3a1)),_0x23c448[_0x191802(0x48c)]=_0x191802(0x5d4)+_0x23c448[_0x191802(0x48c)]),_0x199b9c[_0x191802(0x48c)]=_0x191802(0x2f3)+(_0x4f0b42+0x1===_0x59e95a?_0x191802(0x2f8):_0x191802(0x1b2))+_0x191802(0x371),document[_0x191802(0x3b1)](_0x191802(0x15c))[_0x191802(0x336)](_0x191802(0x20a),async()=>{const _0x59bfb9=_0x191802,_0x26da97=doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId),_0x15cd6e=await getDoc(_0x26da97);if(!_0x15cd6e['exists']())return;const _0x3bf41a=_0x15cd6e['data'](),_0x2665ab={};if(_0x3bf41a[_0x59bfb9(0x562)])for(const _0x1942f0 in _0x3bf41a[_0x59bfb9(0x562)]){_0x2665ab[_0x59bfb9(0x306)+_0x1942f0+_0x59bfb9(0x154)]=![];}const _0x4ecb4b=_0x4f0b42+0x1;_0x4ecb4b<_0x59e95a?(_0x2665ab['currentQuestionIndex']=_0x4ecb4b,_0x2665ab[_0x59bfb9(0x63b)]=serverTimestamp(),_0x2665ab[_0x59bfb9(0x2c6)]=_0x59bfb9(0x40f),await updateDoc(_0x26da97,_0x2665ab)):await updateDoc(_0x26da97,{'status':_0x59bfb9(0x60b)});});}),document[_0x2876f8(0x3b1)](_0x2876f8(0x297))[_0x2876f8(0x336)](_0x2876f8(0x20a),async()=>{const _0x6686aa=_0x2876f8,_0x5a03d1=doc(db,_0x6686aa(0x23a)+appId+_0x6686aa(0x2d2),currentLiveGameId);await deleteDoc(_0x5a03d1),showView('admin-dashboard');});}function showStudentLiveQuestionView(_0x5305b1,_0x36f482,_0x261a4a){const _0x519c1c=_0x585543,_0x5a184f=_0x5305b1[_0x519c1c(0x5e2)]||currentQuizData['quizType'];let _0x46eefb='';if(_0x5a184f===_0x519c1c(0x4a9)||_0x5a184f==='true_false'){const _0x597aa5=_0x5a184f===_0x519c1c(0x22d)?[_0x519c1c(0x643),_0x519c1c(0x436)]:_0x5305b1[_0x519c1c(0x275)];_0x46eefb=_0x597aa5['map']((_0x48f9f9,_0x34800a)=>_0x519c1c(0x5ac)+_0x34800a+'\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x48f9f9+_0x519c1c(0x319))[_0x519c1c(0x4a1)]('');}else{if(_0x5a184f===_0x519c1c(0x47c)){const _0xdb154f=_0x5305b1[_0x519c1c(0x48e)]||[];_0x46eefb=_0xdb154f[_0x519c1c(0x20c)]((_0x1b2bc3,_0x5c6bcd)=>_0x519c1c(0x5ac)+_0x5c6bcd+_0x519c1c(0x2a4)+_0x1b2bc3+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x519c1c(0x4a1)]('');}else _0x5a184f==='short_answer'&&(_0x46eefb='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}const _0x4be505=_0x5305b1['stem']||_0x5305b1['questionText'],_0x14776b='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20'+(_0x36f482+0x1)+'\x20/\x20'+_0x261a4a+_0x519c1c(0x296)+_0x4be505+_0x519c1c(0x3c5)+_0x46eefb+_0x519c1c(0x5e5);liveGameView[_0x519c1c(0x48c)]=_0x14776b;window[_0x519c1c(0x3a9)]&&MathJax[_0x519c1c(0x1e7)]&&MathJax[_0x519c1c(0x1e7)]([liveGameView]);const _0x39f5c5=document[_0x519c1c(0x3b1)](_0x519c1c(0x303));_0x39f5c5&&_0x39f5c5['addEventListener'](_0x519c1c(0x20a),()=>{const _0x564579=_0x519c1c,_0x2f9796=document[_0x564579(0x3b1)](_0x564579(0x479))[_0x564579(0x401)];handleLiveAnswer(_0x2f9796,_0x5305b1);}),document[_0x519c1c(0x3b1)](_0x519c1c(0x2d8))[_0x519c1c(0x336)]('click',_0x5354d3=>{const _0x2893e7=_0x519c1c,_0x3c8ac4=_0x5354d3[_0x2893e7(0x624)][_0x2893e7(0x476)]('.live-answer-btn');if(_0x3c8ac4){const _0x148b51=parseInt(_0x3c8ac4[_0x2893e7(0x5bb)]['index']);handleLiveAnswer(_0x148b51,_0x5305b1);}});}async function handleLiveAnswer(_0x395480,_0x4dc946){const _0x482069=_0x585543;document[_0x482069(0x243)](_0x482069(0x312))['forEach'](_0x1ce274=>_0x1ce274[_0x482069(0x3f9)]=!![]);const _0xf310ca=_0x4dc946[_0x482069(0x5e2)]||currentQuizData[_0x482069(0x54f)];let _0x44437f=![];if(_0xf310ca==='short_answer'){const _0x5916ce=(_0x395480||'')[_0x482069(0x375)]();_0x44437f=await gradeShortAnswer(_0x5916ce,_0x4dc946);}else{if(_0xf310ca===_0x482069(0x4a9))_0x44437f=_0x395480===_0x4dc946[_0x482069(0x560)];else{if(_0xf310ca===_0x482069(0x22d)){const _0x368cec=_0x4dc946[_0x482069(0x1f2)];_0x44437f=_0x395480===0x0&&_0x368cec||_0x395480===0x1&&!_0x368cec;}else{if(_0xf310ca===_0x482069(0x47c)){const _0x37e6fb=_0x4dc946[_0x482069(0x48e)][_0x395480];_0x44437f=_0x37e6fb===_0x4dc946[_0x482069(0x1b4)];}}}}const _0x595010=doc(db,_0x482069(0x23a)+appId+_0x482069(0x2d2),currentLiveGameId),_0x1961f6=await getDoc(_0x595010);if(!_0x1961f6[_0x482069(0x4b7)]())return;const _0x11abb6=_0x1961f6[_0x482069(0x5d5)](),_0x52681c=_0x11abb6[_0x482069(0x562)][currentStudentName];let _0x3271ca=_0x52681c[_0x482069(0x430)]||[],_0x57f949=_0x52681c[_0x482069(0x1bc)]||0x0;const _0x26de6c={};let _0xa21d8a=0x0;if(_0x11abb6['questionDisplayedAt']){const _0x87ab62=_0x11abb6['questionDisplayedAt'][_0x482069(0x2d9)](),_0x14080e=new Date()-_0x87ab62;if(_0x44437f){const _0x1e5dde=0x3e8,_0xa4998=0x1f4,_0x2081e6=0x4e20;let _0x5cc001=_0x14080e/_0x2081e6;if(_0x5cc001>0x1)_0x5cc001=0x1;const _0x36a25f=Math['round'](_0x5cc001*_0xa4998);_0xa21d8a=_0x1e5dde-_0x36a25f,_0x14080e<=0x1388&&!_0x3271ca['includes'](_0x482069(0x353))&&_0x3271ca[_0x482069(0x3c7)]('quick_thinker');}}_0x44437f?(_0x57f949++,_0x57f949===0x3&&!_0x3271ca[_0x482069(0x17e)](_0x482069(0x435))&&(_0x3271ca[_0x482069(0x3c7)]('on_fire'),_0x57f949=0x0)):_0x57f949=0x0,_0x44437f&&(_0x26de6c[_0x482069(0x306)+currentStudentName+_0x482069(0x5e8)]=increment(_0xa21d8a)),_0x26de6c[_0x482069(0x306)+currentStudentName+_0x482069(0x628)]=_0x3271ca,_0x26de6c[_0x482069(0x306)+currentStudentName+_0x482069(0x3b8)]=_0x57f949,_0x26de6c[_0x482069(0x306)+currentStudentName+'.answeredCurrentQuestion']=!![],_0x26de6c[_0x482069(0x306)+currentStudentName+'.lastAnswerCorrect']=_0x44437f,_0x26de6c[_0x482069(0x306)+currentStudentName+_0x482069(0x12e)]=_0xa21d8a,await updateDoc(_0x595010,_0x26de6c),liveGameView[_0x482069(0x48c)]='<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>';}function createQuizFromBank(){const _0x312ad2=_0x585543,_0x3e3fd1=document[_0x312ad2(0x243)](_0x312ad2(0x470));if(_0x3e3fd1[_0x312ad2(0x31f)]===0x0){showMessage(_0x312ad2(0x261));return;}const _0x15c2c5=[];_0x3e3fd1['forEach'](_0x5bda89=>{const _0x38561e=_0x312ad2;_0x15c2c5['push'](JSON[_0x38561e(0x557)](_0x5bda89['value']));});const _0xd66ed0={'topic':_0x312ad2(0x555),'questions':_0x15c2c5};displayGeneratedQuiz(_0xd66ed0);}function _0xce18(){const _0x10e24b=['เปิดใช้งาน','student-join-game-view','hidden','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-indigo-800\x20pointer-events-none\x22>','student','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข','topic-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','(คัดลอก)\x20','เกิดข้อผิดพลาดในการโหลดสถานะ','selected-topics-count','QUICK_THINKER','classList','\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>','สถิติและความน่าจะเป็น','\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน','ผ่าน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x22>','scores-tab-btn','\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','attempts','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','stringify','.csv','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','fa-shield-alt\x20text-gray-600','<option\x20value=\x22','rgba(79,\x2070,\x20229,\x200.8)','/studentProfiles','คณิตศาสตร์','admin-try-quiz-btn','parseFromString','width','quiz-editor-modal','Error\x20updating\x20quiz\x20status:','.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20','leaderboard-quiz-tab-content','fill_in_the_blank','ไม่มี','start-live-race-generated-btn','perseverance','การลบทศนิยม','1612870wLvdSN','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','%\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','global-live-game-modal','student-quiz-leaderboard-table-body','Error\x20deleting\x20quiz:','project-sort-select','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','\x20คู่\x20','student-initial-view','<textarea\x20name=\x22question','.doc','createObjectURL','\x0a\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','project-search-input','passingScore','ห.ร.ม.\x20(GCD)','player-list-lobby','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบแบบทดสอบ','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>','update','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','อสมการค่าสัมบูรณ์','input','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','loader','name','checked','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','font-bold\x20text-green-700','stem','mouseleave','reveal-answer-btn','\x22?\x20ข้อมูลทั้งหมดในโปรเจคนี้\x20(รวมถึงแบบทดสอบและผลการส่งงาน)\x20จะถูกลบอย่างถาวร','isArray','resultsDisplay','อินเวอร์สของเมทริกซ์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ring-2','2741','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','ทฤษฎีบทพีทาโกรัสและการประยุกต์','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','PERFECT_SCORE','ส่งคำตอบ','save','style','normal','ความน่าจะเป็นแบบมีเงื่อนไข','select','classStrengths','label','<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>','fa-bolt\x20text-blue-500','พิสัย','การคูณ','ไม่มีคำอธิบาย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>','type','ฟังก์ชันสัมพัทธ์\x20(rational)','<li\x20class=\x22','$\x5cfrac{$2}{$3}$','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','q-image-container-','button','description','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-end\x20flex-wrap\x20gap-2\x20mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','findIndex','Optimization\x20(ค่าสูงสุด–ต่ำสุด)','เวกเตอร์และเมทริกซ์\x20(เสริม)','cancel-test-btn','admin-view','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<h2\x20class=\x22text-3xl\x20font-bold\x22>หมดเวลา!</h2>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเฉลยและไปข้อต่อไป...</p>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x20</div>','การกระจายและการจัดหมู่','เส้นตรง:\x20ขนาน/ตั้งฉาก','date_asc','ไม่พบเกมด้วยรหัสนี้\x20กรุณาตรวจสอบอีกครั้ง','image/png','back-from-results-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20(','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','show_results_and_answers','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q','.admin-try-quiz-list-btn','substring','defaultNumChoices','opacity-50','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','dispatchEvent','การวัด','.delete-quiz-btn','ฟังก์ชันค่าสัมบูรณ์','confirm-admin-login-btn','quizType','toLocaleString','difficulty-level-select','ชนิดของข้อมูลและการเก็บข้อมูล','focus','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','แบบทดสอบจากคลังส่วนตัว','modal-shuffle-select','parse','STOP','</option>','อัตราส่วนและสัดส่วน','some','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน','quiz-leaderboard-table-body','td,\x20th','border-4','correctAnswerIndex','Error\x20generating\x20quiz:','players','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','<div\x20class=\x22p-3\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','แบบทดสอบนี้หมดเวลาแล้ว','href','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','revealed','Error\x20fetching\x20quiz\x20settings:','latestSubmittedAt','bg-green-500','status','doughnut','icon','ส่วนเบี่ยงเบนเฉลี่ย','</span></div>','prev-question-btn','write','สร้างคำถามแบบใช่/ไม่ใช่','ไม่ผ่าน','bank-tab','createElementNS','กรุณาวาง\x20URL\x20ของบทความก่อน','quiz-leaderboard-table-container','#view-rankings-btn','show_pass_fail_only','qType','results-table-container','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','วงรี','auto-fix-latex-btn','touchend','</h2>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<p\x20class=\x22mt-8\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x20</div>','min','ไม่พบแบบทดสอบสำหรับรหัสนี้','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20','modal-timer-duration-input','modal-adaptive-quiz-checkbox','removeChild','\x20ข้อ)</span>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','students','<i\x20class=\x22fas\x20fa-save\x22></i>','generated-quiz-container','ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน','results-display-select','submissions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาดในการสร้างเนื้อหาทบทวน','.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20','<p><strong>คำตอบของคุณ:</strong>\x20','fullscreenElement','>\x20<label\x20for=\x22status-schedule\x22>ตั้งเวลาเปิด/ปิด\x20(Schedule)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','schedule','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','คะแนนเต็ม','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','keys','.start-live-race-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','timer-duration-container','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','per-question-text','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','<div><input\x20type=\x22radio\x22\x20id=\x22q','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่สามารถบันทึกการตั้งค่าได้','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','<div\x20class=\x22loader\x20mx-auto\x22></div>','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q_opt','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','per-question-timer-container','</span></td>','\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','active','input[type=\x22checkbox\x22]:checked','เกิดข้อผิดพลาดในการลบโปรเจค','อัปเดตสถานะสำเร็จ','แก้ไขโค้ดคณิตศาสตร์\x20','generate-from-link-btn','Error\x20duplicating\x20quiz:','projectName','shuffle-setting-select','.quiz-settings-btn','เปลี่ยนชื่อแบบทดสอบสำเร็จ','dataset','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','เส้นจำนวน','create-project-btn','timerMode','Error\x20moving\x20quiz:','timer-duration-input','worksheet-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>','getAttributeNS','presentation-modal','สเกลและแผนที่','/users/','แบบทดสอบที่ติดดาว','มัธยฐาน','Remedial\x20quiz\x20generation\x20failed:','modal-results-display-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20h-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confirm-move-quiz-btn','remove','สร้างคำถามใหม่\x201\x20ข้อ\x20','Error\x20during\x20class\x20analysis:','submit','ค่าสัมบูรณ์','originalQuestion','<i\x20class=\x22fas\x20fa-check\x20mr-3\x22></i>','data','Leaderboard\x20update\x20transaction\x20failed:\x20','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','thead\x20.sortable-header','การจัดกลุ่มข้อมูล','\x20\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<h1></h1>','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','.mb-3','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','11lgmsqx','COMEBACK_KING','questionType','localeCompare','ลบแบบทดสอบสำเร็จแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','text-input-area','</p></div>','.score','ฟังก์ชันพหุนาม','editable-text-','ระบบอสมการ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22active\x22\x20id=\x22status-active\x22\x20','เกมสิ้นสุดลงแล้ว','.quiz-status-btn','text-green-600\x20font-bold','fixed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบข้อมูลแบบทดสอบ','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','submittedAt','(เลือกแล้ว\x20','ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้','specialist','timerDuration','AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA','getScreenCTM','cancel-rename-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20leading-relaxed\x20text-center\x22>','Error\x20adding\x20students:','question','quiz-schedule-end-container','clientY','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20','remedialContent','whole_quiz','ไม่สามารถเริ่มเกมได้','category','delete-svg-btn','บันทึกการแก้ไข','เซียนสมองไว','หน่วยมวล/น้ำหนักและการแปลง','podium','พาราโบลา','<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>','.save-to-bank-btn','\x22><i\x20class=\x22fas\x20','</td>','open-global-live-btn','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','comeback_king','student-name-input','quiz-end-time','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การประยุกต์เวกเตอร์พื้นฐาน','วงกลม:\x20สมการและสมบัติ','ai-quiz-app-aefee.firebaseapp.com','Firebase\x20initialization\x20failed:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','ร้อยละพื้นฐาน','ดอกเบี้ยอย่างง่าย','s;\x22\x20title=\x22','error','/submissions','เกิดข้อผิดพลาดในการอัปเดตสถานะ','แคลคูลัสเบื้องต้น','ตัวประกอบและตัวประกอบเฉพาะ','target','กำลังสร้างรูปภาพ...','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','undefined','.badges','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','Invalid\x20response\x20structure\x20from\x20AI:','startTime','message','>\x20<label\x20for=\x22status-active\x22>เปิดใช้งาน\x20(Active)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22inactive\x22\x20id=\x22status-inactive\x22\x20','ไม่ได้ตอบ','settings','Original\x20quiz\x20not\x20found','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','gamePin','both','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','split','quiz-results-view','00:00','save-quiz-edits-btn','totalPoints','blockReason','questionDisplayedAt','สร้างคำถามแบบเติมคำในช่องว่าง','results_','การคูณเศษส่วน','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-start-time','\x20ครั้ง)</span></td>','เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)','ใช่','จากเนื้อหาต่อไปนี้:\x20\x22','193109aJXsup','สมการตรีโกณมิติ','.copy-quiz-id-list-btn','cancel-quiz-edits-btn','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','\x5ctimes','rename-quiz-modal','docs','presentation-short-answer-input','.project-card-content','answeredCurrentQuestion','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','ลิมิต','.pointsLastQuestion','เกิดข้อผิดพลาดในการบันทึก','key','ผ่านฉลุย','sort','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','สมการลอการิทึม','close-game-final-btn','onload','quizId','การหารทศนิยม','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','include-images-checkbox','delete-all-students-btn','Error\x20deleting\x20all\x20students:','mouseup','#per-question-options\x20select','entries','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','first_try_ace','onclick','setAttributeNS','th-TH','การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)','timer-bar','ปริมาตรรูปทรงสามมิติ','quiz-form','ชื่อเล่นนี้ถูกใช้ไปแล้ว\x20กรุณาใช้ชื่ออื่น','คัดลอกรหัสแล้ว!','starred','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-700\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','admin-dashboard','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','num-choices','toISOString','topic','.answeredCurrentQuestion','การบวก','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','มุมพิเศษ\x2030°-60°-90°','ศูนย์','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','#math-topics-checkbox-container\x20input:checked','text-purple-600','next-live-question-btn','endTime','ราชาคัมแบ็ก','lobby','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','manage-tab-content','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','อนุพันธ์:\x20กฎพื้นฐาน','Error\x20renaming\x20quiz:','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x20text-purple-600\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20','</label>\x0a\x20\x20\x20\x20</div>\x0a','ฟังก์ชันลอการิทึม','สมการเชิงเส้นตัวแปรเดียว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','ฟังก์ชันกำลังสองและกราฟ','ค่าคลาดเคลื่อนของการวัด','ผู้ไม่ยอมแพ้','quiz-type-select','text-red-700\x20bg-red-100','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','generate-from-topic-btn','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ','indexOf','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','Adaptive\x20flow\x20failed:','กรุณาป้อนรหัสแบบทดสอบ','การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?','editor-quiz-topic','idealAnswer','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','starred-project','includes','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','จำนวนนักเรียน','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-sm\x22>','json','.rename-quiz-btn','points','quiz-leaderboard-table','removeAttribute','Error\x20displaying\x20question\x20bank:','_blank','ตั้งเวลา\x20(เปิด)','copy','input[type=\x22text\x22]','ปรับเพิ่ม/ลดเป็นร้อยละ','textContent','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','.draggable-text','cursor','toLowerCase','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการอ่านไฟล์','bank-input-area','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20px-2\x20py-1\x20rounded\x20','quiz','firstScore','reduce','\x0a\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20','รูปหลายเหลี่ยมและมุมภายใน','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','block','keyup','none','อัตราและอัตราหน่วย','หน่วยความยาวและการแปลง','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','8722SxcTJQ','getBBox','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','Error\x20loading\x20quiz\x20for\x20student:','bg-amber-100\x20text-amber-800','project-detail','Error\x20listening\x20for\x20projects:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','all','topic-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3/4\x20truncate\x22>ข้อ\x20','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','การลบเศษส่วน','กฎของไซน์','ข้อต่อไป','cancel-admin-login-btn','correctResponse','desc','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','destroy','Error\x20deleting\x20project:','admin-password-modal','<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม','project-detail-view','correctStreak','\x20ใหม่...','การแยกตัวประกอบ','timer-container','border-red-300\x20bg-red-50','\x20ข้อ\x20','fill_in_no_choices','generated-quiz-actions','STRING','สอบปกติ','svg','การหาร','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','bottom','link-url-input','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ฟังก์ชันเชิงเส้นและกราฟ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>','ความสัมพันธ์ของมุม','bg-green-100\x20text-green-800','thead','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','กำลังอ่านและเตรียมไฟล์...','ฟังก์ชันราก\x20(root)','trim','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','Copy\x20command\x20failed','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22></i>\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','cancel-create-project-btn','now','data:application/vnd.ms-word;charset=utf-8,','max','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20p-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','generate-from-text-btn','badgesCount','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','กฎของโคไซน์','file-upload-input','กราฟแท่ง\x20กราฟเส้น','\x22>ไม่ใช่</p>','#F59E0B','currentQuestionIndex','typesetPromise','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','num-questions','/public/data/quizzes/','execCommand','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20bg-white\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20border-gray-200\x20flex\x20flex-col\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x22\x20data-id=\x22','ลำดับการดำเนินการ\x20(PEMDAS)','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-quiz-topic','mode-switcher-btn','scores','correctAnswer','removeEventListener','autoTable','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','position','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>','bg-purple-50','back-to-home-manual-release','</div><div\x20class=\x22space-y-2\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','move-quiz-project-select','รูปสแควร์รูท\x20(surd)','Error\x20starting\x20live\x20race:','\x20จาก\x20','แบบทดสอบซ่อมเสริม','export-word-btn','Error\x20generating\x20from\x20link:','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว','ไม่สามารถโหลดรายการโปรเจคได้','appendChild','red','parts','click','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22','map','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','admin-action-buttons','get','Error\x20saving\x20quiz:','start-presentation-btn','toggle','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','<option>กำลังโหลดโปรเจค...</option>','\x20ตัวเลือก.\x20','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้','math-topics-checkbox-container','padStart','questionText','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','add','download','เปิด\x20(จับเวลา)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.pdf','การแจกแจงทวินาม\x20(พื้นฐาน)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','question-analytics-container','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','filter','textarea,\x20input[type=\x22text\x22]','fas\x20fa-star\x20text-yellow-500','presentation-ai-result','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>','POST','modal-timer-duration-container','createElement','true','true_false','คัดลอกไม่สำเร็จ','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','start-game-btn','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>','</h3>','ไม่พบโปรเจค','latestScore','text-tab','.duplicate-quiz-btn','artifacts/','mousemove','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','student-rankings-modal','บันทึกการตั้งค่าแล้ว',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','set','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','submission-status-chart','querySelectorAll','\x22.\x20Ideal\x20Answer:\x20\x22','bg-green-200\x20text-green-800','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','ทฤษฎีบทพื้นฐานของแคลคูลัส','leaderboard-table-body','สร้างแบบทดสอบปรนัย','bg-green-300','pointsLastQuestion','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ระบบเลขและค่าประจำหลัก','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','กรุณาเลือกโปรเจคปลายทาง','ความคล้ายของรูป','flex','24579396DJROYQ','move-quiz-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','back-to-dashboard-btn','กรุณาเลือกสถานะ','text/csv;charset=utf-8;','คำตอบผิด','game-pin-input','<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>','ref','button[data-id]','export-leaderboard-word-btn','quiz-results','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','รูปสี่เหลี่ยมและสมบัติ','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','อนุพันธ์:\x20ผลคูณ/ผลหาร','class','```json','จำนวนเชิงซ้อน\x20(เสริม)','save-quiz-btn','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','confirm-create-project-btn','<div\x20class=\x22flex-1\x22></div>','<textarea\x20id=\x22per-q-textarea\x22\x20name=\x22question_single_text\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณที่นี่...\x22></textarea>','results-table','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','OBJECT','size','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','<p\x20class=\x22','\x20/\x20','student-quiz-area','เกิดข้อผิดพลาดในการเตรียมไฟล์:\x20','options','ทฤษฎีทวินาม\x20(เบื้องต้น)','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','การจัดหมู่\x20(Combination)','<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x20h-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','แผนภาพเวนน์','user','student-quiz-leaderboard-tab','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','quiz-search-input','ฐานนิยม','สลับไปโหมดนักเรียน','\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20','countdown-display','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','บันทึกการแก้ไขสำเร็จ','find','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)','ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20','แบบทดสอบไม่มีชื่อ','การบวกทศนิยม','.\x20สามารถสร้างคำถามแบบแยกหัวข้อ\x20หรือผสมผสานหัวข้อเหล่านี้ในข้อเดียวกันก็ได้ตามความเหมาะสม','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','back-to-dashboard-from-results-btn','open','toFixed','</div>','คำตอบถูกต้อง!\x20+','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x22\x20data-q-type=\x22','setFont','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','end-game-btn','หน่วยเวลาและการคำนวณเวลา','random','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','ปริพันธ์ไม่จำกัด','helvetica','ส่งแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20','modal-close-btn','touchmove','submission','<br>','<div\x20id=\x22q-image-container-','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบตารางสำหรับ\x20Export','student-reading-area','answers','3929155fIOBcP','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','no-projects-msg','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','ปริมาตร/ความจุและการแปลง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','ตรีโกณมิติ','math-topic-search-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','values','\x22\x20value=\x22true\x22\x20','results-tab-content','Invalid\x20response\x20structure\x20from\x20AI.','files','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','fa-crown\x20text-yellow-500','.regenerate-question-btn','พื้นที่สามเหลี่ยม','passing-score-input','$1\x20\x5cfrac','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.move-quiz-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','currentTarget','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','$\x5ctimes$','\x22\x20data-topic=\x22','baseVal','questionStatus','fa-fire\x20text-orange-500','274192258111','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','bestScore','\x20คนที่ส่ง\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','change','</textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','ค่าเสื่อมราคา','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','/public/data/liveGames','ตารางความถี่','score','Error\x20fetching\x20projects\x20for\x20move:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x5cdiv','live-options-container','toDate','#ffffff','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x20ml-auto\x22\x20title=\x22ลบแบบทดสอบ\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','หมดเวลาสำหรับข้อนี้!','shuffle','\x22\x20class=\x22w-full\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','insertAdjacentHTML','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','answer','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','textarea','FIRST_TRY_ACE','การคูณทศนิยม','beforeend','ฮิสโตแกรม','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์','bg-red-500','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-remedial-quiz-btn\x22\x20class=\x22mt-4\x20bg-indigo-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เข้าใจแล้ว\x20ลองอีกครั้ง!\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','short_answer','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20','จำนวนและการดำเนินการ','พื้นที่สี่เหลี่ยม','confirmation-message','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-6\x20bg-amber-50\x20border-l-4\x20border-amber-400\x20rounded-r-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20text-amber-800\x22>ทบทวนก่อนไปต่อนะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x20text-gray-700\x22>','quiz-id-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-live-question-btn\x22\x20class=\x22bg-blue-500\x20hover:bg-blue-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','createdAt','input[name=\x22question_single\x22]:checked','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','ดูสรุปผล','readAsDataURL','floor','bg-yellow-200\x20text-yellow-800','height','toDataURL','analytics-tab-btn','\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','สมการเหตุผล\x20(rational)','คัดลอกแบบทดสอบสำเร็จ','worksheet-topic-input','live-submit-short-answer-btn','_opt','กราฟฟังก์ชันตรีโกณ','players.','live-game','generate-from-file-btn','finishReason','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>(','\x20คน):</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','results','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22','4etOOIT','ผลรวมอนุกรม\x20(Σ)','.live-answer-btn,\x20#live-submit-short-answer-btn','เรขาคณิตวิเคราะห์','https://corsproxy.io/?','เศษส่วน\x20(ย่อ/ขยาย)','bg-blue-100\x20text-blue-800','cloneNode','Error\x20opening\x20quiz\x20editor:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)','การสร้างรูปด้วยวงเวียน–สันตรง','การปัดเศษและประมาณค่า','num-choices-container','font-bold','length','scheduled_pending','explanation','startsWith','ความชันและเส้นตรง','rename-quiz-input','จุด\x20เส้น\x20ระนาบ','-tab-content','bg-red-100\x20text-red-800','student-name-select','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','draggable-text','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','file-topic-input','confirm-global-live-btn','touchcancel','content','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','quiz-editor-questions-container','text','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','จำนวนเต็มลบ','addEventListener','<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>','ปิดใช้งาน','generate-worksheet-btn','.delete-student-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','delete','.delete-project-btn','ค่าความจริง/ตารางค่าความจริง','\x20คะแนน','ระยะเวลา\x20(นาที):','ระยะเวลา\x20(วินาที):','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','perfect_score','\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','FileReader\x20error:','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','ปริพันธ์จำกัด','exitFullscreen','show_results_only','candidates','ring-purple-400','MathJax\x20typeset\x20error\x20(analytics):','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20','/questionBank','text-green-600','<div\x20class=\x22mb-3\x22>','จำนวนคู่:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','quick_thinker','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','BOOLEAN','commit','ค.ร.น.\x20(LCM)','project-list','ai-quiz-app-aefee','Error\x20saving\x20submission:','<p\x20class=\x22font-bold\x20text-sm\x20text-indigo-700\x20border-b\x20mb-1\x20pb-1\x22>','modal-message','leaderboard_','G-V90KRM0L63','matching','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span></p>','1469511dIsKIM','เงินงวด\x20(อนุกรมเงินงวด)','อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)','\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20','scheduled','.edit-question-btn','index','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','จำนวนข้อ:','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','inactive','confirm-join-game-btn','promptFeedback','join-live-game-btn','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลข้างต้น\x20โปรดสรุปเนื้อหาสำคัญเพื่อสอนซ่อมเสริมนักเรียนคนนี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้อธิบายด้วยภาษาที่เข้าใจง่าย\x20เป็นกันเอง\x20เหมือนติวเตอร์ใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20สรุปมาเป็นย่อหน้าเดียวหรือสองย่อหน้าสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มี\x20key\x20ชื่อ\x20\x22remedialContent\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','timer-duration-label','password-error-msg','toString','student-name-selection-view','เรขาคณิต','/public/data/quizzes','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','มุมพิเศษ\x2045°-45°-90°','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20','วงกลม:\x20คอร์ดและเส้นสัมผัส','เกิดข้อผิดพลาดในการสร้างแบบทดสอบ\x20โปรดลองอีกครั้ง','.star-quiz-btn','ownerSVGElement','<div\x20class=\x22','สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','</form>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบถูก\x20','asc','analyze-strengths-btn','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','เกิดข้อผิดพลาดในการสร้างใบงาน','projectId','ดีเทอร์มิแนนต์','getContext','jspdf','ที่พิมพ์ได้\x20จำนวน\x20','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','live-game-view','\x22\x20ไม่ผ่าน\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือคำอธิบายจากข้อที่นักเรียนตอบผิด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20name=\x22question','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','.presentation-option','สมมาตร\x20(แกน/จุด)','slide-counter','</p>','N/A','defaultNumQuestions','fa-user-astronaut\x20text-blue-700','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','check-presentation-answer-btn','student-result-area','empty','slice','แบบทดสอบ:\x20','ARRAY','border-green-500','innerText','then','การยืนยันตัวตนล้มเหลว','การลบ','fill','ไม่สามารถโหลดข้อมูลอันดับได้','copy-quiz-id-btn','MathJax','project-dashboard-view','\x22\x20value=\x22','2-digit','การแปลงรูปอัตลักษณ์','contentEditable','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20','Error\x20fetching\x20project\x20quizzes:','getElementById','after','modal-timer-mode-select','cancel-global-live-btn','isCorrect','studentName','NUMBER','.correctStreak','1442340aIYQyy','เกิดข้อผิดพลาดในการลบแบบทดสอบ','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','touches','_opt0\x22>ใช่</label></div>','\x22\x20value=\x22false\x22\x20','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','input[name=\x22status-option\x22]','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','forEach','#student-project-leaderboard-content\x20thead','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','touchstart','push','defaultPassingScore','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','คณิตการเงิน/บูรณาการ','bg-white/30','viewBox','strength-weakness-analysis-container','```','classWeaknesses','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x22>','\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20','name_desc','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','Error\x20fetching\x20student\x20rankings:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังดึงข้อมูลจากลิงก์...','score-distribution-chart','.ideal-answer-input','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','project-quizzes-list','loader-text','fa-rocket\x20text-purple-500','originalQuestionText','ย้ายแบบทดสอบสำเร็จ','text-blue-700\x20bg-blue-100','leaderboard-quiz-tab-btn','<tr><td\x20colspan=\x22','การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์','input[type=\x22radio\x22]:checked','เส้นรอบรูป','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','default','confirm-quiz-status-btn','แก้ระบบสมการด้วยเมทริกซ์','close','text/html','application/json','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confirmation-modal','nickname-input','onerror','รูปแบบการให้เหตุผล','สร้างชุดคำถามจับคู่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>','quiz-settings-modal','ทศนิยม\x20(ค่าประจำหลัก)','.\x20แต่ละข้อมี\x20','export-excel-btn','disabled','admin','\x0a\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','querySelector','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fill_in_with_choices','student-project-leaderboard-tab','value','API\x20call\x20failed\x20with\x20status:\x20','แบบทดสอบนี้ปิดใช้งานอยู่','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20','_opt1\x22>ไม่ใช่</label></div>','confirm-quiz-settings-btn','8YNsbpN','input[name=\x22status-option\x22]:checked','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22','export-pdf-btn','next-question-timed-btn','answering','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','rgba(79,\x2070,\x20229,\x201)','.sort-indicator','AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','isRemedial','\x20mx-1\x20text-lg\x22></i></span>','):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x222\x22>','fa-dumbbell\x20text-gray-700','document','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','3204pHWwWR','teacherSuggestions','leaderboard-tab-content','cancel-delete-btn','replace','title','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','Error\x20showing\x20quiz\x20detail\x20view:','scores-tab-content','เกิดข้อผิดพลาดในการเข้าร่วมเกม','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','imageCode','admin-password-input','การหารเศษส่วน','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนหนึ่งทำแบบทดสอบเรื่อง\x20\x22','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','Error\x20saving\x20to\x20question\x20bank:','move','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','badges','preventDefault','isAdaptive','อนุพันธ์:\x20กฎลูกโซ่','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','on_fire','ไม่ใช่','\x22>ใช่</p>','ลำดับเรขาคณิต\x20(GP)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-3xl\x22>','presentation-explanation','leaderboard','หมดเวลา!\x20กำลังส่งคำตอบ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-schedule-start-container','/public/data/projects/','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','องค์ประกอบของฟังก์ชัน','mixed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','string','ทำคะแนนเต็มในการทำครั้งแรก','.question-editor-item','<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.','ฟังก์ชันยกกำลัง','กรุณาใส่ชื่อโปรเจค','โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20','โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22','export-leaderboard-excel-btn','จำนวนคละ','อุณหภูมิและการแปลง','พีชคณิตและฟังก์ชัน','[data-is-correct=\x22true\x22]','สอบซ่อม','answer-counter','text-green-900','opacity','>\x20<label\x20for=\x22status-inactive\x22>ปิดใช้งาน\x20(Inactive)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22schedule\x22\x20id=\x22status-schedule\x22\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>','back-to-project-btn','start-quiz-btn','add-student-btn','player-count','-tab','uid','_opt1\x22\x20name=\x22question','ตอบถูกทุกข้อในแบบทดสอบนี้','contents','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','cancel-move-quiz-btn',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','font-bold\x20text-red-700\x20line-through','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','dataIndex','text-white','far\x20fa-star','name_asc','adaptive-quiz-checkbox','results-quiz-title','per-question-options','อสมการเชิงเส้น','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','button[type=\x22submit\x22]','student-project-leaderboard-table-body','earned-badges-container','16arhTdP','ความต่อเนื่อง','closest','quiz-generation-area','\x20จุดโดยอัตโนมัติ','live-short-answer-input','totalQuestions','option','matching_item','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_true\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_true\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_false\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_false\x22>ไม่ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','questions','isStarred','setAttribute','บันทึกแบบทดสอบสำเร็จแล้ว!','btn','ไม่สามารถเพิ่มนักเรียนได้','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','.quiz-result-card','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','line-through\x20text-red-700','\x0a---\x0a','body','innerHTML','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','allResponses','มุมและการวัดมุม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20bg-indigo-50\x20border-indigo-200\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20flex\x20flex-col\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x22\x20data-id=\x22starred-project\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-indigo-800\x20pointer-events-none\x22>แบบทดสอบที่ติดดาว\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-400\x22></i></h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>ทางลัดสำหรับแบบทดสอบที่ใช้บ่อย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-700\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','สร้างโปรเจคสำเร็จ!','cancel-quiz-status-btn','</body></html>','#results-table','from','พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)','<li>','close-presentation-btn','สลับไปโหมดผู้ควบคุม','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','targetId','manual_release','force-math-checkbox','(ไม่มีชื่อ)','Error\x20deleting\x20student:','.edit-quiz-btn','join','message-modal','กำลังสร้างคำถามข้อ\x20','timer-mode-select','mousedown','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','modal-timer-duration-label','student-view','multiple_choice','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q_opt','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20saving\x20quiz\x20edits:','student-project-leaderboard-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','สร้างแบบทดสอบ','</li>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','admin-testing','rows','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','display','exists','/public/data/projects','ความแปรปรวน','modal-passing-score-input','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>'];_0xce18=function(){return _0x10e24b;};return _0xce18();}function showAdminLobbyView(_0x27c642,_0x1efbaa){const _0x45cc46=_0x585543;showView(_0x45cc46(0x307));const _0x38ff41=_0x45cc46(0x29e)+_0x1efbaa+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>'+_0x27c642+_0x45cc46(0x21a);liveGameView['innerHTML']=_0x38ff41,document['getElementById']('start-game-btn')[_0x45cc46(0x336)](_0x45cc46(0x20a),async()=>{const _0x1c9287=_0x45cc46;if(!currentQuizData||!currentQuizData['questions']||currentQuizData[_0x1c9287(0x480)]['length']===0x0){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้');return;}try{const _0x2d53a2=doc(db,_0x1c9287(0x23a)+appId+_0x1c9287(0x2d2),currentLiveGameId);await updateDoc(_0x2d53a2,{'status':'question','currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x5e9901=currentQuizData[_0x1c9287(0x480)][0x0],_0xabcc82=currentQuizData[_0x1c9287(0x480)][_0x1c9287(0x31f)];showAdminLiveQuestionView(_0x5e9901,0x0,_0xabcc82);}catch(_0x578fb6){console[_0x1c9287(0x61f)]('Error\x20starting\x20game:',_0x578fb6),showMessage(_0x1c9287(0x605));}});}async function openGlobalLiveModal(){const _0x4f68f4=_0x585543;if(allQuizzesGlobal[_0x4f68f4(0x31f)]===0x0){const _0xed5ea1=await getDocs(collection(db,_0x4f68f4(0x23a)+appId+_0x4f68f4(0x378)));allQuizzesGlobal=_0xed5ea1[_0x4f68f4(0x128)][_0x4f68f4(0x20c)](_0x547927=>({'id':_0x547927['id'],..._0x547927[_0x4f68f4(0x5d5)]()}));}renderGlobalQuizList(''),document[_0x4f68f4(0x3b1)](_0x4f68f4(0x4ec))[_0x4f68f4(0x4c9)][_0x4f68f4(0x5ce)](_0x4f68f4(0x4be));}function renderGlobalQuizList(_0x1e4f6d=''){const _0x189c44=_0x585543,_0x5c6887=document[_0x189c44(0x3b1)]('global-quiz-list'),_0x4ec339=_0x1e4f6d['toLowerCase']()[_0x189c44(0x1d4)](),_0x5ede52=allQuizzesGlobal[_0x189c44(0x20c)](_0x373f66=>({..._0x373f66,'projectName':allProjects[_0x189c44(0x286)](_0xc0f86c=>_0xc0f86c['id']===_0x373f66[_0x189c44(0x388)])?.['projectName']||_0x373f66[_0x189c44(0x388)]}))[_0x189c44(0x224)](_0x2bf673=>(_0x2bf673['topic']||'')['toLowerCase']()[_0x189c44(0x17e)](_0x4ec339)||(_0x2bf673[_0x189c44(0x5b7)]||'')['toLowerCase']()[_0x189c44(0x17e)](_0x4ec339));_0x5c6887['innerHTML']=_0x5ede52['length']?_0x5ede52[_0x189c44(0x20c)](_0x552b86=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x552b86['id']+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20text-left\x20p-2\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x22>\x0a\x20\x20'+(_0x552b86[_0x189c44(0x153)]||_0x189c44(0x49e))+_0x189c44(0x3fb)+(_0x552b86[_0x189c44(0x480)]?.[_0x189c44(0x31f)]||0x0)+_0x189c44(0x58b)+_0x552b86['projectName']+_0x189c44(0x166))['join'](''):_0x189c44(0x564),selectedGlobalQuizId=null,document[_0x189c44(0x3b1)](_0x189c44(0x32d))['disabled']=!![],_0x5c6887[_0x189c44(0x243)](_0x189c44(0x25c))[_0x189c44(0x3c3)](_0x17fc4e=>{_0x17fc4e['addEventListener']('click',()=>{const _0x5bf2eb=_0x3a08;selectedGlobalQuizId=_0x17fc4e[_0x5bf2eb(0x5bb)]['id'],_0x5c6887[_0x5bf2eb(0x243)](_0x5bf2eb(0x52e))[_0x5bf2eb(0x3c3)](_0x5579c6=>_0x5579c6[_0x5bf2eb(0x4c9)][_0x5bf2eb(0x5ce)](_0x5bf2eb(0x1f8),_0x5bf2eb(0x514),'ring-purple-400')),_0x17fc4e[_0x5bf2eb(0x4c9)][_0x5bf2eb(0x21b)](_0x5bf2eb(0x1f8),'ring-2',_0x5bf2eb(0x34b)),document[_0x5bf2eb(0x3b1)](_0x5bf2eb(0x32d))[_0x5bf2eb(0x3f9)]=![];});});}function listenForLiveGameUpdates(){const _0x57264b=_0x585543;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x3f800a=doc(db,_0x57264b(0x23a)+appId+_0x57264b(0x2d2),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x3f800a,_0x48257a=>{const _0xd3de41=_0x57264b;if(!_0x48257a[_0xd3de41(0x4b7)]()){showMessage(_0xd3de41(0x5ed)),showView(currentMode);return;}const _0xb28e5e=_0x48257a[_0xd3de41(0x5d5)]();!currentQuizData&&_0xb28e5e[_0xd3de41(0x137)]&&((async()=>{const _0x4a0c16=_0xd3de41;try{const _0x122dad=doc(db,_0x4a0c16(0x23a)+appId+'/public/data/quizzes',_0xb28e5e[_0x4a0c16(0x137)]),_0x27344c=await getDoc(_0x122dad);_0x27344c[_0x4a0c16(0x4b7)]()&&(currentQuizData={'id':_0x27344c['id'],..._0x27344c[_0x4a0c16(0x5d5)]()});}catch(_0xdc6411){console[_0x4a0c16(0x61f)](_0x4a0c16(0x1fc),_0xdc6411);}})());switch(_0xb28e5e[_0xd3de41(0x56d)]){case'lobby':if(currentMode===_0xd3de41(0x3fa)){const _0x3e8280=_0xb28e5e[_0xd3de41(0x562)]?Object['keys'](_0xb28e5e[_0xd3de41(0x562)]):[];document[_0xd3de41(0x3b1)](_0xd3de41(0x45c))[_0xd3de41(0x18d)]=_0x3e8280['length'],document[_0xd3de41(0x3b1)](_0xd3de41(0x4fb))[_0xd3de41(0x48c)]=_0x3e8280['map'](_0x573810=>'<span\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x22>'+_0x573810+'</span>')[_0xd3de41(0x4a1)]('');const _0x27cfce=document[_0xd3de41(0x3b1)](_0xd3de41(0x230));_0x27cfce&&(_0x27cfce[_0xd3de41(0x3f9)]=_0x3e8280['length']===0x0);}else showView(_0xd3de41(0x307)),liveGameView[_0xd3de41(0x48c)]='<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>'+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;case _0xd3de41(0x5fe):const _0x184856=_0xb28e5e[_0xd3de41(0x1e6)];if(currentQuizData&&currentQuizData['questions'][_0x184856]){const _0x389efd=currentQuizData[_0xd3de41(0x480)][_0x184856],_0x3e2ba7=currentQuizData['questions'][_0xd3de41(0x31f)];if(currentMode==='admin'){lastRenderedAdminQuestionIndex!==_0x184856&&(showAdminLiveQuestionView(_0x389efd,_0x184856,_0x3e2ba7),lastRenderedAdminQuestionIndex=_0x184856);const _0x521bec=document['getElementById'](_0xd3de41(0x454));if(_0x521bec&&_0xb28e5e[_0xd3de41(0x562)]){const _0x599e7b=Object['keys'](_0xb28e5e[_0xd3de41(0x562)])['length'],_0x21bd21=Object[_0xd3de41(0x2b2)](_0xb28e5e[_0xd3de41(0x562)])[_0xd3de41(0x224)](_0x5414fa=>_0x5414fa[_0xd3de41(0x12b)]===!![])[_0xd3de41(0x31f)];_0x521bec[_0xd3de41(0x18d)]=_0x21bd21+'/'+_0x599e7b,_0x599e7b>0x0&&_0x21bd21===_0x599e7b&&_0xb28e5e[_0xd3de41(0x2c6)]!==_0xd3de41(0x569)&&revealAnswerForAdmin(_0x184856,_0x3e2ba7);}}else{const _0x17eb5c=_0xb28e5e['players'][currentStudentName];if(_0xb28e5e[_0xd3de41(0x2c6)]===_0xd3de41(0x569)){if(_0x17eb5c[_0xd3de41(0x12b)]){const _0x5eb3cb=_0x17eb5c['lastAnswerCorrect'],_0x565ef2=_0x17eb5c[_0xd3de41(0x24b)]||0x0,_0x16c6ed=_0x5eb3cb?_0xd3de41(0x292)+_0x565ef2+_0xd3de41(0x33f):_0xd3de41(0x258);liveGameView['innerHTML']='<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<h2\x20class=\x22text-3xl\x20font-bold\x22>'+_0x16c6ed+_0xd3de41(0x584);}else liveGameView[_0xd3de41(0x48c)]=_0xd3de41(0x537);}else!_0x17eb5c[_0xd3de41(0x12b)]&&showStudentLiveQuestionView(_0x389efd,_0x184856,_0x3e2ba7);}}break;case'podium':showPodiumView(_0xb28e5e[_0xd3de41(0x562)]);break;}});}async function authenticateUser(){const _0x3004e3=_0x585543;try{typeof __initial_auth_token!==_0x3004e3(0x627)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x2a5732){console[_0x3004e3(0x61f)]('Authentication\x20failed:',_0x2a5732),showMessage(_0x3004e3(0x3a4));}}function showView(_0x950b60){const _0x551b80=_0x585543,_0x1a5fd8=[_0x551b80(0x536),'student-view','project-dashboard-view',_0x551b80(0x1bb),_0x551b80(0x636),_0x551b80(0x38e)];_0x1a5fd8[_0x551b80(0x3c3)](_0x1284f1=>document[_0x551b80(0x3b1)](_0x1284f1)?.['classList'][_0x551b80(0x21b)](_0x551b80(0x4be)));if(_0x950b60==='admin-dashboard')adminView[_0x551b80(0x4c9)]['remove'](_0x551b80(0x4be)),projectDashboardView[_0x551b80(0x4c9)]['remove'](_0x551b80(0x4be));else{if(_0x950b60===_0x551b80(0x4c0))studentView[_0x551b80(0x4c9)][_0x551b80(0x5ce)](_0x551b80(0x4be)),studentInitialView[_0x551b80(0x4c9)]['remove'](_0x551b80(0x4be)),studentNameSelectionView[_0x551b80(0x4c9)][_0x551b80(0x21b)](_0x551b80(0x4be)),studentQuizArea[_0x551b80(0x4c9)][_0x551b80(0x21b)](_0x551b80(0x4be)),studentResultArea[_0x551b80(0x4c9)]['add'](_0x551b80(0x4be)),studentReadingArea[_0x551b80(0x4c9)]['add']('hidden'),studentJoinGameView[_0x551b80(0x4c9)]['add'](_0x551b80(0x4be));else{if(_0x950b60===_0x551b80(0x1a9))adminView[_0x551b80(0x4c9)]['remove'](_0x551b80(0x4be)),projectDetailView[_0x551b80(0x4c9)]['remove'](_0x551b80(0x4be));else{if(_0x950b60==='quiz-results')adminView['classList'][_0x551b80(0x5ce)]('hidden'),quizResultsView[_0x551b80(0x4c9)]['remove'](_0x551b80(0x4be));else _0x950b60==='live-game'&&liveGameView[_0x551b80(0x4c9)][_0x551b80(0x5ce)]('hidden');}}}}function showJoinGameView(){const _0x3464bb=_0x585543;studentInitialView['classList'][_0x3464bb(0x21b)]('hidden'),studentJoinGameView[_0x3464bb(0x4c9)][_0x3464bb(0x5ce)](_0x3464bb(0x4be));}function setupEventListeners(){const _0x3fb768=_0x585543;document[_0x3fb768(0x3b1)](_0x3fb768(0x1f0))['addEventListener'](_0x3fb768(0x20a),handleModeSwitch),document[_0x3fb768(0x3b1)](_0x3fb768(0x255))[_0x3fb768(0x336)](_0x3fb768(0x20a),()=>{currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView('admin-dashboard');}),document['getElementById'](_0x3fb768(0x459))[_0x3fb768(0x336)](_0x3fb768(0x20a),()=>{const _0x3f6f68=_0x3fb768;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0x3f6f68(0x1a9));}),document[_0x3fb768(0x3b1)](_0x3fb768(0x28e))[_0x3fb768(0x336)](_0x3fb768(0x20a),()=>{showView('admin-dashboard');}),document['getElementById'](_0x3fb768(0x29f))[_0x3fb768(0x336)](_0x3fb768(0x20a),()=>messageModal['classList'][_0x3fb768(0x21b)](_0x3fb768(0x4be))),document[_0x3fb768(0x3b1)](_0x3fb768(0x5be))[_0x3fb768(0x336)]('click',()=>createProjectModal[_0x3fb768(0x4c9)][_0x3fb768(0x5ce)](_0x3fb768(0x4be))),document[_0x3fb768(0x3b1)](_0x3fb768(0x1d9))[_0x3fb768(0x336)](_0x3fb768(0x20a),()=>createProjectModal[_0x3fb768(0x4c9)][_0x3fb768(0x21b)](_0x3fb768(0x4be))),document[_0x3fb768(0x3b1)](_0x3fb768(0x1b3))['addEventListener']('click',()=>adminPasswordModal[_0x3fb768(0x4c9)][_0x3fb768(0x21b)](_0x3fb768(0x4be))),document[_0x3fb768(0x3b1)](_0x3fb768(0x54e))[_0x3fb768(0x336)](_0x3fb768(0x20a),handleAdminLogin),document['getElementById'](_0x3fb768(0x427))['addEventListener'](_0x3fb768(0x19f),_0x2c0242=>{const _0x2dbb32=_0x3fb768;if(_0x2c0242[_0x2dbb32(0x130)]==='Enter')handleAdminLogin();}),document['getElementById'](_0x3fb768(0x41e))[_0x3fb768(0x336)](_0x3fb768(0x20a),()=>{const _0x14237d=_0x3fb768;confirmationModal[_0x14237d(0x4c9)]['add'](_0x14237d(0x4be)),confirmAction=null;}),document[_0x3fb768(0x3b1)]('confirm-delete-btn')[_0x3fb768(0x336)]('click',()=>{const _0x244c25=_0x3fb768;confirmAction&&confirmAction(),confirmationModal[_0x244c25(0x4c9)][_0x244c25(0x21b)](_0x244c25(0x4be)),confirmAction=null;}),document[_0x3fb768(0x3b1)](_0x3fb768(0x5fb))['addEventListener'](_0x3fb768(0x20a),()=>renameQuizModal['classList']['add']('hidden')),document['getElementById']('confirm-rename-quiz-btn')[_0x3fb768(0x336)]('click',confirmRenameQuiz),document['getElementById'](_0x3fb768(0x463))[_0x3fb768(0x336)](_0x3fb768(0x20a),()=>moveQuizModal[_0x3fb768(0x4c9)][_0x3fb768(0x21b)](_0x3fb768(0x4be))),document[_0x3fb768(0x3b1)](_0x3fb768(0x5cd))[_0x3fb768(0x336)]('click',confirmMoveQuiz),document[_0x3fb768(0x3b1)]('cancel-quiz-settings-btn')[_0x3fb768(0x336)]('click',()=>quizSettingsModal[_0x3fb768(0x4c9)]['add'](_0x3fb768(0x4be))),document[_0x3fb768(0x3b1)](_0x3fb768(0x406))[_0x3fb768(0x336)](_0x3fb768(0x20a),confirmQuizSettings),document[_0x3fb768(0x3b1)](_0x3fb768(0x492))[_0x3fb768(0x336)](_0x3fb768(0x20a),()=>quizStatusModal['classList']['add'](_0x3fb768(0x4be))),document[_0x3fb768(0x3b1)](_0x3fb768(0x3e8))[_0x3fb768(0x336)](_0x3fb768(0x20a),confirmQuizStatus),document[_0x3fb768(0x3b1)](_0x3fb768(0x611))[_0x3fb768(0x336)](_0x3fb768(0x20a),openGlobalLiveModal),document['getElementById'](_0x3fb768(0x3b4))[_0x3fb768(0x336)](_0x3fb768(0x20a),()=>{const _0x1df209=_0x3fb768;document['getElementById'](_0x1df209(0x4ec))[_0x1df209(0x4c9)][_0x1df209(0x21b)](_0x1df209(0x4be)),selectedGlobalQuizId=null;}),document[_0x3fb768(0x3b1)]('global-quiz-search-input')[_0x3fb768(0x336)](_0x3fb768(0x504),_0x33ba81=>renderGlobalQuizList(_0x33ba81['target']['value'])),document[_0x3fb768(0x3b1)](_0x3fb768(0x32d))[_0x3fb768(0x336)]('click',()=>{const _0x240643=_0x3fb768,_0x1874d5=selectedGlobalQuizId;if(!_0x1874d5)return;document[_0x240643(0x3b1)](_0x240643(0x4ec))['classList']['add'](_0x240643(0x4be)),handleStartLiveRace(_0x1874d5);}),document[_0x3fb768(0x3b1)]('project-search-input')[_0x3fb768(0x336)]('input',renderProjects),document['getElementById'](_0x3fb768(0x4ef))[_0x3fb768(0x336)]('change',renderProjects),document[_0x3fb768(0x3b1)](_0x3fb768(0x27f))[_0x3fb768(0x336)](_0x3fb768(0x504),renderQuizzes),manageTab[_0x3fb768(0x336)](_0x3fb768(0x20a),()=>switchProjectTab('manage')),resultsTab[_0x3fb768(0x336)](_0x3fb768(0x20a),()=>switchProjectTab(_0x3fb768(0x30d))),leaderboardTab[_0x3fb768(0x336)]('click',()=>switchProjectTab('leaderboard')),document['getElementById']('analytics-tab-btn')[_0x3fb768(0x336)]('click',()=>switchQuizDetailTab('analytics')),document[_0x3fb768(0x3b1)](_0x3fb768(0x4cf))['addEventListener'](_0x3fb768(0x20a),()=>switchQuizDetailTab(_0x3fb768(0x1f1))),document[_0x3fb768(0x3b1)](_0x3fb768(0x3e1))[_0x3fb768(0x336)](_0x3fb768(0x20a),()=>switchQuizDetailTab('leaderboard-quiz')),document[_0x3fb768(0x3b1)](_0x3fb768(0x385))[_0x3fb768(0x336)](_0x3fb768(0x20a),handleAnalyzeClass),generateWorksheetBtn[_0x3fb768(0x336)](_0x3fb768(0x20a),generateWorksheet);const _0x1054f0=document['getElementById']('link-tab'),_0x294b36=document[_0x3fb768(0x3b1)]('link-input-area');topicTab['addEventListener'](_0x3fb768(0x20a),()=>{const _0x11bf07=_0x3fb768;topicTab[_0x11bf07(0x4c9)][_0x11bf07(0x21b)](_0x11bf07(0x5b0)),textTab[_0x11bf07(0x4c9)][_0x11bf07(0x5ce)](_0x11bf07(0x5b0)),fileTab[_0x11bf07(0x4c9)][_0x11bf07(0x5ce)](_0x11bf07(0x5b0)),worksheetTab[_0x11bf07(0x4c9)][_0x11bf07(0x5ce)]('active');if(_0x1054f0)_0x1054f0[_0x11bf07(0x4c9)]['remove']('active');topicInputArea[_0x11bf07(0x4c9)][_0x11bf07(0x5ce)](_0x11bf07(0x4be)),textInputArea[_0x11bf07(0x4c9)]['add']('hidden'),fileInputArea[_0x11bf07(0x4c9)][_0x11bf07(0x21b)](_0x11bf07(0x4be)),worksheetInputArea[_0x11bf07(0x4c9)][_0x11bf07(0x21b)](_0x11bf07(0x4be));if(_0x294b36)_0x294b36[_0x11bf07(0x4c9)][_0x11bf07(0x21b)](_0x11bf07(0x4be));}),textTab[_0x3fb768(0x336)]('click',()=>{const _0x45f059=_0x3fb768;textTab[_0x45f059(0x4c9)][_0x45f059(0x21b)](_0x45f059(0x5b0)),topicTab['classList'][_0x45f059(0x5ce)](_0x45f059(0x5b0)),fileTab[_0x45f059(0x4c9)][_0x45f059(0x5ce)](_0x45f059(0x5b0)),worksheetTab[_0x45f059(0x4c9)][_0x45f059(0x5ce)]('active');if(_0x1054f0)_0x1054f0[_0x45f059(0x4c9)]['remove'](_0x45f059(0x5b0));textInputArea['classList']['remove'](_0x45f059(0x4be)),topicInputArea[_0x45f059(0x4c9)][_0x45f059(0x21b)](_0x45f059(0x4be)),fileInputArea['classList'][_0x45f059(0x21b)](_0x45f059(0x4be)),worksheetInputArea[_0x45f059(0x4c9)][_0x45f059(0x21b)](_0x45f059(0x4be));if(_0x294b36)_0x294b36[_0x45f059(0x4c9)][_0x45f059(0x21b)]('hidden');}),fileTab['addEventListener'](_0x3fb768(0x20a),()=>{const _0x425836=_0x3fb768;fileTab[_0x425836(0x4c9)]['add'](_0x425836(0x5b0)),topicTab['classList'][_0x425836(0x5ce)](_0x425836(0x5b0)),textTab[_0x425836(0x4c9)][_0x425836(0x5ce)]('active'),worksheetTab['classList'][_0x425836(0x5ce)](_0x425836(0x5b0));if(_0x1054f0)_0x1054f0[_0x425836(0x4c9)]['remove'](_0x425836(0x5b0));fileInputArea[_0x425836(0x4c9)][_0x425836(0x5ce)]('hidden'),topicInputArea[_0x425836(0x4c9)][_0x425836(0x21b)](_0x425836(0x4be)),textInputArea['classList'][_0x425836(0x21b)](_0x425836(0x4be)),worksheetInputArea[_0x425836(0x4c9)][_0x425836(0x21b)](_0x425836(0x4be));if(_0x294b36)_0x294b36[_0x425836(0x4c9)][_0x425836(0x21b)](_0x425836(0x4be));}),worksheetTab[_0x3fb768(0x336)](_0x3fb768(0x20a),()=>{const _0x47d88e=_0x3fb768;worksheetTab[_0x47d88e(0x4c9)][_0x47d88e(0x21b)](_0x47d88e(0x5b0)),topicTab[_0x47d88e(0x4c9)][_0x47d88e(0x5ce)](_0x47d88e(0x5b0)),textTab[_0x47d88e(0x4c9)]['remove']('active'),fileTab['classList'][_0x47d88e(0x5ce)](_0x47d88e(0x5b0));if(_0x1054f0)_0x1054f0[_0x47d88e(0x4c9)]['remove']('active');worksheetInputArea['classList']['remove'](_0x47d88e(0x4be)),topicInputArea['classList'][_0x47d88e(0x21b)]('hidden'),textInputArea[_0x47d88e(0x4c9)][_0x47d88e(0x21b)](_0x47d88e(0x4be)),fileInputArea[_0x47d88e(0x4c9)][_0x47d88e(0x21b)](_0x47d88e(0x4be));if(_0x294b36)_0x294b36[_0x47d88e(0x4c9)][_0x47d88e(0x21b)](_0x47d88e(0x4be));});const _0x4ee629=document[_0x3fb768(0x3b1)](_0x3fb768(0x576)),_0x53cb9e=document[_0x3fb768(0x3b1)](_0x3fb768(0x194));_0x4ee629&&_0x4ee629['addEventListener']('click',()=>{const _0x2bbf74=_0x3fb768;topicTab[_0x2bbf74(0x4c9)][_0x2bbf74(0x5ce)](_0x2bbf74(0x5b0)),textTab[_0x2bbf74(0x4c9)][_0x2bbf74(0x5ce)](_0x2bbf74(0x5b0)),fileTab[_0x2bbf74(0x4c9)][_0x2bbf74(0x5ce)](_0x2bbf74(0x5b0)),worksheetTab[_0x2bbf74(0x4c9)][_0x2bbf74(0x5ce)]('active');if(_0x1054f0)_0x1054f0[_0x2bbf74(0x4c9)]['remove'](_0x2bbf74(0x5b0));_0x4ee629[_0x2bbf74(0x4c9)][_0x2bbf74(0x21b)](_0x2bbf74(0x5b0)),topicInputArea[_0x2bbf74(0x4c9)]['add']('hidden'),textInputArea[_0x2bbf74(0x4c9)][_0x2bbf74(0x21b)](_0x2bbf74(0x4be)),fileInputArea[_0x2bbf74(0x4c9)][_0x2bbf74(0x21b)](_0x2bbf74(0x4be)),worksheetInputArea[_0x2bbf74(0x4c9)][_0x2bbf74(0x21b)]('hidden');if(_0x294b36)_0x294b36['classList'][_0x2bbf74(0x21b)](_0x2bbf74(0x4be));_0x53cb9e[_0x2bbf74(0x4c9)][_0x2bbf74(0x5ce)](_0x2bbf74(0x4be)),displayQuestionBank();});_0x1054f0&&(_0x1054f0[_0x3fb768(0x336)](_0x3fb768(0x20a),()=>{const _0x52bc5d=_0x3fb768;topicTab[_0x52bc5d(0x4c9)]['remove']('active'),textTab[_0x52bc5d(0x4c9)][_0x52bc5d(0x5ce)](_0x52bc5d(0x5b0)),fileTab[_0x52bc5d(0x4c9)][_0x52bc5d(0x5ce)](_0x52bc5d(0x5b0)),worksheetTab[_0x52bc5d(0x4c9)][_0x52bc5d(0x5ce)](_0x52bc5d(0x5b0)),_0x1054f0['classList'][_0x52bc5d(0x21b)](_0x52bc5d(0x5b0)),topicInputArea[_0x52bc5d(0x4c9)][_0x52bc5d(0x21b)]('hidden'),textInputArea[_0x52bc5d(0x4c9)][_0x52bc5d(0x21b)](_0x52bc5d(0x4be)),fileInputArea[_0x52bc5d(0x4c9)][_0x52bc5d(0x21b)](_0x52bc5d(0x4be)),worksheetInputArea[_0x52bc5d(0x4c9)]['add']('hidden'),_0x294b36[_0x52bc5d(0x4c9)]['remove'](_0x52bc5d(0x4be));}),document[_0x3fb768(0x3b1)](_0x3fb768(0x5b5))[_0x3fb768(0x336)](_0x3fb768(0x20a),handleGenerateFromLink));loadQuizBtn[_0x3fb768(0x336)]('click',handleLoadQuiz),startQuizBtn['addEventListener']('click',()=>{const _0x32e4d2=_0x3fb768,_0x4aca2d=document[_0x32e4d2(0x3b1)](_0x32e4d2(0x328));currentStudentName=_0x4aca2d[_0x32e4d2(0x401)];if(!currentStudentName){showMessage('กรุณาเลือกชื่อของคุณ');return;}studentNameSelectionView[_0x32e4d2(0x4c9)][_0x32e4d2(0x21b)](_0x32e4d2(0x4be)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x3fb768(0x3b1)](_0x3fb768(0x370))['addEventListener'](_0x3fb768(0x20a),showJoinGameView),document[_0x3fb768(0x3b1)](_0x3fb768(0x36e))[_0x3fb768(0x336)](_0x3fb768(0x20a),handleJoinLiveGame),document['getElementById']('back-to-student-initial-btn')[_0x3fb768(0x336)](_0x3fb768(0x20a),()=>showView(_0x3fb768(0x4c0)));const _0x3c4757=()=>{const _0x4bb965=_0x3fb768,_0x5b8ef5=document['getElementById'](_0x4bb965(0x46c))[_0x4bb965(0x18d)]['replace'](/[^a-z0-9]/gi,'_')['toLowerCase']();return _0x4bb965(0x63d)+(_0x5b8ef5||_0x4bb965(0x196));},_0x5e6397=document['getElementById'](_0x3fb768(0x2b0));_0x5e6397&&_0x5e6397[_0x3fb768(0x336)](_0x3fb768(0x504),_0x5a1815=>{const _0x530c65=_0x3fb768,_0x5e574a=_0x5a1815[_0x530c65(0x624)][_0x530c65(0x401)][_0x530c65(0x191)]()['trim'](),_0x15cda4=document['getElementById'](_0x530c65(0x217)),_0x3b6d0f=_0x15cda4['querySelectorAll'](_0x530c65(0x5de));_0x3b6d0f[_0x530c65(0x3c3)](_0x24fddf=>{const _0x25a788=_0x530c65;let _0x549465=![];const _0x188399=_0x24fddf[_0x25a788(0x243)]('label');_0x188399['forEach'](_0x1f7430=>{const _0x48ad6f=_0x25a788,_0x451bc4=_0x1f7430[_0x48ad6f(0x18d)][_0x48ad6f(0x191)]();_0x451bc4[_0x48ad6f(0x17e)](_0x5e574a)?(_0x1f7430[_0x48ad6f(0x51c)][_0x48ad6f(0x4b6)]=_0x48ad6f(0x251),_0x549465=!![]):_0x1f7430['style'][_0x48ad6f(0x4b6)]='none';}),_0x549465?_0x24fddf[_0x25a788(0x51c)][_0x25a788(0x4b6)]=_0x25a788(0x19e):_0x24fddf[_0x25a788(0x51c)][_0x25a788(0x4b6)]=_0x25a788(0x1a0);});});document[_0x3fb768(0x3b1)]('export-image-btn')[_0x3fb768(0x336)]('click',()=>exportTableAsImage('results-table-container',_0x3c4757())),document[_0x3fb768(0x3b1)](_0x3fb768(0x40d))[_0x3fb768(0x336)](_0x3fb768(0x20a),()=>exportTableAsPDF('results-table',_0x3c4757())),document[_0x3fb768(0x3b1)](_0x3fb768(0x202))['addEventListener']('click',()=>exportTableAsWord(_0x3fb768(0x57d),_0x3c4757())),document[_0x3fb768(0x3b1)](_0x3fb768(0x3f8))[_0x3fb768(0x336)](_0x3fb768(0x20a),()=>exportTableAsExcel(_0x3fb768(0x26b),_0x3c4757()));const _0x205630=()=>{const _0x2d57b0=_0x3fb768,_0x18820a=document[_0x2d57b0(0x3b1)]('results-quiz-title')[_0x2d57b0(0x18d)]['replace'](/[^a-z0-9]/gi,'_')[_0x2d57b0(0x191)]();return _0x2d57b0(0x35d)+(_0x18820a||'quiz');};document[_0x3fb768(0x3b1)]('export-leaderboard-image-btn')[_0x3fb768(0x336)]('click',()=>exportTableAsImage('quiz-leaderboard-table-container',_0x205630())),document[_0x3fb768(0x3b1)]('export-leaderboard-pdf-btn')[_0x3fb768(0x336)](_0x3fb768(0x20a),()=>exportTableAsPDF(_0x3fb768(0x185),_0x205630())),document['getElementById'](_0x3fb768(0x25d))['addEventListener'](_0x3fb768(0x20a),()=>exportTableAsWord(_0x3fb768(0x579),_0x205630())),document['getElementById'](_0x3fb768(0x44e))[_0x3fb768(0x336)](_0x3fb768(0x20a),()=>exportTableAsExcel(_0x3fb768(0x185),_0x205630())),projectQuizzesList[_0x3fb768(0x336)]('click',async _0x202b7a=>{const _0x457aba=_0x3fb768,_0x2c2577=_0x202b7a[_0x457aba(0x624)]['closest'](_0x457aba(0x37e)),_0x5cf2b9=_0x202b7a['target']['closest'](_0x457aba(0x54c)),_0x3c2723=_0x202b7a[_0x457aba(0x624)][_0x457aba(0x476)](_0x457aba(0x647)),_0x9a02fe=_0x202b7a[_0x457aba(0x624)]['closest']('.start-presentation-list-btn'),_0x167b9e=_0x202b7a[_0x457aba(0x624)][_0x457aba(0x476)](_0x457aba(0x545)),_0x27a4a7=_0x202b7a['target'][_0x457aba(0x476)](_0x457aba(0x183)),_0x1d88a4=_0x202b7a['target'][_0x457aba(0x476)](_0x457aba(0x2be)),_0x3d1f6c=_0x202b7a[_0x457aba(0x624)][_0x457aba(0x476)](_0x457aba(0x5b9)),_0x43176a=_0x202b7a['target'][_0x457aba(0x476)](_0x457aba(0x5ee)),_0x157b82=_0x202b7a[_0x457aba(0x624)][_0x457aba(0x476)](_0x457aba(0x239)),_0x228225=_0x202b7a[_0x457aba(0x624)][_0x457aba(0x476)](_0x457aba(0x59f)),_0xba654=_0x202b7a[_0x457aba(0x624)][_0x457aba(0x476)](_0x457aba(0x4a0));if(_0xba654){const _0x2568c5=_0xba654[_0x457aba(0x5bb)][_0x457aba(0x137)];handleOpenQuizEditor(_0x2568c5);}else{if(_0x2c2577){const _0x4e3533=_0x2c2577[_0x457aba(0x5bb)]['quizId'];handleToggleStarQuiz(_0x4e3533);}else{if(_0x228225){const _0x4456fc=_0x228225['dataset']['quizId'];handleStartLiveRace(_0x4456fc);}else{if(_0x5cf2b9){const _0x4a92d7=_0x5cf2b9[_0x457aba(0x5bb)][_0x457aba(0x137)],_0x57ee76=_0x5cf2b9[_0x457aba(0x5bb)]['topic'];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22'+_0x57ee76+'\x22?\x20ผลการส่งงานทั้งหมดของแบบทดสอบนี้จะถูกลบอย่างถาวร',()=>handleDeleteQuiz(_0x4a92d7));}else{if(_0x3c2723){const _0x22ccee=_0x3c2723['dataset'][_0x457aba(0x137)];copyTextToClipboard(_0x22ccee,_0x457aba(0x14b));}else{if(_0x9a02fe){const _0x3a41d8=_0x9a02fe['dataset'][_0x457aba(0x137)],_0x5300ef=doc(db,_0x457aba(0x23a)+appId+'/public/data/quizzes',_0x3a41d8),_0x302280=await getDoc(_0x5300ef);if(_0x302280[_0x457aba(0x4b7)]()){const _0x13a768={'id':_0x302280['id'],..._0x302280[_0x457aba(0x5d5)]()};startPresentation(_0x13a768);}else showMessage(_0x457aba(0x5f2));}else{if(_0x167b9e){const _0xb90d09=_0x167b9e[_0x457aba(0x5bb)][_0x457aba(0x137)],_0x54a248=doc(db,_0x457aba(0x23a)+appId+_0x457aba(0x378),_0xb90d09),_0x3470e6=await getDoc(_0x54a248);_0x3470e6['exists']()?(currentQuizData={'id':_0x3470e6['id'],..._0x3470e6[_0x457aba(0x5d5)]()},startAdminTest()):showMessage('ไม่พบข้อมูลแบบทดสอบ');}else{if(_0x27a4a7){const _0x617e70=_0x27a4a7[_0x457aba(0x5bb)][_0x457aba(0x137)],_0x595b04=_0x27a4a7['dataset'][_0x457aba(0x153)];handleRenameQuiz(_0x617e70,_0x595b04);}else{if(_0x1d88a4){const _0x4cc81a=_0x1d88a4[_0x457aba(0x5bb)][_0x457aba(0x137)];handleMoveQuiz(_0x4cc81a);}else{if(_0x3d1f6c){const _0x52d2d1=_0x3d1f6c[_0x457aba(0x5bb)][_0x457aba(0x137)];handleQuizSettings(_0x52d2d1);}else{if(_0x43176a){const _0x150051=_0x43176a[_0x457aba(0x5bb)][_0x457aba(0x137)];handleQuizStatus(_0x150051);}else{if(_0x157b82){const _0x4287cc=_0x157b82[_0x457aba(0x5bb)][_0x457aba(0x137)];handleDuplicateQuiz(_0x4287cc);}}}}}}}}}}}}}),document[_0x3fb768(0x3b1)]('quiz-leaderboard-table')['querySelector'](_0x3fb768(0x1d0))[_0x3fb768(0x336)](_0x3fb768(0x20a),_0x1fa312=>{const _0x5a5ce1=_0x3fb768,_0x4b1d55=_0x1fa312[_0x5a5ce1(0x624)]['closest']('.sortable-header');if(!_0x4b1d55||!_0x4b1d55[_0x5a5ce1(0x5bb)][_0x5a5ce1(0x132)])return;const _0x1de04=_0x4b1d55[_0x5a5ce1(0x5bb)]['sort'];if(quizLeaderboardSortBy===_0x1de04)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0x5a5ce1(0x384)?_0x5a5ce1(0x1b5):_0x5a5ce1(0x384);else{quizLeaderboardSortBy=_0x1de04;const _0x35a5cc=[_0x5a5ce1(0x3b6)];quizLeaderboardSortOrder=_0x35a5cc[_0x5a5ce1(0x17e)](_0x1de04)?'asc':'desc';}renderQuizLeaderboard(currentSubmissions,currentQuizData,'quiz-leaderboard-table-body');}),document['getElementById'](_0x3fb768(0x498))[_0x3fb768(0x336)](_0x3fb768(0x20a),closePresentation),document[_0x3fb768(0x3b1)]('prev-question-btn')[_0x3fb768(0x336)](_0x3fb768(0x20a),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0x3fb768(0x3b1)]('next-question-btn')[_0x3fb768(0x336)](_0x3fb768(0x20a),()=>{const _0x569b5f=_0x3fb768;currentQuizData[_0x569b5f(0x480)]&&currentPresentationSlide<currentQuizData['questions'][_0x569b5f(0x31f)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x3fb768(0x336)]('fullscreenchange',()=>{const _0x2512fe=_0x3fb768;!document['fullscreenElement']&&(presentationModal[_0x2512fe(0x51c)][_0x2512fe(0x4b6)]='none');}),document['getElementById'](_0x3fb768(0x13c))['addEventListener'](_0x3fb768(0x20a),handleDeleteAllStudents),studentList['addEventListener']('click',_0x333658=>{const _0x4561eb=_0x3fb768,_0x4b0f54=_0x333658['target'][_0x4561eb(0x476)](_0x4561eb(0x33a));if(_0x4b0f54){const _0x1f931c=_0x4b0f54[_0x4561eb(0x5bb)][_0x4561eb(0x3b6)];handleDeleteStudent(_0x1f931c);}}),document[_0x3fb768(0x3b1)](_0x3fb768(0x308))['addEventListener'](_0x3fb768(0x20a),handleGenerateFromFileClick),fileUploadInput[_0x3fb768(0x336)](_0x3fb768(0x2cd),_0x119eff=>{const _0x152b98=_0x3fb768,_0x4524b9=_0x119eff[_0x152b98(0x624)][_0x152b98(0x2b6)][0x0],_0x434957=document[_0x152b98(0x3b1)](_0x152b98(0x308));_0x4524b9?(selectedFile=_0x4524b9,_0x434957[_0x152b98(0x3f9)]=![]):(selectedFile=null,_0x434957[_0x152b98(0x3f9)]=!![]);}),document[_0x3fb768(0x3b1)](_0x3fb768(0x4a4))[_0x3fb768(0x336)]('change',_0x46d61c=>{const _0x35bfa0=_0x3fb768,_0x3c6302=document[_0x35bfa0(0x3b1)](_0x35bfa0(0x5a1)),_0x460040=document[_0x35bfa0(0x3b1)](_0x35bfa0(0x373)),_0x558fa3=document[_0x35bfa0(0x3b1)](_0x35bfa0(0x5c1));_0x46d61c[_0x35bfa0(0x624)][_0x35bfa0(0x401)]===_0x35bfa0(0x1a0)?_0x3c6302[_0x35bfa0(0x4c9)][_0x35bfa0(0x21b)](_0x35bfa0(0x4be)):(_0x3c6302[_0x35bfa0(0x4c9)]['remove']('hidden'),_0x46d61c['target'][_0x35bfa0(0x401)]===_0x35bfa0(0x604)?(_0x460040[_0x35bfa0(0x18d)]=_0x35bfa0(0x340),_0x558fa3['value']='10'):(_0x460040[_0x35bfa0(0x18d)]='ระยะเวลา\x20(วินาที):',_0x558fa3[_0x35bfa0(0x401)]='30'));}),document[_0x3fb768(0x3b1)]('quiz-type-select')[_0x3fb768(0x336)]('change',_0x3e1ad8=>{const _0x315ec1=_0x3fb768,_0x1fdced=document[_0x315ec1(0x3b1)](_0x315ec1(0x31d)),_0x49dee9=_0x3e1ad8[_0x315ec1(0x624)][_0x315ec1(0x401)],_0x3ff8a7=document[_0x315ec1(0x3fc)]('label[for=\x22num-questions\x22]'),_0x3c87dc=document[_0x315ec1(0x3b1)](_0x315ec1(0x2bb)),_0x22b3f2=document[_0x315ec1(0x3b1)](_0x315ec1(0x1e9));_0x49dee9==='matching'?_0x3ff8a7[_0x315ec1(0x18d)]=_0x315ec1(0x351):_0x3ff8a7[_0x315ec1(0x18d)]=_0x315ec1(0x36b),_0x49dee9===_0x315ec1(0x4a9)||_0x49dee9===_0x315ec1(0x3ff)||_0x49dee9==='mixed'?_0x1fdced[_0x315ec1(0x4c9)][_0x315ec1(0x5ce)](_0x315ec1(0x4be)):_0x1fdced[_0x315ec1(0x4c9)]['add'](_0x315ec1(0x4be)),_0x3c87dc[_0x315ec1(0x1dc)]=_0x22b3f2['value'];}),document['getElementById'](_0x3fb768(0x1e9))[_0x3fb768(0x336)](_0x3fb768(0x504),_0x7d3e52=>{const _0x3c838f=_0x3fb768;document[_0x3c838f(0x3b1)](_0x3c838f(0x2bb))[_0x3c838f(0x1dc)]=_0x7d3e52[_0x3c838f(0x624)][_0x3c838f(0x401)];}),document['getElementById']('modal-timer-mode-select')[_0x3fb768(0x336)]('change',_0x5d4ab5=>{const _0x459073=_0x3fb768,_0x5d388f=document['getElementById'](_0x459073(0x22a)),_0x1776ff=document['getElementById'](_0x459073(0x4a7)),_0x430cb6=document['getElementById'](_0x459073(0x588));_0x5d4ab5['target'][_0x459073(0x401)]===_0x459073(0x1a0)?_0x5d388f['classList'][_0x459073(0x21b)](_0x459073(0x4be)):(_0x5d388f[_0x459073(0x4c9)][_0x459073(0x5ce)](_0x459073(0x4be)),_0x5d4ab5[_0x459073(0x624)][_0x459073(0x401)]===_0x459073(0x604)?_0x1776ff[_0x459073(0x18d)]=_0x459073(0x340):_0x1776ff[_0x459073(0x18d)]=_0x459073(0x341));}),document['getElementById'](_0x3fb768(0x648))[_0x3fb768(0x336)](_0x3fb768(0x20a),()=>{const _0x30dd7b=_0x3fb768;document[_0x30dd7b(0x3b1)](_0x30dd7b(0x4de))[_0x30dd7b(0x4c9)][_0x30dd7b(0x21b)](_0x30dd7b(0x4be));}),document['getElementById']('cancel-quiz-edits-btn-footer')['addEventListener'](_0x3fb768(0x20a),()=>{const _0x271396=_0x3fb768;document[_0x271396(0x3b1)]('quiz-editor-modal')[_0x271396(0x4c9)][_0x271396(0x21b)](_0x271396(0x4be));}),document[_0x3fb768(0x3b1)]('save-quiz-edits-btn')[_0x3fb768(0x336)](_0x3fb768(0x20a),()=>{const _0x21b86c=_0x3fb768;document[_0x21b86c(0x3b1)](_0x21b86c(0x4de))[_0x21b86c(0x4c9)][_0x21b86c(0x21b)](_0x21b86c(0x4be)),showConfirmation(_0x21b86c(0x178),handleSaveChanges);}),document[_0x3fb768(0x3b1)](_0x3fb768(0x582))[_0x3fb768(0x336)](_0x3fb768(0x20a),handleAutoFixLatex);}function handleModeSwitch(){const _0x282309=_0x585543,_0x2976ec=document[_0x282309(0x3b1)](_0x282309(0x1f0));currentMode==='student'?(adminPasswordModal[_0x282309(0x4c9)]['remove'](_0x282309(0x4be)),document['getElementById'](_0x282309(0x427))[_0x282309(0x553)]()):(currentMode=_0x282309(0x4c0),_0x2976ec['innerHTML']=_0x282309(0x522),_0x2976ec[_0x282309(0x420)]=_0x282309(0x499),showView(_0x282309(0x4c0)));}function handleAdminLogin(){const _0x3fffc7=_0x585543,_0x5dd8c9=document[_0x3fffc7(0x3b1)](_0x3fffc7(0x427)),_0x2944d2=document[_0x3fffc7(0x3b1)](_0x3fffc7(0x374));if(_0x5dd8c9[_0x3fffc7(0x401)]===_0x3fffc7(0x515)){adminPasswordModal['classList'][_0x3fffc7(0x21b)](_0x3fffc7(0x4be)),_0x5dd8c9[_0x3fffc7(0x401)]='',_0x2944d2[_0x3fffc7(0x4c9)]['add'](_0x3fffc7(0x4be)),currentMode=_0x3fffc7(0x3fa);const _0x107989=document[_0x3fffc7(0x3b1)](_0x3fffc7(0x1f0));_0x107989['innerHTML']='<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>',_0x107989[_0x3fffc7(0x420)]=_0x3fffc7(0x281),showView('admin-dashboard');}else _0x2944d2[_0x3fffc7(0x4c9)][_0x3fffc7(0x5ce)](_0x3fffc7(0x4be)),_0x5dd8c9[_0x3fffc7(0x401)]='';}function switchProjectTab(_0xe62820){const _0x2b50dc=_0x585543;['manage','results',_0x2b50dc(0x43b)][_0x2b50dc(0x3c3)](_0x989647=>{const _0x4ffb8c=_0x2b50dc;document[_0x4ffb8c(0x3b1)](_0x989647+'-tab')[_0x4ffb8c(0x4c9)][_0x4ffb8c(0x5ce)]('active'),document[_0x4ffb8c(0x3b1)](_0x989647+'-tab-content')[_0x4ffb8c(0x4c9)]['add']('hidden');}),document[_0x2b50dc(0x3b1)](_0xe62820+_0x2b50dc(0x45d))[_0x2b50dc(0x4c9)][_0x2b50dc(0x21b)](_0x2b50dc(0x5b0)),document[_0x2b50dc(0x3b1)](_0xe62820+_0x2b50dc(0x326))['classList'][_0x2b50dc(0x5ce)](_0x2b50dc(0x4be));}function switchQuizDetailTab(_0x1a13d0){const _0x2b0384=_0x585543,_0x2ecf9f={'analytics':{'btn':_0x2b0384(0x2fe),'content':'analytics-tab-content'},'scores':{'btn':_0x2b0384(0x4cf),'content':_0x2b0384(0x423)},'leaderboard-quiz':{'btn':'leaderboard-quiz-tab-btn','content':_0x2b0384(0x4e2)}};for(const _0x2cdc6b in _0x2ecf9f){document[_0x2b0384(0x3b1)](_0x2ecf9f[_0x2cdc6b][_0x2b0384(0x484)])[_0x2b0384(0x4c9)][_0x2b0384(0x5ce)](_0x2b0384(0x5b0)),document[_0x2b0384(0x3b1)](_0x2ecf9f[_0x2cdc6b][_0x2b0384(0x32f)])[_0x2b0384(0x4c9)][_0x2b0384(0x21b)]('hidden');}document[_0x2b0384(0x3b1)](_0x2ecf9f[_0x1a13d0][_0x2b0384(0x484)])[_0x2b0384(0x4c9)]['add']('active'),document[_0x2b0384(0x3b1)](_0x2ecf9f[_0x1a13d0]['content'])[_0x2b0384(0x4c9)]['remove']('hidden');}function showMessage(_0x3d2cac){const _0xb35502=_0x585543;modalMessage[_0xb35502(0x18d)]=_0x3d2cac,messageModal[_0xb35502(0x4c9)][_0xb35502(0x5ce)](_0xb35502(0x4be));}function showConfirmation(_0x150da4,_0x2adb69){const _0x2287b2=_0x585543;document['getElementById'](_0x2287b2(0x2f0))[_0x2287b2(0x18d)]=_0x150da4,document[_0x2287b2(0x3b1)]('confirmation-modal')[_0x2287b2(0x3fc)]('h3')[_0x2287b2(0x18d)]='ยืนยันการกระทำ',confirmAction=_0x2adb69,confirmationModal[_0x2287b2(0x4c9)]['remove'](_0x2287b2(0x4be));}function listenForProjects(){const _0x296a5d=_0x585543,_0x5c5d76=collection(db,_0x296a5d(0x23a)+appId+'/public/data/projects');unsubscribeProjectsListener=onSnapshot(_0x5c5d76,_0x136a4d=>{const _0x51f1b2=_0x296a5d;allProjects=_0x136a4d[_0x51f1b2(0x128)][_0x51f1b2(0x20c)](_0x358f32=>({'id':_0x358f32['id'],..._0x358f32['data']()})),renderProjects();},_0x4576d1=>{const _0x4cbcad=_0x296a5d;console[_0x4cbcad(0x61f)](_0x4cbcad(0x1aa),_0x4576d1),showMessage('เกิดข้อผิดพลาดในการโหลดโปรเจค');});}async function renderProjects(){const _0xbab973=_0x585543,_0x149cfa=document[_0xbab973(0x3b1)](_0xbab973(0x4f8))[_0xbab973(0x401)][_0xbab973(0x191)](),_0x10f4c6=document[_0xbab973(0x3b1)](_0xbab973(0x4ef))['value'];let _0x4a5cb3=allProjects['filter'](_0x538d09=>_0x538d09['projectName'][_0xbab973(0x191)]()[_0xbab973(0x17e)](_0x149cfa));_0x4a5cb3[_0xbab973(0x132)]((_0x23a449,_0x17427c)=>{const _0x5ec1da=_0xbab973;switch(_0x10f4c6){case _0x5ec1da(0x46a):return _0x23a449[_0x5ec1da(0x5b7)][_0x5ec1da(0x5e3)](_0x17427c['projectName'],'th');case _0x5ec1da(0x3d2):return _0x17427c[_0x5ec1da(0x5b7)][_0x5ec1da(0x5e3)](_0x23a449[_0x5ec1da(0x5b7)],'th');case _0x5ec1da(0x53a):return new Date(_0x23a449[_0x5ec1da(0x2f5)])-new Date(_0x17427c[_0x5ec1da(0x2f5)]);case'date_desc':default:return new Date(_0x17427c[_0x5ec1da(0x2f5)])-new Date(_0x23a449[_0x5ec1da(0x2f5)]);}});const _0x2944a8={};await Promise[_0xbab973(0x1ac)](_0x4a5cb3[_0xbab973(0x20c)](async _0x101691=>{const _0x22d61c=_0xbab973,_0x2070a6=query(collection(db,_0x22d61c(0x23a)+appId+_0x22d61c(0x378)),where(_0x22d61c(0x388),'==',_0x101691['id'])),_0x2118e9=await getDocs(_0x2070a6);_0x2944a8[_0x101691['id']]=_0x2118e9[_0x22d61c(0x26f)];}));let _0x49b124='';starredQuizzes[_0xbab973(0x31f)]>0x0&&(_0x49b124+=_0xbab973(0x490)+starredQuizzes[_0xbab973(0x31f)]+_0xbab973(0x27a)),_0x4a5cb3[_0xbab973(0x3c3)](_0x59c7c3=>{const _0x1d60cc=_0xbab973,_0x5e23ba=_0x2944a8[_0x59c7c3['id']]??0x0;_0x49b124+=_0x1d60cc(0x1ec)+_0x59c7c3['id']+_0x1d60cc(0x4bf)+_0x59c7c3['projectName']+_0x1d60cc(0x409)+new Date(_0x59c7c3[_0x1d60cc(0x2f5)])['toLocaleDateString'](_0x1d60cc(0x145))+_0x1d60cc(0x14d)+_0x5e23ba+_0x1d60cc(0x150)+_0x59c7c3['id']+'\x22\x20data-name=\x22'+_0x59c7c3[_0x1d60cc(0x5b7)]+_0x1d60cc(0x1dd);}),projectList['innerHTML']=_0x49b124,noProjectsMsg[_0xbab973(0x4c9)][_0xbab973(0x212)](_0xbab973(0x4be),_0x49b124['length']>0x0);}document['getElementById'](_0x585543(0x268))['addEventListener'](_0x585543(0x20a),async()=>{const _0x42c806=_0x585543,_0x11db62=document[_0x42c806(0x3b1)]('project-name-input'),_0x20cf4d=_0x11db62[_0x42c806(0x401)][_0x42c806(0x1d4)]();if(!_0x20cf4d){showMessage(_0x42c806(0x44b));return;}try{const _0x50e296=doc(collection(db,'artifacts/'+appId+_0x42c806(0x4b8)));await setDoc(_0x50e296,{'projectName':_0x20cf4d,'students':[],'settings':{'resultsDisplay':_0x42c806(0x540),'shuffleSetting':'none','defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x42c806(0x1a0),'timerDuration':0xa},'createdBy':userId,'createdAt':new Date()[_0x42c806(0x152)]()}),_0x11db62[_0x42c806(0x401)]='',createProjectModal[_0x42c806(0x4c9)][_0x42c806(0x21b)](_0x42c806(0x4be)),showMessage(_0x42c806(0x491));}catch(_0xe9317b){console[_0x42c806(0x61f)]('Error\x20creating\x20project:',_0xe9317b),showMessage('ไม่สามารถสร้างโปรเจคได้');}}),projectList['addEventListener']('click',async _0x45033b=>{const _0x1b6d02=_0x585543,_0x1cc65a=_0x45033b[_0x1b6d02(0x624)]['closest'](_0x1b6d02(0x12a)),_0xba0410=_0x45033b[_0x1b6d02(0x624)]['closest'](_0x1b6d02(0x33d));if(_0x1cc65a){const _0x56f700=_0x1cc65a[_0x1b6d02(0x5bb)]['id'];_0x56f700===_0x1b6d02(0x17d)?showStarredProjectView():(currentProjectId=_0x56f700,await loadProjectDetails(currentProjectId),showView(_0x1b6d02(0x1a9)));}else{if(_0xba0410){const _0x4b96a7=_0xba0410[_0x1b6d02(0x5bb)]['id'],_0x24a232=_0xba0410['dataset'][_0x1b6d02(0x507)];showConfirmation(_0x1b6d02(0x26d)+_0x24a232+_0x1b6d02(0x50f),()=>handleDeleteProject(_0x4b96a7));}}});function showStarredProjectView(){const _0x15c4b1=_0x585543;currentProjectId=_0x15c4b1(0x14c),currentProjectData=null,projectTitle[_0x15c4b1(0x18d)]=_0x15c4b1(0x5c8),projectIdDisplay[_0x15c4b1(0x18d)]='pinned-items',showView('project-detail'),manageTab[_0x15c4b1(0x4c9)]['add'](_0x15c4b1(0x4be)),leaderboardTab[_0x15c4b1(0x4c9)][_0x15c4b1(0x21b)](_0x15c4b1(0x4be)),switchProjectTab(_0x15c4b1(0x30d)),renderQuizzes();}async function loadProjectDetails(_0x20ab54){const _0x48fd90=_0x585543,_0x4b4475=doc(db,'artifacts/'+appId+_0x48fd90(0x4b8),_0x20ab54),_0x3edab9=await getDoc(_0x4b4475);if(_0x3edab9[_0x48fd90(0x4b7)]()){manageTab[_0x48fd90(0x4c9)]['remove'](_0x48fd90(0x4be)),leaderboardTab['classList'][_0x48fd90(0x5ce)](_0x48fd90(0x4be)),currentProjectData=_0x3edab9['data'](),projectTitle[_0x48fd90(0x18d)]=currentProjectData['projectName'],projectIdDisplay[_0x48fd90(0x18d)]=_0x20ab54;const _0x5279eb=currentProjectData[_0x48fd90(0x62f)]||{};document[_0x48fd90(0x3b1)](_0x48fd90(0x1e9))[_0x48fd90(0x401)]=_0x5279eb['defaultNumQuestions']||0x5,document[_0x48fd90(0x3b1)]('num-choices')[_0x48fd90(0x401)]=_0x5279eb[_0x48fd90(0x547)]||0x4,document['getElementById'](_0x48fd90(0x2bb))[_0x48fd90(0x401)]=_0x5279eb[_0x48fd90(0x3c8)]||Math['floor']((_0x5279eb[_0x48fd90(0x397)]||0x5)/0x2),document[_0x48fd90(0x3b1)]('passing-score-input')[_0x48fd90(0x1dc)]=_0x5279eb[_0x48fd90(0x397)]||0x5,document[_0x48fd90(0x3b1)]('results-display-select')[_0x48fd90(0x401)]=_0x5279eb['resultsDisplay']||'show_results_and_answers',document[_0x48fd90(0x3b1)]('shuffle-setting-select')[_0x48fd90(0x401)]=_0x5279eb['shuffleSetting']||_0x48fd90(0x1a0);const _0x45c81a=_0x5279eb[_0x48fd90(0x5bf)]||_0x48fd90(0x1a0),_0x53b4b6=_0x5279eb[_0x48fd90(0x5f8)]||0xa,_0x452493=document[_0x48fd90(0x3b1)]('timer-mode-select'),_0x3a0c8e=document[_0x48fd90(0x3b1)](_0x48fd90(0x5a1)),_0x2d98cd=document[_0x48fd90(0x3b1)](_0x48fd90(0x5c1));_0x452493['value']=_0x45c81a,_0x2d98cd[_0x48fd90(0x401)]=_0x53b4b6;_0x45c81a===_0x48fd90(0x1a0)?_0x3a0c8e['classList']['add'](_0x48fd90(0x4be)):_0x3a0c8e[_0x48fd90(0x4c9)][_0x48fd90(0x5ce)](_0x48fd90(0x4be));_0x452493['dispatchEvent'](new Event('change'));if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x20ab54),listenForProjectQuizzes(_0x20ab54),listenForStudentProfiles(_0x20ab54);}else showMessage(_0x48fd90(0x236)),showView(_0x48fd90(0x14f));}async function handleDeleteProject(_0x555933){const _0x2bba0e=_0x585543;try{const _0xaa92ff=writeBatch(db),_0x3a4e00=collection(db,_0x2bba0e(0x23a)+appId+_0x2bba0e(0x378)),_0x3c4bc8=query(_0x3a4e00,where('projectId','==',_0x555933)),_0xc739d1=await getDocs(_0x3c4bc8);for(const _0x1a82ca of _0xc739d1[_0x2bba0e(0x128)]){const _0x395500=collection(db,_0x2bba0e(0x23a)+appId+_0x2bba0e(0x1ea)+_0x1a82ca['id']+_0x2bba0e(0x620)),_0x34b9db=await getDocs(_0x395500);_0x34b9db[_0x2bba0e(0x3c3)](_0x2d3754=>{const _0x38d76e=_0x2bba0e;_0xaa92ff[_0x38d76e(0x33c)](_0x2d3754['ref']);}),_0xaa92ff[_0x2bba0e(0x33c)](_0x1a82ca['ref']);}const _0x11978e=collection(db,_0x2bba0e(0x23a)+appId+_0x2bba0e(0x43f)+_0x555933+_0x2bba0e(0x4d9)),_0x632b05=await getDocs(_0x11978e);_0x632b05['forEach'](_0x1ba334=>{const _0x5b9e04=_0x2bba0e;_0xaa92ff[_0x5b9e04(0x33c)](_0x1ba334[_0x5b9e04(0x25b)]);});const _0x230522=doc(db,_0x2bba0e(0x23a)+appId+_0x2bba0e(0x4b8),_0x555933);_0xaa92ff[_0x2bba0e(0x33c)](_0x230522),await _0xaa92ff[_0x2bba0e(0x356)](),showMessage('ลบโปรเจคสำเร็จแล้ว'),showView('admin-dashboard');}catch(_0x5dc1b1){console[_0x2bba0e(0x61f)](_0x2bba0e(0x1b8),_0x5dc1b1),showMessage(_0x2bba0e(0x5b2));}}document[_0x585543(0x3b1)]('save-settings-btn')[_0x585543(0x336)](_0x585543(0x20a),async()=>{const _0x38a18f=_0x585543;if(!currentProjectId)return;const _0x462418={'defaultNumQuestions':parseInt(document[_0x38a18f(0x3b1)](_0x38a18f(0x1e9))['value']),'defaultNumChoices':parseInt(document[_0x38a18f(0x3b1)](_0x38a18f(0x151))[_0x38a18f(0x401)]),'defaultPassingScore':parseInt(document[_0x38a18f(0x3b1)](_0x38a18f(0x2bb))[_0x38a18f(0x401)]),'resultsDisplay':document[_0x38a18f(0x3b1)](_0x38a18f(0x591))[_0x38a18f(0x401)],'shuffleSetting':document[_0x38a18f(0x3b1)](_0x38a18f(0x5b8))['value'],'timerMode':document[_0x38a18f(0x3b1)](_0x38a18f(0x4a4))[_0x38a18f(0x401)],'timerDuration':parseInt(document[_0x38a18f(0x3b1)](_0x38a18f(0x5c1))['value'])};try{const _0xc123d0=doc(db,_0x38a18f(0x23a)+appId+_0x38a18f(0x4b8),currentProjectId);await updateDoc(_0xc123d0,{'settings':_0x462418}),showMessage(_0x38a18f(0x23e));}catch(_0x189ed9){console['error']('Error\x20saving\x20settings:',_0x189ed9),showMessage(_0x38a18f(0x5a7));}});function listenForStudents(_0x2ab0e5){const _0x154b7c=_0x585543,_0x3eeb00=doc(db,_0x154b7c(0x23a)+appId+_0x154b7c(0x4b8),_0x2ab0e5);unsubscribeStudentsListener=onSnapshot(_0x3eeb00,_0x17c08d=>{const _0xf2f6d5=_0x154b7c;if(_0x17c08d['exists']()){const _0x567dfe=_0x17c08d[_0xf2f6d5(0x5d5)]();currentProjectData=_0x567dfe,renderStudentList(_0x567dfe[_0xf2f6d5(0x58d)]||[]);}});}function renderStudentList(_0x1d7e7d){const _0x656b90=_0x585543,_0x597fca=document[_0x656b90(0x3b1)](_0x656b90(0x13c));_0x1d7e7d['length']===0x0?(studentList[_0x656b90(0x48c)]='<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>',_0x597fca[_0x656b90(0x4c9)][_0x656b90(0x21b)]('hidden')):(studentList[_0x656b90(0x48c)]=_0x1d7e7d[_0x656b90(0x20c)](_0x216d37=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x216d37+_0x656b90(0x125)+_0x216d37+_0x656b90(0x344))[_0x656b90(0x4a1)](''),_0x597fca['classList'][_0x656b90(0x5ce)]('hidden'));}document[_0x585543(0x3b1)](_0x585543(0x45b))['addEventListener'](_0x585543(0x20a),async()=>{const _0xc68471=_0x585543;if(!currentProjectId)return;const _0x1e1aa6=document[_0xc68471(0x3b1)](_0xc68471(0x614)),_0x4dcbcd=_0x1e1aa6[_0xc68471(0x401)][_0xc68471(0x1d4)]();if(!_0x4dcbcd){showMessage('กรุณาใส่ชื่อนักเรียน');return;}const _0x400f38=_0x4dcbcd['split']('\x0a')[_0xc68471(0x20c)](_0x36ac35=>_0x36ac35[_0xc68471(0x1d4)]())['filter'](_0x500d88=>_0x500d88);if(_0x400f38['length']===0x0)return;try{const _0x159180=doc(db,_0xc68471(0x23a)+appId+'/public/data/projects',currentProjectId),_0x489010=await getDoc(_0x159180);if(_0x489010[_0xc68471(0x4b7)]()){const _0x4bc00d=_0x489010[_0xc68471(0x5d5)]()[_0xc68471(0x58d)]||[],_0x363916=[...new Set([..._0x4bc00d,..._0x400f38])];await updateDoc(_0x159180,{'students':_0x363916}),_0x1e1aa6[_0xc68471(0x401)]='';}}catch(_0x52bcb2){console['error'](_0xc68471(0x5fd),_0x52bcb2),showMessage(_0xc68471(0x485));}});function handleDeleteStudent(_0x5eada0){const _0x3f3dcb=_0x585543;showConfirmation(_0x3f3dcb(0x20b)+_0x5eada0+_0x3f3dcb(0x1d1),async()=>{const _0x4fd38e=_0x3f3dcb;if(!currentProjectId||!currentProjectData)return;const _0x5ba646=currentProjectData[_0x4fd38e(0x58d)][_0x4fd38e(0x224)](_0x21110a=>_0x21110a!==_0x5eada0);try{const _0x2f2e9f=doc(db,_0x4fd38e(0x23a)+appId+_0x4fd38e(0x4b8),currentProjectId),_0x8fa62d=doc(db,'artifacts/'+appId+_0x4fd38e(0x43f)+currentProjectId+'/studentProfiles',_0x5eada0),_0x232cd3=writeBatch(db);_0x232cd3[_0x4fd38e(0x4ff)](_0x2f2e9f,{'students':_0x5ba646}),_0x232cd3[_0x4fd38e(0x33c)](_0x8fa62d),await _0x232cd3[_0x4fd38e(0x356)]();}catch(_0x320194){console[_0x4fd38e(0x61f)](_0x4fd38e(0x49f),_0x320194),showMessage('เกิดข้อผิดพลาดในการลบนักเรียน');}});}function handleDeleteAllStudents(){showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้',async()=>{const _0x31a82c=_0x3a08;if(!currentProjectId)return;try{const _0x596d74=doc(db,_0x31a82c(0x23a)+appId+'/public/data/projects',currentProjectId),_0x50ceb4=collection(db,'artifacts/'+appId+_0x31a82c(0x43f)+currentProjectId+_0x31a82c(0x4d9)),_0x2c7105=await getDocs(_0x50ceb4),_0x117183=writeBatch(db);_0x117183[_0x31a82c(0x4ff)](_0x596d74,{'students':[]}),_0x2c7105[_0x31a82c(0x3c3)](_0x82b596=>_0x117183[_0x31a82c(0x33c)](_0x82b596[_0x31a82c(0x25b)])),await _0x117183[_0x31a82c(0x356)]();}catch(_0x5e2c30){console[_0x31a82c(0x61f)](_0x31a82c(0x13d),_0x5e2c30),showMessage(_0x31a82c(0x42c));}});}async function handleGenerateFromFileClick(){const _0x193d72=_0x585543;if(!selectedFile){showMessage('กรุณาเลือกไฟล์ก่อน');return;}const _0xdbcd06=document[_0x193d72(0x3b1)](_0x193d72(0x506)),_0x4fc449=document[_0x193d72(0x3b1)](_0x193d72(0x3dc)),_0x160211=document[_0x193d72(0x3b1)](_0x193d72(0x58f)),_0x77958f=document['getElementById'](_0x193d72(0x308));_0x77958f['disabled']=!![],document['getElementById'](_0x193d72(0x477))[_0x193d72(0x4c9)][_0x193d72(0x5ce)](_0x193d72(0x4be)),_0x160211['innerHTML']='',_0xdbcd06[_0x193d72(0x4c9)][_0x193d72(0x5ce)]('hidden'),_0x4fc449['textContent']=_0x193d72(0x1d2);const _0x10858c=new FileReader();_0x10858c[_0x193d72(0x2f9)](selectedFile),_0x10858c['onload']=async()=>{const _0x3f2a6d=_0x193d72;try{const _0x8ddd57=_0x10858c['result'][_0x3f2a6d(0x635)](',')[0x1],_0x38f52d=selectedFile[_0x3f2a6d(0x528)];await generateQuizFromFile(_0x38f52d,_0x8ddd57);}catch(_0xd376c8){console['error']('Error\x20processing\x20file\x20for\x20AI:',_0xd376c8),showMessage(_0x3f2a6d(0x274)+_0xd376c8[_0x3f2a6d(0x62c)]),_0xdbcd06[_0x3f2a6d(0x4c9)][_0x3f2a6d(0x21b)](_0x3f2a6d(0x4be));}finally{}},_0x10858c[_0x193d72(0x3f0)]=_0xbb6f6=>{const _0x1245a9=_0x193d72;console[_0x1245a9(0x61f)](_0x1245a9(0x345),_0xbb6f6),showMessage(_0x1245a9(0x193)),_0xdbcd06[_0x1245a9(0x4c9)][_0x1245a9(0x21b)]('hidden'),_0x77958f[_0x1245a9(0x3f9)]=![];};}function autoFormatMath(_0x51fe2e){const _0x2c6238=_0x585543;if(typeof _0x51fe2e!==_0x2c6238(0x444)||!_0x51fe2e)return _0x51fe2e;const _0x14f003=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x348292=_0x51fe2e[_0x2c6238(0x41f)](_0x14f003,_0x3dc551=>{return'$'+_0x3dc551['trim']()+'$';});return _0x348292;}function sanitizeQuizData(_0x26ad41){const _0x16a93b=_0x585543;if(!_0x26ad41||!_0x26ad41[_0x16a93b(0x480)])return _0x26ad41;const _0xda4f61={'imes':_0x16a93b(0x126),'div':_0x16a93b(0x2d7)},_0x116ad2=_0x40d39a=>{const _0x4f45a7=_0x16a93b;if(typeof _0x40d39a!==_0x4f45a7(0x444))return _0x40d39a;let _0x2dbbef=_0x40d39a;for(const [_0x3a4e3f,_0x3a3826]of Object['entries'](_0xda4f61)){const _0x5e0a35=new RegExp('\x5cb'+_0x3a4e3f+'\x5cb','g');_0x2dbbef=_0x2dbbef[_0x4f45a7(0x41f)](_0x5e0a35,_0x3a3826);}return _0x2dbbef=_0x2dbbef[_0x4f45a7(0x41f)](/\\\//g,_0x4f45a7(0x2d7)),_0x2dbbef=_0x2dbbef['replace'](/<(i|em)>\s*div\s*<\/\1>/gi,'\x5cdiv')[_0x4f45a7(0x41f)](/<(i|em)>\s*times\s*<\/\1>/gi,_0x4f45a7(0x126))['replace'](/÷/g,_0x4f45a7(0x2d7))[_0x4f45a7(0x41f)](/×/g,'\x5ctimes'),_0x2dbbef=_0x2dbbef['replace'](/(\d)(\\frac)/g,_0x4f45a7(0x2bc)),_0x2dbbef=autoFormatMath(_0x2dbbef),_0x2dbbef;};return _0x26ad41[_0x16a93b(0x153)]&&(_0x26ad41[_0x16a93b(0x153)]=_0x116ad2(_0x26ad41['topic'])),_0x26ad41['questions'][_0x16a93b(0x3c3)](_0x3cd26b=>{const _0x561bd0=_0x16a93b;_0x3cd26b[_0x561bd0(0x219)]=_0x116ad2(_0x3cd26b[_0x561bd0(0x219)]),_0x3cd26b[_0x561bd0(0x275)]&&(_0x3cd26b[_0x561bd0(0x275)]=_0x3cd26b['options'][_0x561bd0(0x20c)](_0x116ad2)),_0x3cd26b['explanation']&&(_0x3cd26b[_0x561bd0(0x321)]=_0x116ad2(_0x3cd26b[_0x561bd0(0x321)])),_0x3cd26b[_0x561bd0(0x50c)]&&(_0x3cd26b[_0x561bd0(0x50c)]=_0x116ad2(_0x3cd26b[_0x561bd0(0x50c)])),_0x3cd26b['correctResponse']&&(_0x3cd26b[_0x561bd0(0x1b4)]=_0x116ad2(_0x3cd26b[_0x561bd0(0x1b4)])),_0x3cd26b[_0x561bd0(0x48e)]&&(_0x3cd26b[_0x561bd0(0x48e)]=_0x3cd26b['allResponses'][_0x561bd0(0x20c)](_0x116ad2));}),_0x26ad41;}const simpleMathPrompt=_0x585543(0x205);async function handleGenerateFromLink(){const _0x39b852=_0x585543,_0x26923d=document[_0x39b852(0x3b1)](_0x39b852(0x1ca)),_0xb6000a=document[_0x39b852(0x3b1)]('link-topic-input'),_0x2c7286=_0x26923d[_0x39b852(0x401)][_0x39b852(0x1d4)](),_0x3e6ea4=_0xb6000a[_0x39b852(0x401)][_0x39b852(0x1d4)]();if(!_0x2c7286){showMessage(_0x39b852(0x578));return;}const _0x4ebf76=document[_0x39b852(0x3b1)](_0x39b852(0x506)),_0x13b5fc=document[_0x39b852(0x3b1)](_0x39b852(0x3dc)),_0x3ef317=document[_0x39b852(0x3b1)](_0x39b852(0x58f)),_0x39f891=document[_0x39b852(0x3b1)](_0x39b852(0x5b5));document[_0x39b852(0x3b1)](_0x39b852(0x477))[_0x39b852(0x4c9)][_0x39b852(0x5ce)](_0x39b852(0x4be)),_0x3ef317['innerHTML']='',_0x4ebf76['classList'][_0x39b852(0x5ce)]('hidden'),_0x13b5fc[_0x39b852(0x18d)]=_0x39b852(0x3d6),_0x39f891[_0x39b852(0x3f9)]=!![];try{const _0x137a30=_0x39b852(0x314)+encodeURIComponent(_0x2c7286),_0x2b25de=await fetch(_0x137a30);if(!_0x2b25de['ok'])throw new Error(_0x39b852(0x289)+_0x2b25de[_0x39b852(0x56d)]+')');const _0x35b264=await _0x2b25de[_0x39b852(0x333)](),_0x112855=extractTextFromHtml(_0x35b264);if(!_0x112855||_0x112855['length']<0x64)throw new Error(_0x39b852(0x29a));await generateQuiz(_0x3e6ea4,_0x112855);}catch(_0x40733e){console['error'](_0x39b852(0x203),_0x40733e),showMessage('เกิดข้อผิดพลาด:\x20'+_0x40733e[_0x39b852(0x62c)]),_0x3ef317['innerHTML']=_0x39b852(0x354);}finally{_0x4ebf76[_0x39b852(0x4c9)][_0x39b852(0x21b)](_0x39b852(0x4be)),_0x39f891['disabled']=![];}}function extractTextFromHtml(_0x3ecb33){const _0x1552f9=_0x585543,_0x688e18=new DOMParser()[_0x1552f9(0x4dc)](_0x3ecb33,_0x1552f9(0x3eb));return _0x688e18[_0x1552f9(0x243)]('script,\x20style,\x20nav,\x20footer,\x20header,\x20aside')[_0x1552f9(0x3c3)](_0x49c111=>_0x49c111[_0x1552f9(0x5ce)]()),_0x688e18[_0x1552f9(0x48b)][_0x1552f9(0x18d)]||'';}document[_0x585543(0x3b1)]('generate-from-topic-btn')['addEventListener'](_0x585543(0x20a),()=>{const _0x3d9917=_0x585543,_0x4fa541=document['getElementById'](_0x3d9917(0x4c2))['value']['trim']();generateQuiz(_0x4fa541,null);});async function generateQuiz(_0x47051c,_0x16bb9b,_0x40774e=null){const _0xb07645=_0x585543,_0x49cef3=document[_0xb07645(0x3b1)]('include-images-checkbox')[_0xb07645(0x508)],_0x39d91e=document[_0xb07645(0x3b1)]('quiz-type-select')[_0xb07645(0x401)],_0xb48677=document['getElementById'](_0xb07645(0x1e9))[_0xb07645(0x401)],_0x2df40c=document[_0xb07645(0x3b1)](_0xb07645(0x151))[_0xb07645(0x401)],_0x11bead=document['getElementById'](_0xb07645(0x49d))[_0xb07645(0x508)],_0x57e4db=_0x11bead?'':_0xb07645(0x4da),_0x164498=document[_0xb07645(0x3b1)](_0xb07645(0x551)),_0x521903=_0x164498[_0xb07645(0x401)];let _0x4bd28e='';_0x521903!=='auto'&&(_0x4bd28e=_0xb07645(0x44d)+_0x521903+'\x22');const _0xbb6fa3=document[_0xb07645(0x243)](_0xb07645(0x15a)),_0x24fe95=Array[_0xb07645(0x495)](_0xbb6fa3)[_0xb07645(0x20c)](_0x483de3=>_0x483de3['value']);let _0x4fa292='';_0x24fe95[_0xb07645(0x31f)]>0x0&&(_0x4fa292=_0xb07645(0x44c)+_0x24fe95['join'](',\x20')+_0xb07645(0x28c));let _0x13064d='',_0x5b5142='',_0x1301ec,_0x3270ff='เกี่ยวกับหัวข้อ\x20\x22'+_0x47051c+'\x22';if(!_0x47051c&&_0x16bb9b)_0x3270ff=_0xb07645(0x18e);else!_0x47051c&&!_0x16bb9b&&(_0x3270ff=_0xb07645(0x36c));const _0x58ae7f={'type':_0xb07645(0x26e),'properties':{'questionText':{'type':_0xb07645(0x1c4)},'options':{'type':_0xb07645(0x3a0),'items':{'type':_0xb07645(0x1c4)}},'correctAnswerIndex':{'type':_0xb07645(0x3b7)},'explanation':{'type':_0xb07645(0x1c4)},'imageCode':{'type':_0xb07645(0x1c4)}},'required':[_0xb07645(0x219),'options',_0xb07645(0x560),_0xb07645(0x321)]},_0x1f1a6b={'type':_0xb07645(0x26e),'properties':{'questionText':{'type':_0xb07645(0x1c4)},'idealAnswer':{'type':_0xb07645(0x1c4)},'explanation':{'type':_0xb07645(0x1c4)},'imageCode':{'type':_0xb07645(0x1c4)}},'required':[_0xb07645(0x219),_0xb07645(0x17a),_0xb07645(0x321)]},_0x48731a={'type':'OBJECT','properties':{'questionText':{'type':_0xb07645(0x1c4)},'questionType':{'type':_0xb07645(0x1c4),'enum':[_0xb07645(0x4a9),_0xb07645(0x2ec)]},'options':{'type':_0xb07645(0x3a0),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0xb07645(0x3b7)},'idealAnswer':{'type':_0xb07645(0x1c4)},'explanation':{'type':_0xb07645(0x1c4)},'imageCode':{'type':_0xb07645(0x1c4)}},'required':[_0xb07645(0x219),_0xb07645(0x5e2),_0xb07645(0x321)]},_0x24f687={'type':_0xb07645(0x26e),'properties':{'questionText':{'type':'STRING'},'correctAnswer':{'type':_0xb07645(0x355)},'explanation':{'type':'STRING'},'imageCode':{'type':_0xb07645(0x1c4)}},'required':[_0xb07645(0x219),_0xb07645(0x1f2),_0xb07645(0x321)]},_0x49f752={'type':'OBJECT','properties':{'questionType':{'type':_0xb07645(0x1c4),'enum':[_0xb07645(0x47c)]},'stem':{'type':_0xb07645(0x1c4)},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0xb07645(0x3a0),'items':{'type':_0xb07645(0x1c4)}},'explanation':{'type':'STRING'},'imageCode':{'type':_0xb07645(0x1c4)}},'required':['questionType',_0xb07645(0x50c),_0xb07645(0x1b4),_0xb07645(0x48e),_0xb07645(0x321)]};let _0x3eb2a5;if(_0x40774e!==null){const _0x403773=currentQuizData[_0xb07645(0x480)][_0x40774e][_0xb07645(0x5e2)],_0x509982=_0x49cef3?_0xb07645(0x381):'';_0x13064d=_0xb07645(0x5cf)+_0x3270ff+'\x20'+_0x4fa292+'\x20'+_0x4bd28e+_0xb07645(0x365)+_0x509982+'\x20'+simpleMathPrompt;if(_0x403773==='multiple_choice')_0x1301ec=_0x58ae7f;else{if(_0x403773===_0xb07645(0x47c))_0x1301ec={'type':_0xb07645(0x26e),'properties':{'questionType':{'type':'STRING','enum':[_0xb07645(0x47c)]},'stem':{'type':'STRING'},'correctResponse':{'type':_0xb07645(0x1c4)},'explanation':{'type':'STRING'},'imageCode':{'type':_0xb07645(0x1c4)}},'required':[_0xb07645(0x5e2),_0xb07645(0x50c),_0xb07645(0x1b4),'explanation']};else _0x1301ec=_0x1f1a6b;}_0x3eb2a5=_0x1301ec;}else{const _0x177968=_0x49cef3?_0xb07645(0x391):'';switch(_0x39d91e){case _0xb07645(0x4a9):_0x13064d=_0xb07645(0x249)+_0x57e4db+'\x20'+_0xb48677+_0xb07645(0x1c1)+_0x3270ff+'\x20'+_0x4fa292+'\x20'+_0x4bd28e+_0xb07645(0x3f7)+_0x2df40c+_0xb07645(0x139)+_0x177968+'\x20'+simpleMathPrompt,_0x1301ec=_0x58ae7f;break;case'fill_in_with_choices':_0x13064d='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x57e4db+'\x20'+_0xb48677+'\x20ข้อ\x20'+_0x3270ff+'\x20'+_0x4fa292+'\x20'+_0x4bd28e+_0xb07645(0x3c0)+_0x2df40c+_0xb07645(0x501)+_0x177968+'\x20'+simpleMathPrompt,_0x1301ec=_0x58ae7f;break;case _0xb07645(0x1c2):_0x13064d=_0xb07645(0x63c)+_0x57e4db+'\x20'+_0xb48677+_0xb07645(0x1c1)+_0x3270ff+'\x20'+_0x4fa292+'\x20'+_0x4bd28e+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20'+_0x177968+'\x20'+simpleMathPrompt,_0x1301ec=_0x1f1a6b;break;case _0xb07645(0x442):_0x13064d=_0xb07645(0x4b0)+_0x57e4db+'\x20'+_0xb48677+_0xb07645(0x1c1)+_0x3270ff+'\x20'+_0x4fa292+'\x20'+_0x4bd28e+_0xb07645(0x23f)+_0x2df40c+_0xb07645(0x215)+_0x177968+'\x20'+simpleMathPrompt+'.',_0x1301ec=_0x48731a;break;case _0xb07645(0x22d):_0x13064d=_0xb07645(0x574)+_0x57e4db+'\x20'+_0xb48677+'\x20ข้อ\x20'+_0x3270ff+'\x20'+_0x4fa292+'\x20'+_0x4bd28e+_0xb07645(0x595)+_0x177968+'\x20'+simpleMathPrompt,_0x1301ec=_0x24f687;break;case _0xb07645(0x35f):_0x13064d=_0xb07645(0x3f2)+_0x57e4db+'\x20'+_0xb48677+_0xb07645(0x4f2)+_0x3270ff+'\x20'+_0x4fa292+'\x20'+_0x4bd28e+_0xb07645(0x4e0)+_0x177968+'\x20'+simpleMathPrompt,_0x1301ec=_0x49f752;break;}_0x3eb2a5={'type':_0xb07645(0x26e),'properties':{'topic':{'type':_0xb07645(0x1c4)},'questions':{'type':_0xb07645(0x3a0),'items':_0x1301ec}},'required':['topic',_0xb07645(0x480)]};}return _0x16bb9b?(_0x13064d=_0xb07645(0x644)+_0x16bb9b+'\x22,\x20'+_0x13064d,_0x5b5142='กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...'):_0x5b5142='กำลังสร้างแบบทดสอบจากหัวข้อ...',handleApiCall(_0x13064d,_0x5b5142,_0x3eb2a5,_0x40774e);}async function generateQuizFromFile(_0x1dcd56,_0x47dd64){const _0x11bccd=_0x585543,_0x5946e6=document[_0x11bccd(0x3b1)](_0x11bccd(0x32c))[_0x11bccd(0x401)]['trim'](),_0x2a5a00=document['getElementById']('quiz-type-select')[_0x11bccd(0x401)],_0x274ab1=document[_0x11bccd(0x3b1)](_0x11bccd(0x1e9))['value'],_0x5a0248=document['getElementById']('num-choices')[_0x11bccd(0x401)],_0x2f98c9=document['getElementById'](_0x11bccd(0x13b))[_0x11bccd(0x508)],_0x5da743=document[_0x11bccd(0x3b1)](_0x11bccd(0x49d))[_0x11bccd(0x508)],_0x545c82=_0x5da743?'':_0x11bccd(0x4da);let _0x483d82='',_0x5410ce,_0x13e30b='เกี่ยวกับหัวข้อ\x20\x22'+_0x5946e6+'\x22';!_0x5946e6&&(_0x13e30b=_0x11bccd(0x3bc));const _0x3c7af0=_0x2f98c9?_0x11bccd(0x391):'';switch(_0x2a5a00){case _0x11bccd(0x4a9):_0x483d82='สร้างแบบทดสอบปรนัย'+_0x545c82+'\x20'+_0x274ab1+_0x11bccd(0x1c1)+_0x13e30b+'.\x20แต่ละข้อมี\x20'+_0x5a0248+'\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20'+_0x3c7af0+'\x20'+simpleMathPrompt,_0x5410ce={'type':_0x11bccd(0x26e),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x11bccd(0x3a0),'items':{'type':_0x11bccd(0x1c4)}},'correctAnswerIndex':{'type':_0x11bccd(0x3b7)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x11bccd(0x1c4)}},'required':['questionText',_0x11bccd(0x275),_0x11bccd(0x560),'explanation']};break;case'fill_in_with_choices':_0x483d82=_0x11bccd(0x63c)+_0x545c82+'\x20'+_0x274ab1+_0x11bccd(0x1c1)+_0x13e30b+_0x11bccd(0x3c0)+_0x5a0248+'\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20'+_0x3c7af0+'\x20'+simpleMathPrompt,_0x5410ce={'type':_0x11bccd(0x26e),'properties':{'questionText':{'type':_0x11bccd(0x1c4)},'options':{'type':_0x11bccd(0x3a0),'items':{'type':_0x11bccd(0x1c4)}},'correctAnswerIndex':{'type':_0x11bccd(0x3b7)},'explanation':{'type':_0x11bccd(0x1c4)},'imageCode':{'type':'STRING'}},'required':[_0x11bccd(0x219),_0x11bccd(0x275),'correctAnswerIndex',_0x11bccd(0x321)]};break;case _0x11bccd(0x1c2):_0x483d82='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x545c82+'\x20'+_0x274ab1+'\x20ข้อ\x20'+_0x13e30b+_0x11bccd(0x277)+_0x3c7af0+'\x20'+simpleMathPrompt,_0x5410ce={'type':'OBJECT','properties':{'questionText':{'type':_0x11bccd(0x1c4)},'idealAnswer':{'type':'STRING'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x11bccd(0x1c4)}},'required':['questionText',_0x11bccd(0x17a),_0x11bccd(0x321)]};break;case _0x11bccd(0x442):_0x483d82=_0x11bccd(0x4b0)+_0x545c82+'\x20'+_0x274ab1+_0x11bccd(0x1c1)+_0x13e30b+_0x11bccd(0x464)+_0x5a0248+_0x11bccd(0x215)+_0x3c7af0+'\x20'+simpleMathPrompt+'.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.',_0x5410ce={'type':_0x11bccd(0x26e),'properties':{'questionText':{'type':_0x11bccd(0x1c4)},'questionType':{'type':'STRING','enum':[_0x11bccd(0x4a9),_0x11bccd(0x2ec)]},'options':{'type':_0x11bccd(0x3a0),'items':{'type':_0x11bccd(0x1c4)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x11bccd(0x1c4)},'explanation':{'type':_0x11bccd(0x1c4)},'imageCode':{'type':'STRING'}},'required':[_0x11bccd(0x219),_0x11bccd(0x5e2),_0x11bccd(0x321)]};break;case'true_false':_0x483d82=_0x11bccd(0x574)+_0x545c82+'\x20'+_0x274ab1+_0x11bccd(0x1c1)+_0x13e30b+_0x11bccd(0x34d)+_0x3c7af0+'\x20'+simpleMathPrompt,_0x5410ce={'type':_0x11bccd(0x26e),'properties':{'questionText':{'type':'STRING'},'correctAnswer':{'type':_0x11bccd(0x355)},'explanation':{'type':_0x11bccd(0x1c4)},'imageCode':{'type':_0x11bccd(0x1c4)}},'required':[_0x11bccd(0x219),_0x11bccd(0x1f2),_0x11bccd(0x321)]};break;case _0x11bccd(0x35f):_0x483d82=_0x11bccd(0x3f2)+_0x545c82+'\x20'+_0x274ab1+_0x11bccd(0x4f2)+_0x13e30b+_0x11bccd(0x434)+_0x274ab1+_0x11bccd(0x282)+_0x3c7af0+'\x20'+simpleMathPrompt,_0x5410ce={'type':_0x11bccd(0x26e),'properties':{'questionType':{'type':'STRING','enum':['matching_item']},'stem':{'type':'STRING'},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x11bccd(0x3a0),'items':{'type':_0x11bccd(0x1c4)}},'explanation':{'type':_0x11bccd(0x1c4)},'imageCode':{'type':'STRING'}},'required':[_0x11bccd(0x5e2),'stem',_0x11bccd(0x1b4),_0x11bccd(0x48e),_0x11bccd(0x321)]};break;}const _0x22ce49={'type':_0x11bccd(0x26e),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x11bccd(0x3a0),'items':_0x5410ce}},'required':[_0x11bccd(0x153),_0x11bccd(0x480)]},_0x53150e='จากไฟล์ที่แนบมานี้,\x20'+_0x483d82,_0x333b5f={'contents':[{'parts':[{'text':_0x53150e},{'inlineData':{'mimeType':_0x1dcd56,'data':_0x47dd64}}]}],'generationConfig':{'responseMimeType':_0x11bccd(0x3ec),'responseSchema':_0x22ce49}};return handleApiCall(_0x333b5f[_0x11bccd(0x461)][0x0]['parts'],_0x11bccd(0x2ab),_0x22ce49);}async function handleApiCall(_0x580de7,_0x870601,_0x4d0205,_0x28a410=null){const _0x1d9ad7=_0x585543,_0x3538ca=document[_0x1d9ad7(0x3b1)]('quiz-generation-area'),_0x4834e4=document['getElementById']('loader'),_0x4af93a=document[_0x1d9ad7(0x3b1)](_0x1d9ad7(0x3dc)),_0x9de241=document[_0x1d9ad7(0x3b1)]('generated-quiz-container');_0x3538ca[_0x1d9ad7(0x4c9)][_0x1d9ad7(0x5ce)](_0x1d9ad7(0x4be));_0x28a410===null&&(_0x9de241[_0x1d9ad7(0x48c)]='');_0x4834e4[_0x1d9ad7(0x4c9)][_0x1d9ad7(0x5ce)](_0x1d9ad7(0x4be)),_0x4af93a['textContent']=_0x870601,document['getElementById']('generate-from-topic-btn')[_0x1d9ad7(0x3f9)]=!![],document['getElementById'](_0x1d9ad7(0x1de))[_0x1d9ad7(0x3f9)]=!![],document['getElementById'](_0x1d9ad7(0x5b5))[_0x1d9ad7(0x3f9)]=!![];try{const _0x5814a0={'responseMimeType':'application/json','responseSchema':_0x4d0205},_0x25eb80=Array[_0x1d9ad7(0x510)](_0x580de7)?_0x580de7:[{'text':_0x580de7}],_0xd44af7={'contents':[{'role':_0x1d9ad7(0x27c),'parts':_0x25eb80}],'generationConfig':_0x5814a0},_0x440cdf=_0x1d9ad7(0x5f9),_0x8b4235=_0x1d9ad7(0x175)+_0x440cdf,_0x40c58f=await fetch(_0x8b4235,{'method':_0x1d9ad7(0x229),'headers':{'Content-Type':_0x1d9ad7(0x3ec)},'body':JSON['stringify'](_0xd44af7)});if(!_0x40c58f['ok'])throw new Error(_0x1d9ad7(0x402)+_0x40c58f[_0x1d9ad7(0x56d)]);const _0x583c14=await _0x40c58f['json']();if(_0x583c14[_0x1d9ad7(0x34a)]?.[0x0]?.['content']?.[_0x1d9ad7(0x209)]?.[0x0]){let _0x33305e=_0x583c14[_0x1d9ad7(0x34a)][0x0][_0x1d9ad7(0x32f)][_0x1d9ad7(0x209)][0x0][_0x1d9ad7(0x333)],_0x4ad272;try{if(_0x33305e[_0x1d9ad7(0x322)](_0x1d9ad7(0x264)))_0x33305e=_0x33305e[_0x1d9ad7(0x546)](0x7,_0x33305e[_0x1d9ad7(0x31f)]-0x3)[_0x1d9ad7(0x1d4)]();else _0x33305e[_0x1d9ad7(0x322)](_0x1d9ad7(0x3ce))&&(_0x33305e=_0x33305e['substring'](0x3,_0x33305e[_0x1d9ad7(0x31f)]-0x3)['trim']());_0x4ad272=JSON[_0x1d9ad7(0x557)](_0x33305e);}catch(_0xb50449){console[_0x1d9ad7(0x61f)]('Failed\x20to\x20parse\x20JSON\x20from\x20AI',_0xb50449,_0x33305e);throw new Error(_0x1d9ad7(0x2b5));}if(_0x28a410!==null){if(_0x4ad272[_0x1d9ad7(0x5e2)]===_0x1d9ad7(0x47c)){const _0xf39bd8=currentQuizData[_0x1d9ad7(0x480)][_0x1d9ad7(0x20c)](_0x145293=>_0x145293[_0x1d9ad7(0x1b4)]);_0x4ad272['allResponses']=_0xf39bd8;const _0x49af2a=currentQuizData[_0x1d9ad7(0x480)][_0x28a410][_0x1d9ad7(0x1b4)],_0x45c9f7=_0xf39bd8[_0x1d9ad7(0x174)](_0x49af2a);_0x45c9f7>-0x1&&(_0xf39bd8[_0x45c9f7]=_0x4ad272['correctResponse']),currentQuizData[_0x1d9ad7(0x480)][_0x1d9ad7(0x3c3)](_0x4e1c2b=>{const _0x7df001=_0x1d9ad7;if(_0x4e1c2b[_0x7df001(0x5e2)]===_0x7df001(0x47c))_0x4e1c2b['allResponses']=_0xf39bd8;});}currentQuizData[_0x1d9ad7(0x480)][_0x28a410]=_0x4ad272,displayGeneratedQuiz(currentQuizData);}else{currentQuizData=_0x4ad272;const _0x13af0c=document[_0x1d9ad7(0x3b1)]('quiz-type-select')['value'];currentQuizData[_0x1d9ad7(0x54f)]=_0x13af0c,currentQuizData['questions']&&currentQuizData[_0x1d9ad7(0x480)][_0x1d9ad7(0x3c3)](_0x11a40b=>{const _0x4462bd=_0x1d9ad7;if(!_0x11a40b[_0x4462bd(0x5e2)]){if(_0x13af0c===_0x4462bd(0x3ff))_0x11a40b[_0x4462bd(0x5e2)]=_0x4462bd(0x4a9);else _0x13af0c==='fill_in_no_choices'?_0x11a40b[_0x4462bd(0x5e2)]='short_answer':_0x11a40b[_0x4462bd(0x5e2)]=_0x13af0c;}}),displayGeneratedQuiz(currentQuizData);}}else{console[_0x1d9ad7(0x61f)](_0x1d9ad7(0x62a),JSON['stringify'](_0x583c14));throw new Error(_0x1d9ad7(0x2b5));}}catch(_0x2af873){console[_0x1d9ad7(0x61f)](_0x1d9ad7(0x561),_0x2af873),showMessage(_0x1d9ad7(0x37d)),_0x28a410===null&&(_0x9de241[_0x1d9ad7(0x48c)]=_0x1d9ad7(0x5df));}finally{_0x4834e4[_0x1d9ad7(0x4c9)]['add']('hidden'),document[_0x1d9ad7(0x3b1)](_0x1d9ad7(0x171))['disabled']=![],document['getElementById']('generate-from-text-btn')[_0x1d9ad7(0x3f9)]=![],document[_0x1d9ad7(0x3b1)]('generate-from-link-btn')['disabled']=![];const _0x27ddf4=document[_0x1d9ad7(0x3b1)](_0x1d9ad7(0x308));_0x27ddf4&&(_0x27ddf4[_0x1d9ad7(0x3f9)]=![]);}}function displayGeneratedQuiz(_0x5a9771){const _0xb944a0=_0x585543,_0x769965=document[_0xb944a0(0x3b1)](_0xb944a0(0x58f));let _0x38f226=_0xb944a0(0x3f4)+_0x5a9771[_0xb944a0(0x153)]+_0xb944a0(0x235);_0x5a9771[_0xb944a0(0x480)][_0xb944a0(0x3c3)]((_0x3bda3c,_0x5ce1df)=>{const _0x2e31b3=_0xb944a0,_0x48fb63=_0x3bda3c['questionType']||_0x5a9771[_0x2e31b3(0x54f)];_0x38f226+=_0x2e31b3(0x563)+_0x5ce1df+'\x22\x20class=\x22save-to-bank-btn\x20text-purple-600\x20hover:text-purple-800\x20p-1\x22\x20title=\x22เก็บเข้าคลังข้อสอบส่วนตัว\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-university\x22></i>\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x5ce1df+'\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x5ce1df+_0x2e31b3(0x4d0);switch(_0x48fb63){case _0x2e31b3(0x47c):_0x38f226+=_0x2e31b3(0x2b7)+_0x5ce1df+'\x22>'+(_0x5ce1df+0x1)+'.\x20'+_0x3bda3c[_0x2e31b3(0x50c)]+_0x2e31b3(0x395);_0x3bda3c[_0x2e31b3(0x426)]&&(_0x38f226+=_0x2e31b3(0x2a3)+_0x5ce1df+_0x2e31b3(0x1a6)+_0x3bda3c[_0x2e31b3(0x426)]+_0x2e31b3(0x291));_0x38f226+=_0x2e31b3(0x5d7)+_0x5ce1df+'\x22>'+_0x3bda3c[_0x2e31b3(0x1b4)]+_0x2e31b3(0x571),_0x38f226+=_0x2e31b3(0x5a8)+_0x5ce1df+'\x22>'+_0x3bda3c['explanation']+'</span></div>';break;case'short_answer':_0x38f226+=_0x2e31b3(0x2b7)+_0x5ce1df+'\x22>'+(_0x5ce1df+0x1)+'.\x20'+_0x3bda3c[_0x2e31b3(0x219)]+_0x2e31b3(0x395);_0x3bda3c['imageCode']&&(_0x38f226+=_0x2e31b3(0x2a3)+_0x5ce1df+_0x2e31b3(0x1a6)+_0x3bda3c[_0x2e31b3(0x426)]+_0x2e31b3(0x291));_0x38f226+='<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-'+_0x5ce1df+'\x22>'+_0x3bda3c[_0x2e31b3(0x17a)]+_0x2e31b3(0x571),_0x38f226+=_0x2e31b3(0x5a8)+_0x5ce1df+'\x22>'+_0x3bda3c[_0x2e31b3(0x321)]+'</span></div>';break;case _0x2e31b3(0x22d):_0x38f226+=_0x2e31b3(0x2b7)+_0x5ce1df+'\x22>'+(_0x5ce1df+0x1)+'.\x20'+_0x3bda3c['questionText']+_0x2e31b3(0x395);_0x3bda3c[_0x2e31b3(0x426)]&&(_0x38f226+=_0x2e31b3(0x2a3)+_0x5ce1df+_0x2e31b3(0x1a6)+_0x3bda3c[_0x2e31b3(0x426)]+_0x2e31b3(0x291));_0x38f226+=_0x2e31b3(0x447)+(_0x3bda3c['correctAnswer']===!![]?_0x2e31b3(0x5ef):'')+_0x2e31b3(0x4f0)+(_0x3bda3c['correctAnswer']===![]?'text-green-600\x20font-bold':'')+_0x2e31b3(0x50a),_0x38f226+=_0x2e31b3(0x5a8)+_0x5ce1df+'\x22>'+_0x3bda3c[_0x2e31b3(0x321)]+_0x2e31b3(0x571);break;case _0x2e31b3(0x4e3):case _0x2e31b3(0x4a9):default:_0x38f226+=_0x2e31b3(0x2b7)+_0x5ce1df+'\x22>'+(_0x5ce1df+0x1)+'.\x20'+_0x3bda3c['questionText']+_0x2e31b3(0x395);_0x3bda3c[_0x2e31b3(0x426)]&&(_0x38f226+=_0x2e31b3(0x2a3)+_0x5ce1df+_0x2e31b3(0x1a6)+_0x3bda3c[_0x2e31b3(0x426)]+_0x2e31b3(0x291));_0x38f226+='<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-'+_0x5ce1df+_0x2e31b3(0x22f)+_0x3bda3c['options'][_0x2e31b3(0x20c)]((_0x4699ac,_0x594788)=>_0x2e31b3(0x52a)+(_0x594788===_0x3bda3c[_0x2e31b3(0x560)]?_0x2e31b3(0x5ef):'')+'\x22>'+_0x4699ac+_0x2e31b3(0x4b1))[_0x2e31b3(0x4a1)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>',_0x38f226+=_0x2e31b3(0x5a8)+_0x5ce1df+'\x22>'+_0x3bda3c[_0x2e31b3(0x321)]+_0x2e31b3(0x571);break;}_0x38f226+=_0x2e31b3(0x291);}),_0x38f226+=_0xb944a0(0x410),_0x769965['innerHTML']=_0x38f226,document[_0xb944a0(0x243)](_0xb944a0(0x367))[_0xb944a0(0x3c3)](_0x3f1c05=>_0x3f1c05[_0xb944a0(0x336)](_0xb944a0(0x20a),handleEditQuestion)),document['querySelectorAll'](_0xb944a0(0x2b9))[_0xb944a0(0x3c3)](_0x52a016=>_0x52a016[_0xb944a0(0x336)](_0xb944a0(0x20a),handleRegenerateQuestion)),document[_0xb944a0(0x243)](_0xb944a0(0x60e))[_0xb944a0(0x3c3)](_0x876678=>_0x876678['addEventListener'](_0xb944a0(0x20a),handleSaveToBank)),document[_0xb944a0(0x3b1)]('save-quiz-btn')[_0xb944a0(0x336)](_0xb944a0(0x20a),saveQuiz);if(window[_0xb944a0(0x3a9)])window[_0xb944a0(0x3a9)]['typesetPromise']([_0x769965]);}function handleRegenerateQuestion(_0x28890e){const _0x2ac413=_0x585543,_0x546f2b=_0x28890e['currentTarget']['dataset'][_0x2ac413(0x368)],_0x238950=currentQuizData['topic'];showMessage(_0x2ac413(0x4a3)+(parseInt(_0x546f2b)+0x1)+_0x2ac413(0x1bd)),generateQuiz(_0x238950,null,parseInt(_0x546f2b));}function getPointerPosition(_0x3af6f9,_0x24ee40){const _0x3ce716=_0x585543,_0x39d1d0=_0x3af6f9[_0x3ce716(0x5fa)]();let _0x14ee1f,_0x40dea7;return _0x24ee40['touches']&&_0x24ee40['touches'][_0x3ce716(0x31f)]>0x0?(_0x14ee1f=_0x24ee40[_0x3ce716(0x3bd)][0x0]['clientX'],_0x40dea7=_0x24ee40[_0x3ce716(0x3bd)][0x0][_0x3ce716(0x600)]):(_0x14ee1f=_0x24ee40['clientX'],_0x40dea7=_0x24ee40[_0x3ce716(0x600)]),{'x':(_0x14ee1f-_0x39d1d0['e'])/_0x39d1d0['a'],'y':(_0x40dea7-_0x39d1d0['f'])/_0x39d1d0['d']};}function startDrag(_0x663266){const _0x54c6c2=_0x585543;_0x663266[_0x54c6c2(0x528)]===_0x54c6c2(0x3c6)&&_0x663266[_0x54c6c2(0x431)]();const _0x1d7ddb=_0x663266[_0x54c6c2(0x624)][_0x54c6c2(0x476)](_0x54c6c2(0x18f));if(_0x1d7ddb){draggedSvgElement=_0x1d7ddb;const _0x4acc13=draggedSvgElement[_0x54c6c2(0x37f)],_0x38ff46=getPointerPosition(_0x4acc13,_0x663266);svgOffset['x']=_0x38ff46['x']-parseFloat(draggedSvgElement[_0x54c6c2(0x5c4)](null,'x')),svgOffset['y']=_0x38ff46['y']-parseFloat(draggedSvgElement[_0x54c6c2(0x5c4)](null,'y'));}}function drag(_0x5ee2cc){const _0x415b85=_0x585543;if(draggedSvgElement){_0x5ee2cc[_0x415b85(0x431)]();const _0x2e1721=draggedSvgElement[_0x415b85(0x37f)],_0x4abbb6=getPointerPosition(_0x2e1721,_0x5ee2cc),_0x57dad9=_0x2e1721[_0x415b85(0x3cc)][_0x415b85(0x2c5)];let _0x5c3591=_0x4abbb6['x']-svgOffset['x'],_0x59dee1=_0x4abbb6['y']-svgOffset['y'];const _0x5dc1b9=draggedSvgElement[_0x415b85(0x1a5)]();_0x5c3591=Math['max'](_0x57dad9['x'],Math[_0x415b85(0x585)](_0x5c3591,_0x57dad9['x']+_0x57dad9['width']-_0x5dc1b9[_0x415b85(0x4dd)])),_0x59dee1=Math[_0x415b85(0x1dc)](_0x57dad9['y'],Math[_0x415b85(0x585)](_0x59dee1,_0x57dad9['y']+_0x57dad9['height']-_0x5dc1b9[_0x415b85(0x2fc)])),draggedSvgElement[_0x415b85(0x144)](null,'x',_0x5c3591),draggedSvgElement[_0x415b85(0x144)](null,'y',_0x59dee1);}}function endDrag(_0x33da9d){draggedSvgElement=null;}function handleSvgEditClick(_0x13b1c8){const _0xe7f9e4=_0x585543;if(_0x13b1c8[_0xe7f9e4(0x624)]['classList']['contains'](_0xe7f9e4(0x607))){const _0x34048a=_0x13b1c8[_0xe7f9e4(0x624)][_0xe7f9e4(0x5bb)][_0xe7f9e4(0x49b)],_0x47bf99=_0x13b1c8[_0xe7f9e4(0x2c0)],_0x470481=_0x47bf99[_0xe7f9e4(0x3fc)]('#'+_0x34048a);_0x470481&&_0x470481[_0xe7f9e4(0x5ce)](),_0x13b1c8['target'][_0xe7f9e4(0x5ce)]();}}function handleEditQuestion(_0x6ec249){const _0x23b276=_0x585543,_0x5b820d=_0x6ec249[_0x23b276(0x2c0)],_0x490e82=_0x5b820d[_0x23b276(0x5bb)][_0x23b276(0x368)],_0x2beb3c=currentQuizData[_0x23b276(0x480)][_0x490e82],_0x40dc20=document[_0x23b276(0x3b1)]('q-text-'+_0x490e82),_0x54e818=document['getElementById']('q-explanation-'+_0x490e82),_0x88246a=document[_0x23b276(0x3b1)](_0x23b276(0x52d)+_0x490e82);if(_0x5b820d[_0x23b276(0x48c)][_0x23b276(0x17e)]('fa-pen')){_0x5b820d['innerHTML']=_0x23b276(0x58e),_0x5b820d[_0x23b276(0x420)]=_0x23b276(0x608);if(_0x40dc20)_0x40dc20[_0x23b276(0x3ae)]=!![];if(_0x54e818)_0x54e818[_0x23b276(0x3ae)]=!![];if(_0x88246a){const _0x45e489=_0x88246a[_0x23b276(0x3fc)](_0x23b276(0x1c6));if(_0x45e489){const _0x5584c8=_0x45e489['querySelectorAll']('text');_0x5584c8['forEach']((_0x519378,_0x1bb40e)=>{const _0x42e852=_0x23b276,_0x550cf1=_0x42e852(0x5ea)+_0x490e82+'-'+_0x1bb40e;_0x519378['id']=_0x550cf1,_0x519378[_0x42e852(0x4c9)][_0x42e852(0x21b)](_0x42e852(0x32a)),_0x519378[_0x42e852(0x51c)][_0x42e852(0x190)]=_0x42e852(0x42e);const _0x42aaa2=document[_0x42e852(0x577)]('http://www.w3.org/2000/svg','circle'),_0x331dea=_0x519378[_0x42e852(0x1a5)]();_0x42aaa2['setAttribute']('cx',String(_0x331dea['x']+_0x331dea[_0x42e852(0x4dd)]+0x5)),_0x42aaa2[_0x42e852(0x482)]('cy',String(_0x331dea['y']+_0x331dea[_0x42e852(0x2fc)]/0x2-0x5)),_0x42aaa2[_0x42e852(0x482)]('r','5'),_0x42aaa2[_0x42e852(0x482)](_0x42e852(0x3a6),_0x42e852(0x208)),_0x42aaa2['setAttribute'](_0x42e852(0x263),'delete-svg-btn'),_0x42aaa2[_0x42e852(0x5bb)][_0x42e852(0x49b)]=_0x550cf1,_0x519378[_0x42e852(0x3b2)](_0x42aaa2);}),_0x45e489[_0x23b276(0x336)](_0x23b276(0x4a5),startDrag),_0x45e489[_0x23b276(0x336)](_0x23b276(0x23b),drag),_0x45e489[_0x23b276(0x336)]('mouseup',endDrag),_0x45e489[_0x23b276(0x336)](_0x23b276(0x50d),endDrag),_0x45e489[_0x23b276(0x336)](_0x23b276(0x3c6),startDrag,{'passive':![]}),_0x45e489[_0x23b276(0x336)](_0x23b276(0x2a0),drag,{'passive':![]}),_0x45e489[_0x23b276(0x336)](_0x23b276(0x583),endDrag),_0x45e489[_0x23b276(0x336)](_0x23b276(0x32e),endDrag),_0x45e489['addEventListener'](_0x23b276(0x20a),handleSvgEditClick);}}if(_0x40dc20)_0x40dc20[_0x23b276(0x553)]();}else{_0x5b820d[_0x23b276(0x48c)]='<i\x20class=\x22fas\x20fa-pen\x22></i>',_0x5b820d[_0x23b276(0x420)]='แก้ไขข้อนี้';if(_0x40dc20){_0x40dc20[_0x23b276(0x3ae)]=![];const _0x5011c6=_0x2beb3c[_0x23b276(0x5e2)]||currentQuizData[_0x23b276(0x54f)];_0x5011c6===_0x23b276(0x47c)?_0x2beb3c[_0x23b276(0x50c)]=_0x40dc20[_0x23b276(0x3a2)]['substring'](_0x40dc20[_0x23b276(0x3a2)][_0x23b276(0x174)]('.')+0x2)[_0x23b276(0x1d4)]():_0x2beb3c[_0x23b276(0x219)]=_0x40dc20['innerText']['substring'](_0x40dc20[_0x23b276(0x3a2)][_0x23b276(0x174)]('.')+0x2)[_0x23b276(0x1d4)]();}_0x54e818&&(_0x54e818['contentEditable']=![],_0x2beb3c[_0x23b276(0x321)]=_0x54e818[_0x23b276(0x3a2)]);if(_0x88246a){const _0x84220a=_0x88246a[_0x23b276(0x3fc)](_0x23b276(0x1c6));if(_0x84220a){const _0xa8b200=_0x84220a[_0x23b276(0x317)](!![]);_0xa8b200['querySelectorAll']('.delete-svg-btn')[_0x23b276(0x3c3)](_0xc1c856=>_0xc1c856[_0x23b276(0x5ce)]()),_0xa8b200[_0x23b276(0x243)]('.draggable-text')['forEach'](_0x4fc386=>{const _0x4538b6=_0x23b276;_0x4fc386[_0x4538b6(0x4c9)][_0x4538b6(0x5ce)](_0x4538b6(0x32a)),_0x4fc386['style'][_0x4538b6(0x190)]=_0x4538b6(0x3e7),_0x4fc386[_0x4538b6(0x186)]('id');}),_0x2beb3c[_0x23b276(0x426)]=_0xa8b200['outerHTML'],_0x84220a[_0x23b276(0x1f3)](_0x23b276(0x4a5),startDrag),_0x84220a[_0x23b276(0x1f3)]('mousemove',drag),_0x84220a[_0x23b276(0x1f3)](_0x23b276(0x13e),endDrag),_0x84220a[_0x23b276(0x1f3)](_0x23b276(0x50d),endDrag),_0x84220a[_0x23b276(0x1f3)]('touchstart',startDrag),_0x84220a['removeEventListener'](_0x23b276(0x2a0),drag),_0x84220a['removeEventListener'](_0x23b276(0x583),endDrag),_0x84220a[_0x23b276(0x1f3)](_0x23b276(0x32e),endDrag),_0x84220a[_0x23b276(0x1f3)](_0x23b276(0x20a),handleSvgEditClick),_0x84220a['querySelectorAll']('.delete-svg-btn')['forEach'](_0x5f079e=>_0x5f079e[_0x23b276(0x5ce)]()),_0x84220a[_0x23b276(0x243)](_0x23b276(0x18f))[_0x23b276(0x3c3)](_0x530e36=>{const _0x44beb4=_0x23b276;_0x530e36[_0x44beb4(0x4c9)][_0x44beb4(0x5ce)](_0x44beb4(0x32a)),_0x530e36[_0x44beb4(0x51c)][_0x44beb4(0x190)]='default';});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x1b0aaf){const _0x40cd46=_0x585543,_0x5904be=document[_0x40cd46(0x3b1)]('quiz-editor-modal'),_0x4df967=document[_0x40cd46(0x3b1)]('quiz-editor-questions-container');_0x4df967[_0x40cd46(0x48c)]=_0x40cd46(0x5a9),_0x5904be['classList'][_0x40cd46(0x5ce)]('hidden');try{const _0x1e6845=doc(db,_0x40cd46(0x23a)+appId+_0x40cd46(0x378),_0x1b0aaf),_0x3fa6eb=await getDoc(_0x1e6845);if(!_0x3fa6eb[_0x40cd46(0x4b7)]())throw new Error(_0x40cd46(0x4fd));currentEditingQuizData={'id':_0x1b0aaf,..._0x3fa6eb[_0x40cd46(0x5d5)]()},renderQuizEditor(currentEditingQuizData);}catch(_0x25e63e){console[_0x40cd46(0x61f)](_0x40cd46(0x318),_0x25e63e),showMessage(_0x40cd46(0x421)),_0x5904be[_0x40cd46(0x4c9)][_0x40cd46(0x21b)](_0x40cd46(0x4be));}}function renderQuizEditor(_0x5803ad){const _0x32659e=_0x585543;document[_0x32659e(0x3b1)](_0x32659e(0x179))[_0x32659e(0x401)]=_0x5803ad['topic'];const _0x13c457=document[_0x32659e(0x3b1)](_0x32659e(0x332));let _0xe8f4a4=_0x5803ad[_0x32659e(0x480)][_0x32659e(0x20c)]((_0x4a9ab8,_0x11ad86)=>{const _0x3f9ceb=_0x32659e;let _0x9438f7='';const _0x208a04=_0x4a9ab8[_0x3f9ceb(0x5e2)]||_0x5803ad[_0x3f9ceb(0x54f)];switch(_0x208a04){case _0x3f9ceb(0x4a9):const _0x5beea0=(_0x4a9ab8[_0x3f9ceb(0x275)]||[])[_0x3f9ceb(0x20c)]((_0x2e0784,_0x14283)=>_0x3f9ceb(0x2c1)+_0x11ad86+'\x22\x20value=\x22'+_0x14283+'\x22\x20'+(_0x14283===_0x4a9ab8[_0x3f9ceb(0x560)]?_0x3f9ceb(0x508):'')+_0x3f9ceb(0x3d3)+_0x2e0784+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('');_0x9438f7=_0x3f9ceb(0x631)+_0x5beea0+_0x3f9ceb(0x49a);break;case _0x3f9ceb(0x2ec):_0x9438f7=_0x3f9ceb(0x4d5)+(_0x4a9ab8[_0x3f9ceb(0x17a)]||'')+_0x3f9ceb(0x1a3);break;case _0x3f9ceb(0x22d):_0x9438f7='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0x11ad86+_0x3f9ceb(0x2b3)+(_0x4a9ab8[_0x3f9ceb(0x1f2)]===!![]?'checked':'')+_0x3f9ceb(0x41a)+_0x11ad86+_0x3f9ceb(0x3bf)+(_0x4a9ab8[_0x3f9ceb(0x1f2)]===![]?_0x3f9ceb(0x508):'')+_0x3f9ceb(0x192);break;case'matching_item':_0x9438f7=_0x3f9ceb(0x5bc)+(_0x4a9ab8[_0x3f9ceb(0x1b4)]||'')+_0x3f9ceb(0x425);break;}const _0x2a1ba9=_0x4a9ab8['questionText']||_0x4a9ab8[_0x3f9ceb(0x50c)]||'';return _0x3f9ceb(0x294)+_0x208a04+_0x3f9ceb(0x48d)+(_0x11ad86+0x1)+'\x20('+_0x208a04+_0x3f9ceb(0x416)+_0x2a1ba9+_0x3f9ceb(0x2ce)+_0x9438f7+_0x3f9ceb(0x5d8);})[_0x32659e(0x4a1)]('');_0x13c457['innerHTML']=_0xe8f4a4;}async function handleSaveChanges(){const _0x3c7403=_0x585543,_0x10255e=document['getElementById'](_0x3c7403(0x638));_0x10255e[_0x3c7403(0x3f9)]=!![],_0x10255e[_0x3c7403(0x48c)]=_0x3c7403(0x462);try{const _0x44b422=document['getElementById'](_0x3c7403(0x179))['value'],_0x485db5=document[_0x3c7403(0x243)](_0x3c7403(0x446));let _0x2f83d2=[];const _0x354ff9=Array[_0x3c7403(0x495)](_0x485db5)['map']((_0x5c7d58,_0x10f232)=>{const _0x5c6f47=_0x3c7403,_0x44a565=_0x5c7d58[_0x5c6f47(0x5bb)][_0x5c6f47(0x57c)],_0x500801=_0x5c7d58[_0x5c6f47(0x3fc)](_0x5c6f47(0x2e3))[_0x5c6f47(0x401)];let _0x560f06={'questionType':_0x44a565};const _0xfea04=currentEditingQuizData['questions'][_0x10f232];switch(_0x44a565){case'multiple_choice':_0x560f06[_0x5c6f47(0x219)]=_0x500801;const _0x4fc003=_0x5c7d58[_0x5c6f47(0x243)](_0x5c6f47(0x18b));_0x560f06[_0x5c6f47(0x275)]=Array['from'](_0x4fc003)['map'](_0x5cc98c=>_0x5cc98c[_0x5c6f47(0x401)]);const _0x338175=_0x5c7d58[_0x5c6f47(0x3fc)](_0x5c6f47(0x3e4));_0x560f06[_0x5c6f47(0x560)]=_0x338175?parseInt(_0x338175['value']):0x0;break;case _0x5c6f47(0x2ec):_0x560f06[_0x5c6f47(0x219)]=_0x500801,_0x560f06[_0x5c6f47(0x17a)]=_0x5c7d58[_0x5c6f47(0x3fc)](_0x5c6f47(0x3d8))['value'];break;case _0x5c6f47(0x22d):_0x560f06[_0x5c6f47(0x219)]=_0x500801;const _0x5c6461=_0x5c7d58[_0x5c6f47(0x3fc)](_0x5c6f47(0x3e4));_0x560f06[_0x5c6f47(0x1f2)]=_0x5c6461?_0x5c6461[_0x5c6f47(0x401)]===_0x5c6f47(0x22c):!![];break;case'matching_item':_0x560f06[_0x5c6f47(0x50c)]=_0x500801;const _0x433ba8=_0x5c7d58[_0x5c6f47(0x3fc)]('.correct-response-input');_0x560f06[_0x5c6f47(0x1b4)]=_0x433ba8?_0x433ba8[_0x5c6f47(0x401)]:'',_0x2f83d2[_0x5c6f47(0x3c7)](_0x560f06['correctResponse']);break;default:_0x560f06[_0x5c6f47(0x219)]=_0x500801;break;}return{..._0xfea04,..._0x560f06};});_0x2f83d2[_0x3c7403(0x31f)]>0x0&&_0x354ff9[_0x3c7403(0x3c3)](_0x1f7575=>{const _0x1279a1=_0x3c7403;_0x1f7575[_0x1279a1(0x5e2)]===_0x1279a1(0x47c)&&(_0x1f7575[_0x1279a1(0x48e)]=_0x2f83d2);});const _0xdaca44=doc(db,_0x3c7403(0x23a)+appId+'/public/data/quizzes',currentEditingQuizData['id']);await updateDoc(_0xdaca44,{'topic':_0x44b422,'questions':_0x354ff9}),showMessage(_0x3c7403(0x285)),document[_0x3c7403(0x3b1)](_0x3c7403(0x4de))[_0x3c7403(0x4c9)][_0x3c7403(0x21b)](_0x3c7403(0x4be));}catch(_0x1f19f5){console[_0x3c7403(0x61f)](_0x3c7403(0x4ad),_0x1f19f5),showMessage(_0x3c7403(0x12f));}finally{_0x10255e[_0x3c7403(0x3f9)]=![],_0x10255e['innerHTML']=_0x3c7403(0x4c1);}}async function saveQuiz(){const _0xcb0a75=_0x585543;if(!currentQuizData||!currentQuizData['questions']||!userId||!currentProjectId){showMessage(_0xcb0a75(0x213));return;}const _0x2e0403=document[_0xcb0a75(0x3b1)](_0xcb0a75(0x266));_0x2e0403[_0xcb0a75(0x3f9)]=!![],_0x2e0403[_0xcb0a75(0x48c)]=_0xcb0a75(0x462),currentQuizData[_0xcb0a75(0x153)]=document[_0xcb0a75(0x3b1)]('editable-quiz-topic')[_0xcb0a75(0x3a2)];try{const _0x3c674e={'resultsDisplay':document[_0xcb0a75(0x3b1)](_0xcb0a75(0x591))[_0xcb0a75(0x401)],'shuffle':document[_0xcb0a75(0x3b1)](_0xcb0a75(0x5b8))[_0xcb0a75(0x401)],'timerMode':document[_0xcb0a75(0x3b1)]('timer-mode-select')['value'],'timerDuration':parseInt(document[_0xcb0a75(0x3b1)]('timer-duration-input')[_0xcb0a75(0x401)])||0xa,'passingScore':parseInt(document[_0xcb0a75(0x3b1)](_0xcb0a75(0x2bb))[_0xcb0a75(0x401)])||0x0,'passingScore':parseInt(document['getElementById'](_0xcb0a75(0x2bb))[_0xcb0a75(0x401)])||0x0,'isAdaptive':document[_0xcb0a75(0x3b1)](_0xcb0a75(0x46b))['checked']},_0x34744f=(currentQuizData[_0xcb0a75(0x480)]||[])['map'](_0x2c8993=>{const _0x239cb1=_0xcb0a75,_0x16b570=document[_0x239cb1(0x3b1)](_0x239cb1(0x16e))[_0x239cb1(0x401)],_0x32f768={'questionText':_0x2c8993[_0x239cb1(0x219)]||'','explanation':_0x2c8993['explanation']||_0x239cb1(0x526),'questionType':_0x2c8993[_0x239cb1(0x5e2)]||_0x16b570,'imageCode':_0x2c8993['imageCode']||null};return(_0x32f768[_0x239cb1(0x5e2)]===_0x239cb1(0x4a9)||_0x32f768[_0x239cb1(0x5e2)]===_0x239cb1(0x3ff)||_0x32f768[_0x239cb1(0x5e2)]===_0x239cb1(0x442)&&_0x2c8993['options'])&&(_0x32f768['options']=_0x2c8993[_0x239cb1(0x275)]||[],_0x32f768[_0x239cb1(0x560)]=_0x2c8993[_0x239cb1(0x560)]!==undefined?_0x2c8993[_0x239cb1(0x560)]:0x0),(_0x32f768['questionType']===_0x239cb1(0x2ec)||_0x32f768[_0x239cb1(0x5e2)]===_0x239cb1(0x1c2)||_0x32f768['questionType']===_0x239cb1(0x442)&&_0x2c8993[_0x239cb1(0x17a)])&&(_0x32f768[_0x239cb1(0x17a)]=_0x2c8993['idealAnswer']||''),_0x32f768['questionType']==='true_false'&&(_0x32f768[_0x239cb1(0x1f2)]=_0x2c8993[_0x239cb1(0x1f2)]===!![]),_0x32f768[_0x239cb1(0x5e2)]==='matching_item'&&(_0x32f768['stem']=_0x2c8993['stem']||'',_0x32f768[_0x239cb1(0x1b4)]=_0x2c8993[_0x239cb1(0x1b4)]||'',_0x32f768[_0x239cb1(0x48e)]=_0x2c8993['allResponses']||[]),_0x32f768;}),_0x1f6e24={'topic':currentQuizData[_0xcb0a75(0x153)]||_0xcb0a75(0x28a),'quizType':currentQuizData['quizType']||_0xcb0a75(0x4a9),'questions':_0x34744f,'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()['toISOString'](),'status':_0xcb0a75(0x5b0),'settings':_0x3c674e};let _0x34aa11;while(!![]){_0x34aa11=Math['floor'](0x3e8+Math['random']()*0x2328)[_0xcb0a75(0x375)]();const _0x519695=await getDoc(doc(db,'artifacts/'+appId+_0xcb0a75(0x378),_0x34aa11));if(!_0x519695[_0xcb0a75(0x4b7)]())break;}await setDoc(doc(db,'artifacts/'+appId+_0xcb0a75(0x378),_0x34aa11),_0x1f6e24),currentQuizData[_0xcb0a75(0x62f)]=_0x3c674e,currentQuizData['id']=_0x34aa11;const _0x4081c1=document[_0xcb0a75(0x3b1)](_0xcb0a75(0x1c3));_0x4081c1[_0xcb0a75(0x48c)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>'+_0x34aa11+_0xcb0a75(0x3ed),document['getElementById'](_0xcb0a75(0x3a8))[_0xcb0a75(0x336)](_0xcb0a75(0x20a),()=>copyTextToClipboard(_0x34aa11,_0xcb0a75(0x14b))),document[_0xcb0a75(0x3b1)](_0xcb0a75(0x4e5))['addEventListener'](_0xcb0a75(0x20a),()=>handleStartLiveRace(_0x34aa11)),document[_0xcb0a75(0x3b1)](_0xcb0a75(0x211))[_0xcb0a75(0x336)]('click',()=>startPresentation(currentQuizData)),document['getElementById'](_0xcb0a75(0x4db))[_0xcb0a75(0x336)](_0xcb0a75(0x20a),startAdminTest),showMessage(_0xcb0a75(0x483));}catch(_0x4e6a60){console[_0xcb0a75(0x61f)](_0xcb0a75(0x210),_0x4e6a60),showMessage(_0xcb0a75(0x173)),_0x2e0403[_0xcb0a75(0x3f9)]=![],_0x2e0403['innerHTML']=_0xcb0a75(0x5dd);}}function copyTextToClipboard(_0x4f4cab,_0x361188){const _0x9d974b=_0x585543,_0x479fe2=document['createElement'](_0x9d974b(0x2e3));_0x479fe2['value']=_0x4f4cab,_0x479fe2[_0x9d974b(0x51c)][_0x9d974b(0x1f6)]=_0x9d974b(0x5f0),_0x479fe2[_0x9d974b(0x51c)][_0x9d974b(0x456)]='0',document['body'][_0x9d974b(0x207)](_0x479fe2),_0x479fe2['focus'](),_0x479fe2[_0x9d974b(0x51f)]();try{const _0x341f02=document[_0x9d974b(0x1eb)](_0x9d974b(0x18a));showMessage(_0x341f02?_0x361188:_0x9d974b(0x22e));}catch(_0x12d872){showMessage(_0x9d974b(0x22e)),console['error'](_0x9d974b(0x1d6),_0x12d872);}document['body'][_0x9d974b(0x58a)](_0x479fe2);}function listenForProjectQuizzes(_0x1cb4bf){const _0x341728=_0x585543,_0x502dd4=collection(db,_0x341728(0x23a)+appId+'/public/data/quizzes'),_0x54ba8d=query(_0x502dd4,where(_0x341728(0x388),'==',_0x1cb4bf));unsubscribeQuizzesListener=onSnapshot(_0x54ba8d,async _0x5cc4cd=>{const _0x5d2799=_0x341728;allQuizzes=_0x5cc4cd[_0x5d2799(0x128)][_0x5d2799(0x20c)](_0x2b504c=>({'id':_0x2b504c['id'],..._0x2b504c[_0x5d2799(0x5d5)]()})),renderQuizzes();},_0x311823=>{const _0x37bab4=_0x341728;console[_0x37bab4(0x61f)](_0x37bab4(0x3b0),_0x311823),document[_0x37bab4(0x3b1)](_0x37bab4(0x3db))['innerHTML']=_0x37bab4(0x5a4);});}async function renderQuizzes(){const _0x161d36=_0x585543,_0x393313=document[_0x161d36(0x3b1)](_0x161d36(0x3db)),_0x2c87e3=document[_0x161d36(0x3b1)]('quiz-search-input')[_0x161d36(0x401)][_0x161d36(0x191)]();let _0x58e53d;currentProjectId===_0x161d36(0x14c)?_0x58e53d=starredQuizzes:_0x58e53d=allQuizzes;let _0x5334b8=_0x58e53d['filter'](_0x13203e=>_0x13203e['topic']['toLowerCase']()[_0x161d36(0x17e)](_0x2c87e3));_0x5334b8[_0x161d36(0x132)]((_0x58d6c2,_0x185609)=>new Date(_0x185609[_0x161d36(0x2f5)])-new Date(_0x58d6c2[_0x161d36(0x2f5)]));if(_0x5334b8[_0x161d36(0x31f)]===0x0){_0x393313[_0x161d36(0x48c)]=_0x161d36(0x160);return;}const _0xb50126={},_0x4058b0=_0x5334b8[_0x161d36(0x20c)](async _0xfb506b=>{const _0x4dc3a6=_0x161d36,_0x58ae33=collection(db,_0x4dc3a6(0x23a)+appId+_0x4dc3a6(0x1ea)+_0xfb506b['id']+_0x4dc3a6(0x620)),_0x3323aa=await getDocs(_0x58ae33);_0xb50126[_0xfb506b['id']]=_0x3323aa[_0x4dc3a6(0x26f)];});await Promise[_0x161d36(0x1ac)](_0x4058b0);let _0x2373cb='';_0x5334b8[_0x161d36(0x3c3)](_0x19735a=>{const _0x4ff795=_0x161d36,_0x1bfaef=_0xb50126[_0x19735a['id']]||0x0,_0x229a9c=_0x19735a[_0x4ff795(0x56d)]||'active',_0x1d0da9=_0x19735a['settings']?.['timerMode']||'none';let _0x1ee7fa='',_0x14d982='';const _0x3cf244=new Date();let _0x5ee4b7=_0x229a9c;if(_0x229a9c===_0x4ff795(0x366)){const _0x555291=_0x19735a['startTime']?new Date(_0x19735a[_0x4ff795(0x62b)]):null,_0x58be1c=_0x19735a[_0x4ff795(0x15d)]?new Date(_0x19735a[_0x4ff795(0x15d)]):null;if(_0x58be1c&&_0x3cf244>_0x58be1c)_0x5ee4b7=_0x4ff795(0x36d);else _0x555291&&_0x3cf244<_0x555291?_0x5ee4b7=_0x4ff795(0x320):_0x5ee4b7='active';}switch(_0x5ee4b7){case'inactive':_0x1ee7fa=_0x4ff795(0x338),_0x14d982=_0x4ff795(0x16f);break;case'scheduled_pending':_0x1ee7fa='รอเปิด',_0x14d982=_0x4ff795(0x3e0);break;case _0x4ff795(0x5b0):_0x1ee7fa=_0x1d0da9!==_0x4ff795(0x1a0)?_0x4ff795(0x21d):_0x4ff795(0x4bc),_0x14d982='text-green-700\x20bg-green-100';break;default:_0x1ee7fa=_0x4ff795(0x189),_0x14d982='text-green-700\x20bg-green-100';}let _0x3da5a4='';const _0x4de593={'day':_0x4ff795(0x3ac),'month':_0x4ff795(0x3ac),'year':'numeric','hour':_0x4ff795(0x3ac),'minute':_0x4ff795(0x3ac),'hour12':![]};_0x229a9c==='scheduled'&&(_0x19735a[_0x4ff795(0x62b)]&&(_0x3da5a4+=_0x4ff795(0x587)+new Date(_0x19735a[_0x4ff795(0x62b)])[_0x4ff795(0x550)](_0x4ff795(0x145),_0x4de593)+_0x4ff795(0x395)),_0x19735a[_0x4ff795(0x15d)]&&(_0x3da5a4+=_0x4ff795(0x3af)+new Date(_0x19735a[_0x4ff795(0x15d)])[_0x4ff795(0x550)]('th-TH',_0x4de593)+_0x4ff795(0x395))),_0x2373cb+=_0x4ff795(0x2d0)+_0x19735a['id']+_0x4ff795(0x59b)+_0x19735a['topic']+'\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>('+_0x19735a[_0x4ff795(0x480)][_0x4ff795(0x31f)]+'\x20ข้อ)</span></p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20'+new Date(_0x19735a[_0x4ff795(0x2f5)])[_0x4ff795(0x550)]('th-TH')+_0x4ff795(0x181)+_0x1bfaef+_0x4ff795(0x47d)+_0x3da5a4+_0x4ff795(0x33b)+_0x14d982+'\x22>'+_0x1ee7fa+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x19735a['id']+_0x4ff795(0x530)+_0x19735a['id']+_0x4ff795(0x162)+(_0x19735a[_0x4ff795(0x481)]?_0x4ff795(0x226):_0x4ff795(0x469))+_0x4ff795(0x1d8)+_0x19735a['id']+'\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x19735a['id']+_0x4ff795(0x2c4)+_0x19735a[_0x4ff795(0x153)]+'\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x09\x09\x09\x09\x09\x09\x09\x20<button\x20data-quiz-id=\x22'+_0x19735a['id']+_0x4ff795(0x3d9)+_0x19735a['id']+_0x4ff795(0x156)+_0x19735a['id']+_0x4ff795(0x1d7)+_0x19735a['id']+_0x4ff795(0x2ff)+_0x19735a['id']+'\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x19735a['id']+_0x4ff795(0x232)+_0x19735a['id']+_0x4ff795(0x24c)+_0x19735a['id']+_0x4ff795(0x2c4)+_0x19735a[_0x4ff795(0x153)]+_0x4ff795(0x2db);}),_0x393313[_0x161d36(0x48c)]=_0x2373cb,document[_0x161d36(0x243)](_0x161d36(0x487))[_0x161d36(0x3c3)](_0x8a98ca=>{const _0x19a62f=_0x161d36;_0x8a98ca[_0x19a62f(0x336)](_0x19a62f(0x20a),()=>{const _0x2e2a33=_0x19a62f,_0x524717=_0x8a98ca[_0x2e2a33(0x5bb)]['quizId'];showQuizDetailView(_0x524717);});});}async function handleDuplicateQuiz(_0x341a09){const _0x11cf83=_0x585543;try{const _0x5ca699=doc(db,_0x11cf83(0x23a)+appId+'/public/data/quizzes',_0x341a09),_0x5da428=await getDoc(_0x5ca699);if(_0x5da428[_0x11cf83(0x4b7)]()){const _0x46da54=_0x5da428[_0x11cf83(0x5d5)](),_0x3b0fb2={..._0x46da54,'topic':_0x11cf83(0x4c5)+_0x46da54[_0x11cf83(0x153)],'createdAt':new Date()[_0x11cf83(0x152)]()};await addDoc(collection(db,_0x11cf83(0x23a)+appId+_0x11cf83(0x378)),_0x3b0fb2),showMessage(_0x11cf83(0x301));}else throw new Error(_0x11cf83(0x630));}catch(_0x22b1ed){console[_0x11cf83(0x61f)](_0x11cf83(0x5b6),_0x22b1ed),showMessage(_0x11cf83(0x1af));}}async function handleDeleteQuiz(_0x3ff2d8,_0x13f483=!![]){const _0x3fbfd1=_0x585543;try{const _0x51eab3=writeBatch(db),_0x45a03b=collection(db,'artifacts/'+appId+_0x3fbfd1(0x1ea)+_0x3ff2d8+_0x3fbfd1(0x620)),_0x46b60b=await getDocs(_0x45a03b);_0x46b60b[_0x3fbfd1(0x3c3)](_0x5d4b09=>{const _0x236af8=_0x3fbfd1;_0x51eab3[_0x236af8(0x33c)](doc(_0x45a03b,_0x5d4b09['id']));});const _0x3dc936=doc(db,_0x3fbfd1(0x23a)+appId+_0x3fbfd1(0x378),_0x3ff2d8);_0x51eab3[_0x3fbfd1(0x33c)](_0x3dc936),await _0x51eab3[_0x3fbfd1(0x356)](),_0x13f483&&showMessage(_0x3fbfd1(0x5e4));}catch(_0x56b813){console[_0x3fbfd1(0x61f)](_0x3fbfd1(0x4ee),_0x56b813),_0x13f483&&showMessage(_0x3fbfd1(0x3ba));}}async function showQuizDetailView(_0x4f3311){const _0x35d42c=_0x585543;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab('analytics');try{const _0x3160e1=doc(db,'artifacts/'+appId+_0x35d42c(0x378),_0x4f3311),_0x2c3d38=await getDoc(_0x3160e1);if(!_0x2c3d38[_0x35d42c(0x4b7)]()){showMessage(_0x35d42c(0x5f2));return;}const _0xcd71d6={'id':_0x2c3d38['id'],..._0x2c3d38[_0x35d42c(0x5d5)]()};currentQuizData=_0xcd71d6;const _0x4ae6c8=doc(db,_0x35d42c(0x23a)+appId+_0x35d42c(0x4b8),_0xcd71d6['projectId']),_0x10b6eb=await getDoc(_0x4ae6c8);_0x10b6eb['exists']()?(currentProjectData=_0x10b6eb[_0x35d42c(0x5d5)](),currentProjectId=_0xcd71d6[_0x35d42c(0x388)]):(currentProjectData={'students':[]},currentProjectId=_0xcd71d6[_0x35d42c(0x388)]);document['getElementById']('results-quiz-title')['textContent']=_0xcd71d6[_0x35d42c(0x153)],document[_0x35d42c(0x3b1)]('results-quiz-id-display')[_0x35d42c(0x18d)]=_0x4f3311;const _0x58c624=collection(db,_0x35d42c(0x23a)+appId+_0x35d42c(0x378),_0x4f3311,_0x35d42c(0x592));unsubscribeSubmissionsListener=onSnapshot(_0x58c624,_0x4761c2=>{const _0x72386b=_0x35d42c,_0x51985b=_0x4761c2[_0x72386b(0x128)]['map'](_0x33a66d=>({'id':_0x33a66d['id'],..._0x33a66d[_0x72386b(0x5d5)]()}));currentSubmissions=_0x51985b,renderAnalytics(_0xcd71d6,_0x51985b),renderQuizResultsTable(currentProjectData[_0x72386b(0x58d)],_0x51985b,_0xcd71d6),renderQuizLeaderboard(_0x51985b,_0xcd71d6,_0x72386b(0x55d));}),showView(_0x35d42c(0x25e));}catch(_0x5949b2){console[_0x35d42c(0x61f)](_0x35d42c(0x422),_0x5949b2),showMessage(_0x35d42c(0x626));}}function renderQuizResultsTable(_0x4a3ec8,_0x1eeefa,_0x1d71f7){const _0x3dfe37=_0x585543,_0x4e96ea=_0x1eeefa[_0x3dfe37(0x198)]((_0x17dddb,_0x2d6813)=>{return _0x17dddb[_0x2d6813['studentName']]=_0x2d6813,_0x17dddb;},{}),_0x29a1c3=document[_0x3dfe37(0x3b1)]('quiz-results-table-body');if(!_0x4a3ec8||_0x4a3ec8[_0x3dfe37(0x31f)]===0x0){_0x29a1c3['innerHTML']=_0x3dfe37(0x1b6);return;}const _0x222a49=_0x1d71f7[_0x3dfe37(0x414)]===!![],_0x2766d8=_0x1d71f7[_0x3dfe37(0x62f)]?.['passingScore']??-0x1;let _0x1a4fa4='';_0x4a3ec8[_0x3dfe37(0x3c3)](_0x2bae42=>{const _0x12afd9=_0x3dfe37,_0x4e080b=_0x4e96ea[_0x2bae42];let _0x5e595c=_0x12afd9(0x25a),_0x3004f0='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20'+(_0x222a49?_0x12afd9(0x1a8):_0x12afd9(0x316))+'\x22>'+(_0x222a49?_0x12afd9(0x453):_0x12afd9(0x1c5))+'</span></td>';if(_0x4e080b){let _0x29ea8d;_0x222a49?_0x29ea8d=_0x4e080b['bestScore']===_0x4e080b['totalQuestions']:_0x29ea8d=_0x2766d8!==-0x1&&_0x4e080b[_0x12afd9(0x2cb)]>=_0x2766d8;if(_0x222a49||_0x2766d8!==-0x1){const _0x3ed2ba=_0x29ea8d?_0x12afd9(0x1cf):'bg-red-100\x20text-red-800',_0x69da68=_0x29ea8d?'ผ่าน':_0x12afd9(0x575);_0x5e595c=_0x12afd9(0x59d)+_0x3ed2ba+'\x22>'+_0x69da68+_0x12afd9(0x5ae);}const _0x3e32e7='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20('+(_0x4e080b[_0x12afd9(0x4d1)]?.[_0x12afd9(0x31f)]||0x1)+_0x12afd9(0x641);_0x1a4fa4+=_0x12afd9(0x342)+_0x2bae42+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>'+_0x4e080b[_0x12afd9(0x2cb)]+'\x20/\x20'+_0x4e080b['totalQuestions']+_0x12afd9(0x32b)+_0x5e595c+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3004f0+_0x12afd9(0x331)+_0x4e080b[_0x12afd9(0x197)]+_0x12afd9(0x272)+_0x4e080b[_0x12afd9(0x47a)]+_0x12afd9(0x2a9)+_0x4e080b[_0x12afd9(0x237)]+_0x12afd9(0x1f7)+(_0x4e080b['points']||0x0)+_0x12afd9(0x32b)+_0x3e32e7+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>'+new Date(_0x4e080b[_0x12afd9(0x56b)])[_0x12afd9(0x550)](_0x12afd9(0x145))+_0x12afd9(0x4fc);}else{const _0x28f4c9=_0x12afd9(0x27e);_0x1a4fa4+=_0x12afd9(0x342)+_0x2bae42+_0x12afd9(0x40b)+_0x3004f0+_0x12afd9(0x40a)+_0x28f4c9+_0x12afd9(0x241);}}),_0x29a1c3[_0x3dfe37(0x48c)]=_0x1a4fa4;}function handleRenameQuiz(_0x4b95ec,_0x5ecb81){const _0x352683=_0x585543;actionTargetId=_0x4b95ec,document['getElementById'](_0x352683(0x324))['value']=_0x5ecb81,renameQuizModal[_0x352683(0x4c9)][_0x352683(0x5ce)]('hidden');}function _0x3a08(_0x2735ec,_0x13c826){const _0xce18a7=_0xce18();return _0x3a08=function(_0x3a08b2,_0x5e97b2){_0x3a08b2=_0x3a08b2-0x125;let _0x4ac043=_0xce18a7[_0x3a08b2];return _0x4ac043;},_0x3a08(_0x2735ec,_0x13c826);}async function confirmRenameQuiz(){const _0x58c009=_0x585543,_0x26c69b=document['getElementById'](_0x58c009(0x324))[_0x58c009(0x401)][_0x58c009(0x1d4)]();if(!_0x26c69b){showMessage('กรุณาใส่ชื่อใหม่');return;}if(!actionTargetId)return;const _0x142ff4=doc(db,'artifacts/'+appId+_0x58c009(0x378),actionTargetId);try{await updateDoc(_0x142ff4,{'topic':_0x26c69b}),showMessage(_0x58c009(0x5ba)),renameQuizModal[_0x58c009(0x4c9)]['add'](_0x58c009(0x4be)),actionTargetId=null;}catch(_0x4f96ba){console[_0x58c009(0x61f)](_0x58c009(0x165),_0x4f96ba),showMessage('เกิดข้อผิดพลาดในการเปลี่ยนชื่อ');}}async function handleMoveQuiz(_0x811422){const _0x333f60=_0x585543;actionTargetId=_0x811422;const _0x2a2cb1=document['getElementById'](_0x333f60(0x1fd));_0x2a2cb1[_0x333f60(0x48c)]=_0x333f60(0x214),moveQuizModal[_0x333f60(0x4c9)][_0x333f60(0x5ce)](_0x333f60(0x4be));try{const _0xeab645=collection(db,'artifacts/'+appId+_0x333f60(0x4b8)),_0x22d999=await getDocs(_0xeab645),_0x106f3c=_0x22d999['docs']['map'](_0x2695bd=>({'id':_0x2695bd['id'],..._0x2695bd[_0x333f60(0x5d5)]()})),_0x5a2363=_0x106f3c[_0x333f60(0x224)](_0x1ed2f1=>_0x1ed2f1['id']!==currentProjectId);if(_0x5a2363['length']===0x0){_0x2a2cb1[_0x333f60(0x48c)]=_0x333f60(0x3c2),document['getElementById']('confirm-move-quiz-btn')[_0x333f60(0x3f9)]=!![];return;}_0x2a2cb1[_0x333f60(0x48c)]=_0x5a2363[_0x333f60(0x20c)](_0x23a78f=>'<option\x20value=\x22'+_0x23a78f['id']+'\x22>'+_0x23a78f[_0x333f60(0x5b7)]+_0x333f60(0x559))['join'](''),document[_0x333f60(0x3b1)](_0x333f60(0x5cd))[_0x333f60(0x3f9)]=![];}catch(_0x24cc20){console[_0x333f60(0x61f)](_0x333f60(0x2d5),_0x24cc20),showMessage(_0x333f60(0x206)),moveQuizModal['classList']['add'](_0x333f60(0x4be));}}async function confirmMoveQuiz(){const _0x542d2b=_0x585543,_0xa6e05e=document[_0x542d2b(0x3b1)](_0x542d2b(0x1fd))[_0x542d2b(0x401)];if(!_0xa6e05e){showMessage(_0x542d2b(0x24f));return;}if(!actionTargetId)return;const _0x40c3ca=doc(db,_0x542d2b(0x23a)+appId+'/public/data/quizzes',actionTargetId);try{await updateDoc(_0x40c3ca,{'projectId':_0xa6e05e}),showMessage(_0x542d2b(0x3df)),moveQuizModal[_0x542d2b(0x4c9)][_0x542d2b(0x21b)](_0x542d2b(0x4be)),actionTargetId=null;}catch(_0x3860b2){console[_0x542d2b(0x61f)](_0x542d2b(0x5c0),_0x3860b2),showMessage('เกิดข้อผิดพลาดในการย้ายแบบทดสอบ');}}async function handleQuizSettings(_0x46791c){const _0x588266=_0x585543;actionTargetId=_0x46791c;const _0x4dfd01=doc(db,'artifacts/'+appId+_0x588266(0x378),_0x46791c);try{const _0x22fd75=await getDoc(_0x4dfd01);if(_0x22fd75[_0x588266(0x4b7)]()){const _0x6ba374=_0x22fd75[_0x588266(0x5d5)](),_0x462285=_0x6ba374[_0x588266(0x62f)]||{},_0x2317b2=_0x6ba374[_0x588266(0x480)][_0x588266(0x31f)];document['getElementById'](_0x588266(0x556))[_0x588266(0x401)]=_0x462285[_0x588266(0x2dd)]||_0x588266(0x1a0),document[_0x588266(0x3b1)](_0x588266(0x5cb))[_0x588266(0x401)]=_0x462285['resultsDisplay']||'show_results_and_answers',document['getElementById'](_0x588266(0x3b3))[_0x588266(0x401)]=_0x462285[_0x588266(0x5bf)]||'none',document[_0x588266(0x3b1)](_0x588266(0x588))[_0x588266(0x401)]=_0x462285[_0x588266(0x5f8)]||0xa,document['getElementById'](_0x588266(0x4ba))['value']=_0x462285['passingScore']||Math['floor'](_0x2317b2/0x2),document[_0x588266(0x3b1)]('modal-passing-score-input')['max']=_0x2317b2,document['getElementById'](_0x588266(0x589))[_0x588266(0x508)]=_0x462285[_0x588266(0x432)]||![],document[_0x588266(0x3b1)](_0x588266(0x3b3))[_0x588266(0x54a)](new Event('change')),quizSettingsModal[_0x588266(0x4c9)][_0x588266(0x5ce)](_0x588266(0x4be));}else showMessage(_0x588266(0x5f2));}catch(_0xc212a4){console[_0x588266(0x61f)](_0x588266(0x56a),_0xc212a4),showMessage(_0x588266(0x334));}}async function confirmQuizSettings(){const _0x417d47=_0x585543;if(!actionTargetId)return;const _0x3df485=doc(db,_0x417d47(0x23a)+appId+_0x417d47(0x378),actionTargetId),_0x2cd718={'shuffle':document[_0x417d47(0x3b1)](_0x417d47(0x556))[_0x417d47(0x401)],'resultsDisplay':document[_0x417d47(0x3b1)](_0x417d47(0x5cb))[_0x417d47(0x401)],'timerMode':document[_0x417d47(0x3b1)](_0x417d47(0x3b3))[_0x417d47(0x401)],'timerDuration':parseInt(document[_0x417d47(0x3b1)](_0x417d47(0x588))['value'])||0xa,'passingScore':parseInt(document[_0x417d47(0x3b1)]('modal-passing-score-input')['value'])||0x0,'passingScore':parseInt(document['getElementById']('modal-passing-score-input')[_0x417d47(0x401)])||0x0,'isAdaptive':document[_0x417d47(0x3b1)](_0x417d47(0x589))[_0x417d47(0x508)]};try{await updateDoc(_0x3df485,{'settings':_0x2cd718}),showMessage('บันทึกการตั้งค่าสำเร็จ'),quizSettingsModal['classList'][_0x417d47(0x21b)](_0x417d47(0x4be)),actionTargetId=null;}catch(_0x2343bc){console[_0x417d47(0x61f)]('Error\x20updating\x20quiz\x20settings:',_0x2343bc),showMessage(_0x417d47(0x12f));}}async function handleQuizStatus(_0x728762){const _0x44e0e9=_0x585543;actionTargetId=_0x728762;const _0x4fdef3=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x728762);try{const _0x55095d=await getDoc(_0x4fdef3);if(_0x55095d['exists']()){const _0x11be37=_0x55095d[_0x44e0e9(0x5d5)](),_0x15ebfd=_0x11be37[_0x44e0e9(0x56d)]||_0x44e0e9(0x5b0),_0x29b38a=document[_0x44e0e9(0x3b1)]('quiz-status-options'),_0x241b2b=document[_0x44e0e9(0x3b1)](_0x44e0e9(0x43e)),_0x4594f1=document[_0x44e0e9(0x3b1)](_0x44e0e9(0x5ff));let _0x277523=_0x44e0e9(0x5ec)+(_0x15ebfd===_0x44e0e9(0x5b0)?'checked':'')+_0x44e0e9(0x62d)+(_0x15ebfd==='inactive'?_0x44e0e9(0x508):'')+_0x44e0e9(0x457)+(_0x15ebfd==='scheduled'?_0x44e0e9(0x508):'')+_0x44e0e9(0x598);_0x29b38a[_0x44e0e9(0x48c)]=_0x277523;const _0x4d0b7d=_0x15ebfd===_0x44e0e9(0x366);_0x241b2b[_0x44e0e9(0x4c9)][_0x44e0e9(0x212)](_0x44e0e9(0x4be),!_0x4d0b7d),_0x4594f1['classList'][_0x44e0e9(0x212)]('hidden',!_0x4d0b7d),document[_0x44e0e9(0x3b1)](_0x44e0e9(0x640))[_0x44e0e9(0x401)]=_0x11be37[_0x44e0e9(0x62b)]?_0x11be37[_0x44e0e9(0x62b)][_0x44e0e9(0x546)](0x0,0x10):'',document[_0x44e0e9(0x3b1)]('quiz-end-time')['value']=_0x11be37[_0x44e0e9(0x15d)]?_0x11be37[_0x44e0e9(0x15d)][_0x44e0e9(0x546)](0x0,0x10):'',_0x29b38a[_0x44e0e9(0x243)](_0x44e0e9(0x3c1))[_0x44e0e9(0x3c3)](_0x54fd59=>{const _0x5b853f=_0x44e0e9;_0x54fd59[_0x5b853f(0x336)](_0x5b853f(0x2cd),_0x30bedb=>{const _0x4a324e=_0x5b853f,_0x276700=_0x30bedb[_0x4a324e(0x624)][_0x4a324e(0x401)]==='schedule';_0x241b2b[_0x4a324e(0x4c9)]['toggle'](_0x4a324e(0x4be),!_0x276700),_0x4594f1[_0x4a324e(0x4c9)][_0x4a324e(0x212)](_0x4a324e(0x4be),!_0x276700);});}),quizStatusModal[_0x44e0e9(0x4c9)][_0x44e0e9(0x5ce)]('hidden');}}catch(_0x29824b){console[_0x44e0e9(0x61f)]('Error\x20fetching\x20quiz\x20status:',_0x29824b),showMessage(_0x44e0e9(0x4c6));}}async function confirmQuizStatus(){const _0x31ce85=_0x585543;if(!actionTargetId)return;const _0xf88c65=doc(db,'artifacts/'+appId+_0x31ce85(0x378),actionTargetId),_0x567b35=document['querySelector'](_0x31ce85(0x408));if(!_0x567b35){showMessage(_0x31ce85(0x256));return;}const _0x3939fb=_0x567b35['value'];let _0x158d1f={};if(_0x3939fb===_0x31ce85(0x5b0)||_0x3939fb==='inactive')_0x158d1f={'status':_0x3939fb,'startTime':null,'endTime':null};else{if(_0x3939fb===_0x31ce85(0x59a)){const _0x1a297e=document[_0x31ce85(0x3b1)](_0x31ce85(0x640))[_0x31ce85(0x401)],_0x3010b7=document['getElementById'](_0x31ce85(0x615))['value'];if(!_0x1a297e&&!_0x3010b7){showMessage(_0x31ce85(0x36a));return;}_0x158d1f={'status':_0x31ce85(0x366),'startTime':_0x1a297e?new Date(_0x1a297e)[_0x31ce85(0x152)]():null,'endTime':_0x3010b7?new Date(_0x3010b7)[_0x31ce85(0x152)]():null};}}try{await updateDoc(_0xf88c65,_0x158d1f),showMessage(_0x31ce85(0x5b3)),quizStatusModal[_0x31ce85(0x4c9)]['add'](_0x31ce85(0x4be)),actionTargetId=null;}catch(_0x55fe72){console[_0x31ce85(0x61f)](_0x31ce85(0x4df),_0x55fe72),showMessage(_0x31ce85(0x621));}}function listenForStudentProfiles(_0x3c1d18){const _0x5baa91=_0x585543,_0x31583e=collection(db,_0x5baa91(0x23a)+appId+_0x5baa91(0x43f)+_0x3c1d18+'/studentProfiles');unsubscribeStudentProfilesListener=onSnapshot(_0x31583e,_0xe2eb=>{const _0x2878a8=_0x5baa91,_0x1f1a45=_0xe2eb[_0x2878a8(0x128)][_0x2878a8(0x20c)](_0xa2d749=>_0xa2d749[_0x2878a8(0x5d5)]());renderLeaderboard(_0x1f1a45,_0x2878a8(0x248));},_0x3d069d=>{const _0x102ce6=_0x5baa91;console[_0x102ce6(0x61f)]('Error\x20listening\x20for\x20student\x20profiles:',_0x3d069d),document[_0x102ce6(0x3b1)](_0x102ce6(0x248))[_0x102ce6(0x48c)]=_0x102ce6(0x386);});}function renderLeaderboard(_0x3aa975,_0xe2e146){const _0x2b8a7d=_0x585543,_0x53bba8=document[_0x2b8a7d(0x3b1)](_0xe2e146);if(!_0x3aa975||_0x3aa975[_0x2b8a7d(0x31f)]===0x0){_0x53bba8[_0x2b8a7d(0x48c)]=_0x2b8a7d(0x4f1);return;}_0x3aa975[_0x2b8a7d(0x132)]((_0x4f0dc0,_0x36a128)=>{const _0x30f92d=_0x2b8a7d,_0x35810e=(_0x36a128['totalPoints']||0x0)-(_0x4f0dc0['totalPoints']||0x0);if(_0x35810e!==0x0)return _0x35810e;const _0x1adb3e=(_0x36a128[_0x30f92d(0x1df)]?.[_0x30f92d(0x5f7)]||0x0)-(_0x4f0dc0[_0x30f92d(0x1df)]?.[_0x30f92d(0x5f7)]||0x0);if(_0x1adb3e!==0x0)return _0x1adb3e;const _0x4d114c=(_0x36a128[_0x30f92d(0x1df)]?.[_0x30f92d(0x142)]||0x0)-(_0x4f0dc0['badgesCount']?.[_0x30f92d(0x142)]||0x0);if(_0x4d114c!==0x0)return _0x4d114c;const _0x5f4b4c=(_0x36a128['badgesCount']?.[_0x30f92d(0x343)]||0x0)-(_0x4f0dc0[_0x30f92d(0x1df)]?.[_0x30f92d(0x343)]||0x0);if(_0x5f4b4c!==0x0)return _0x5f4b4c;const _0x8181f0=(_0x36a128[_0x30f92d(0x1df)]?.[_0x30f92d(0x353)]||0x0)-(_0x4f0dc0[_0x30f92d(0x1df)]?.[_0x30f92d(0x353)]||0x0);if(_0x8181f0!==0x0)return _0x8181f0;return _0x4f0dc0[_0x30f92d(0x3b6)][_0x30f92d(0x5e3)](_0x36a128['studentName'],'th');});let _0x3d914b='';_0x3aa975[_0x2b8a7d(0x3c3)]((_0x4aae87,_0x1448d7)=>{const _0x31c98e=_0x2b8a7d,_0x59de4c=_0x1448d7+0x1,_0x4d0802=_0x4aae87[_0x31c98e(0x1df)]||{};let _0x1614ac='';const _0x2e578c=[_0x31c98e(0x5f7),_0x31c98e(0x343),'first_try_ace',_0x31c98e(0x353)];_0x2e578c[_0x31c98e(0x3c3)](_0x15eaf2=>{const _0x3203e3=_0x31c98e;if(_0x4d0802[_0x15eaf2]>0x0){const _0xff7524=Object[_0x3203e3(0x2b2)](BADGES)[_0x3203e3(0x286)](_0x5d354c=>_0x5d354c['id']===_0x15eaf2);_0xff7524&&(_0x15eaf2===_0x3203e3(0x5f7)?_0x1614ac+=_0x3203e3(0x2c2)+_0xff7524['name']+_0x3203e3(0x567)+_0xff7524[_0x3203e3(0x56f)]+_0x3203e3(0x580):_0x1614ac+=_0x3203e3(0x2c2)+_0xff7524['name']+'\x20('+_0x4d0802[_0x15eaf2]+'\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0xff7524[_0x3203e3(0x56f)]+'\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>'+_0x4d0802[_0x15eaf2]+_0x3203e3(0x63f));}}),_0x3d914b+=_0x31c98e(0x284)+_0x59de4c+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x4aae87[_0x31c98e(0x3b6)]+_0x31c98e(0x458)+(_0x4aae87[_0x31c98e(0x639)]||0x0)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+(_0x1614ac||'-')+_0x31c98e(0x30a);}),_0x53bba8[_0x2b8a7d(0x48c)]=_0x3d914b;}function renderQuizLeaderboard(_0x30e245,_0x32be5f,_0x2302f2){const _0x28e1a8=_0x585543,_0x4892db=document[_0x28e1a8(0x3b1)](_0x2302f2),_0x3d975e=_0x2302f2===_0x28e1a8(0x4ed),_0x1d65f5=_0x32be5f[_0x28e1a8(0x480)][_0x28e1a8(0x31f)],_0x30f56d=document[_0x28e1a8(0x3b1)](_0x2302f2)[_0x28e1a8(0x476)]('table');if(_0x30f56d&&!_0x3d975e){const _0x3f5383=_0x30f56d['querySelector'](_0x28e1a8(0x1d0));_0x3f5383[_0x28e1a8(0x48c)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}if(!_0x30e245||_0x30e245['length']===0x0){_0x4892db[_0x28e1a8(0x48c)]=_0x28e1a8(0x3e2)+(_0x3d975e?0x6:0x8)+_0x28e1a8(0x4ca);return;}const _0x225cdf=[..._0x30e245];_0x225cdf[_0x28e1a8(0x132)]((_0x2329c8,_0x24bc73)=>{const _0x29a753=_0x28e1a8;let _0x2567df,_0xfd2979;switch(quizLeaderboardSortBy){case _0x29a753(0x3b6):_0x2567df=_0x2329c8[_0x29a753(0x3b6)]||'',_0xfd2979=_0x24bc73[_0x29a753(0x3b6)]||'';return quizLeaderboardSortOrder==='asc'?_0x2567df[_0x29a753(0x5e3)](_0xfd2979,'th'):_0xfd2979['localeCompare'](_0x2567df,'th');case'points':_0x2567df=_0x2329c8[_0x29a753(0x184)]||0x0,_0xfd2979=_0x24bc73[_0x29a753(0x184)]||0x0;break;case _0x29a753(0x4d1):_0x2567df=_0x2329c8[_0x29a753(0x4d1)]?.[_0x29a753(0x31f)]||0x1,_0xfd2979=_0x24bc73[_0x29a753(0x4d1)]?.['length']||0x1;break;case'latestSubmittedAt':_0x2567df=new Date(_0x2329c8[_0x29a753(0x56b)]),_0xfd2979=new Date(_0x24bc73['latestSubmittedAt']);break;case _0x29a753(0x2cb):default:_0x2567df=_0x2329c8['bestScore'],_0xfd2979=_0x24bc73[_0x29a753(0x2cb)];break;}if(_0x2567df<_0xfd2979)return quizLeaderboardSortOrder===_0x29a753(0x384)?-0x1:0x1;if(_0x2567df>_0xfd2979)return quizLeaderboardSortOrder===_0x29a753(0x384)?0x1:-0x1;return 0x0;});const _0x3391fd=_0x32be5f[_0x28e1a8(0x414)]===!![],_0x5af653=_0x32be5f[_0x28e1a8(0x62f)]?.[_0x28e1a8(0x4f9)]??-0x1;let _0xce04b6='';_0x225cdf[_0x28e1a8(0x3c3)]((_0x476da0,_0x472792)=>{const _0x56ab03=_0x28e1a8,_0x24846f=_0x472792+0x1;let _0x84b505=_0x56ab03(0x2ca);if(_0x3391fd||_0x5af653!==-0x1){let _0x1871dc=_0x3391fd?_0x476da0[_0x56ab03(0x2cb)]===_0x1d65f5:_0x476da0[_0x56ab03(0x2cb)]>=_0x5af653;const _0x520d64=_0x1871dc?_0x56ab03(0x1cf):_0x56ab03(0x327),_0x295c15=_0x1871dc?_0x56ab03(0x4cd):_0x56ab03(0x575);_0x84b505='<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20'+_0x520d64+'\x22>'+_0x295c15+'</span></td>';}const _0x44b53a=_0x476da0[_0x56ab03(0x4d1)][_0x476da0[_0x56ab03(0x4d1)][_0x56ab03(0x31f)]-0x1],_0x4f00a4=(_0x44b53a[_0x56ab03(0x430)]||[])[_0x56ab03(0x20c)](_0x1b9335=>{const _0x49b2fe=_0x56ab03,_0x54a31e=Object['values'](BADGES)[_0x49b2fe(0x286)](_0x3df738=>_0x3df738['id']===_0x1b9335);return _0x54a31e?'<span\x20title=\x22'+_0x54a31e[_0x49b2fe(0x507)]+_0x49b2fe(0x60f)+_0x54a31e[_0x49b2fe(0x56f)]+_0x49b2fe(0x415):'';})[_0x56ab03(0x4a1)]('');_0xce04b6+=_0x56ab03(0x352)+_0x24846f+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x476da0['studentName']+_0x56ab03(0x3bb)+_0x476da0[_0x56ab03(0x2cb)]+_0x56ab03(0x272)+_0x1d65f5+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x84b505+_0x56ab03(0x5c3)+(_0x476da0['points']||0x0)+_0x56ab03(0x599)+(_0x3d975e?'':'<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>'+(_0x476da0['attempts']?.[_0x56ab03(0x31f)]||0x1)+'</td>')+_0x56ab03(0x1e8)+(_0x3d975e?'':_0x56ab03(0x19a)+new Date(_0x476da0[_0x56ab03(0x56b)])[_0x56ab03(0x550)](_0x56ab03(0x145))+_0x56ab03(0x610))+_0x56ab03(0x12c)+(_0x4f00a4||'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x4892db[_0x28e1a8(0x48c)]=_0xce04b6,_0x30f56d&&!_0x3d975e&&_0x30f56d['querySelectorAll'](_0x28e1a8(0x5d9))[_0x28e1a8(0x3c3)](_0x5540a0=>{const _0x522224=_0x28e1a8,_0x24f842=_0x5540a0['querySelector'](_0x522224(0x412));if(_0x24f842)_0x24f842[_0x522224(0x5ce)]();_0x5540a0[_0x522224(0x5bb)][_0x522224(0x132)]===quizLeaderboardSortBy&&(_0x5540a0['innerHTML']+='<span\x20class=\x22sort-indicator\x20ml-2\x22>'+(quizLeaderboardSortOrder==='asc'?'▲':'▼')+'</span>');});}async function handleLoadQuiz(){const _0x214473=_0x585543,_0x2fbac6=document[_0x214473(0x3b1)](_0x214473(0x2f2)),_0x23d134=_0x2fbac6[_0x214473(0x401)][_0x214473(0x1d4)]();if(!_0x23d134){showMessage(_0x214473(0x177));return;}loadQuizBtn[_0x214473(0x3f9)]=!![],loadQuizBtn[_0x214473(0x48c)]=_0x214473(0x486);try{const _0x1fab4f=doc(db,_0x214473(0x23a)+appId+_0x214473(0x378),_0x23d134),_0x1702b8=await getDoc(_0x1fab4f);if(!_0x1702b8['exists']()){showMessage(_0x214473(0x586));return;}currentQuizData={'id':_0x1702b8['id'],..._0x1702b8[_0x214473(0x5d5)]()};const _0x4199b7=currentQuizData[_0x214473(0x56d)]||_0x214473(0x5b0),_0x2f1942=new Date();if(_0x4199b7===_0x214473(0x36d)){showMessage(_0x214473(0x403));return;}if(_0x4199b7===_0x214473(0x366)){const _0x32a8b1=currentQuizData['startTime']?new Date(currentQuizData[_0x214473(0x62b)]):null,_0x2e12a9=currentQuizData['endTime']?new Date(currentQuizData[_0x214473(0x15d)]):null;if(_0x32a8b1&&_0x2f1942<_0x32a8b1){showMessage('แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20'+_0x32a8b1['toLocaleString'](_0x214473(0x145),{'hour12':![]}));return;}if(_0x2e12a9&&_0x2f1942>_0x2e12a9){showMessage(_0x214473(0x565));return;}}const _0x44f6ce=currentQuizData[_0x214473(0x388)];currentProjectId=_0x44f6ce;const _0x2a731e=doc(db,_0x214473(0x23a)+appId+'/public/data/projects',_0x44f6ce),_0x1d0e92=await getDoc(_0x2a731e);if(!_0x1d0e92[_0x214473(0x4b7)]()){showMessage(_0x214473(0x57f));return;}const _0x591422=_0x1d0e92[_0x214473(0x5d5)]();currentStudentProjectData=_0x591422,displayStudentNameSelector(_0x591422[_0x214473(0x58d)],currentQuizData[_0x214473(0x153)]);}catch(_0x25e390){console[_0x214473(0x61f)](_0x214473(0x1a7),_0x25e390),showMessage(_0x214473(0x531));}finally{loadQuizBtn[_0x214473(0x3f9)]=![],loadQuizBtn[_0x214473(0x48c)]=_0x214473(0x270);}}async function handleJoinLiveGame(){const _0x1659bf=_0x585543,_0x34c1fb=document['getElementById'](_0x1659bf(0x259)),_0x2b36aa=document[_0x1659bf(0x3b1)](_0x1659bf(0x3ef)),_0x10b97c=document['getElementById'](_0x1659bf(0x36e)),_0x462062=_0x34c1fb['value']['trim'](),_0xfffa15=_0x2b36aa[_0x1659bf(0x401)][_0x1659bf(0x1d4)]();if(!_0x462062||!_0xfffa15){showMessage(_0x1659bf(0x58c));return;}_0x10b97c[_0x1659bf(0x3f9)]=!![],_0x10b97c['innerHTML']=_0x1659bf(0x429);try{const _0x37a7d6=collection(db,_0x1659bf(0x23a)+appId+_0x1659bf(0x2d2)),_0x14db72=query(_0x37a7d6,where(_0x1659bf(0x632),'==',_0x462062),where(_0x1659bf(0x56d),'==',_0x1659bf(0x15f))),_0x46b522=await getDocs(_0x14db72);if(_0x46b522[_0x1659bf(0x39d)]){showMessage(_0x1659bf(0x53b));return;}const _0x382776=_0x46b522['docs'][0x0],_0x3c22a7=_0x382776['data']();currentLiveGameId=_0x382776['id'];const _0x409fbb=_0x3c22a7['quizId'],_0x1aeb2f=doc(db,'artifacts/'+appId+_0x1659bf(0x378),_0x409fbb),_0x124c56=await getDoc(_0x1aeb2f);if(!_0x124c56[_0x1659bf(0x4b7)]()){showMessage(_0x1659bf(0x216));return;}currentQuizData={'id':_0x124c56['id'],..._0x124c56['data']()};if(_0x3c22a7[_0x1659bf(0x562)]&&_0x3c22a7['players'][_0xfffa15]){showMessage(_0x1659bf(0x14a));return;}const _0x32dfdd={};_0x32dfdd[_0x1659bf(0x306)+_0xfffa15]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0},await updateDoc(doc(db,'artifacts/'+appId+_0x1659bf(0x2d2),currentLiveGameId),_0x32dfdd),currentStudentName=_0xfffa15,listenForLiveGameUpdates();}catch(_0x51878d){console['error']('Error\x20joining\x20live\x20game:',_0x51878d),showMessage(_0x1659bf(0x424));}finally{_0x10b97c[_0x1659bf(0x3f9)]=![],_0x10b97c[_0x1659bf(0x48c)]=_0x1659bf(0x1ba);}}function displayStudentNameSelector(_0x1279ba,_0x525a66){const _0x430c7c=_0x585543,_0xe6ae5f=document[_0x430c7c(0x3b1)](_0x430c7c(0x328));document[_0x430c7c(0x3b1)](_0x430c7c(0x1ef))[_0x430c7c(0x18d)]=_0x430c7c(0x39f)+_0x525a66,!_0x1279ba||_0x1279ba[_0x430c7c(0x31f)]===0x0?(_0xe6ae5f[_0x430c7c(0x48c)]='<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>',startQuizBtn[_0x430c7c(0x3f9)]=!![]):(_0xe6ae5f[_0x430c7c(0x48c)]=_0x430c7c(0x337),_0x1279ba[_0x430c7c(0x3c3)](_0x5885f0=>{const _0x5b85f6=_0x430c7c,_0x38c7ec=document[_0x5b85f6(0x22b)](_0x5b85f6(0x47b));_0x38c7ec[_0x5b85f6(0x401)]=_0x5885f0,_0x38c7ec[_0x5b85f6(0x18d)]=_0x5885f0,_0xe6ae5f[_0x5b85f6(0x207)](_0x38c7ec);}),startQuizBtn[_0x430c7c(0x3f9)]=![]),studentInitialView['classList'][_0x430c7c(0x21b)](_0x430c7c(0x4be)),studentNameSelectionView[_0x430c7c(0x4c9)][_0x430c7c(0x5ce)](_0x430c7c(0x4be));}function shuffleArray(_0x183f4f){const _0xb85d3c=_0x585543;for(let _0x79856b=_0x183f4f[_0xb85d3c(0x31f)]-0x1;_0x79856b>0x0;_0x79856b--){const _0x4c5243=Math['floor'](Math['random']()*(_0x79856b+0x1));[_0x183f4f[_0x79856b],_0x183f4f[_0x4c5243]]=[_0x183f4f[_0x4c5243],_0x183f4f[_0x79856b]];}}function getShuffledQuiz(_0x2d1c0b){const _0x33fc21=_0x585543;let _0x950e85=JSON[_0x33fc21(0x557)](JSON[_0x33fc21(0x4d3)](_0x2d1c0b));const _0x4abb9a=_0x950e85[_0x33fc21(0x62f)]?.['shuffle']||'none';if(_0x4abb9a===_0x33fc21(0x1a0))return _0x950e85;return(_0x4abb9a==='questions_only'||_0x4abb9a===_0x33fc21(0x633))&&shuffleArray(_0x950e85[_0x33fc21(0x480)]),(_0x4abb9a==='choices_only'||_0x4abb9a===_0x33fc21(0x633))&&_0x950e85[_0x33fc21(0x480)]['forEach'](_0x1ab6a2=>{const _0xcda8c0=_0x33fc21,_0xdf31ed=_0x1ab6a2['questionType']||_0x950e85['quizType'];if(_0x1ab6a2[_0xcda8c0(0x275)]){let _0x4a6952=_0x1ab6a2[_0xcda8c0(0x275)][_0xcda8c0(0x20c)]((_0x1bf77d,_0x2ebe27)=>({'text':_0x1bf77d,'isCorrect':_0x2ebe27===_0x1ab6a2[_0xcda8c0(0x560)]}));shuffleArray(_0x4a6952),_0x1ab6a2['options']=_0x4a6952[_0xcda8c0(0x20c)](_0x3fc64e=>_0x3fc64e[_0xcda8c0(0x333)]),_0x1ab6a2[_0xcda8c0(0x560)]=_0x4a6952[_0xcda8c0(0x532)](_0x4090f4=>_0x4090f4[_0xcda8c0(0x3b5)]);}_0xdf31ed===_0xcda8c0(0x47c)&&_0x1ab6a2[_0xcda8c0(0x48e)]&&shuffleArray(_0x1ab6a2[_0xcda8c0(0x48e)]);}),_0x950e85;}function displayQuizForStudent(_0x3df89b){const _0x475309=_0x585543;studentQuizArea['classList'][_0x475309(0x5ce)](_0x475309(0x4be)),currentDisplayedQuiz=getShuffledQuiz(_0x3df89b);const _0x27f196=currentDisplayedQuiz[_0x475309(0x62f)]?.['timerMode']||_0x475309(0x1a0);if(_0x27f196===_0x475309(0x604))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz['settings']['timerDuration']);else _0x27f196==='per_question'?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x387082=_0x585543;let _0x21d06c=_0x387082(0x602)+currentDisplayedQuiz[_0x387082(0x153)]+_0x387082(0x440)+(currentMode===_0x387082(0x4b3)?'<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>':'')+_0x387082(0x3d5);currentDisplayedQuiz[_0x387082(0x480)][_0x387082(0x3c3)]((_0x51bca2,_0x49385a)=>{const _0x3274bd=_0x387082,_0x5c37d9=_0x51bca2['questionType']||currentDisplayedQuiz[_0x3274bd(0x54f)];_0x21d06c+=_0x3274bd(0x14e);_0x5c37d9===_0x3274bd(0x47c)?_0x21d06c+=_0x3274bd(0x199)+(_0x49385a+0x1)+'.\x20'+_0x51bca2[_0x3274bd(0x50c)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question'+_0x49385a+'\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x51bca2[_0x3274bd(0x48e)]['map'](_0x4d1330=>_0x3274bd(0x4d7)+_0x4d1330+'\x22>'+_0x4d1330+'</option>')[_0x3274bd(0x4a1)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a':(_0x21d06c+='<p>'+(_0x49385a+0x1)+'.\x20'+(_0x51bca2['instructions']||_0x51bca2[_0x3274bd(0x219)])+_0x3274bd(0x395),_0x51bca2[_0x3274bd(0x426)]&&(_0x21d06c+=_0x3274bd(0x3fd)+_0x51bca2['imageCode']+'</div>'));_0x21d06c+=_0x3274bd(0x1fa);switch(_0x5c37d9){case _0x3274bd(0x2ec):_0x21d06c+=_0x3274bd(0x4f4)+_0x49385a+'\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>';break;case _0x3274bd(0x22d):_0x21d06c+=_0x3274bd(0x5a5)+_0x49385a+'_opt0\x22\x20name=\x22question'+_0x49385a+'\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q'+_0x49385a+_0x3274bd(0x3be),_0x21d06c+=_0x3274bd(0x5a5)+_0x49385a+_0x3274bd(0x45f)+_0x49385a+_0x3274bd(0x19d)+_0x49385a+_0x3274bd(0x405);break;case'matching_item':break;case _0x3274bd(0x4e3):case'multiple_choice':default:_0x21d06c+=_0x51bca2[_0x3274bd(0x275)][_0x3274bd(0x20c)]((_0x13945a,_0x587010)=>_0x3274bd(0x4f7)+_0x49385a+_0x3274bd(0x304)+_0x587010+_0x3274bd(0x390)+_0x49385a+_0x3274bd(0x3ab)+_0x587010+_0x3274bd(0x544)+_0x49385a+_0x3274bd(0x304)+_0x587010+'\x22>'+_0x13945a+_0x3274bd(0x167))[_0x3274bd(0x4a1)]('');break;}_0x21d06c+=_0x3274bd(0x4d2);}),_0x21d06c+='<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>',_0x21d06c+=_0x387082(0x382),studentQuizArea[_0x387082(0x48c)]=_0x21d06c;if(currentMode==='admin-testing'){const _0x331cc4=document[_0x387082(0x3b1)](_0x387082(0x535));if(_0x331cc4)_0x331cc4[_0x387082(0x336)]('click',cancelAdminTest);}document[_0x387082(0x3b1)](_0x387082(0x149))[_0x387082(0x336)](_0x387082(0x5d1),handleSubmitQuiz);if(window[_0x387082(0x3a9)])window['MathJax']['typesetPromise']([studentQuizArea]);}async function handleSubmitQuiz(_0x44d13a){const _0xcabb9d=_0x585543;if(_0x44d13a)_0x44d13a['preventDefault']();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0xea88d7=document['getElementById'](_0xcabb9d(0x149));if(!_0xea88d7)return;const _0x5d911b=_0xea88d7[_0xcabb9d(0x3fc)](_0xcabb9d(0x471)),_0x41a851=currentDisplayedQuiz[_0xcabb9d(0x480)][_0xcabb9d(0x55b)](_0xa45c79=>_0xa45c79[_0xcabb9d(0x5e2)]==='short_answer');_0x5d911b&&(_0x5d911b['disabled']=!![],_0x41a851?_0x5d911b[_0xcabb9d(0x48c)]=_0xcabb9d(0x549):_0x5d911b[_0xcabb9d(0x48c)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...');const _0x75ce7b=new FormData(_0xea88d7),_0x392843=currentDisplayedQuiz[_0xcabb9d(0x480)][_0xcabb9d(0x20c)]((_0x23fdf1,_0x33504b)=>{const _0x5b05ad=_0xcabb9d,_0x555655=_0x23fdf1[_0x5b05ad(0x5e2)]||currentDisplayedQuiz[_0x5b05ad(0x54f)],_0x19b55d=_0x75ce7b[_0x5b05ad(0x20f)](_0x5b05ad(0x5fe)+_0x33504b);if(_0x19b55d!==null&&_0x19b55d!==undefined){if(_0x555655==='multiple_choice'||_0x555655==='fill_in_the_blank')return parseInt(_0x19b55d);return _0x19b55d;}return null;}),_0x24866b=currentQuizData['id'],_0x84aa0f=doc(db,_0xcabb9d(0x23a)+appId+_0xcabb9d(0x1ea)+_0x24866b+_0xcabb9d(0x620),currentStudentName),_0x31b628=await getDoc(_0x84aa0f),_0x4ed24a=_0x31b628[_0xcabb9d(0x4b7)]()?_0x31b628['data']():{},_0x3feb89=_0x4ed24a[_0xcabb9d(0x4d1)]||[];await processAndSubmitAnswers(_0x392843,_0x3feb89);}async function gradeShortAnswerWithAI(_0x28b6a2,_0x1ac64c){const _0x28da88=_0x585543;if(!_0x28b6a2||!_0x1ac64c)return![];try{const _0x563857=_0x28da88(0x379)+_0x28b6a2+_0x28da88(0x244)+_0x1ac64c+_0x28da88(0x267),_0xd61b92={'contents':[{'role':_0x28da88(0x27c),'parts':[{'text':_0x563857}]}]},_0x60264=_0x28da88(0x5f9),_0xf033bb='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key='+_0x60264,_0x152cc3=await fetch(_0xf033bb,{'method':_0x28da88(0x229),'headers':{'Content-Type':_0x28da88(0x3ec)},'body':JSON['stringify'](_0xd61b92)});if(!_0x152cc3['ok'])throw new Error('API\x20call\x20failed');const _0x3e2791=await _0x152cc3['json'](),_0x492cf0=_0x3e2791[_0x28da88(0x34a)][0x0][_0x28da88(0x32f)]['parts'][0x0][_0x28da88(0x333)]['trim']()[_0x28da88(0x191)]();return _0x492cf0===_0x28da88(0x22c);}catch(_0x4ae32f){return console[_0x28da88(0x61f)]('AI\x20grading\x20failed:',_0x4ae32f),![];}}async function processAndSubmitAnswers(_0x1c006e,_0xe9219e){const _0x5d0d8c=_0x585543;let _0x1adafe=0x0,_0x453568=0x0,_0x2f9058=[];const _0x45644e=[],_0x2eea4b=currentDisplayedQuiz[_0x5d0d8c(0x480)]['length'];let _0x137acd=0x0;const _0x237fc5=currentDisplayedQuiz['questions'];for(let _0x39e90e=0x0;_0x39e90e<_0x237fc5[_0x5d0d8c(0x31f)];_0x39e90e++){const _0x18bcc7=_0x237fc5[_0x39e90e],_0x3173b1=_0x1c006e[_0x39e90e],_0x309ee0=_0x18bcc7[_0x5d0d8c(0x5e2)]||currentDisplayedQuiz[_0x5d0d8c(0x54f)];let _0xb8aa5c=![];if(_0x3173b1!==null&&_0x3173b1!=='')switch(_0x309ee0){case'matching_item':_0xb8aa5c=_0x3173b1===_0x18bcc7[_0x5d0d8c(0x1b4)];break;case _0x5d0d8c(0x22d):const _0xe93be7=_0x3173b1===!![]||_0x3173b1===_0x5d0d8c(0x22c);_0xb8aa5c=_0xe93be7===_0x18bcc7[_0x5d0d8c(0x1f2)];break;case'fill_in_the_blank':case'multiple_choice':default:_0xb8aa5c=Number(_0x3173b1)===_0x18bcc7[_0x5d0d8c(0x560)];break;case'short_answer':_0xb8aa5c=await gradeShortAnswer(_0x3173b1,_0x18bcc7);break;}_0xb8aa5c?(_0x1adafe++,_0x137acd++,_0x137acd===0x3&&(_0x2f9058[_0x5d0d8c(0x3c7)](BADGES['ON_FIRE']['id']),_0x137acd=0x0)):_0x137acd=0x0,_0x45644e['push']({'answer':_0x3173b1,'isCorrect':_0xb8aa5c,'originalQuestionText':_0x18bcc7[_0x5d0d8c(0x50c)]||_0x18bcc7[_0x5d0d8c(0x219)]});}_0x453568=_0x1adafe*0xa;_0x1adafe===_0x2eea4b&&_0x2eea4b>0x0&&!currentDisplayedQuiz['isRemedial']&&(_0x453568+=0x32,_0x2f9058[_0x5d0d8c(0x3c7)](BADGES[_0x5d0d8c(0x519)]['id']));const _0x1469ea=currentDisplayedQuiz[_0x5d0d8c(0x62f)]?.['passingScore']??Math['floor'](_0x2eea4b/0x2),_0x1582b1=currentDisplayedQuiz[_0x5d0d8c(0x62f)]?.[_0x5d0d8c(0x5bf)];if(_0x1582b1===_0x5d0d8c(0x604)&&quizStartTime){const _0x3e9924=(new Date()-quizStartTime)/0x3e8,_0x53e125=currentDisplayedQuiz[_0x5d0d8c(0x62f)][_0x5d0d8c(0x5f8)]*0x3c;_0x1adafe>=_0x1469ea&&_0x3e9924<_0x53e125/0x2&&(_0x453568+=0x14,_0x2f9058[_0x5d0d8c(0x3c7)](BADGES[_0x5d0d8c(0x4c8)]['id']));}_0xe9219e[_0x5d0d8c(0x31f)]===0x0&&_0x1adafe===_0x2eea4b&&_0x2eea4b>0x0&&_0x2f9058[_0x5d0d8c(0x3c7)](BADGES[_0x5d0d8c(0x2e4)]['id']);if(_0xe9219e[_0x5d0d8c(0x31f)]>0x0){const _0x104b54=_0xe9219e[0x0]['score'];if(_0x104b54<_0x1469ea&&_0x1adafe>=_0x1469ea){const _0x2a7290=_0xe9219e[_0x5d0d8c(0x55b)](_0x27ce09=>(_0x27ce09[_0x5d0d8c(0x430)]||[])[_0x5d0d8c(0x17e)](BADGES[_0x5d0d8c(0x5e1)]['id']));!_0x2a7290&&_0x2f9058[_0x5d0d8c(0x3c7)](BADGES['COMEBACK_KING']['id']);}}_0xe9219e[_0x5d0d8c(0x31f)]===0x4&&_0x2f9058[_0x5d0d8c(0x3c7)](BADGES['PERSEVERANCE']['id']);const _0x1c7fc2=currentDisplayedQuiz['settings'][_0x5d0d8c(0x511)];if(currentMode==='admin-testing'){handleResultDisplay(_0x1c7fc2,_0x1adafe,_0x453568,_0x2f9058,_0x45644e,_0x2eea4b);return;}const _0x4e0324=currentQuizData['id'],_0x56d53e=doc(db,_0x5d0d8c(0x23a)+appId+_0x5d0d8c(0x1ea)+_0x4e0324+_0x5d0d8c(0x620),currentStudentName);try{const _0x5e82c4=[..._0xe9219e],_0x4a8a87={'score':_0x1adafe,'points':_0x453568,'badges':_0x2f9058,'submittedAt':new Date()['toISOString'](),'answers':_0x45644e};_0x5e82c4[_0x5d0d8c(0x3c7)](_0x4a8a87);const _0x582e59=_0x5e82c4[0x0][_0x5d0d8c(0x2d4)],_0x4b488a=Math[_0x5d0d8c(0x1dc)](..._0x5e82c4[_0x5d0d8c(0x20c)](_0x429b08=>_0x429b08[_0x5d0d8c(0x2d4)])),_0x2385a9=_0x1adafe,_0x5a3b46=_0x4a8a87[_0x5d0d8c(0x5f4)];await setDoc(_0x56d53e,{'studentName':currentStudentName,'totalQuestions':_0x2eea4b,'attempts':_0x5e82c4,'firstScore':_0x582e59,'bestScore':_0x4b488a,'latestScore':_0x2385a9,'points':_0x453568,'latestSubmittedAt':_0x5a3b46}),await updateStudentProfile(currentQuizData['projectId'],currentStudentName),handleResultDisplay(_0x1c7fc2,_0x1adafe,_0x453568,_0x2f9058,_0x45644e,_0x2eea4b);}catch(_0x17abec){console[_0x5d0d8c(0x61f)](_0x5d0d8c(0x35a),_0x17abec),showMessage('เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ');}}async function updateStudentProfile(_0x586c87,_0x3b86dd){const _0x10dab6=_0x585543,_0x161b17=doc(db,_0x10dab6(0x23a)+appId+_0x10dab6(0x43f)+_0x586c87+_0x10dab6(0x4d9),_0x3b86dd);try{const _0x4896a1=query(collection(db,_0x10dab6(0x23a)+appId+_0x10dab6(0x378)),where('projectId','==',_0x586c87)),_0x3756b5=await getDocs(_0x4896a1),_0x4126e5=new Map(_0x3756b5[_0x10dab6(0x128)][_0x10dab6(0x20c)](_0x3027b2=>[_0x3027b2['id'],_0x3027b2[_0x10dab6(0x5d5)]()])),_0x1a0675=Array['from'](_0x4126e5[_0x10dab6(0x59e)]());await runTransaction(db,async _0x5864bc=>{const _0x33b259=_0x10dab6;let _0x5650c2=0x0;const _0x44673b={};let _0x428126=!![],_0x4b4d2c=0x0,_0x353a80=0x0;for(const _0x33bc18 of _0x1a0675){const _0x285bab=_0x4126e5[_0x33b259(0x20f)](_0x33bc18),_0x257227=doc(db,_0x33b259(0x23a)+appId+_0x33b259(0x1ea)+_0x33bc18+_0x33b259(0x620),_0x3b86dd),_0x15ceb9=await _0x5864bc[_0x33b259(0x20f)](_0x257227);if(_0x15ceb9[_0x33b259(0x4b7)]()){const _0x1bad25=_0x15ceb9['data'](),_0x39d6fa=_0x1bad25[_0x33b259(0x4d1)]||[];if(_0x39d6fa['length']>0x0){const _0x718583=_0x39d6fa[_0x33b259(0x198)]((_0x1b0fb6,_0x50adfc)=>{const _0x71b0f4=_0x33b259;if(_0x50adfc['score']>_0x1b0fb6['score'])return _0x50adfc;if(_0x50adfc['score']===_0x1b0fb6[_0x71b0f4(0x2d4)])return(_0x50adfc[_0x71b0f4(0x184)]||0x0)>(_0x1b0fb6[_0x71b0f4(0x184)]||0x0)?_0x50adfc:_0x1b0fb6;return _0x1b0fb6;},{'score':-0x1,'points':-0x1});_0x718583['score']>-0x1&&(_0x5650c2+=_0x718583['points']||0x0,(_0x718583['badges']||[])[_0x33b259(0x3c3)](_0x421418=>{_0x44673b[_0x421418]=(_0x44673b[_0x421418]||0x0)+0x1;}));}}if(_0x285bab[_0x33b259(0x153)]!==_0x33b259(0x201)){_0x353a80++;if(_0x15ceb9[_0x33b259(0x4b7)]()){_0x4b4d2c++;const _0x5ac1df=_0x15ceb9[_0x33b259(0x5d5)]();_0x5ac1df[_0x33b259(0x2cb)]!==_0x5ac1df[_0x33b259(0x47a)]&&(_0x428126=![]);}else _0x428126=![];}}_0x353a80>0x0&&_0x4b4d2c===_0x353a80&&_0x428126?_0x44673b[_0x33b259(0x5f7)]=0x1:_0x44673b[_0x33b259(0x5f7)]=0x0,_0x5864bc[_0x33b259(0x240)](_0x161b17,{'studentName':_0x3b86dd,'totalPoints':_0x5650c2,'unlockedBadges':Object[_0x33b259(0x59e)](_0x44673b)[_0x33b259(0x224)](_0x2caa86=>_0x44673b[_0x2caa86]>0x0),'badgesCount':_0x44673b},{'merge':!![]});});}catch(_0x17edae){console[_0x10dab6(0x61f)](_0x10dab6(0x5d6),_0x17edae),showMessage(_0x10dab6(0x13a));}}function startAdminTest(){const _0x4f6572=_0x585543;if(!currentQuizData){showMessage(_0x4f6572(0x172));return;}let _0x4e0976=JSON[_0x4f6572(0x557)](JSON[_0x4f6572(0x4d3)](currentQuizData));currentMode=_0x4f6572(0x4b3),currentStudentName='ผู้ควบคุม\x20(ทดสอบ)',adminView['classList'][_0x4f6572(0x21b)](_0x4f6572(0x4be)),studentView[_0x4f6572(0x4c9)][_0x4f6572(0x5ce)](_0x4f6572(0x4be)),studentInitialView[_0x4f6572(0x4c9)][_0x4f6572(0x21b)]('hidden'),studentNameSelectionView[_0x4f6572(0x4c9)][_0x4f6572(0x21b)](_0x4f6572(0x4be)),studentResultArea[_0x4f6572(0x4c9)]['add'](_0x4f6572(0x4be)),studentQuizArea[_0x4f6572(0x4c9)]['remove'](_0x4f6572(0x4be)),quizStartTime=new Date(),displayQuizForStudent(_0x4e0976);}function handleResultDisplay(_0x48b44f,_0xda023c,_0xa9fc39,_0x21f4d6,_0x3011a3,_0x327492){const _0x36803e=_0x585543,_0x5b068a=currentDisplayedQuiz[_0x36803e(0x62f)]?.[_0x36803e(0x4f9)]??Math['floor'](_0x327492/0x2),_0x382cd7=currentDisplayedQuiz[_0x36803e(0x62f)]?.[_0x36803e(0x432)]??![];if(_0x382cd7&&_0xda023c<_0x5b068a){startAdaptiveFlow(_0x3011a3,_0xda023c,_0x327492);return;}switch(_0x48b44f){case _0x36803e(0x540):displayResultsWithAnswers(_0xda023c,_0xa9fc39,_0x21f4d6,_0x3011a3,_0x327492);break;case _0x36803e(0x349):displayResultsScoreOnly(_0xda023c,_0xa9fc39,_0x21f4d6,_0x327492);break;case _0x36803e(0x57b):displayPassFailOnly(_0xda023c,_0x327492);break;case _0x36803e(0x49c):default:displaySubmissionConfirmation();break;}}async function startAdaptiveFlow(_0x94ec31,_0xee1e59,_0x39605c){const _0x4eae36=_0x585543,_0x597fc7=_0x94ec31[_0x4eae36(0x20c)]((_0x99a3d6,_0x14f33a)=>({..._0x99a3d6,'originalQuestion':currentDisplayedQuiz[_0x4eae36(0x480)][_0x14f33a]}))['filter'](_0x3c61a0=>!_0x3c61a0[_0x4eae36(0x3b5)]&&_0x3c61a0[_0x4eae36(0x5d3)]['explanation'])[_0x4eae36(0x20c)](_0x5cbb01=>'-\x20'+_0x5cbb01[_0x4eae36(0x5d3)]['explanation'])[_0x4eae36(0x4a1)]('\x0a');if(!_0x597fc7){displayResultsScoreOnly(_0xee1e59,0x0,[],_0x39605c);return;}studentQuizArea[_0x4eae36(0x4c9)][_0x4eae36(0x21b)]('hidden'),studentReadingArea[_0x4eae36(0x4c9)][_0x4eae36(0x5ce)](_0x4eae36(0x4be)),studentReadingArea[_0x4eae36(0x48c)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์จุดอ่อนและสร้างเนื้อหาทบทวนให้คุณโดยเฉพาะ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0x8385c6=_0x4eae36(0x42b)+currentDisplayedQuiz[_0x4eae36(0x153)]+_0x4eae36(0x38f)+_0x597fc7+_0x4eae36(0x372),_0x27993e={'type':'OBJECT','properties':{'remedialContent':{'type':_0x4eae36(0x1c4)}},'required':['remedialContent']};try{const _0x3fc78b=await callAnalysisApi(_0x8385c6,_0x27993e),_0x300c13=_0x3fc78b[_0x4eae36(0x603)];studentReadingArea[_0x4eae36(0x48c)]=_0x4eae36(0x2f1)+_0x300c13[_0x4eae36(0x41f)](/\n/g,_0x4eae36(0x2a2))+_0x4eae36(0x2eb),document[_0x4eae36(0x3b1)]('start-remedial-quiz-btn')[_0x4eae36(0x336)]('click',()=>generateRemedialQuiz(_0x597fc7));}catch(_0x4c2402){console[_0x4eae36(0x61f)](_0x4eae36(0x176),_0x4c2402),showMessage(_0x4eae36(0x594)),displayResultsScoreOnly(_0xee1e59,0x0,[],_0x39605c);}}async function generateRemedialQuiz(_0x361fee){const _0x5729d7=_0x585543;studentReadingArea[_0x5729d7(0x48c)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0x1c3195=_0x5729d7(0x5a0)+_0x361fee+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20'+simpleMathPrompt+'\x0a\x20\x20\x20\x20',_0x4d2fae={'type':_0x5729d7(0x26e),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x5729d7(0x3a0),'items':{'type':_0x5729d7(0x1c4)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x5729d7(0x1c4)}},'required':[_0x5729d7(0x219),_0x5729d7(0x275),_0x5729d7(0x560),_0x5729d7(0x321)]},_0xf8f014={'type':'OBJECT','properties':{'topic':{'type':_0x5729d7(0x1c4)},'questions':{'type':_0x5729d7(0x3a0),'items':_0x4d2fae}},'required':[_0x5729d7(0x153),_0x5729d7(0x480)]};try{const _0x6d5357=await callAnalysisApi(_0x1c3195,_0xf8f014);_0x6d5357[_0x5729d7(0x414)]=!![],studentReadingArea[_0x5729d7(0x4c9)][_0x5729d7(0x21b)](_0x5729d7(0x4be));const _0x1623ce={...currentDisplayedQuiz[_0x5729d7(0x62f)],'isAdaptive':![],'resultsDisplay':_0x5729d7(0x540)};_0x6d5357[_0x5729d7(0x62f)]=_0x1623ce,displayQuizForStudent(_0x6d5357);}catch(_0x535f61){console[_0x5729d7(0x61f)](_0x5729d7(0x5ca),_0x535f61),showMessage(_0x5729d7(0x4c4)),showView(_0x5729d7(0x4c0));}}function displayPassFailOnly(_0x465527,_0x2f7439){const _0x3b8d06=_0x585543,_0x5bb848=currentDisplayedQuiz['settings']?.[_0x3b8d06(0x4f9)]??-0x1,_0x1d5971=currentDisplayedQuiz[_0x3b8d06(0x414)]===!![];let _0x5b6126='';if(_0x1d5971||_0x5bb848!==-0x1){let _0x427610;_0x1d5971?_0x427610=_0x465527===_0x2f7439:_0x427610=_0x465527>=_0x5bb848;const _0x577d88=_0x427610?_0x3b8d06(0x1cf):'bg-red-100\x20text-red-800',_0x2922ad=_0x427610?_0x3b8d06(0x4cd):_0x3b8d06(0x575);_0x5b6126=_0x3b8d06(0x287)+_0x577d88+'\x22>'+_0x2922ad+_0x3b8d06(0x571);}else _0x5b6126=_0x3b8d06(0x279);let _0x2ce53b='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5b6126+_0x3b8d06(0x419);studentResultArea[_0x3b8d06(0x48c)]=_0x2ce53b,studentResultArea[_0x3b8d06(0x4c9)][_0x3b8d06(0x5ce)](_0x3b8d06(0x4be)),studentQuizArea[_0x3b8d06(0x4c9)][_0x3b8d06(0x21b)](_0x3b8d06(0x4be));const _0x3dbf60=_0x3b8d06(0x53d),_0x13b98c=currentMode===_0x3b8d06(0x4b3),_0xc4b29a=_0x13b98c?'<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการโปรเจค':'<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก',_0x153eb1=_0x3b8d06(0x30f)+_0x3dbf60+_0x3b8d06(0x2de)+_0xc4b29a+_0x3b8d06(0x616);studentResultArea[_0x3b8d06(0x2df)](_0x3b8d06(0x2e6),_0x153eb1),document['getElementById'](_0x3dbf60)[_0x3b8d06(0x336)](_0x3b8d06(0x20a),()=>{const _0x2d98c8=_0x3b8d06;_0x13b98c?(currentMode=_0x2d98c8(0x3fa),studentView[_0x2d98c8(0x4c9)][_0x2d98c8(0x21b)](_0x2d98c8(0x4be)),adminView[_0x2d98c8(0x4c9)][_0x2d98c8(0x5ce)](_0x2d98c8(0x4be)),showView('project-detail')):(showView(_0x2d98c8(0x4c0)),document[_0x2d98c8(0x3b1)](_0x2d98c8(0x2f2))[_0x2d98c8(0x401)]='');});}function cancelAdminTest(){const _0x3fa427=_0x585543;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);currentMode=_0x3fa427(0x3fa),studentView[_0x3fa427(0x4c9)][_0x3fa427(0x21b)](_0x3fa427(0x4be)),adminView[_0x3fa427(0x4c9)][_0x3fa427(0x5ce)](_0x3fa427(0x4be)),showView(_0x3fa427(0x1a9));}function setupResultScreenBackButton(){const _0x39a0e5=_0x585543,_0x2ad91d=_0x39a0e5(0x53d),_0xf31339=currentMode==='admin-testing',_0x46dae5=_0xf31339?'<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการโปรเจค':'<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก',_0x3564a2=_0x39a0e5(0x40c)+_0x2ad91d+_0x39a0e5(0x5af)+_0x46dae5+_0x39a0e5(0x593);studentResultArea['insertAdjacentHTML'](_0x39a0e5(0x2e6),_0x3564a2),studentResultArea[_0x39a0e5(0x3fc)](_0x39a0e5(0x57a))[_0x39a0e5(0x336)](_0x39a0e5(0x20a),handleShowStudentRankings),document['getElementById'](_0x2ad91d)['addEventListener'](_0x39a0e5(0x20a),()=>{const _0x14fc85=_0x39a0e5;_0xf31339?(currentMode=_0x14fc85(0x3fa),studentView['classList'][_0x14fc85(0x21b)]('hidden'),adminView['classList']['remove'](_0x14fc85(0x4be)),showView(_0x14fc85(0x1a9))):(showView(_0x14fc85(0x4c0)),document[_0x14fc85(0x3b1)](_0x14fc85(0x2f2))[_0x14fc85(0x401)]='');});}function displayResultsWithAnswers(_0xaec7e4,_0x2bbba9,_0x11f247,_0x2b0a5f,_0x22ed03){const _0x30583a=_0x585543,_0x5a6984=_0x22ed03>0x0?_0xaec7e4/_0x22ed03*0x64:0x0,_0x4ce270=currentDisplayedQuiz[_0x30583a(0x62f)]?.[_0x30583a(0x4f9)]??-0x1,_0x41846d=currentDisplayedQuiz[_0x30583a(0x414)]===!![];let _0x41449a='';if(_0x41846d||_0x4ce270!==-0x1){let _0x2dbc11=_0x41846d?_0xaec7e4===_0x22ed03:_0xaec7e4>=_0x4ce270;const _0x205aa6=_0x2dbc11?_0x30583a(0x1cf):_0x30583a(0x327),_0x16ea03=_0x2dbc11?_0x30583a(0x4cd):_0x30583a(0x575);_0x41449a=_0x30583a(0x2e0)+_0x205aa6+'\x22>'+_0x16ea03+_0x30583a(0x395);}let _0x524936=_0x30583a(0x141)+currentStudentName+_0x30583a(0x4fe)+_0xaec7e4+_0x30583a(0x38d)+_0x22ed03+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x41449a+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+'+_0x2bbba9+_0x30583a(0x204)+_0x5a6984[_0x30583a(0x290)](0x0)+_0x30583a(0x2ed);currentDisplayedQuiz[_0x30583a(0x480)]['forEach']((_0x52778e,_0x40a214)=>{const _0x4a125c=_0x30583a,_0x37b557=_0x2b0a5f[_0x40a214],_0x7d9e6c=_0x37b557[_0x4a125c(0x2e1)],_0x1ca5e5=_0x37b557[_0x4a125c(0x3b5)],_0xdf6bd4=_0x52778e[_0x4a125c(0x5e2)]||currentDisplayedQuiz[_0x4a125c(0x54f)];_0x524936+=_0x4a125c(0x2ae)+(_0x1ca5e5?'border-green-300\x20bg-green-50':_0x4a125c(0x1c0))+_0x4a125c(0x629)+(_0x40a214+0x1)+'.\x20'+(_0x52778e['stem']||_0x52778e[_0x4a125c(0x219)])+_0x4a125c(0x53f);switch(_0xdf6bd4){case _0x4a125c(0x47c):const _0x524e04=_0x7d9e6c||_0x4a125c(0x62e),_0x23febf=_0x52778e[_0x4a125c(0x1b4)];_0x524936+='<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22'+(!_0x1ca5e5?'line-through\x20text-red-700':'')+'\x22>'+_0x524e04+_0x4a125c(0x361);!_0x1ca5e5&&(_0x524936+=_0x4a125c(0x404)+_0x23febf+_0x4a125c(0x395));break;case _0x4a125c(0x2ec):_0x524936+=_0x4a125c(0x596)+(_0x7d9e6c||_0x4a125c(0x62e))+'</p>',_0x524936+=_0x4a125c(0x1f5)+_0x52778e[_0x4a125c(0x17a)]+_0x4a125c(0x395);break;case _0x4a125c(0x22d):_0x524936+='<p\x20class=\x22'+(_0x52778e[_0x4a125c(0x1f2)]===!![]?_0x4a125c(0x50b):'')+'\x20'+(_0x7d9e6c===_0x4a125c(0x22c)&&!_0x1ca5e5?'line-through\x20text-red-700':'')+_0x4a125c(0x437),_0x524936+=_0x4a125c(0x271)+(_0x52778e[_0x4a125c(0x1f2)]===![]?_0x4a125c(0x50b):'')+'\x20'+(_0x7d9e6c==='false'&&!_0x1ca5e5?_0x4a125c(0x489):'')+_0x4a125c(0x1e4);break;case _0x4a125c(0x4e3):case _0x4a125c(0x4a9):default:_0x524936+=_0x52778e['options'][_0x4a125c(0x20c)]((_0x1eaf76,_0x9d75e7)=>{const _0x2dbcb9=_0x4a125c;let _0x457f81='',_0xe786ae='';if(_0x9d75e7===_0x52778e[_0x2dbcb9(0x560)])_0x457f81=_0x2dbcb9(0x50b),_0xe786ae='<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>';else _0x9d75e7===_0x7d9e6c&&(_0x457f81=_0x2dbcb9(0x465),_0xe786ae=_0x2dbcb9(0x234));return _0x2dbcb9(0x380)+_0x457f81+'\x22>'+_0xe786ae+_0x1eaf76+_0x2dbcb9(0x291);})[_0x4a125c(0x4a1)]('');break;}_0x524936+=_0x4a125c(0x3c9)+(_0x52778e[_0x4a125c(0x321)]||_0x4a125c(0x526))+_0x4a125c(0x488);}),studentResultArea['innerHTML']=_0x524936,renderEarnedBadges(_0x11f247,_0x30583a(0x473)),studentResultArea[_0x30583a(0x4c9)]['remove']('hidden'),studentQuizArea[_0x30583a(0x4c9)][_0x30583a(0x21b)](_0x30583a(0x4be)),setupResultScreenBackButton();if(window[_0x30583a(0x3a9)])window[_0x30583a(0x3a9)][_0x30583a(0x1e7)]([studentResultArea]);}function displayResultsScoreOnly(_0x51f5db,_0x4f596e,_0x3cc49a,_0x533db9){const _0x3eb655=_0x585543,_0x1dcddb=_0x533db9>0x0?_0x51f5db/_0x533db9*0x64:0x0,_0x42d6c9=currentDisplayedQuiz[_0x3eb655(0x62f)]?.[_0x3eb655(0x4f9)]??-0x1,_0x151b22=currentDisplayedQuiz[_0x3eb655(0x414)]===!![];let _0x125e04='';if(_0x151b22||_0x42d6c9!==-0x1){let _0xd43b;_0x151b22?_0xd43b=_0x51f5db===_0x533db9:_0xd43b=_0x51f5db>=_0x42d6c9;const _0x34ed2e=_0xd43b?_0x3eb655(0x1cf):_0x3eb655(0x327),_0x3d883d=_0xd43b?'ผ่าน':_0x3eb655(0x575);_0x125e04='<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20'+_0x34ed2e+'\x22>'+_0x3d883d+_0x3eb655(0x395);}let _0x50c302=_0x3eb655(0x246)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>'+_0x51f5db+_0x3eb655(0x3d1)+_0x533db9+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x125e04+_0x3eb655(0x541)+_0x4f596e+_0x3eb655(0x133)+_0x1dcddb['toFixed'](0x0)+_0x3eb655(0x231);studentResultArea['innerHTML']=_0x50c302,renderEarnedBadges(_0x3cc49a,'earned-badges-container'),studentResultArea['classList']['remove'](_0x3eb655(0x4be)),studentQuizArea[_0x3eb655(0x4c9)][_0x3eb655(0x21b)](_0x3eb655(0x4be)),setupResultScreenBackButton();}function displaySubmissionConfirmation(){const _0x16b636=_0x585543;let _0x5b1cde=_0x16b636(0x527)+currentStudentName+_0x16b636(0x46f);studentResultArea[_0x16b636(0x48c)]=_0x5b1cde,studentResultArea['classList'][_0x16b636(0x5ce)](_0x16b636(0x4be)),studentQuizArea['classList'][_0x16b636(0x21b)](_0x16b636(0x4be)),document[_0x16b636(0x3b1)](_0x16b636(0x1f9))[_0x16b636(0x336)](_0x16b636(0x20a),()=>{const _0xe9f313=_0x16b636;showView(_0xe9f313(0x4c0)),document[_0xe9f313(0x3b1)](_0xe9f313(0x2f2))[_0xe9f313(0x401)]='';});}function renderEarnedBadges(_0x2c81c6,_0x51892d){const _0x2de74b=_0x585543,_0x3d0282=document[_0x2de74b(0x3b1)](_0x51892d);if(!_0x3d0282||!_0x2c81c6||_0x2c81c6[_0x2de74b(0x31f)]===0x0)return;let _0x48a1a8='';_0x2c81c6[_0x2de74b(0x3c3)]((_0x2eed7b,_0x4b0704)=>{const _0x441802=_0x2de74b,_0x3a5779=Object[_0x441802(0x2b2)](BADGES)['find'](_0x49a2d9=>_0x49a2d9['id']===_0x2eed7b);_0x3a5779&&(_0x48a1a8+=_0x441802(0x254)+_0x4b0704*0.2+_0x441802(0x61e)+_0x3a5779[_0x441802(0x52f)]+_0x441802(0x57e)+_0x3a5779[_0x441802(0x56f)]+_0x441802(0x42a)+_0x3a5779['name']+_0x441802(0x25f));}),_0x3d0282[_0x2de74b(0x48c)]=_0x48a1a8;}function startPresentation(_0x106cec){const _0x11b830=_0x585543;currentQuizData=getShuffledQuiz(_0x106cec),currentPresentationSlide=0x0,presentationModal[_0x11b830(0x51c)][_0x11b830(0x4b6)]=_0x11b830(0x251),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x21ccbb=_0x585543;document[_0x21ccbb(0x597)]&&document[_0x21ccbb(0x348)](),presentationModal[_0x21ccbb(0x51c)][_0x21ccbb(0x4b6)]=_0x21ccbb(0x1a0);}function renderPresentationSlide(_0x4866e4){const _0x474bc6=_0x585543,_0x29dc1d=document[_0x474bc6(0x3b1)]('presentation-slide-container');if(!currentQuizData||!currentQuizData[_0x474bc6(0x480)]||!currentQuizData[_0x474bc6(0x480)][_0x4866e4]){_0x29dc1d['innerHTML']=_0x474bc6(0x4bb);return;}const _0x3b433d=currentQuizData[_0x474bc6(0x480)][_0x4866e4],_0x550c33=_0x3b433d[_0x474bc6(0x5e2)]||currentQuizData[_0x474bc6(0x54f)];_0x29dc1d['innerHTML']='';let _0x1d456c=_0x474bc6(0x5cc)+(_0x3b433d[_0x474bc6(0x426)]?_0x474bc6(0x3fd)+_0x3b433d[_0x474bc6(0x426)]+'</div>':'')+_0x474bc6(0x5fc)+(_0x4866e4+0x1)+'.\x20'+(_0x3b433d[_0x474bc6(0x50c)]||_0x3b433d[_0x474bc6(0x219)])+_0x474bc6(0x4a6);switch(_0x550c33){case _0x474bc6(0x47c):_0x1d456c+=_0x3b433d[_0x474bc6(0x48e)][_0x474bc6(0x20c)](_0x531838=>_0x474bc6(0x21e)+_0x531838+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x474bc6(0x4a1)]('');break;case _0x474bc6(0x22d):_0x1d456c+='<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>',_0x1d456c+=_0x474bc6(0x329);break;case _0x474bc6(0x1c2):case'short_answer':_0x1d456c+=_0x474bc6(0x4c3);break;case _0x474bc6(0x4e3):case'multiple_choice':default:_0x1d456c+=_0x3b433d[_0x474bc6(0x275)][_0x474bc6(0x20c)]((_0x9c7223,_0x16df03)=>_0x474bc6(0x4e9)+_0x16df03+_0x474bc6(0x2bf)+_0x9c7223+_0x474bc6(0x634))['join']('');break;}_0x1d456c+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20'+(_0x3b433d['explanation']||_0x474bc6(0x526))+_0x474bc6(0x43d),_0x29dc1d[_0x474bc6(0x48c)]=_0x1d456c;if(window[_0x474bc6(0x3a9)])window[_0x474bc6(0x3a9)][_0x474bc6(0x1e7)]([_0x29dc1d]);document[_0x474bc6(0x243)](_0x474bc6(0x392))[_0x474bc6(0x3c3)](_0xa0aa70=>{const _0x2595d2=_0x474bc6;_0xa0aa70[_0x2595d2(0x336)]('click',_0x4149a3=>revealAnswerForPresentation(_0x4866e4,_0x4149a3[_0x2595d2(0x2c0)]));});const _0x2241fa=document['getElementById'](_0x474bc6(0x39b));_0x2241fa&&_0x2241fa['addEventListener']('click',()=>checkShortAnswerForPresentation(_0x4866e4)),document[_0x474bc6(0x3b1)](_0x474bc6(0x394))['textContent']='ข้อที่\x20'+(_0x4866e4+0x1)+_0x474bc6(0x272)+currentQuizData[_0x474bc6(0x480)][_0x474bc6(0x31f)],document[_0x474bc6(0x3b1)](_0x474bc6(0x572))[_0x474bc6(0x3f9)]=_0x4866e4===0x0,document['getElementById']('next-question-btn')['disabled']=_0x4866e4===currentQuizData[_0x474bc6(0x480)][_0x474bc6(0x31f)]-0x1;}async function checkShortAnswerForPresentation(_0x39b140){const _0x52aea1=_0x585543,_0x3cb0c8=currentQuizData['questions'][_0x39b140],_0x2cbbf0=document[_0x52aea1(0x3b1)](_0x52aea1(0x129)),_0x31c4a2=document['getElementById'](_0x52aea1(0x39b)),_0x448937=document[_0x52aea1(0x3b1)](_0x52aea1(0x227)),_0x1cbd3a=document['getElementById'](_0x52aea1(0x43a));if(!_0x2cbbf0||!_0x31c4a2||!_0x448937||!_0x1cbd3a)return;const _0x4a4336=_0x2cbbf0[_0x52aea1(0x401)][_0x52aea1(0x1d4)]();if(_0x4a4336==='')return;_0x31c4a2[_0x52aea1(0x3f9)]=!![],_0x31c4a2[_0x52aea1(0x48c)]=_0x52aea1(0x509),_0x2cbbf0[_0x52aea1(0x3f9)]=!![];const _0x5916a8=await gradeShortAnswer(_0x4a4336,_0x3cb0c8);_0x5916a8?_0x448937['innerHTML']='<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>':_0x448937['innerHTML']='<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20'+_0x3cb0c8[_0x52aea1(0x17a)]+')',_0x448937[_0x52aea1(0x4c9)][_0x52aea1(0x5ce)](_0x52aea1(0x4be)),_0x1cbd3a[_0x52aea1(0x4c9)]['remove']('hidden'),_0x31c4a2['classList']['add'](_0x52aea1(0x4be));}function revealAnswerForPresentation(_0x739d66,_0x4507e0){const _0x28dc9f=_0x585543,_0x28464b=currentQuizData[_0x28dc9f(0x480)][_0x739d66],_0x169527=_0x28464b[_0x28dc9f(0x5e2)]||currentQuizData[_0x28dc9f(0x54f)];document[_0x28dc9f(0x243)](_0x28dc9f(0x392))['forEach'](_0x1ea768=>{const _0x3a8a63=_0x28dc9f;_0x1ea768[_0x3a8a63(0x3f9)]=!![],_0x1ea768[_0x3a8a63(0x4c9)]['remove']('hover:bg-indigo-100');let _0x2fc977=![];if(_0x169527===_0x3a8a63(0x4a9)||_0x169527===_0x3a8a63(0x4e3)){const _0x301bbf=parseInt(_0x1ea768['dataset'][_0x3a8a63(0x368)]);_0x2fc977=_0x301bbf===_0x28464b[_0x3a8a63(0x560)];}else{if(_0x169527===_0x3a8a63(0x22d)){const _0x300037=_0x1ea768['dataset'][_0x3a8a63(0x2e1)]===_0x3a8a63(0x22c);_0x2fc977=_0x300037===_0x28464b[_0x3a8a63(0x1f2)];}else _0x169527===_0x3a8a63(0x47c)&&(_0x2fc977=_0x1ea768[_0x3a8a63(0x18d)][_0x3a8a63(0x1d4)]()===_0x28464b[_0x3a8a63(0x1b4)]);}_0x2fc977?_0x1ea768[_0x3a8a63(0x4c9)][_0x3a8a63(0x21b)](_0x3a8a63(0x56c),'text-white','border-green-700'):_0x1ea768['classList'][_0x3a8a63(0x21b)](_0x3a8a63(0x548));}),_0x4507e0[_0x28dc9f(0x4c9)][_0x28dc9f(0x5ce)](_0x28dc9f(0x548));let _0x26db54=![];if(_0x169527==='multiple_choice')_0x26db54=parseInt(_0x4507e0['dataset']['index'])===_0x28464b[_0x28dc9f(0x560)];else{if(_0x169527===_0x28dc9f(0x22d))_0x26db54=_0x4507e0[_0x28dc9f(0x5bb)]['answer']==='true'===_0x28464b['correctAnswer'];else _0x169527===_0x28dc9f(0x47c)&&(_0x26db54=_0x4507e0[_0x28dc9f(0x18d)]['trim']()===_0x28464b['correctResponse']);}!_0x26db54&&_0x4507e0['classList'][_0x28dc9f(0x21b)](_0x28dc9f(0x2ea),_0x28dc9f(0x468),'border-red-700'),document['getElementById']('presentation-explanation')[_0x28dc9f(0x4c9)][_0x28dc9f(0x5ce)]('hidden');}function startWholeQuizTimer(_0x5d424c){const _0x4ec59f=_0x585543,_0x5ada46=document[_0x4ec59f(0x3b1)](_0x4ec59f(0x1bf));if(!_0x5ada46)return;const _0x457593=Date[_0x4ec59f(0x1da)]()+_0x5d424c*0x3c*0x3e8;_0x5ada46[_0x4ec59f(0x48c)]=_0x4ec59f(0x17c);const _0x31cf4b=document['getElementById'](_0x4ec59f(0x283));quizTimerInterval=setInterval(()=>{const _0x237137=_0x4ec59f,_0x40c004=_0x457593-Date[_0x237137(0x1da)]();if(_0x40c004<=0x0)clearInterval(quizTimerInterval),_0x31cf4b['textContent']=_0x237137(0x637),showMessage(_0x237137(0x43c)),handleSubmitQuiz(null);else{const _0x266b51=Math[_0x237137(0x2fa)](_0x40c004/0x3e8/0x3c%0x3c)[_0x237137(0x375)]()[_0x237137(0x218)](0x2,'0'),_0x2983cb=Math[_0x237137(0x2fa)](_0x40c004/0x3e8%0x3c)[_0x237137(0x375)]()[_0x237137(0x218)](0x2,'0');_0x31cf4b[_0x237137(0x18d)]=_0x266b51+':'+_0x2983cb;}},0x3e8);}function renderPerQuestionView(){const _0x320f04=_0x585543;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x4aa9af=currentDisplayedQuiz[_0x320f04(0x480)][currentQuestionIndex],_0x33da73=_0x4aa9af[_0x320f04(0x5e2)]||currentDisplayedQuiz[_0x320f04(0x54f)];let _0x2b3c47='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20'+(currentQuestionIndex+0x1)+_0x320f04(0x200)+currentDisplayedQuiz[_0x320f04(0x480)][_0x320f04(0x31f)]+_0x320f04(0x223)+(currentMode===_0x320f04(0x4b3)?_0x320f04(0x346):'')+_0x320f04(0x3e6)+currentDisplayedQuiz[_0x320f04(0x153)]+_0x320f04(0x502)+(currentQuestionIndex===currentDisplayedQuiz[_0x320f04(0x480)][_0x320f04(0x31f)]-0x1?_0x320f04(0x51a):'คำถามถัดไป')+_0x320f04(0x466);studentQuizArea[_0x320f04(0x48c)]=_0x2b3c47;let _0x47f0bd='',_0x4950f2='';switch(_0x33da73){case _0x320f04(0x47c):_0x47f0bd=currentQuestionIndex+0x1+'.\x20'+_0x4aa9af[_0x320f04(0x50c)],_0x4950f2=_0x320f04(0x39a)+_0x4aa9af[_0x320f04(0x48e)][_0x320f04(0x20c)](_0x32b5d9=>_0x320f04(0x4d7)+_0x32b5d9+'\x22>'+_0x32b5d9+_0x320f04(0x559))[_0x320f04(0x4a1)]('')+_0x320f04(0x2f4);break;case'true_false':_0x47f0bd=currentQuestionIndex+0x1+'.\x20'+_0x4aa9af[_0x320f04(0x219)],_0x4950f2=_0x320f04(0x47f);break;case _0x320f04(0x2ec):case'fill_in_no_choices':_0x47f0bd=currentQuestionIndex+0x1+'.\x20'+_0x4aa9af['questionText'],_0x4950f2=_0x320f04(0x26a);break;case _0x320f04(0x4a9):case _0x320f04(0x3ff):default:_0x47f0bd=currentQuestionIndex+0x1+'.\x20'+_0x4aa9af[_0x320f04(0x219)],_0x4950f2=_0x4aa9af[_0x320f04(0x275)][_0x320f04(0x20c)]((_0x315ee8,_0x7f0e5c)=>_0x320f04(0x4aa)+_0x7f0e5c+'\x22\x20name=\x22question_single\x22\x20value=\x22'+_0x7f0e5c+_0x320f04(0x5aa)+_0x7f0e5c+'\x22>'+_0x315ee8+'</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('');break;}_0x4aa9af[_0x320f04(0x426)]&&(_0x47f0bd+='<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x4aa9af[_0x320f04(0x426)]+_0x320f04(0x291));document['getElementById'](_0x320f04(0x5a3))[_0x320f04(0x48c)]=_0x47f0bd,document[_0x320f04(0x3b1)](_0x320f04(0x46d))['innerHTML']=_0x4950f2;if(currentMode===_0x320f04(0x4b3)){const _0x4b2a76=document[_0x320f04(0x3b1)](_0x320f04(0x535));if(_0x4b2a76)_0x4b2a76['addEventListener']('click',cancelAdminTest);}document['getElementById'](_0x320f04(0x40e))[_0x320f04(0x336)]('click',()=>handleNextQuestionInTimedMode(![]));if(window[_0x320f04(0x3a9)])window[_0x320f04(0x3a9)][_0x320f04(0x1e7)]([studentQuizArea]);startPerQuestionTimer();}function startPerQuestionTimer(){const _0x25476b=_0x585543,_0x3acafe=currentDisplayedQuiz[_0x25476b(0x62f)]['timerDuration'],_0x129a4f=document[_0x25476b(0x3b1)](_0x25476b(0x5ad));if(!_0x129a4f)return;let _0x30a777=_0x3acafe;_0x129a4f['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>'+_0x30a777+_0x25476b(0x170);const _0xf6b5af=document[_0x25476b(0x3b1)](_0x25476b(0x147)),_0x12875f=document['getElementById']('per-q-countdown');perQuestionTimerInterval=setInterval(()=>{const _0x3c7500=_0x25476b;_0x30a777--;const _0x2c31f9=_0x30a777/_0x3acafe*0x64;_0xf6b5af['style'][_0x3c7500(0x4dd)]=_0x2c31f9+'%',_0x12875f[_0x3c7500(0x18d)]=_0x30a777,_0x30a777<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0x3c7500(0x2dc)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x39c8eb=![]){const _0x24f409=_0x585543;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x5b60d9=null;if(!_0x39c8eb){const _0x3468d3=currentDisplayedQuiz[_0x24f409(0x480)][currentQuestionIndex],_0x2bd59f=_0x3468d3[_0x24f409(0x5e2)]||currentDisplayedQuiz[_0x24f409(0x54f)];if(_0x2bd59f===_0x24f409(0x2ec)||_0x2bd59f===_0x24f409(0x1c2)){const _0x46445a=document[_0x24f409(0x3fc)]('#per-question-options\x20textarea');_0x5b60d9=_0x46445a?_0x46445a['value'][_0x24f409(0x1d4)]():'';}else{if(_0x2bd59f===_0x24f409(0x47c)){const _0x58dc9d=document[_0x24f409(0x3fc)](_0x24f409(0x13f));_0x5b60d9=_0x58dc9d?_0x58dc9d[_0x24f409(0x401)]:'';}else{const _0x5a1e53=document[_0x24f409(0x3fc)](_0x24f409(0x2f6));if(_0x5a1e53){const _0x157f44=_0x5a1e53[_0x24f409(0x401)];_0x5b60d9=!isNaN(parseInt(_0x157f44,0xa))&&_0x157f44[_0x24f409(0x1d4)]()!==''?parseInt(_0x157f44,0xa):_0x157f44;}}}}studentAnswersPerQuestion[_0x24f409(0x3c7)](_0x5b60d9),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz[_0x24f409(0x480)][_0x24f409(0x31f)]?finalizePerQuestionQuiz():renderPerQuestionView();}async function finalizePerQuestionQuiz(){const _0x1eece9=_0x585543,_0x4caf99=currentDisplayedQuiz[_0x1eece9(0x480)]['some'](_0x27a8fc=>_0x27a8fc[_0x1eece9(0x5e2)]==='short_answer');_0x4caf99?showMessage(_0x1eece9(0x399)):showMessage('สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...');const _0xb6d737=currentQuizData['id'],_0x3d55be=doc(db,_0x1eece9(0x23a)+appId+_0x1eece9(0x1ea)+_0xb6d737+'/submissions',currentStudentName),_0x2dc6f7=await getDoc(_0x3d55be),_0x5769b0=_0x2dc6f7[_0x1eece9(0x4b7)]()?_0x2dc6f7[_0x1eece9(0x5d5)]():{},_0x13ea63=_0x5769b0[_0x1eece9(0x4d1)]||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x13ea63);}function getResultsFilename(){const _0x35dda5=_0x585543,_0x53db9d=document[_0x35dda5(0x3b1)](_0x35dda5(0x46c))[_0x35dda5(0x18d)]['replace'](/[^a-z0-9]/gi,'_')[_0x35dda5(0x191)]();return'results_'+(_0x53db9d||'quiz');}function exportResultsAsImage(){const _0x5e1898=_0x585543,_0x1caf40=document['getElementById'](_0x5e1898(0x57d));showMessage('กำลังสร้างรูปภาพ...'),html2canvas(_0x1caf40)[_0x5e1898(0x3a3)](_0x2d1504=>{const _0x191806=_0x5e1898,_0x24edb3=document['createElement']('a');_0x24edb3['download']=getResultsFilename()+'.png',_0x24edb3['href']=_0x2d1504[_0x191806(0x2fd)](_0x191806(0x53c)),_0x24edb3[_0x191806(0x20a)](),messageModal[_0x191806(0x4c9)]['add'](_0x191806(0x4be));});}function exportResultsAsPDF(){const _0x10aeb1=_0x585543,{jsPDF:_0x2e2b09}=window['jspdf'],_0xf791a5=new _0x2e2b09();_0xf791a5[_0x10aeb1(0x295)](_0x10aeb1(0x29c),_0x10aeb1(0x51d)),_0xf791a5[_0x10aeb1(0x1f4)]({'html':_0x10aeb1(0x494)}),_0xf791a5[_0x10aeb1(0x51b)](getResultsFilename()+_0x10aeb1(0x21f));}function exportResultsAsWord(){const _0x40fd14=_0x585543,_0x516a94=_0x40fd14(0x500)+_0x40fd14(0x612)+_0x40fd14(0x518)+_0x40fd14(0x3da),_0x51bbe1=_0x40fd14(0x493),_0x4477a6=_0x516a94+document[_0x40fd14(0x3b1)](_0x40fd14(0x57d))[_0x40fd14(0x48c)]+_0x51bbe1,_0x1e1efe=_0x40fd14(0x1db)+encodeURIComponent(_0x4477a6),_0x3522a4=document[_0x40fd14(0x22b)]('a');document[_0x40fd14(0x48b)][_0x40fd14(0x207)](_0x3522a4),_0x3522a4[_0x40fd14(0x566)]=_0x1e1efe,_0x3522a4[_0x40fd14(0x21c)]=getResultsFilename()+_0x40fd14(0x4f5),_0x3522a4[_0x40fd14(0x20a)](),document[_0x40fd14(0x48b)][_0x40fd14(0x58a)](_0x3522a4);}function exportResultsAsExcel(){const _0x5909f9=_0x585543,_0x6f80d1=document[_0x5909f9(0x3b1)](_0x5909f9(0x26b));let _0x1fa624=[];for(let _0x5981c5=0x0;_0x5981c5<_0x6f80d1[_0x5909f9(0x4b4)]['length'];_0x5981c5++){let _0x3f58e4=[],_0x418736=_0x6f80d1['rows'][_0x5981c5]['querySelectorAll'](_0x5909f9(0x55e));for(let _0x3cfd69=0x0;_0x3cfd69<_0x418736[_0x5909f9(0x31f)];_0x3cfd69++){_0x3f58e4['push']('\x22'+_0x418736[_0x3cfd69][_0x5909f9(0x3a2)][_0x5909f9(0x41f)](/"/g,'\x22\x22')+'\x22');}_0x1fa624[_0x5909f9(0x3c7)](_0x3f58e4[_0x5909f9(0x4a1)](','));}const _0x80f810=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x1fa624[_0x5909f9(0x4a1)]('\x0a')],{'type':_0x5909f9(0x257)}),_0x1f602b=document[_0x5909f9(0x22b)]('a');_0x1f602b[_0x5909f9(0x566)]=URL[_0x5909f9(0x4f6)](_0x80f810),_0x1f602b['download']=getResultsFilename()+_0x5909f9(0x4d4),_0x1f602b[_0x5909f9(0x20a)]();}function exportTableAsImage(_0x20f570,_0x2330a9){const _0x505f08=_0x585543,_0x2f88b4=document['getElementById'](_0x20f570);if(!_0x2f88b4){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}showMessage(_0x505f08(0x625)),html2canvas(_0x2f88b4)['then'](_0x23084d=>{const _0x311794=_0x505f08,_0x41e450=document[_0x311794(0x22b)]('a');_0x41e450[_0x311794(0x21c)]=_0x2330a9+'.png',_0x41e450['href']=_0x23084d[_0x311794(0x2fd)](_0x311794(0x53c)),_0x41e450[_0x311794(0x20a)](),messageModal[_0x311794(0x4c9)][_0x311794(0x21b)](_0x311794(0x4be));});}function exportTableAsPDF(_0x16afb4,_0x4f23f1){const _0x4508ee=_0x585543,{jsPDF:_0x1a8888}=window[_0x4508ee(0x38b)],_0x505cd1=new _0x1a8888();_0x505cd1[_0x4508ee(0x295)]('helvetica',_0x4508ee(0x51d)),_0x505cd1['autoTable']({'html':'#'+_0x16afb4}),_0x505cd1[_0x4508ee(0x51b)](_0x4f23f1+_0x4508ee(0x21f));}function exportTableAsWord(_0x4e3e42,_0x1ce301){const _0x1f7c88=_0x585543,_0x1b5267=document[_0x1f7c88(0x3b1)](_0x4e3e42);if(!_0x1b5267){showMessage(_0x1f7c88(0x2a5));return;}const _0x569c85=_0x1f7c88(0x500)+_0x1f7c88(0x612)+_0x1f7c88(0x518)+_0x1f7c88(0x3da),_0x74e671=_0x1f7c88(0x493),_0x3d597e=_0x569c85+_0x1b5267[_0x1f7c88(0x48c)]+_0x74e671,_0x169f37=_0x1f7c88(0x1db)+encodeURIComponent(_0x3d597e),_0x35ee37=document[_0x1f7c88(0x22b)]('a');document[_0x1f7c88(0x48b)]['appendChild'](_0x35ee37),_0x35ee37[_0x1f7c88(0x566)]=_0x169f37,_0x35ee37[_0x1f7c88(0x21c)]=_0x1ce301+'.doc',_0x35ee37[_0x1f7c88(0x20a)](),document[_0x1f7c88(0x48b)][_0x1f7c88(0x58a)](_0x35ee37);}function exportTableAsExcel(_0x4d2482,_0x1ed2a2){const _0x5d14d3=_0x585543,_0x2b70ba=document[_0x5d14d3(0x3b1)](_0x4d2482);if(!_0x2b70ba){showMessage(_0x5d14d3(0x2a5));return;}let _0x1c4d62=[];for(let _0x3e9f80=0x0;_0x3e9f80<_0x2b70ba['rows'][_0x5d14d3(0x31f)];_0x3e9f80++){let _0xcfe28e=[],_0x2eb400=_0x2b70ba[_0x5d14d3(0x4b4)][_0x3e9f80]['querySelectorAll'](_0x5d14d3(0x55e));for(let _0x51f002=0x0;_0x51f002<_0x2eb400['length'];_0x51f002++){_0xcfe28e['push']('\x22'+_0x2eb400[_0x51f002][_0x5d14d3(0x3a2)][_0x5d14d3(0x41f)](/"/g,'\x22\x22')+'\x22');}_0x1c4d62[_0x5d14d3(0x3c7)](_0xcfe28e[_0x5d14d3(0x4a1)](','));}const _0x52d411=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x1c4d62[_0x5d14d3(0x4a1)]('\x0a')],{'type':_0x5d14d3(0x257)}),_0x2cd9c0=document[_0x5d14d3(0x22b)]('a');_0x2cd9c0['href']=URL[_0x5d14d3(0x4f6)](_0x52d411),_0x2cd9c0['download']=_0x1ed2a2+_0x5d14d3(0x4d4),_0x2cd9c0[_0x5d14d3(0x20a)]();}function renderAnalytics(_0x3b6c35,_0x4945ed){const _0x3c90c0=_0x585543,_0x52b183=currentProjectData['students'][_0x3c90c0(0x31f)],_0x5134a9=_0x4945ed[_0x3c90c0(0x31f)],_0x4aa845=_0x52b183-_0x5134a9,_0x442d0f=_0x52b183>0x0?_0x5134a9/_0x52b183*0x64:0x0,_0x3a0d3c=_0x4945ed[_0x3c90c0(0x20c)](_0x3e4247=>_0x3e4247[_0x3c90c0(0x237)]),_0x7ce971=_0x3a0d3c['length']>0x0?_0x3a0d3c[_0x3c90c0(0x198)]((_0x574ab2,_0x2fe7a3)=>_0x574ab2+_0x2fe7a3,0x0)/_0x3a0d3c[_0x3c90c0(0x31f)]:0x0,_0x407a52=_0x3b6c35['questions'][_0x3c90c0(0x31f)],_0x34e656=_0x407a52>0x0?_0x7ce971/_0x407a52*0x64:0x0,_0x5379fb=document[_0x3c90c0(0x3b1)]('analytics-summary-cards');_0x5379fb[_0x3c90c0(0x48c)]=_0x3c90c0(0x26c)+_0x442d0f[_0x3c90c0(0x290)](0x0)+_0x3c90c0(0x30b)+_0x5134a9+'/'+_0x52b183+_0x3c90c0(0x2d1)+_0x7ce971[_0x3c90c0(0x290)](0x2)+_0x3c90c0(0x5a2)+_0x34e656[_0x3c90c0(0x290)](0x0)+'%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>'+(_0x3a0d3c[_0x3c90c0(0x31f)]>0x0?Math[_0x3c90c0(0x1dc)](..._0x3a0d3c):_0x3c90c0(0x396))+_0x3c90c0(0x2ac)+(_0x3a0d3c[_0x3c90c0(0x31f)]>0x0?Math[_0x3c90c0(0x585)](..._0x3a0d3c):_0x3c90c0(0x396))+_0x3c90c0(0x543);const _0x35fd1b=currentProjectData[_0x3c90c0(0x58d)]||[];renderSubmissionChart(_0x5134a9,_0x4aa845,_0x4945ed,_0x35fd1b),renderScoreDistributionChart(_0x4945ed,_0x407a52),renderQuestionAnalytics(_0x3b6c35,_0x4945ed,_0x35fd1b);}function renderSubmissionChart(_0x2c997b,_0x440c99,_0x57b43d,_0x58e575){const _0x4bb8a0=_0x585543,_0x375880=document[_0x4bb8a0(0x3b1)](_0x4bb8a0(0x242))[_0x4bb8a0(0x38a)]('2d'),_0x4f2f2e=_0x57b43d[_0x4bb8a0(0x20c)](_0x520a87=>_0x520a87[_0x4bb8a0(0x3b6)]),_0x10068f=_0x58e575[_0x4bb8a0(0x224)](_0x266921=>!_0x4f2f2e[_0x4bb8a0(0x17e)](_0x266921));chartInstances[_0x4bb8a0(0x2a1)]&&chartInstances[_0x4bb8a0(0x2a1)]['destroy'](),chartInstances[_0x4bb8a0(0x2a1)]=new Chart(_0x375880,{'type':_0x4bb8a0(0x56e),'data':{'labels':[_0x4bb8a0(0x29d),'ยังไม่ส่ง'],'datasets':[{'data':[_0x2c997b,_0x440c99],'backgroundColor':['#10B981',_0x4bb8a0(0x1e5)],'borderColor':['#ffffff',_0x4bb8a0(0x2da)],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':_0x4bb8a0(0x1c9)},'tooltip':{'callbacks':{'label':function(_0x9309df){const _0x4b7e2d=_0x4bb8a0;let _0x8a72b5=_0x9309df[_0x4b7e2d(0x521)]||'';return _0x8a72b5&&(_0x8a72b5+=':\x20'),_0x8a72b5+=_0x9309df['raw'],_0x8a72b5;},'afterLabel':function(_0x486846){const _0x48c053=_0x4bb8a0;let _0x387350;return _0x486846[_0x48c053(0x467)]===0x0?_0x387350=_0x4f2f2e:_0x387350=_0x10068f,_0x387350['length']>0x0?_0x387350[_0x48c053(0x4a1)]('\x0a'):_0x48c053(0x4e4);}}}}}});}function renderScoreDistributionChart(_0x4bcfb0,_0xd3fb32){const _0x543b55=_0x585543,_0x208940=document[_0x543b55(0x3b1)](_0x543b55(0x3d7))[_0x543b55(0x38a)]('2d'),_0x4a0de1={};for(let _0x2b349c=0x0;_0x2b349c<=_0xd3fb32;_0x2b349c++){_0x4a0de1[_0x2b349c]=0x0;}_0x4bcfb0[_0x543b55(0x3c3)](_0x2d2328=>{const _0xbcd60a=_0x543b55;_0x4a0de1[_0x2d2328['latestScore']]!==undefined&&_0x4a0de1[_0x2d2328[_0xbcd60a(0x237)]]++;}),chartInstances[_0x543b55(0x2d4)]&&chartInstances['score'][_0x543b55(0x1b7)](),chartInstances['score']=new Chart(_0x208940,{'type':'bar','data':{'labels':Object[_0x543b55(0x59e)](_0x4a0de1),'datasets':[{'label':_0x543b55(0x180),'data':Object[_0x543b55(0x2b2)](_0x4a0de1),'backgroundColor':_0x543b55(0x4d8),'borderColor':_0x543b55(0x411),'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':'คะแนน'}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x4789d4){const _0x1211c7=_0x543b55,_0x3fe928=_0x4789d4[_0x1211c7(0x521)],_0x4df124=_0x4bcfb0['filter'](_0x34a84d=>_0x34a84d['latestScore']==_0x3fe928)[_0x1211c7(0x20c)](_0x1edd07=>_0x1edd07['studentName']);return _0x4df124[_0x1211c7(0x31f)]>0x0?_0x4df124[_0x1211c7(0x4a1)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x57dd51,_0x52e559,_0x386c46){const _0x17b725=_0x585543,_0x3803be=document[_0x17b725(0x3b1)](_0x17b725(0x222));if(_0x386c46[_0x17b725(0x31f)]===0x0){_0x3803be[_0x17b725(0x48c)]=_0x17b725(0x60d);return;}let _0x4aa67f='';const _0x14876a=_0x52e559[_0x17b725(0x20c)](_0xc6dd5e=>_0xc6dd5e[_0x17b725(0x3b6)]);_0x57dd51[_0x17b725(0x480)]['forEach']((_0x34351c,_0x518d4c)=>{const _0x193b53=_0x17b725;let _0x4fc2d6=0x0;const _0x18b80b=[],_0x14554f=[],_0x344d7b=_0x34351c[_0x193b53(0x50c)]||_0x34351c['questionText']||_0x34351c['instructions'];_0x52e559['forEach'](_0x44d6be=>{const _0x3f283e=_0x193b53,_0x28c1e1=_0x44d6be[_0x3f283e(0x4d1)][_0x44d6be[_0x3f283e(0x4d1)][_0x3f283e(0x31f)]-0x1];if(_0x28c1e1&&_0x28c1e1['answers']){const _0x12e330=_0x28c1e1[_0x3f283e(0x2a7)][_0x3f283e(0x286)](_0x1c74f3=>_0x1c74f3[_0x3f283e(0x3de)]===_0x344d7b)??_0x28c1e1[_0x3f283e(0x2a7)][_0x518d4c]??null;_0x12e330&&(_0x12e330['isCorrect']?(_0x4fc2d6++,_0x18b80b[_0x3f283e(0x3c7)](_0x44d6be['studentName'])):_0x14554f[_0x3f283e(0x3c7)](_0x44d6be['studentName']));}});const _0x4f3411=_0x386c46[_0x193b53(0x224)](_0x298a99=>!_0x14876a['includes'](_0x298a99)),_0x8c2f80=_0x52e559[_0x193b53(0x31f)]>0x0?_0x4fc2d6/_0x52e559[_0x193b53(0x31f)]*0x64:0x0;_0x4aa67f+=_0x193b53(0x1ae)+(_0x518d4c+0x1)+':\x20'+_0x344d7b+_0x193b53(0x195)+(_0x8c2f80>=0x46?_0x193b53(0x245):_0x8c2f80>=0x28?_0x193b53(0x2fb):'bg-red-200\x20text-red-800')+_0x193b53(0x383)+_0x8c2f80['toFixed'](0x0)+_0x193b53(0x4eb)+_0x344d7b+_0x193b53(0x4e1)+_0x4fc2d6+'\x20จาก\x20'+_0x52e559[_0x193b53(0x31f)]+_0x193b53(0x2cc)+_0x18b80b[_0x193b53(0x31f)]+_0x193b53(0x30c)+(_0x18b80b[_0x193b53(0x31f)]>0x0?_0x18b80b['join'](',\x20'):'ไม่มี')+_0x193b53(0x53e)+_0x14554f[_0x193b53(0x31f)]+_0x193b53(0x30c)+(_0x14554f[_0x193b53(0x31f)]>0x0?_0x14554f['join'](',\x20'):_0x193b53(0x4e4))+_0x193b53(0x61b)+_0x4f3411[_0x193b53(0x31f)]+_0x193b53(0x30c)+(_0x4f3411[_0x193b53(0x31f)]>0x0?_0x4f3411['join'](',\x20'):'ไม่มี')+_0x193b53(0x30e);}),_0x3803be[_0x17b725(0x48c)]=_0x4aa67f;try{window['MathJax']&&MathJax[_0x17b725(0x1e7)]&&MathJax['typesetPromise']([_0x3803be]);}catch(_0x2631a9){console[_0x17b725(0x61f)](_0x17b725(0x34c),_0x2631a9);}}async function handleAnalyzeClass(){const _0x5b0a96=_0x585543;if(!currentQuizData||!currentQuizData['id']){showMessage(_0x5b0a96(0x55c));return;}const _0x3188b6=collection(db,'artifacts/'+appId+_0x5b0a96(0x1ea)+currentQuizData['id']+'/submissions'),_0x45b03b=await getDocs(_0x3188b6),_0x5a0cbd=_0x45b03b[_0x5b0a96(0x128)][_0x5b0a96(0x20c)](_0x4f9583=>_0x4f9583[_0x5b0a96(0x5d5)]());if(_0x5a0cbd[_0x5b0a96(0x31f)]<0x2){showMessage('ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้');return;}const _0x104d8e=document[_0x5b0a96(0x3b1)](_0x5b0a96(0x3cd));_0x104d8e[_0x5b0a96(0x48c)]=_0x5b0a96(0x448),document[_0x5b0a96(0x3b1)](_0x5b0a96(0x385))['disabled']=!![];const _0x15f68e=_0x5a0cbd[_0x5b0a96(0x20c)]((_0x2d52b7,_0xcdc3af)=>{const _0x405ad6=_0x5b0a96,_0x2cea6c=_0x2d52b7[_0x405ad6(0x4d1)][_0x2d52b7[_0x405ad6(0x4d1)][_0x405ad6(0x31f)]-0x1];if(!_0x2cea6c)return'';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20'+(_0xcdc3af+0x1)+'\x20('+_0x2d52b7['studentName']+'):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20'+_0x2cea6c[_0x405ad6(0x2d4)]+'/'+_0x2d52b7[_0x405ad6(0x47a)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20'+JSON['stringify'](_0x2cea6c[_0x405ad6(0x2a7)])+_0x405ad6(0x163);})[_0x5b0a96(0x4a1)](_0x5b0a96(0x48a)),_0x2cffd4=_0x5b0a96(0x4b2)+currentQuizData[_0x5b0a96(0x153)]+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20'+JSON['stringify'](currentQuizData[_0x5b0a96(0x480)])+_0x5b0a96(0x330)+_0x15f68e+_0x5b0a96(0x19b),_0x38dcc6={'type':_0x5b0a96(0x26e),'properties':{'classStrengths':{'type':'ARRAY','items':{'type':'STRING'}},'classWeaknesses':{'type':_0x5b0a96(0x3a0),'items':{'type':'STRING'}},'teacherSuggestions':{'type':_0x5b0a96(0x3a0),'items':{'type':_0x5b0a96(0x1c4)}}},'required':[_0x5b0a96(0x520),_0x5b0a96(0x3cf),'teacherSuggestions']};try{const _0x4cc5e5=await callAnalysisApi(_0x2cffd4,_0x38dcc6);displayClassAnalysis(_0x4cc5e5);}catch(_0x1fc1c5){console[_0x5b0a96(0x61f)](_0x5b0a96(0x5d0),_0x1fc1c5),_0x104d8e['innerHTML']=_0x5b0a96(0x52c)+_0x1fc1c5['message']+_0x5b0a96(0x5e7);}finally{document[_0x5b0a96(0x3b1)](_0x5b0a96(0x385))[_0x5b0a96(0x3f9)]=![];}}function displayClassAnalysis(_0x59a562){const _0x4cc669=_0x585543,_0x90c27d=document[_0x4cc669(0x3b1)](_0x4cc669(0x3cd));if(!_0x59a562){_0x90c27d[_0x4cc669(0x48c)]=_0x4cc669(0x554);return;}_0x90c27d[_0x4cc669(0x48c)]=_0x4cc669(0x4ac)+_0x59a562[_0x4cc669(0x520)][_0x4cc669(0x20c)](_0x133f65=>'<li>'+_0x133f65+'</li>')[_0x4cc669(0x4a1)]('')+_0x4cc669(0x2d6)+_0x59a562[_0x4cc669(0x3cf)][_0x4cc669(0x20c)](_0x5e8518=>_0x4cc669(0x497)+_0x5e8518+_0x4cc669(0x4b1))['join']('')+_0x4cc669(0x221)+_0x59a562[_0x4cc669(0x41c)][_0x4cc669(0x20c)](_0x592d8d=>_0x4cc669(0x497)+_0x592d8d+_0x4cc669(0x4b1))[_0x4cc669(0x4a1)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';}function formatAndPrintWorksheet(_0x37e4b5,_0x1211c6){const _0xf9bd52=_0x585543,_0x1be415=_0xf9bd52(0x37b)+_0x37e4b5['topic']+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20'+_0x37e4b5[_0xf9bd52(0x153)]+_0xf9bd52(0x20d)+_0x37e4b5[_0xf9bd52(0x480)]['map']((_0x5ab2ea,_0x2b8ec3)=>_0xf9bd52(0x516)+(_0x2b8ec3+0x1)+'.\x20'+_0x5ab2ea['questionText']+_0xf9bd52(0x17f)+(_0x5ab2ea[_0xf9bd52(0x426)]?_0xf9bd52(0x649)+_0x5ab2ea[_0xf9bd52(0x426)]+'</div>':'')+_0xf9bd52(0x3fe))[_0xf9bd52(0x4a1)]('')+_0xf9bd52(0x4b5);_0x1211c6[_0xf9bd52(0x418)][_0xf9bd52(0x573)](_0x1be415),_0x1211c6[_0xf9bd52(0x418)][_0xf9bd52(0x3ea)](),_0x1211c6[_0xf9bd52(0x136)]=function(){_0x1211c6['print']();};}async function generateWorksheet(){const _0x1f8d8a=_0x585543,_0x36f3b5=document[_0x1f8d8a(0x3b1)](_0x1f8d8a(0x302))[_0x1f8d8a(0x401)][_0x1f8d8a(0x1d4)]();if(!_0x36f3b5){showMessage('กรุณาป้อนหัวข้อสำหรับใบงาน');return;}const _0x586235=document[_0x1f8d8a(0x3b1)](_0x1f8d8a(0x49d))[_0x1f8d8a(0x508)],_0x1f88b5=_0x586235?'':_0x1f8d8a(0x4da),_0x281de6=window[_0x1f8d8a(0x28f)]('',_0x1f8d8a(0x188));_0x281de6[_0x1f8d8a(0x418)]['write'](_0x1f8d8a(0x5dc));const _0x5acc46=parseInt(document['getElementById'](_0x1f8d8a(0x1e9))[_0x1f8d8a(0x401)]),_0x1ceb59=document['getElementById'](_0x1f8d8a(0x13b))[_0x1f8d8a(0x508)],_0x5a64d4=_0x1ceb59?_0x1f8d8a(0x42f):'',_0x34516b=_0x1f8d8a(0x4cc)+_0x1f88b5+_0x1f8d8a(0x38c)+_0x5acc46+_0x1f8d8a(0x1d5)+_0x36f3b5+_0x1f8d8a(0x28d)+_0x5a64d4+_0x1f8d8a(0x5ab),_0xc43fd8={'type':_0x1f8d8a(0x26e),'properties':{'topic':{'type':_0x1f8d8a(0x1c4)},'questions':{'type':'ARRAY','items':{'type':_0x1f8d8a(0x26e),'properties':{'questionText':{'type':_0x1f8d8a(0x1c4)},'imageCode':{'type':'STRING'}},'required':[_0x1f8d8a(0x219)]}}},'required':[_0x1f8d8a(0x153),_0x1f8d8a(0x480)]};document[_0x1f8d8a(0x3b1)](_0x1f8d8a(0x3dc))[_0x1f8d8a(0x18d)]='',document[_0x1f8d8a(0x3b1)](_0x1f8d8a(0x506))[_0x1f8d8a(0x4c9)][_0x1f8d8a(0x5ce)](_0x1f8d8a(0x4be)),document[_0x1f8d8a(0x3b1)]('quiz-generation-area')[_0x1f8d8a(0x4c9)]['remove'](_0x1f8d8a(0x4be)),generateWorksheetBtn['disabled']=!![];try{const _0x19f2ff=await callAnalysisApi(_0x34516b,_0xc43fd8);formatAndPrintWorksheet(_0x19f2ff,_0x281de6);}catch(_0x5605ae){console['error']('Error\x20generating\x20worksheet:',_0x5605ae);if(_0x281de6)_0x281de6['close']();showMessage(_0x1f8d8a(0x387));}finally{document[_0x1f8d8a(0x3b1)]('loader')[_0x1f8d8a(0x4c9)][_0x1f8d8a(0x21b)](_0x1f8d8a(0x4be)),document[_0x1f8d8a(0x3b1)](_0x1f8d8a(0x477))[_0x1f8d8a(0x4c9)][_0x1f8d8a(0x21b)](_0x1f8d8a(0x4be)),generateWorksheetBtn[_0x1f8d8a(0x3f9)]=![];}}async function callAnalysisApi(_0x1ce572,_0x403ff2){const _0x3ecbaf=_0x585543,_0x242f06={'contents':[{'role':_0x3ecbaf(0x27c),'parts':[{'text':_0x1ce572}]}],'generationConfig':{'responseMimeType':_0x3ecbaf(0x3ec),'responseSchema':_0x403ff2}},_0x169f61=_0x3ecbaf(0x5f9),_0x2b8b9b=_0x3ecbaf(0x175)+_0x169f61,_0x52c320=await fetch(_0x2b8b9b,{'method':_0x3ecbaf(0x229),'headers':{'Content-Type':'application/json'},'body':JSON[_0x3ecbaf(0x4d3)](_0x242f06)});if(!_0x52c320['ok'])throw new Error(_0x3ecbaf(0x402)+_0x52c320['status']);const _0x2a1bec=await _0x52c320[_0x3ecbaf(0x182)]();if(_0x2a1bec[_0x3ecbaf(0x34a)]?.[0x0]?.[_0x3ecbaf(0x32f)]?.['parts']?.[0x0])return JSON[_0x3ecbaf(0x557)](_0x2a1bec[_0x3ecbaf(0x34a)][0x0]['content'][_0x3ecbaf(0x209)][0x0][_0x3ecbaf(0x333)]);else{let _0x585be0=_0x3ecbaf(0x2b5);if(_0x2a1bec[_0x3ecbaf(0x36f)]?.['blockReason'])_0x585be0='AI\x20request\x20was\x20blocked.\x20Reason:\x20'+_0x2a1bec['promptFeedback'][_0x3ecbaf(0x63a)]+'.';else _0x2a1bec[_0x3ecbaf(0x34a)]?.[0x0]?.['finishReason']&&_0x2a1bec[_0x3ecbaf(0x34a)][0x0][_0x3ecbaf(0x309)]!==_0x3ecbaf(0x558)&&(_0x585be0='AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20'+_0x2a1bec[_0x3ecbaf(0x34a)][0x0][_0x3ecbaf(0x309)]+'.');console[_0x3ecbaf(0x61f)](_0x585be0,JSON[_0x3ecbaf(0x4d3)](_0x2a1bec));throw new Error(_0x585be0);}}initialize();
