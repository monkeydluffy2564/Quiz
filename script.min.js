const _0x425095=_0x5945;(function(_0x82af8e,_0xedb1e7){const _0x3e11ad=_0x5945,_0x171dd0=_0x82af8e();while(!![]){try{const _0x48b9e3=-parseInt(_0x3e11ad(0x2a3))/0x1*(parseInt(_0x3e11ad(0x402))/0x2)+parseInt(_0x3e11ad(0x485))/0x3*(-parseInt(_0x3e11ad(0x497))/0x4)+-parseInt(_0x3e11ad(0x568))/0x5+parseInt(_0x3e11ad(0x3cc))/0x6+parseInt(_0x3e11ad(0x407))/0x7*(parseInt(_0x3e11ad(0x396))/0x8)+parseInt(_0x3e11ad(0x542))/0x9+parseInt(_0x3e11ad(0x159))/0xa;if(_0x48b9e3===_0xedb1e7)break;else _0x171dd0['push'](_0x171dd0['shift']());}catch(_0x1588cc){_0x171dd0['push'](_0x171dd0['shift']());}}}(_0x4fdf,0xe9d9e));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,writeBatch,runTransaction,serverTimestamp,increment}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';let db,auth,userId,currentMode=_0x425095(0x328),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy=_0x425095(0x20e),quizLeaderboardSortOrder=_0x425095(0x1e2),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1;const BADGES={'PERFECT_SCORE':{'id':_0x425095(0x31f),'name':_0x425095(0x31e),'description':_0x425095(0x4ff),'icon':_0x425095(0x3ad)},'QUICK_THINKER':{'id':'quick_thinker','name':_0x425095(0x57b),'description':'ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','icon':_0x425095(0x4c9)},'ON_FIRE':{'id':_0x425095(0x21a),'name':_0x425095(0x1c2),'description':'ตอบถูก\x203\x20ข้อติดต่อกัน','icon':_0x425095(0x3f4)},'FIRST_TRY_ACE':{'id':_0x425095(0x597),'name':_0x425095(0x289),'description':_0x425095(0x4f6),'icon':_0x425095(0x1b4)},'COMEBACK_KING':{'id':_0x425095(0x4bf),'name':_0x425095(0x4ad),'description':_0x425095(0x521),'icon':_0x425095(0x28f)},'SPECIALIST':{'id':'specialist','name':_0x425095(0x25e),'description':_0x425095(0x44b),'icon':'fa-user-astronaut\x20text-blue-700'},'PERSEVERANCE':{'id':_0x425095(0x345),'name':_0x425095(0x432),'description':_0x425095(0x37b),'icon':'fa-dumbbell\x20text-gray-700'}},firebaseConfig={'apiKey':_0x425095(0x1b0),'authDomain':_0x425095(0x417),'projectId':'ai-quiz-app-aefee','storageBucket':_0x425095(0x530),'messagingSenderId':_0x425095(0x261),'appId':'1:274192258111:web:4120c9118229b5644dd48a','measurementId':_0x425095(0x39b)},appId=typeof __app_id!==_0x425095(0x5c7)?__app_id:'ai-quiz-generator-v3',adminView=document['getElementById'](_0x425095(0x57e)),studentView=document[_0x425095(0x525)](_0x425095(0x4c5)),projectDashboardView=document[_0x425095(0x525)]('project-dashboard-view'),projectDetailView=document[_0x425095(0x525)](_0x425095(0x420)),quizResultsView=document['getElementById'](_0x425095(0x585)),projectList=document[_0x425095(0x525)](_0x425095(0x202)),noProjectsMsg=document[_0x425095(0x525)](_0x425095(0x583)),projectTitle=document[_0x425095(0x525)](_0x425095(0x228)),projectIdDisplay=document[_0x425095(0x525)](_0x425095(0x33f)),studentList=document[_0x425095(0x525)](_0x425095(0x2b8)),messageModal=document[_0x425095(0x525)]('message-modal'),modalMessage=document[_0x425095(0x525)](_0x425095(0x3e4)),createProjectModal=document[_0x425095(0x525)](_0x425095(0x499)),adminPasswordModal=document[_0x425095(0x525)](_0x425095(0x401)),confirmationModal=document[_0x425095(0x525)](_0x425095(0x471)),userIdDisplay=document['getElementById']('user-id-display'),topicTab=document[_0x425095(0x525)](_0x425095(0x5b9)),textTab=document['getElementById'](_0x425095(0x1d0)),topicInputArea=document[_0x425095(0x525)]('topic-input-area'),textInputArea=document[_0x425095(0x525)](_0x425095(0x2c2)),manageTab=document[_0x425095(0x525)](_0x425095(0x196)),resultsTab=document[_0x425095(0x525)]('results-tab'),leaderboardTab=document[_0x425095(0x525)](_0x425095(0x1a7)),manageTabContent=document[_0x425095(0x525)](_0x425095(0x215)),resultsTabContent=document['getElementById'](_0x425095(0x33a)),leaderboardTabContent=document[_0x425095(0x525)](_0x425095(0x2f0)),projectQuizzesList=document[_0x425095(0x525)](_0x425095(0x21c)),fileTab=document[_0x425095(0x525)](_0x425095(0x5ad)),fileInputArea=document['getElementById'](_0x425095(0x3c8)),fileUploadInput=document[_0x425095(0x525)](_0x425095(0x42a)),worksheetTab=document['getElementById'](_0x425095(0x550)),worksheetInputArea=document['getElementById'](_0x425095(0x24a)),generateWorksheetBtn=document['getElementById'](_0x425095(0x589)),studentInitialView=document[_0x425095(0x525)](_0x425095(0x1bc)),studentNameSelectionView=document[_0x425095(0x525)](_0x425095(0x587)),studentQuizArea=document[_0x425095(0x525)]('student-quiz-area'),studentResultArea=document['getElementById'](_0x425095(0x56e)),studentReadingArea=document[_0x425095(0x525)](_0x425095(0x39a)),loadQuizBtn=document[_0x425095(0x525)](_0x425095(0x2c8)),startQuizBtn=document[_0x425095(0x525)](_0x425095(0x1a1)),studentJoinGameView=document[_0x425095(0x525)](_0x425095(0x1b2)),presentationModal=document[_0x425095(0x525)](_0x425095(0x3b5)),renameQuizModal=document[_0x425095(0x525)](_0x425095(0x303)),moveQuizModal=document['getElementById']('move-quiz-modal'),quizSettingsModal=document['getElementById'](_0x425095(0x273)),quizStatusModal=document[_0x425095(0x525)]('quiz-status-modal'),liveGameView=document[_0x425095(0x525)](_0x425095(0x26c));async function initialize(){const _0x23a91a=_0x425095;try{const _0xaca89e=initializeApp(firebaseConfig);db=getFirestore(_0xaca89e),auth=getAuth(_0xaca89e),setupAuthListener(),setupEventListeners(),showView('student');}catch(_0x251d49){console[_0x23a91a(0x310)]('Firebase\x20initialization\x20failed:',_0x251d49),showMessage(_0x23a91a(0x2a4));}}function compareNumericalAnswers(_0x2e34e4,_0x239b1c){const _0x5175bf=_0x425095,_0x5ef8a1=String(_0x2e34e4)[_0x5175bf(0x1d4)](',','.')[_0x5175bf(0x1d4)](/[^\d.-]/g,'')[_0x5175bf(0x3ff)](),_0x1ab6f2=String(_0x239b1c)[_0x5175bf(0x1d4)](',','.')[_0x5175bf(0x1d4)](/[^\d.-]/g,'')['trim']();if(_0x5ef8a1===''||_0x1ab6f2==='')return![];const _0x29d9ed=parseFloat(_0x5ef8a1),_0x44e47b=parseFloat(_0x1ab6f2);if(isNaN(_0x29d9ed)||isNaN(_0x44e47b))return![];return Math['abs'](_0x29d9ed-_0x44e47b)<0.001;}async function gradeShortAnswer(_0x4f2547,_0x3889f9){const _0x24af6c=_0x425095,_0x4e948e=_0x3889f9[_0x24af6c(0x55a)];if(String(_0x4f2547)[_0x24af6c(0x3ff)]()[_0x24af6c(0x56a)]()===String(_0x4e948e)['trim']()[_0x24af6c(0x56a)]())return!![];if(compareNumericalAnswers(_0x4f2547,_0x4e948e))return!![];return console[_0x24af6c(0x445)]('Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.'),await gradeShortAnswerWithAI(_0x4f2547,_0x4e948e);}async function revealAnswerForAdmin(_0x358ce1,_0x34c4ea){const _0x26ac59=_0x425095;if(document['getElementById'](_0x26ac59(0x53d)))return;const _0x281618=doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x281618,{'questionStatus':_0x26ac59(0x5a9)});const _0x44096d=liveGameView['querySelector']('[data-is-correct=\x22true\x22]');_0x44096d&&(_0x44096d[_0x26ac59(0x370)][_0x26ac59(0x355)]('bg-white/30'),_0x44096d[_0x26ac59(0x370)][_0x26ac59(0x213)](_0x26ac59(0x171),_0x26ac59(0x27a),_0x26ac59(0x5b0),'border-4',_0x26ac59(0x4de)),_0x44096d[_0x26ac59(0x1c1)]='<i\x20class=\x22fas\x20fa-check\x20mr-3\x22></i>'+_0x44096d[_0x26ac59(0x1c1)]);const _0x252c35=document[_0x26ac59(0x525)](_0x26ac59(0x514));_0x252c35&&(_0x252c35[_0x26ac59(0x1c1)]=_0x26ac59(0x204)+(_0x358ce1+0x1===_0x34c4ea?_0x26ac59(0x18e):_0x26ac59(0x368))+_0x26ac59(0x278),document[_0x26ac59(0x525)](_0x26ac59(0x53d))[_0x26ac59(0x225)](_0x26ac59(0x441),async()=>{const _0x1fc492=_0x26ac59,_0x3b85e0=doc(db,_0x1fc492(0x4f4)+appId+'/public/data/liveGames',currentLiveGameId),_0x237fbf=await getDoc(_0x3b85e0);if(!_0x237fbf[_0x1fc492(0x192)]())return;const _0x573ed7=_0x237fbf[_0x1fc492(0x59a)](),_0x281fd7={};if(_0x573ed7['players'])for(const _0xe3154 in _0x573ed7[_0x1fc492(0x333)]){_0x281fd7[_0x1fc492(0x4e8)+_0xe3154+'.answeredCurrentQuestion']=![];}const _0x46cdd7=_0x358ce1+0x1;_0x46cdd7<_0x34c4ea?(_0x281fd7['currentQuestionIndex']=_0x46cdd7,_0x281fd7['questionDisplayedAt']=serverTimestamp(),_0x281fd7[_0x1fc492(0x508)]=_0x1fc492(0x5d1),await updateDoc(_0x3b85e0,_0x281fd7)):await updateDoc(_0x3b85e0,{'status':_0x1fc492(0x503)});}));}function setupAuthListener(){onAuthStateChanged(auth,async _0x568e16=>{const _0x54ca58=_0x5945;if(_0x568e16){userId=_0x568e16[_0x54ca58(0x580)],userIdDisplay[_0x54ca58(0x4b1)]=userId;if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes();}else await authenticateUser();});}function showPodiumView(_0x4280fd){const _0x58c628=_0x425095,_0x6aea11=Object['entries'](_0x4280fd)['map'](([_0x4ff037,_0x11dd70])=>({'name':_0x4ff037,'score':_0x11dd70['score']||0x0,'badges':_0x11dd70['badges']||[]}));_0x6aea11[_0x58c628(0x4a2)]((_0x2c6e1d,_0x58bb30)=>{const _0x3cd2af=_0x58c628,_0x469def=_0x58bb30[_0x3cd2af(0x55e)]-_0x2c6e1d[_0x3cd2af(0x55e)];if(_0x469def!==0x0)return _0x469def;return(_0x58bb30['badges'][_0x3cd2af(0x5c8)]||0x0)-(_0x2c6e1d[_0x3cd2af(0x331)][_0x3cd2af(0x5c8)]||0x0);});const _0x36ac6a=_0x5d1172=>{const _0x58293e=_0x58c628;if(!_0x5d1172||_0x5d1172[_0x58293e(0x5c8)]===0x0)return'';const _0x5980d9={'quick_thinker':'⚡️','on_fire':'🔥'};return _0x58293e(0x221)+_0x5d1172['map'](_0x3ba936=>_0x5980d9[_0x3ba936]||'')[_0x58293e(0x19f)]('')+_0x58293e(0x552);},_0xd3460f=_0x6aea11[_0x58c628(0x54a)](0x3),_0x50f79e=_0xd3460f[_0x58c628(0x5c8)]>0x0?_0x58c628(0x323)+_0xd3460f['map']((_0x40422b,_0x16c5ec)=>_0x58c628(0x33e)+(_0x16c5ec+0x4)+_0x58c628(0x300)+_0x40422b[_0x58c628(0x4f9)]+_0x58c628(0x332)+_0x40422b[_0x58c628(0x55e)]+_0x58c628(0x21b))['join']('')+_0x58c628(0x19a):'',_0x315b46=_0x58c628(0x2ac)+(_0x6aea11[0x1]?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>'+_0x6aea11[0x1][_0x58c628(0x4f9)]+_0x58c628(0x2cf)+_0x36ac6a(_0x6aea11[0x1][_0x58c628(0x331)])+_0x58c628(0x442)+_0x6aea11[0x1][_0x58c628(0x55e)]+_0x58c628(0x4b3):_0x58c628(0x539))+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x6aea11[0x0]?_0x58c628(0x54c)+_0x6aea11[0x0][_0x58c628(0x4f9)]+_0x58c628(0x2cf)+_0x36ac6a(_0x6aea11[0x0][_0x58c628(0x331)])+_0x58c628(0x2c7)+_0x6aea11[0x0][_0x58c628(0x55e)]+_0x58c628(0x384):_0x58c628(0x539))+_0x58c628(0x4d4)+(_0x6aea11[0x2]?_0x58c628(0x51e)+_0x6aea11[0x2][_0x58c628(0x4f9)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x36ac6a(_0x6aea11[0x2][_0x58c628(0x331)])+_0x58c628(0x442)+_0x6aea11[0x2]['score']+_0x58c628(0x571):_0x58c628(0x539))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x50f79e+_0x58c628(0x2ec)+(currentMode===_0x58c628(0x44a)?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+_0x58c628(0x320);liveGameView['innerHTML']=_0x315b46,currentMode===_0x58c628(0x44a)&&document['getElementById'](_0x58c628(0x380))[_0x58c628(0x225)]('click',async()=>{const _0x3f1f84=_0x58c628,_0x22721b=doc(db,_0x3f1f84(0x4f4)+appId+'/public/data/liveGames',currentLiveGameId);await deleteDoc(_0x22721b),showView(_0x3f1f84(0x27b));});}async function handleStartLiveRace(_0x29da27){const _0x2dc2a9=_0x425095;let _0x4b02d3=allQuizzes[_0x2dc2a9(0x49b)](_0x37b786=>_0x37b786['id']===_0x29da27);if(!_0x4b02d3){const _0xe46592=doc(db,_0x2dc2a9(0x4f4)+appId+_0x2dc2a9(0x5cb),_0x29da27),_0x3a12ef=await getDoc(_0xe46592);if(!_0x3a12ef[_0x2dc2a9(0x192)]()){showMessage(_0x2dc2a9(0x4d5));return;}_0x4b02d3={'id':_0x3a12ef['id'],..._0x3a12ef['data']()};}currentQuizData=getShuffledQuiz(_0x4b02d3);const _0x25b4ed=_0x4b02d3[_0x2dc2a9(0x340)]||currentProjectId||null,_0x1a5d3e=Math[_0x2dc2a9(0x3b3)](0x3e8+Math[_0x2dc2a9(0x1a9)]()*0x2328)['toString']();currentLiveGamePin=_0x1a5d3e;try{const _0x1e919e=await addDoc(collection(db,_0x2dc2a9(0x4f4)+appId+_0x2dc2a9(0x30c)),{'quizId':_0x29da27,'projectId':_0x25b4ed,'status':_0x2dc2a9(0x572),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0x1a5d3e,'createdAt':serverTimestamp()});currentLiveGameId=_0x1e919e['id'],showAdminLobbyView(_0x1a5d3e,_0x4b02d3[_0x2dc2a9(0x161)]),listenForLiveGameUpdates();}catch(_0x5e8705){console[_0x2dc2a9(0x310)](_0x2dc2a9(0x415),_0x5e8705),showMessage(_0x2dc2a9(0x376));}}async function handleShowStudentRankings(){const _0x6999af=_0x425095,_0x1eae4e=document[_0x6999af(0x452)]('#student-quiz-leaderboard-content\x20thead');_0x1eae4e&&(_0x1eae4e[_0x6999af(0x1c1)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20');const _0x32d11d=document[_0x6999af(0x452)](_0x6999af(0x460));_0x32d11d&&(_0x32d11d[_0x6999af(0x1c1)]=_0x6999af(0x469));const _0x53b2db=document[_0x6999af(0x525)](_0x6999af(0x526));_0x53b2db[_0x6999af(0x370)][_0x6999af(0x355)](_0x6999af(0x49c)),document[_0x6999af(0x525)]('close-student-rankings-btn')[_0x6999af(0x3bd)]=()=>_0x53b2db[_0x6999af(0x370)][_0x6999af(0x213)](_0x6999af(0x49c));const _0x39931a=document['getElementById'](_0x6999af(0x51b)),_0x51ffe8=document['getElementById'](_0x6999af(0x224)),_0x597020=document[_0x6999af(0x525)](_0x6999af(0x4fc)),_0x3aa53f=document['getElementById'](_0x6999af(0x45d));_0x39931a[_0x6999af(0x3bd)]=()=>{const _0x510dba=_0x6999af;_0x39931a[_0x510dba(0x370)][_0x510dba(0x213)](_0x510dba(0x28b)),_0x51ffe8[_0x510dba(0x370)][_0x510dba(0x355)](_0x510dba(0x28b)),_0x597020['classList'][_0x510dba(0x355)](_0x510dba(0x49c)),_0x3aa53f[_0x510dba(0x370)][_0x510dba(0x213)](_0x510dba(0x49c));},_0x51ffe8[_0x6999af(0x3bd)]=()=>{const _0x324dda=_0x6999af;_0x51ffe8[_0x324dda(0x370)][_0x324dda(0x213)](_0x324dda(0x28b)),_0x39931a[_0x324dda(0x370)]['remove'](_0x324dda(0x28b)),_0x3aa53f[_0x324dda(0x370)]['remove']('hidden'),_0x597020['classList'][_0x324dda(0x213)](_0x324dda(0x49c));};try{const _0x52cad6=collection(db,_0x6999af(0x4f4)+appId+'/public/data/quizzes/'+currentQuizData['id']+_0x6999af(0x454)),_0x3c4603=await getDocs(_0x52cad6),_0x23ff1f=_0x3c4603[_0x6999af(0x4be)][_0x6999af(0x238)](_0x319f97=>_0x319f97[_0x6999af(0x59a)]());renderQuizLeaderboard(_0x23ff1f,currentQuizData,_0x6999af(0x4a9));const _0x191c3f=collection(db,'artifacts/'+appId+_0x6999af(0x18a)+currentQuizData[_0x6999af(0x340)]+_0x6999af(0x1bd)),_0x573be6=await getDocs(_0x191c3f),_0x15dab5=_0x573be6[_0x6999af(0x4be)][_0x6999af(0x238)](_0x8678a4=>_0x8678a4['data']());renderLeaderboard(_0x15dab5,'student-project-leaderboard-table-body');}catch(_0x3ac622){console[_0x6999af(0x310)](_0x6999af(0x5c3),_0x3ac622),showMessage(_0x6999af(0x322));}}async function handleSaveToBank(_0x4ea5b0){const _0x6c835f=_0x425095,_0x20cd17=_0x4ea5b0['currentTarget'],_0x22613e=_0x20cd17['dataset'][_0x6c835f(0x15d)],_0x21eb85=currentQuizData[_0x6c835f(0x4ce)][_0x22613e];if(!userId){showMessage('ไม่พบข้อมูลผู้ใช้');return;}try{const _0x683597={..._0x21eb85,'originalTopic':currentQuizData[_0x6c835f(0x161)],'savedAt':serverTimestamp()},_0x268066=collection(db,_0x6c835f(0x4f4)+appId+_0x6c835f(0x26f)+userId+_0x6c835f(0x353));await addDoc(_0x268066,_0x683597),showMessage(_0x6c835f(0x3f7)),_0x20cd17[_0x6c835f(0x370)][_0x6c835f(0x355)](_0x6c835f(0x4d7)),_0x20cd17[_0x6c835f(0x370)]['add'](_0x6c835f(0x28e)),_0x20cd17[_0x6c835f(0x48e)]=!![];}catch(_0x50e71b){console[_0x6c835f(0x310)](_0x6c835f(0x3c2),_0x50e71b),showMessage(_0x6c835f(0x519));}}function listenForStarredQuizzes(){const _0x26f2d6=_0x425095;if(!userId)return;const _0x499c79=collection(db,_0x26f2d6(0x4f4)+appId+_0x26f2d6(0x5cb)),_0x36482f=query(_0x499c79,where(_0x26f2d6(0x536),'==',!![]));onSnapshot(_0x36482f,_0x2a31b9=>{const _0x2b391e=_0x26f2d6;starredQuizzes=_0x2a31b9[_0x2b391e(0x4be)][_0x2b391e(0x238)](_0x5695b8=>({'id':_0x5695b8['id'],..._0x5695b8['data']()})),renderProjects();},_0x444934=>{const _0x3f836f=_0x26f2d6;console[_0x3f836f(0x310)](_0x3f836f(0x523),_0x444934);});}async function handleToggleStarQuiz(_0x5a7385){const _0x8c6e99=_0x425095,_0x2f2a35=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x5a7385);try{const _0x253cbb=await getDoc(_0x2f2a35);if(_0x253cbb['exists']()){const _0x565984=_0x253cbb['data']()[_0x8c6e99(0x536)]||![];await updateDoc(_0x2f2a35,{'isStarred':!_0x565984});}}catch(_0x583fde){console[_0x8c6e99(0x310)](_0x8c6e99(0x578),_0x583fde),showMessage(_0x8c6e99(0x2ff));}}async function displayQuestionBank(){const _0x56859a=_0x425095,_0x451f6d=document[_0x56859a(0x525)](_0x56859a(0x245));_0x451f6d[_0x56859a(0x1c1)]='<div\x20class=\x22loader\x20mx-auto\x22></div>';try{const _0x8bc9ee=collection(db,'artifacts/'+appId+_0x56859a(0x26f)+userId+_0x56859a(0x353)),_0x42eb92=query(_0x8bc9ee),_0x59d600=await getDocs(_0x42eb92);if(_0x59d600[_0x56859a(0x553)]){_0x451f6d[_0x56859a(0x1c1)]='<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>';return;}let _0x131282=_0x59d600[_0x56859a(0x4be)]['map'](_0x1c98d5=>{const _0x319a37=_0x56859a,_0x118fd9=_0x1c98d5['data'](),_0x23698b=_0x1c98d5['id'];return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27'+JSON[_0x319a37(0x2d8)](_0x118fd9)+'\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x118fd9['questionText']||_0x118fd9['stem'])+_0x319a37(0x383)+_0x118fd9['originalTopic']+_0x319a37(0x1da);})['join']('');_0x451f6d[_0x56859a(0x1c1)]=_0x56859a(0x2e6)+_0x131282+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',document[_0x56859a(0x525)](_0x56859a(0x2af))[_0x56859a(0x225)](_0x56859a(0x441),createQuizFromBank);}catch(_0x20c0d7){console[_0x56859a(0x310)](_0x56859a(0x32c),_0x20c0d7),_0x451f6d[_0x56859a(0x1c1)]=_0x56859a(0x2bf);}}function showAdminLiveQuestionView(_0x6e91d,_0x491e3e,_0x400a6b){const _0x1273fe=_0x425095,_0x226e63=_0x6e91d[_0x1273fe(0x4bb)]||currentQuizData[_0x1273fe(0x4bc)];let _0x2bd47e='';if(_0x226e63===_0x1273fe(0x3e1)||_0x226e63==='true_false'){const _0x4b124d=_0x226e63===_0x1273fe(0x4a3)?[_0x1273fe(0x31a),_0x1273fe(0x287)]:_0x6e91d[_0x1273fe(0x513)],_0xff3f7=_0x226e63==='true_false'?_0x6e91d[_0x1273fe(0x53e)]?0x0:0x1:_0x6e91d[_0x1273fe(0x3dc)];_0x2bd47e=_0x4b124d[_0x1273fe(0x238)]((_0x2e0bf2,_0x433e61)=>_0x1273fe(0x58f)+(_0x433e61===_0xff3f7)+_0x1273fe(0x1c8)+_0x2e0bf2+_0x1273fe(0x190))[_0x1273fe(0x19f)]('');}else{if(_0x226e63===_0x1273fe(0x47d)){const _0x117ba0=_0x6e91d[_0x1273fe(0x280)]||[];_0x2bd47e=_0x117ba0[_0x1273fe(0x238)](_0x47ac92=>_0x1273fe(0x58f)+(_0x47ac92===_0x6e91d[_0x1273fe(0x39e)])+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x47ac92+_0x1273fe(0x190))['join']('');}}const _0x19a65e=_0x6e91d[_0x1273fe(0x329)]||_0x6e91d[_0x1273fe(0x35c)],_0x2145a1=_0x1273fe(0x50f)+(_0x491e3e+0x1)+_0x1273fe(0x560)+_0x400a6b+_0x1273fe(0x344)+_0x19a65e+_0x1273fe(0x4df)+_0x2bd47e+_0x1273fe(0x576);liveGameView['innerHTML']=_0x2145a1;window[_0x1273fe(0x4b6)]&&MathJax[_0x1273fe(0x549)]&&MathJax[_0x1273fe(0x549)]([liveGameView]);const _0x360a70=document['getElementById'](_0x1273fe(0x514));document[_0x1273fe(0x525)](_0x1273fe(0x4b8))[_0x1273fe(0x225)]('click',async()=>{const _0x70dd33=_0x1273fe,_0x223f0f=doc(db,_0x70dd33(0x4f4)+appId+_0x70dd33(0x30c),currentLiveGameId);await updateDoc(_0x223f0f,{'questionStatus':_0x70dd33(0x5a9)});const _0x4da6ff=liveGameView['querySelector'](_0x70dd33(0x1a2));_0x4da6ff&&(_0x4da6ff[_0x70dd33(0x370)][_0x70dd33(0x355)]('bg-white/30'),_0x4da6ff[_0x70dd33(0x370)]['add'](_0x70dd33(0x171),_0x70dd33(0x27a),_0x70dd33(0x5b0),_0x70dd33(0x256),_0x70dd33(0x4de)),_0x4da6ff[_0x70dd33(0x1c1)]=_0x70dd33(0x5c2)+_0x4da6ff[_0x70dd33(0x1c1)]),_0x360a70['innerHTML']=_0x70dd33(0x204)+(_0x491e3e+0x1===_0x400a6b?_0x70dd33(0x18e):_0x70dd33(0x368))+'\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',document['getElementById'](_0x70dd33(0x53d))[_0x70dd33(0x225)]('click',async()=>{const _0x5738c7=_0x70dd33,_0x5895c9=doc(db,_0x5738c7(0x4f4)+appId+_0x5738c7(0x30c),currentLiveGameId),_0x185d83=await getDoc(_0x5895c9);if(!_0x185d83['exists']())return;const _0x173cd3=_0x185d83[_0x5738c7(0x59a)](),_0x1b18a2={};if(_0x173cd3[_0x5738c7(0x333)])for(const _0x5546c5 in _0x173cd3[_0x5738c7(0x333)]){_0x1b18a2[_0x5738c7(0x4e8)+_0x5546c5+_0x5738c7(0x4c4)]=![];}const _0x2fe688=_0x491e3e+0x1;_0x2fe688<_0x400a6b?(_0x1b18a2['currentQuestionIndex']=_0x2fe688,_0x1b18a2[_0x5738c7(0x21d)]=serverTimestamp(),_0x1b18a2[_0x5738c7(0x508)]='answering',await updateDoc(_0x5895c9,_0x1b18a2)):await updateDoc(_0x5895c9,{'status':_0x5738c7(0x503)});});}),document['getElementById']('end-game-btn')['addEventListener'](_0x1273fe(0x441),async()=>{const _0x3cf671=_0x1273fe,_0x5ca9b4=doc(db,_0x3cf671(0x4f4)+appId+_0x3cf671(0x30c),currentLiveGameId);await deleteDoc(_0x5ca9b4),showView(_0x3cf671(0x27b));});}function showStudentLiveQuestionView(_0xf62265,_0x454bf3,_0x1998d0){const _0x5e1242=_0x425095,_0x4d95e2=_0xf62265[_0x5e1242(0x4bb)]||currentQuizData['quizType'];let _0x1f68fe='';if(_0x4d95e2==='multiple_choice'||_0x4d95e2===_0x5e1242(0x4a3)){const _0x39f03f=_0x4d95e2===_0x5e1242(0x4a3)?[_0x5e1242(0x31a),'ไม่ใช่']:_0xf62265[_0x5e1242(0x513)];_0x1f68fe=_0x39f03f[_0x5e1242(0x238)]((_0x162bcd,_0x175a10)=>_0x5e1242(0x52b)+_0x175a10+_0x5e1242(0x375)+_0x162bcd+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x5e1242(0x19f)]('');}else{if(_0x4d95e2===_0x5e1242(0x47d)){const _0x51a02d=_0xf62265[_0x5e1242(0x280)]||[];_0x1f68fe=_0x51a02d[_0x5e1242(0x238)]((_0x322105,_0x331f84)=>_0x5e1242(0x52b)+_0x331f84+'\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x322105+_0x5e1242(0x57c))[_0x5e1242(0x19f)]('');}else _0x4d95e2==='short_answer'&&(_0x1f68fe=_0x5e1242(0x183));}const _0xb9511f=_0xf62265[_0x5e1242(0x329)]||_0xf62265[_0x5e1242(0x35c)],_0x45ea57=_0x5e1242(0x5af)+(_0x454bf3+0x1)+'\x20/\x20'+_0x1998d0+_0x5e1242(0x25f)+_0xb9511f+_0x5e1242(0x41a)+_0x1f68fe+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x5e1242(0x1c1)]=_0x45ea57;window[_0x5e1242(0x4b6)]&&MathJax[_0x5e1242(0x549)]&&MathJax[_0x5e1242(0x549)]([liveGameView]);const _0x3cbcac=document[_0x5e1242(0x525)]('live-submit-short-answer-btn');_0x3cbcac&&_0x3cbcac[_0x5e1242(0x225)](_0x5e1242(0x441),()=>{const _0x4ffe42=_0x5e1242,_0x3af0ce=document[_0x4ffe42(0x525)](_0x4ffe42(0x3d4))[_0x4ffe42(0x1c4)];handleLiveAnswer(_0x3af0ce,_0xf62265);}),document[_0x5e1242(0x525)](_0x5e1242(0x338))[_0x5e1242(0x225)](_0x5e1242(0x441),_0x200ec7=>{const _0x4716ce=_0x5e1242,_0x1a1665=_0x200ec7['target']['closest']('.live-answer-btn');if(_0x1a1665){const _0x53c47a=parseInt(_0x1a1665[_0x4716ce(0x366)][_0x4716ce(0x15d)]);handleLiveAnswer(_0x53c47a,_0xf62265);}});}async function handleLiveAnswer(_0x4411ec,_0x4727d9){const _0x8ec7f4=_0x425095;document[_0x8ec7f4(0x381)](_0x8ec7f4(0x3d3))[_0x8ec7f4(0x299)](_0xf1198a=>_0xf1198a[_0x8ec7f4(0x48e)]=!![]);const _0x137cc5=_0x4727d9[_0x8ec7f4(0x4bb)]||currentQuizData[_0x8ec7f4(0x4bc)];let _0x2787f7=![];if(_0x137cc5===_0x8ec7f4(0x4ac)){const _0xe94220=(_0x4411ec||'')['toString']();_0x2787f7=await gradeShortAnswer(_0xe94220,_0x4727d9);}else{if(_0x137cc5==='multiple_choice')_0x2787f7=_0x4411ec===_0x4727d9[_0x8ec7f4(0x3dc)];else{if(_0x137cc5===_0x8ec7f4(0x4a3)){const _0x242a4e=_0x4727d9[_0x8ec7f4(0x53e)];_0x2787f7=_0x4411ec===0x0&&_0x242a4e||_0x4411ec===0x1&&!_0x242a4e;}else{if(_0x137cc5===_0x8ec7f4(0x47d)){const _0x5ad4d0=_0x4727d9[_0x8ec7f4(0x280)][_0x4411ec];_0x2787f7=_0x5ad4d0===_0x4727d9[_0x8ec7f4(0x39e)];}}}}const _0x10b8ec=doc(db,_0x8ec7f4(0x4f4)+appId+_0x8ec7f4(0x30c),currentLiveGameId),_0x58b199=await getDoc(_0x10b8ec);if(!_0x58b199['exists']())return;const _0x2bb9a8=_0x58b199[_0x8ec7f4(0x59a)](),_0x145d58=_0x2bb9a8[_0x8ec7f4(0x333)][currentStudentName];let _0x5709e3=_0x145d58[_0x8ec7f4(0x331)]||[],_0x39ce11=_0x145d58[_0x8ec7f4(0x538)]||0x0;const _0x2e4f78={};let _0x4a7353=0x0;if(_0x2bb9a8[_0x8ec7f4(0x21d)]){const _0x60c77b=_0x2bb9a8[_0x8ec7f4(0x21d)][_0x8ec7f4(0x440)](),_0x1db05d=new Date()-_0x60c77b;if(_0x2787f7){const _0x353d93=0x3e8,_0x33697b=0x1f4,_0x20a5f7=0x4e20;let _0x47f07b=_0x1db05d/_0x20a5f7;if(_0x47f07b>0x1)_0x47f07b=0x1;const _0x4219db=Math[_0x8ec7f4(0x532)](_0x47f07b*_0x33697b);_0x4a7353=_0x353d93-_0x4219db,_0x1db05d<=0x1388&&!_0x5709e3[_0x8ec7f4(0x3aa)](_0x8ec7f4(0x274))&&_0x5709e3['push'](_0x8ec7f4(0x274));}}_0x2787f7?(_0x39ce11++,_0x39ce11===0x3&&!_0x5709e3[_0x8ec7f4(0x3aa)](_0x8ec7f4(0x21a))&&(_0x5709e3['push']('on_fire'),_0x39ce11=0x0)):_0x39ce11=0x0,_0x2787f7&&(_0x2e4f78['players.'+currentStudentName+'.score']=increment(_0x4a7353)),_0x2e4f78[_0x8ec7f4(0x4e8)+currentStudentName+'.badges']=_0x5709e3,_0x2e4f78[_0x8ec7f4(0x4e8)+currentStudentName+_0x8ec7f4(0x4c8)]=_0x39ce11,_0x2e4f78[_0x8ec7f4(0x4e8)+currentStudentName+'.answeredCurrentQuestion']=!![],_0x2e4f78['players.'+currentStudentName+'.lastAnswerCorrect']=_0x2787f7,_0x2e4f78[_0x8ec7f4(0x4e8)+currentStudentName+_0x8ec7f4(0x468)]=_0x4a7353,await updateDoc(_0x10b8ec,_0x2e4f78),liveGameView['innerHTML']=_0x8ec7f4(0x336);}function createQuizFromBank(){const _0x594d15=_0x425095,_0x1212d9=document[_0x594d15(0x381)](_0x594d15(0x188));if(_0x1212d9[_0x594d15(0x5c8)]===0x0){showMessage(_0x594d15(0x2ef));return;}const _0x4008c2=[];_0x1212d9[_0x594d15(0x299)](_0x1fff42=>{const _0x3e96cf=_0x594d15;_0x4008c2[_0x3e96cf(0x365)](JSON['parse'](_0x1fff42[_0x3e96cf(0x1c4)]));});const _0xa0ca18={'topic':_0x594d15(0x447),'questions':_0x4008c2};displayGeneratedQuiz(_0xa0ca18);}function showAdminLobbyView(_0x2e460d,_0x570172){const _0xfe9729=_0x425095;showView(_0xfe9729(0x3fc));const _0x43bebc=_0xfe9729(0x3e2)+_0x570172+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>'+_0x2e460d+_0xfe9729(0x57d);liveGameView[_0xfe9729(0x1c1)]=_0x43bebc,document['getElementById'](_0xfe9729(0x1b6))[_0xfe9729(0x225)](_0xfe9729(0x441),async()=>{const _0x30e848=_0xfe9729;if(!currentQuizData||!currentQuizData[_0x30e848(0x4ce)]||currentQuizData['questions'][_0x30e848(0x5c8)]===0x0){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้');return;}try{const _0x13e041=doc(db,_0x30e848(0x4f4)+appId+_0x30e848(0x30c),currentLiveGameId);await updateDoc(_0x13e041,{'status':_0x30e848(0x357),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x3e7c13=currentQuizData[_0x30e848(0x4ce)][0x0],_0xc88f63=currentQuizData[_0x30e848(0x4ce)][_0x30e848(0x5c8)];showAdminLiveQuestionView(_0x3e7c13,0x0,_0xc88f63);}catch(_0x511755){console[_0x30e848(0x310)](_0x30e848(0x5a7),_0x511755),showMessage(_0x30e848(0x23d));}});}async function openGlobalLiveModal(){const _0x919020=_0x425095;if(allQuizzesGlobal['length']===0x0){const _0x136793=await getDocs(collection(db,'artifacts/'+appId+'/public/data/quizzes'));allQuizzesGlobal=_0x136793[_0x919020(0x4be)]['map'](_0xef0931=>({'id':_0xef0931['id'],..._0xef0931[_0x919020(0x59a)]()}));}renderGlobalQuizList(''),document[_0x919020(0x525)](_0x919020(0x240))[_0x919020(0x370)][_0x919020(0x355)]('hidden');}function renderGlobalQuizList(_0x4fc039=''){const _0x15d1eb=_0x425095,_0x511ac8=document[_0x15d1eb(0x525)](_0x15d1eb(0x327)),_0x5a46e2=_0x4fc039['toLowerCase']()['trim'](),_0x128fae=allQuizzesGlobal['map'](_0x425b01=>({..._0x425b01,'projectName':allProjects['find'](_0x27dbc3=>_0x27dbc3['id']===_0x425b01[_0x15d1eb(0x340)])?.[_0x15d1eb(0x4f0)]||_0x425b01[_0x15d1eb(0x340)]}))[_0x15d1eb(0x563)](_0x453147=>(_0x453147['topic']||'')[_0x15d1eb(0x56a)]()[_0x15d1eb(0x3aa)](_0x5a46e2)||(_0x453147[_0x15d1eb(0x4f0)]||'')[_0x15d1eb(0x56a)]()[_0x15d1eb(0x3aa)](_0x5a46e2));_0x511ac8[_0x15d1eb(0x1c1)]=_0x128fae['length']?_0x128fae[_0x15d1eb(0x238)](_0x313ed2=>_0x15d1eb(0x2d7)+_0x313ed2['id']+_0x15d1eb(0x467)+(_0x313ed2['topic']||'(ไม่มีชื่อ)')+'\x0a\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>('+(_0x313ed2[_0x15d1eb(0x4ce)]?.['length']||0x0)+_0x15d1eb(0x2c6)+_0x313ed2[_0x15d1eb(0x4f0)]+_0x15d1eb(0x239))[_0x15d1eb(0x19f)](''):_0x15d1eb(0x2b9),selectedGlobalQuizId=null,document[_0x15d1eb(0x525)]('confirm-global-live-btn')[_0x15d1eb(0x48e)]=!![],_0x511ac8[_0x15d1eb(0x381)](_0x15d1eb(0x4b2))[_0x15d1eb(0x299)](_0x8c941c=>{const _0x3f16d3=_0x15d1eb;_0x8c941c[_0x3f16d3(0x225)](_0x3f16d3(0x441),()=>{const _0x40483a=_0x3f16d3;selectedGlobalQuizId=_0x8c941c[_0x40483a(0x366)]['id'],_0x511ac8['querySelectorAll'](_0x40483a(0x181))[_0x40483a(0x299)](_0x17c239=>_0x17c239[_0x40483a(0x370)][_0x40483a(0x355)](_0x40483a(0x304),_0x40483a(0x1ef),_0x40483a(0x2ab))),_0x8c941c['classList']['add'](_0x40483a(0x304),_0x40483a(0x1ef),'ring-purple-400'),document[_0x40483a(0x525)]('confirm-global-live-btn')['disabled']=![];});});}function listenForLiveGameUpdates(){const _0x35c216=_0x425095;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x23c7f5=doc(db,_0x35c216(0x4f4)+appId+_0x35c216(0x30c),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x23c7f5,_0x2cea31=>{const _0x96dbf5=_0x35c216;if(!_0x2cea31['exists']()){showMessage(_0x96dbf5(0x1be)),showView(currentMode);return;}const _0x118953=_0x2cea31[_0x96dbf5(0x59a)]();!currentQuizData&&_0x118953[_0x96dbf5(0x1f8)]&&((async()=>{const _0x21d2ca=_0x96dbf5;try{const _0x546539=doc(db,_0x21d2ca(0x4f4)+appId+'/public/data/quizzes',_0x118953['quizId']),_0x2807bc=await getDoc(_0x546539);_0x2807bc['exists']()&&(currentQuizData={'id':_0x2807bc['id'],..._0x2807bc['data']()});}catch(_0x286342){console[_0x21d2ca(0x310)](_0x21d2ca(0x484),_0x286342);}})());switch(_0x118953[_0x96dbf5(0x23c)]){case _0x96dbf5(0x572):if(currentMode==='admin'){const _0x48c2d0=_0x118953[_0x96dbf5(0x333)]?Object[_0x96dbf5(0x233)](_0x118953[_0x96dbf5(0x333)]):[];document[_0x96dbf5(0x525)](_0x96dbf5(0x2fb))[_0x96dbf5(0x4b1)]=_0x48c2d0[_0x96dbf5(0x5c8)],document[_0x96dbf5(0x525)](_0x96dbf5(0x59f))[_0x96dbf5(0x1c1)]=_0x48c2d0[_0x96dbf5(0x238)](_0x176ed6=>'<span\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x22>'+_0x176ed6+'</span>')['join']('');const _0x116dad=document[_0x96dbf5(0x525)](_0x96dbf5(0x1b6));_0x116dad&&(_0x116dad[_0x96dbf5(0x48e)]=_0x48c2d0[_0x96dbf5(0x5c8)]===0x0);}else showView(_0x96dbf5(0x3fc)),liveGameView[_0x96dbf5(0x1c1)]=_0x96dbf5(0x48f)+currentStudentName+_0x96dbf5(0x45f);break;case _0x96dbf5(0x357):const _0x502c28=_0x118953[_0x96dbf5(0x301)];if(currentQuizData&&currentQuizData[_0x96dbf5(0x4ce)][_0x502c28]){const _0xbb9ba2=currentQuizData[_0x96dbf5(0x4ce)][_0x502c28],_0x7d01b=currentQuizData[_0x96dbf5(0x4ce)][_0x96dbf5(0x5c8)];if(currentMode===_0x96dbf5(0x44a)){lastRenderedAdminQuestionIndex!==_0x502c28&&(showAdminLiveQuestionView(_0xbb9ba2,_0x502c28,_0x7d01b),lastRenderedAdminQuestionIndex=_0x502c28);const _0x1c6c5f=document[_0x96dbf5(0x525)](_0x96dbf5(0x461));if(_0x1c6c5f&&_0x118953['players']){const _0x355e27=Object[_0x96dbf5(0x233)](_0x118953[_0x96dbf5(0x333)])[_0x96dbf5(0x5c8)],_0x21b98b=Object[_0x96dbf5(0x37f)](_0x118953[_0x96dbf5(0x333)])[_0x96dbf5(0x563)](_0xd7fa3c=>_0xd7fa3c[_0x96dbf5(0x286)]===!![])[_0x96dbf5(0x5c8)];_0x1c6c5f['textContent']=_0x21b98b+'/'+_0x355e27,_0x355e27>0x0&&_0x21b98b===_0x355e27&&_0x118953[_0x96dbf5(0x508)]!=='revealed'&&revealAnswerForAdmin(_0x502c28,_0x7d01b);}}else{const _0x3bb47b=_0x118953[_0x96dbf5(0x333)][currentStudentName];if(_0x118953[_0x96dbf5(0x508)]==='revealed'){if(_0x3bb47b['answeredCurrentQuestion']){const _0x1fe81e=_0x3bb47b['lastAnswerCorrect'],_0x2889f6=_0x3bb47b[_0x96dbf5(0x439)]||0x0,_0x1046a3=_0x1fe81e?_0x96dbf5(0x3c0)+_0x2889f6+'\x20คะแนน':_0x96dbf5(0x385);liveGameView[_0x96dbf5(0x1c1)]=_0x96dbf5(0x588)+_0x1046a3+'</h2>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<p\x20class=\x22mt-8\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x20</div>';}else liveGameView[_0x96dbf5(0x1c1)]=_0x96dbf5(0x318);}else!_0x3bb47b[_0x96dbf5(0x286)]&&showStudentLiveQuestionView(_0xbb9ba2,_0x502c28,_0x7d01b);}}break;case _0x96dbf5(0x503):showPodiumView(_0x118953[_0x96dbf5(0x333)]);break;}});}async function authenticateUser(){const _0x17e547=_0x425095;try{typeof __initial_auth_token!==_0x17e547(0x5c7)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x35ee99){console['error']('Authentication\x20failed:',_0x35ee99),showMessage(_0x17e547(0x4e3));}}function showView(_0x56e822){const _0x18e4c5=_0x425095,_0x414df1=[_0x18e4c5(0x57e),'student-view',_0x18e4c5(0x208),_0x18e4c5(0x420),'quiz-results-view',_0x18e4c5(0x26c)];_0x414df1[_0x18e4c5(0x299)](_0x2dbd4a=>document[_0x18e4c5(0x525)](_0x2dbd4a)?.[_0x18e4c5(0x370)][_0x18e4c5(0x213)]('hidden'));if(_0x56e822===_0x18e4c5(0x27b))adminView[_0x18e4c5(0x370)][_0x18e4c5(0x355)](_0x18e4c5(0x49c)),projectDashboardView[_0x18e4c5(0x370)][_0x18e4c5(0x355)](_0x18e4c5(0x49c));else{if(_0x56e822===_0x18e4c5(0x328))studentView[_0x18e4c5(0x370)]['remove'](_0x18e4c5(0x49c)),studentInitialView[_0x18e4c5(0x370)][_0x18e4c5(0x355)](_0x18e4c5(0x49c)),studentNameSelectionView[_0x18e4c5(0x370)][_0x18e4c5(0x213)](_0x18e4c5(0x49c)),studentQuizArea['classList'][_0x18e4c5(0x213)]('hidden'),studentResultArea[_0x18e4c5(0x370)][_0x18e4c5(0x213)](_0x18e4c5(0x49c)),studentReadingArea[_0x18e4c5(0x370)][_0x18e4c5(0x213)]('hidden'),studentJoinGameView[_0x18e4c5(0x370)][_0x18e4c5(0x213)](_0x18e4c5(0x49c));else{if(_0x56e822==='project-detail')adminView[_0x18e4c5(0x370)][_0x18e4c5(0x355)](_0x18e4c5(0x49c)),projectDetailView[_0x18e4c5(0x370)][_0x18e4c5(0x355)](_0x18e4c5(0x49c));else{if(_0x56e822==='quiz-results')adminView[_0x18e4c5(0x370)][_0x18e4c5(0x355)](_0x18e4c5(0x49c)),quizResultsView[_0x18e4c5(0x370)][_0x18e4c5(0x355)]('hidden');else _0x56e822==='live-game'&&liveGameView[_0x18e4c5(0x370)][_0x18e4c5(0x355)](_0x18e4c5(0x49c));}}}}function showJoinGameView(){const _0x47f705=_0x425095;studentInitialView['classList']['add'](_0x47f705(0x49c)),studentJoinGameView[_0x47f705(0x370)][_0x47f705(0x355)](_0x47f705(0x49c));}function setupEventListeners(){const _0x8c252=_0x425095;document[_0x8c252(0x525)](_0x8c252(0x30b))[_0x8c252(0x225)]('click',handleModeSwitch),document[_0x8c252(0x525)](_0x8c252(0x37d))['addEventListener'](_0x8c252(0x441),()=>{const _0x22fe60=_0x8c252;currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0x22fe60(0x27b));}),document['getElementById'](_0x8c252(0x35d))['addEventListener'](_0x8c252(0x441),()=>{const _0x466906=_0x8c252;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0x466906(0x4e9));}),document[_0x8c252(0x525)](_0x8c252(0x500))['addEventListener']('click',()=>{showView('admin-dashboard');}),document['getElementById']('modal-close-btn')[_0x8c252(0x225)](_0x8c252(0x441),()=>messageModal['classList'][_0x8c252(0x213)]('hidden')),document[_0x8c252(0x525)](_0x8c252(0x3df))[_0x8c252(0x225)](_0x8c252(0x441),()=>createProjectModal['classList'][_0x8c252(0x355)]('hidden')),document[_0x8c252(0x525)]('cancel-create-project-btn')[_0x8c252(0x225)](_0x8c252(0x441),()=>createProjectModal[_0x8c252(0x370)][_0x8c252(0x213)]('hidden')),document['getElementById'](_0x8c252(0x3bc))['addEventListener']('click',()=>adminPasswordModal[_0x8c252(0x370)][_0x8c252(0x213)](_0x8c252(0x49c))),document[_0x8c252(0x525)](_0x8c252(0x2a7))[_0x8c252(0x225)]('click',handleAdminLogin),document[_0x8c252(0x525)]('admin-password-input')[_0x8c252(0x225)](_0x8c252(0x2f2),_0x19bbbe=>{const _0x35ade2=_0x8c252;if(_0x19bbbe[_0x35ade2(0x266)]==='Enter')handleAdminLogin();}),document['getElementById']('cancel-delete-btn')[_0x8c252(0x225)](_0x8c252(0x441),()=>{const _0x3ce4ca=_0x8c252;confirmationModal[_0x3ce4ca(0x370)]['add']('hidden'),confirmAction=null;}),document[_0x8c252(0x525)](_0x8c252(0x34e))[_0x8c252(0x225)](_0x8c252(0x441),()=>{const _0x4bed88=_0x8c252;confirmAction&&confirmAction(),confirmationModal[_0x4bed88(0x370)][_0x4bed88(0x213)]('hidden'),confirmAction=null;}),document[_0x8c252(0x525)](_0x8c252(0x1f2))[_0x8c252(0x225)](_0x8c252(0x441),()=>renameQuizModal['classList'][_0x8c252(0x213)](_0x8c252(0x49c))),document[_0x8c252(0x525)](_0x8c252(0x1cf))[_0x8c252(0x225)]('click',confirmRenameQuiz),document[_0x8c252(0x525)](_0x8c252(0x33b))[_0x8c252(0x225)]('click',()=>moveQuizModal['classList'][_0x8c252(0x213)]('hidden')),document['getElementById'](_0x8c252(0x57a))[_0x8c252(0x225)](_0x8c252(0x441),confirmMoveQuiz),document['getElementById'](_0x8c252(0x191))[_0x8c252(0x225)](_0x8c252(0x441),()=>quizSettingsModal[_0x8c252(0x370)][_0x8c252(0x213)](_0x8c252(0x49c))),document[_0x8c252(0x525)]('confirm-quiz-settings-btn')[_0x8c252(0x225)](_0x8c252(0x441),confirmQuizSettings),document[_0x8c252(0x525)](_0x8c252(0x2dc))[_0x8c252(0x225)](_0x8c252(0x441),()=>quizStatusModal[_0x8c252(0x370)]['add'](_0x8c252(0x49c))),document[_0x8c252(0x525)](_0x8c252(0x3b8))['addEventListener'](_0x8c252(0x441),confirmQuizStatus),document[_0x8c252(0x525)]('open-global-live-btn')[_0x8c252(0x225)](_0x8c252(0x441),openGlobalLiveModal),document[_0x8c252(0x525)](_0x8c252(0x5a4))[_0x8c252(0x225)](_0x8c252(0x441),()=>{const _0x489ce0=_0x8c252;document[_0x489ce0(0x525)](_0x489ce0(0x240))[_0x489ce0(0x370)][_0x489ce0(0x213)](_0x489ce0(0x49c)),selectedGlobalQuizId=null;}),document[_0x8c252(0x525)](_0x8c252(0x1dd))[_0x8c252(0x225)]('input',_0x75c827=>renderGlobalQuizList(_0x75c827[_0x8c252(0x42d)][_0x8c252(0x1c4)])),document[_0x8c252(0x525)](_0x8c252(0x3cf))[_0x8c252(0x225)](_0x8c252(0x441),()=>{const _0x438617=_0x8c252,_0x13dd0e=selectedGlobalQuizId;if(!_0x13dd0e)return;document[_0x438617(0x525)]('global-live-game-modal')['classList'][_0x438617(0x213)](_0x438617(0x49c)),handleStartLiveRace(_0x13dd0e);}),document[_0x8c252(0x525)](_0x8c252(0x21f))[_0x8c252(0x225)](_0x8c252(0x1df),renderProjects),document[_0x8c252(0x525)](_0x8c252(0x1e9))[_0x8c252(0x225)]('change',renderProjects),document[_0x8c252(0x525)](_0x8c252(0x414))[_0x8c252(0x225)]('input',renderQuizzes),manageTab[_0x8c252(0x225)](_0x8c252(0x441),()=>switchProjectTab(_0x8c252(0x2a2))),resultsTab[_0x8c252(0x225)](_0x8c252(0x441),()=>switchProjectTab(_0x8c252(0x4fe))),leaderboardTab[_0x8c252(0x225)](_0x8c252(0x441),()=>switchProjectTab(_0x8c252(0x551))),document[_0x8c252(0x525)](_0x8c252(0x5cd))[_0x8c252(0x225)](_0x8c252(0x441),()=>switchQuizDetailTab('analytics')),document[_0x8c252(0x525)](_0x8c252(0x2d1))[_0x8c252(0x225)](_0x8c252(0x441),()=>switchQuizDetailTab(_0x8c252(0x326))),document[_0x8c252(0x525)](_0x8c252(0x33d))[_0x8c252(0x225)]('click',()=>switchQuizDetailTab(_0x8c252(0x325))),document[_0x8c252(0x525)](_0x8c252(0x32d))[_0x8c252(0x225)](_0x8c252(0x441),handleAnalyzeClass),generateWorksheetBtn['addEventListener']('click',generateWorksheet);const _0x3bfa8b=document[_0x8c252(0x525)](_0x8c252(0x4c7)),_0x4e60d4=document['getElementById'](_0x8c252(0x17f));topicTab[_0x8c252(0x225)](_0x8c252(0x441),()=>{const _0x8dd16f=_0x8c252;topicTab[_0x8dd16f(0x370)][_0x8dd16f(0x213)](_0x8dd16f(0x28b)),textTab[_0x8dd16f(0x370)][_0x8dd16f(0x355)](_0x8dd16f(0x28b)),fileTab[_0x8dd16f(0x370)][_0x8dd16f(0x355)](_0x8dd16f(0x28b)),worksheetTab[_0x8dd16f(0x370)][_0x8dd16f(0x355)](_0x8dd16f(0x28b));if(_0x3bfa8b)_0x3bfa8b['classList'][_0x8dd16f(0x355)]('active');topicInputArea[_0x8dd16f(0x370)][_0x8dd16f(0x355)](_0x8dd16f(0x49c)),textInputArea[_0x8dd16f(0x370)][_0x8dd16f(0x213)]('hidden'),fileInputArea[_0x8dd16f(0x370)][_0x8dd16f(0x213)](_0x8dd16f(0x49c)),worksheetInputArea['classList'][_0x8dd16f(0x213)]('hidden');if(_0x4e60d4)_0x4e60d4[_0x8dd16f(0x370)][_0x8dd16f(0x213)](_0x8dd16f(0x49c));}),textTab[_0x8c252(0x225)](_0x8c252(0x441),()=>{const _0x50dcf9=_0x8c252;textTab['classList']['add'](_0x50dcf9(0x28b)),topicTab[_0x50dcf9(0x370)][_0x50dcf9(0x355)](_0x50dcf9(0x28b)),fileTab[_0x50dcf9(0x370)]['remove'](_0x50dcf9(0x28b)),worksheetTab['classList'][_0x50dcf9(0x355)](_0x50dcf9(0x28b));if(_0x3bfa8b)_0x3bfa8b[_0x50dcf9(0x370)][_0x50dcf9(0x355)](_0x50dcf9(0x28b));textInputArea[_0x50dcf9(0x370)]['remove'](_0x50dcf9(0x49c)),topicInputArea[_0x50dcf9(0x370)][_0x50dcf9(0x213)](_0x50dcf9(0x49c)),fileInputArea[_0x50dcf9(0x370)][_0x50dcf9(0x213)]('hidden'),worksheetInputArea[_0x50dcf9(0x370)]['add'](_0x50dcf9(0x49c));if(_0x4e60d4)_0x4e60d4[_0x50dcf9(0x370)][_0x50dcf9(0x213)]('hidden');}),fileTab['addEventListener'](_0x8c252(0x441),()=>{const _0x36c5a7=_0x8c252;fileTab[_0x36c5a7(0x370)]['add']('active'),topicTab[_0x36c5a7(0x370)][_0x36c5a7(0x355)]('active'),textTab[_0x36c5a7(0x370)][_0x36c5a7(0x355)](_0x36c5a7(0x28b)),worksheetTab[_0x36c5a7(0x370)][_0x36c5a7(0x355)](_0x36c5a7(0x28b));if(_0x3bfa8b)_0x3bfa8b[_0x36c5a7(0x370)][_0x36c5a7(0x355)]('active');fileInputArea[_0x36c5a7(0x370)][_0x36c5a7(0x355)](_0x36c5a7(0x49c)),topicInputArea[_0x36c5a7(0x370)][_0x36c5a7(0x213)](_0x36c5a7(0x49c)),textInputArea[_0x36c5a7(0x370)][_0x36c5a7(0x213)]('hidden'),worksheetInputArea[_0x36c5a7(0x370)][_0x36c5a7(0x213)]('hidden');if(_0x4e60d4)_0x4e60d4[_0x36c5a7(0x370)][_0x36c5a7(0x213)](_0x36c5a7(0x49c));}),worksheetTab[_0x8c252(0x225)](_0x8c252(0x441),()=>{const _0x595e6b=_0x8c252;worksheetTab[_0x595e6b(0x370)][_0x595e6b(0x213)](_0x595e6b(0x28b)),topicTab[_0x595e6b(0x370)][_0x595e6b(0x355)](_0x595e6b(0x28b)),textTab['classList']['remove'](_0x595e6b(0x28b)),fileTab[_0x595e6b(0x370)][_0x595e6b(0x355)](_0x595e6b(0x28b));if(_0x3bfa8b)_0x3bfa8b[_0x595e6b(0x370)]['remove'](_0x595e6b(0x28b));worksheetInputArea['classList'][_0x595e6b(0x355)](_0x595e6b(0x49c)),topicInputArea[_0x595e6b(0x370)][_0x595e6b(0x213)](_0x595e6b(0x49c)),textInputArea[_0x595e6b(0x370)][_0x595e6b(0x213)](_0x595e6b(0x49c)),fileInputArea['classList'][_0x595e6b(0x213)](_0x595e6b(0x49c));if(_0x4e60d4)_0x4e60d4[_0x595e6b(0x370)][_0x595e6b(0x213)]('hidden');});const _0x3dbce9=document[_0x8c252(0x525)]('bank-tab'),_0x4d2a57=document[_0x8c252(0x525)](_0x8c252(0x245));_0x3dbce9&&_0x3dbce9[_0x8c252(0x225)](_0x8c252(0x441),()=>{const _0x18d001=_0x8c252;topicTab[_0x18d001(0x370)][_0x18d001(0x355)](_0x18d001(0x28b)),textTab[_0x18d001(0x370)][_0x18d001(0x355)](_0x18d001(0x28b)),fileTab['classList'][_0x18d001(0x355)]('active'),worksheetTab[_0x18d001(0x370)][_0x18d001(0x355)]('active');if(_0x3bfa8b)_0x3bfa8b[_0x18d001(0x370)][_0x18d001(0x355)]('active');_0x3dbce9[_0x18d001(0x370)][_0x18d001(0x213)](_0x18d001(0x28b)),topicInputArea[_0x18d001(0x370)][_0x18d001(0x213)]('hidden'),textInputArea[_0x18d001(0x370)][_0x18d001(0x213)](_0x18d001(0x49c)),fileInputArea[_0x18d001(0x370)][_0x18d001(0x213)](_0x18d001(0x49c)),worksheetInputArea[_0x18d001(0x370)][_0x18d001(0x213)](_0x18d001(0x49c));if(_0x4e60d4)_0x4e60d4['classList'][_0x18d001(0x213)]('hidden');_0x4d2a57[_0x18d001(0x370)][_0x18d001(0x355)](_0x18d001(0x49c)),displayQuestionBank();});_0x3bfa8b&&(_0x3bfa8b['addEventListener']('click',()=>{const _0x3e1995=_0x8c252;topicTab[_0x3e1995(0x370)][_0x3e1995(0x355)](_0x3e1995(0x28b)),textTab['classList'][_0x3e1995(0x355)](_0x3e1995(0x28b)),fileTab[_0x3e1995(0x370)][_0x3e1995(0x355)](_0x3e1995(0x28b)),worksheetTab[_0x3e1995(0x370)][_0x3e1995(0x355)](_0x3e1995(0x28b)),_0x3bfa8b[_0x3e1995(0x370)][_0x3e1995(0x213)](_0x3e1995(0x28b)),topicInputArea[_0x3e1995(0x370)][_0x3e1995(0x213)](_0x3e1995(0x49c)),textInputArea['classList']['add'](_0x3e1995(0x49c)),fileInputArea[_0x3e1995(0x370)][_0x3e1995(0x213)](_0x3e1995(0x49c)),worksheetInputArea[_0x3e1995(0x370)][_0x3e1995(0x213)](_0x3e1995(0x49c)),_0x4e60d4[_0x3e1995(0x370)][_0x3e1995(0x355)](_0x3e1995(0x49c));}),document[_0x8c252(0x525)](_0x8c252(0x205))[_0x8c252(0x225)](_0x8c252(0x441),handleGenerateFromLink));loadQuizBtn[_0x8c252(0x225)](_0x8c252(0x441),handleLoadQuiz),startQuizBtn[_0x8c252(0x225)](_0x8c252(0x441),()=>{const _0xe50c01=_0x8c252,_0x50fcd7=document[_0xe50c01(0x525)](_0xe50c01(0x252));currentStudentName=_0x50fcd7[_0xe50c01(0x1c4)];if(!currentStudentName){showMessage('กรุณาเลือกชื่อของคุณ');return;}studentNameSelectionView[_0xe50c01(0x370)]['add'](_0xe50c01(0x49c)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x8c252(0x525)](_0x8c252(0x4c2))[_0x8c252(0x225)](_0x8c252(0x441),showJoinGameView),document[_0x8c252(0x525)](_0x8c252(0x476))['addEventListener']('click',handleJoinLiveGame),document['getElementById'](_0x8c252(0x438))['addEventListener'](_0x8c252(0x441),()=>showView(_0x8c252(0x328)));const _0x2c1aab=()=>{const _0x1f3c18=_0x8c252,_0x5cd71b=document[_0x1f3c18(0x525)](_0x1f3c18(0x24c))[_0x1f3c18(0x4b1)][_0x1f3c18(0x1d4)](/[^a-z0-9]/gi,'_')[_0x1f3c18(0x56a)]();return'results_'+(_0x5cd71b||_0x1f3c18(0x259));};document[_0x8c252(0x525)](_0x8c252(0x1bf))['addEventListener']('click',()=>exportTableAsImage(_0x8c252(0x2c1),_0x2c1aab())),document[_0x8c252(0x525)](_0x8c252(0x264))[_0x8c252(0x225)](_0x8c252(0x441),()=>exportTableAsPDF(_0x8c252(0x1cd),_0x2c1aab())),document['getElementById']('export-word-btn')[_0x8c252(0x225)](_0x8c252(0x441),()=>exportTableAsWord(_0x8c252(0x2c1),_0x2c1aab())),document[_0x8c252(0x525)]('export-excel-btn')[_0x8c252(0x225)](_0x8c252(0x441),()=>exportTableAsExcel(_0x8c252(0x1cd),_0x2c1aab()));const _0x157f9d=()=>{const _0x3df107=_0x8c252,_0x59024e=document['getElementById'](_0x3df107(0x24c))[_0x3df107(0x4b1)][_0x3df107(0x1d4)](/[^a-z0-9]/gi,'_')[_0x3df107(0x56a)]();return _0x3df107(0x399)+(_0x59024e||_0x3df107(0x259));};document[_0x8c252(0x525)](_0x8c252(0x436))[_0x8c252(0x225)]('click',()=>exportTableAsImage('quiz-leaderboard-table-container',_0x157f9d())),document[_0x8c252(0x525)](_0x8c252(0x346))[_0x8c252(0x225)](_0x8c252(0x441),()=>exportTableAsPDF(_0x8c252(0x29e),_0x157f9d())),document[_0x8c252(0x525)]('export-leaderboard-word-btn')[_0x8c252(0x225)]('click',()=>exportTableAsWord(_0x8c252(0x343),_0x157f9d())),document[_0x8c252(0x525)](_0x8c252(0x283))[_0x8c252(0x225)](_0x8c252(0x441),()=>exportTableAsExcel('quiz-leaderboard-table',_0x157f9d())),projectQuizzesList['addEventListener'](_0x8c252(0x441),async _0x36637c=>{const _0x8b5fd3=_0x8c252,_0x2365d1=_0x36637c[_0x8b5fd3(0x42d)]['closest']('.star-quiz-btn'),_0x2188cd=_0x36637c['target'][_0x8b5fd3(0x411)](_0x8b5fd3(0x507)),_0x5521da=_0x36637c[_0x8b5fd3(0x42d)][_0x8b5fd3(0x411)](_0x8b5fd3(0x510)),_0x73a2a3=_0x36637c[_0x8b5fd3(0x42d)][_0x8b5fd3(0x411)](_0x8b5fd3(0x424)),_0x3ef96f=_0x36637c[_0x8b5fd3(0x42d)][_0x8b5fd3(0x411)]('.admin-try-quiz-list-btn'),_0x307536=_0x36637c['target']['closest'](_0x8b5fd3(0x577)),_0x49577c=_0x36637c[_0x8b5fd3(0x42d)][_0x8b5fd3(0x411)](_0x8b5fd3(0x19e)),_0x29137b=_0x36637c[_0x8b5fd3(0x42d)]['closest'](_0x8b5fd3(0x4c0)),_0xed732a=_0x36637c['target'][_0x8b5fd3(0x411)](_0x8b5fd3(0x212)),_0x2c64d4=_0x36637c[_0x8b5fd3(0x42d)][_0x8b5fd3(0x411)](_0x8b5fd3(0x3d9)),_0x46253d=_0x36637c['target'][_0x8b5fd3(0x411)](_0x8b5fd3(0x410)),_0x256c09=_0x36637c['target'][_0x8b5fd3(0x411)](_0x8b5fd3(0x425));if(_0x256c09){const _0x3d33b7=_0x256c09[_0x8b5fd3(0x366)][_0x8b5fd3(0x1f8)];handleOpenQuizEditor(_0x3d33b7);}else{if(_0x2365d1){const _0x3301ae=_0x2365d1[_0x8b5fd3(0x366)][_0x8b5fd3(0x1f8)];handleToggleStarQuiz(_0x3301ae);}else{if(_0x46253d){const _0x25400e=_0x46253d[_0x8b5fd3(0x366)][_0x8b5fd3(0x1f8)];handleStartLiveRace(_0x25400e);}else{if(_0x2188cd){const _0x39a701=_0x2188cd[_0x8b5fd3(0x366)][_0x8b5fd3(0x1f8)],_0x1a6976=_0x2188cd[_0x8b5fd3(0x366)][_0x8b5fd3(0x161)];showConfirmation(_0x8b5fd3(0x36e)+_0x1a6976+_0x8b5fd3(0x197),()=>handleDeleteQuiz(_0x39a701));}else{if(_0x5521da){const _0x21f16c=_0x5521da['dataset']['quizId'];copyTextToClipboard(_0x21f16c,'คัดลอกรหัสแล้ว!');}else{if(_0x73a2a3){const _0x587b59=_0x73a2a3[_0x8b5fd3(0x366)][_0x8b5fd3(0x1f8)],_0x41b97b=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x587b59),_0x2b5544=await getDoc(_0x41b97b);if(_0x2b5544['exists']()){const _0x407f55={'id':_0x2b5544['id'],..._0x2b5544[_0x8b5fd3(0x59a)]()};startPresentation(_0x407f55);}else showMessage(_0x8b5fd3(0x4d5));}else{if(_0x3ef96f){const _0x2800e1=_0x3ef96f[_0x8b5fd3(0x366)][_0x8b5fd3(0x1f8)],_0x5b42ab=doc(db,_0x8b5fd3(0x4f4)+appId+_0x8b5fd3(0x5cb),_0x2800e1),_0x419f2=await getDoc(_0x5b42ab);_0x419f2[_0x8b5fd3(0x192)]()?(currentQuizData={'id':_0x419f2['id'],..._0x419f2['data']()},startAdminTest()):showMessage(_0x8b5fd3(0x4d5));}else{if(_0x307536){const _0x318090=_0x307536[_0x8b5fd3(0x366)]['quizId'],_0x5027e7=_0x307536[_0x8b5fd3(0x366)][_0x8b5fd3(0x161)];handleRenameQuiz(_0x318090,_0x5027e7);}else{if(_0x49577c){const _0x2e1580=_0x49577c[_0x8b5fd3(0x366)][_0x8b5fd3(0x1f8)];handleMoveQuiz(_0x2e1580);}else{if(_0x29137b){const _0x5f1a61=_0x29137b['dataset'][_0x8b5fd3(0x1f8)];handleQuizSettings(_0x5f1a61);}else{if(_0xed732a){const _0x1dfd90=_0xed732a[_0x8b5fd3(0x366)][_0x8b5fd3(0x1f8)];handleQuizStatus(_0x1dfd90);}else{if(_0x2c64d4){const _0x48d3d3=_0x2c64d4[_0x8b5fd3(0x366)][_0x8b5fd3(0x1f8)];handleDuplicateQuiz(_0x48d3d3);}}}}}}}}}}}}}),document[_0x8c252(0x525)](_0x8c252(0x29e))[_0x8c252(0x452)](_0x8c252(0x373))['addEventListener'](_0x8c252(0x441),_0x435d3c=>{const _0x153179=_0x8c252,_0x53427d=_0x435d3c['target']['closest'](_0x153179(0x37a));if(!_0x53427d||!_0x53427d[_0x153179(0x366)]['sort'])return;const _0x48f088=_0x53427d[_0x153179(0x366)]['sort'];if(quizLeaderboardSortBy===_0x48f088)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0x153179(0x335)?_0x153179(0x1e2):_0x153179(0x335);else{quizLeaderboardSortBy=_0x48f088;const _0x13b5b3=[_0x153179(0x24e)];quizLeaderboardSortOrder=_0x13b5b3['includes'](_0x48f088)?_0x153179(0x335):'desc';}renderQuizLeaderboard(currentSubmissions,currentQuizData,_0x153179(0x429));}),document[_0x8c252(0x525)](_0x8c252(0x16c))[_0x8c252(0x225)](_0x8c252(0x441),closePresentation),document[_0x8c252(0x525)](_0x8c252(0x51d))[_0x8c252(0x225)](_0x8c252(0x441),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0x8c252(0x525)](_0x8c252(0x4fa))['addEventListener']('click',()=>{const _0x4af744=_0x8c252;currentQuizData[_0x4af744(0x4ce)]&&currentPresentationSlide<currentQuizData['questions'][_0x4af744(0x5c8)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document['addEventListener'](_0x8c252(0x4e6),()=>{const _0x4a9114=_0x8c252;!document[_0x4a9114(0x230)]&&(presentationModal[_0x4a9114(0x49a)]['display']=_0x4a9114(0x38a));}),document['getElementById'](_0x8c252(0x51f))[_0x8c252(0x225)](_0x8c252(0x441),handleDeleteAllStudents),studentList['addEventListener'](_0x8c252(0x441),_0x162996=>{const _0x220e2e=_0x162996['target']['closest']('.delete-student-btn');if(_0x220e2e){const _0x29f031=_0x220e2e['dataset']['studentName'];handleDeleteStudent(_0x29f031);}}),document[_0x8c252(0x525)](_0x8c252(0x39c))[_0x8c252(0x225)]('click',handleGenerateFromFileClick),fileUploadInput[_0x8c252(0x225)]('change',_0xd82510=>{const _0x4b6248=_0x8c252,_0x5101f8=_0xd82510[_0x4b6248(0x42d)][_0x4b6248(0x169)][0x0],_0x276ee6=document[_0x4b6248(0x525)](_0x4b6248(0x39c));_0x5101f8?(selectedFile=_0x5101f8,_0x276ee6['disabled']=![]):(selectedFile=null,_0x276ee6['disabled']=!![]);}),document[_0x8c252(0x525)](_0x8c252(0x395))[_0x8c252(0x225)]('change',_0x458dac=>{const _0x92bf81=_0x8c252,_0x4cad4a=document[_0x92bf81(0x525)](_0x92bf81(0x36c)),_0x3a6c43=document[_0x92bf81(0x525)](_0x92bf81(0x49f)),_0xfff3c9=document[_0x92bf81(0x525)](_0x92bf81(0x474));_0x458dac[_0x92bf81(0x42d)][_0x92bf81(0x1c4)]===_0x92bf81(0x38a)?_0x4cad4a[_0x92bf81(0x370)][_0x92bf81(0x213)](_0x92bf81(0x49c)):(_0x4cad4a[_0x92bf81(0x370)][_0x92bf81(0x355)](_0x92bf81(0x49c)),_0x458dac['target'][_0x92bf81(0x1c4)]===_0x92bf81(0x54b)?(_0x3a6c43[_0x92bf81(0x4b1)]=_0x92bf81(0x38d),_0xfff3c9[_0x92bf81(0x1c4)]='10'):(_0x3a6c43[_0x92bf81(0x4b1)]=_0x92bf81(0x361),_0xfff3c9[_0x92bf81(0x1c4)]='30'));}),document[_0x8c252(0x525)]('quiz-type-select')[_0x8c252(0x225)](_0x8c252(0x56c),_0x20ce11=>{const _0xb4cc16=_0x8c252,_0x1da13c=document[_0xb4cc16(0x525)]('num-choices-container'),_0x1e1dfe=_0x20ce11['target'][_0xb4cc16(0x1c4)],_0x178c08=document[_0xb4cc16(0x452)](_0xb4cc16(0x203)),_0x598037=document[_0xb4cc16(0x525)](_0xb4cc16(0x44e)),_0x4f0fc7=document[_0xb4cc16(0x525)](_0xb4cc16(0x17c));_0x1e1dfe===_0xb4cc16(0x22e)?_0x178c08[_0xb4cc16(0x4b1)]='จำนวนคู่:':_0x178c08[_0xb4cc16(0x4b1)]='จำนวนข้อ:',_0x1e1dfe===_0xb4cc16(0x3e1)||_0x1e1dfe===_0xb4cc16(0x2b5)||_0x1e1dfe===_0xb4cc16(0x581)?_0x1da13c['classList'][_0xb4cc16(0x355)](_0xb4cc16(0x49c)):_0x1da13c[_0xb4cc16(0x370)][_0xb4cc16(0x213)]('hidden'),_0x598037[_0xb4cc16(0x3bb)]=_0x4f0fc7[_0xb4cc16(0x1c4)];}),document['getElementById']('num-questions')[_0x8c252(0x225)](_0x8c252(0x1df),_0x1ee299=>{const _0x382312=_0x8c252;document['getElementById'](_0x382312(0x44e))[_0x382312(0x3bb)]=_0x1ee299[_0x382312(0x42d)][_0x382312(0x1c4)];}),document[_0x8c252(0x525)](_0x8c252(0x187))[_0x8c252(0x225)]('change',_0x569176=>{const _0x356070=_0x8c252,_0x4588fd=document['getElementById'](_0x356070(0x367)),_0x1ca5eb=document[_0x356070(0x525)]('modal-timer-duration-label'),_0x4bcbb5=document[_0x356070(0x525)]('modal-timer-duration-input');_0x569176[_0x356070(0x42d)][_0x356070(0x1c4)]===_0x356070(0x38a)?_0x4588fd['classList']['add'](_0x356070(0x49c)):(_0x4588fd[_0x356070(0x370)][_0x356070(0x355)](_0x356070(0x49c)),_0x569176['target']['value']===_0x356070(0x54b)?_0x1ca5eb['textContent']=_0x356070(0x38d):_0x1ca5eb[_0x356070(0x4b1)]=_0x356070(0x361));}),document[_0x8c252(0x525)](_0x8c252(0x413))[_0x8c252(0x225)]('click',()=>{const _0x4c85c1=_0x8c252;document['getElementById'](_0x4c85c1(0x54d))[_0x4c85c1(0x370)][_0x4c85c1(0x213)]('hidden');}),document[_0x8c252(0x525)](_0x8c252(0x4b9))[_0x8c252(0x225)](_0x8c252(0x441),()=>{const _0x358495=_0x8c252;document['getElementById']('quiz-editor-modal')[_0x358495(0x370)]['add'](_0x358495(0x49c));}),document['getElementById'](_0x8c252(0x1af))[_0x8c252(0x225)](_0x8c252(0x441),()=>{const _0x508fe1=_0x8c252;document['getElementById'](_0x508fe1(0x54d))[_0x508fe1(0x370)][_0x508fe1(0x213)](_0x508fe1(0x49c)),showConfirmation(_0x508fe1(0x3af),handleSaveChanges);});}function handleModeSwitch(){const _0x5f50e4=_0x425095,_0x277d3d=document[_0x5f50e4(0x525)](_0x5f50e4(0x30b));currentMode===_0x5f50e4(0x328)?(adminPasswordModal[_0x5f50e4(0x370)]['remove'](_0x5f50e4(0x49c)),document['getElementById'](_0x5f50e4(0x463))[_0x5f50e4(0x339)]()):(currentMode=_0x5f50e4(0x328),_0x277d3d['innerHTML']=_0x5f50e4(0x390),_0x277d3d['title']='สลับไปโหมดผู้ควบคุม',showView(_0x5f50e4(0x328)));}function handleAdminLogin(){const _0x1ff6d7=_0x425095,_0x240fd1=document[_0x1ff6d7(0x525)](_0x1ff6d7(0x463)),_0x33dc52=document[_0x1ff6d7(0x525)]('password-error-msg');if(_0x240fd1[_0x1ff6d7(0x1c4)]===_0x1ff6d7(0x2f4)){adminPasswordModal[_0x1ff6d7(0x370)][_0x1ff6d7(0x213)](_0x1ff6d7(0x49c)),_0x240fd1[_0x1ff6d7(0x1c4)]='',_0x33dc52['classList'][_0x1ff6d7(0x213)](_0x1ff6d7(0x49c)),currentMode=_0x1ff6d7(0x44a);const _0x489978=document['getElementById']('mode-switcher-btn');_0x489978[_0x1ff6d7(0x1c1)]=_0x1ff6d7(0x172),_0x489978[_0x1ff6d7(0x53f)]=_0x1ff6d7(0x5c6),showView(_0x1ff6d7(0x27b));}else _0x33dc52[_0x1ff6d7(0x370)][_0x1ff6d7(0x355)](_0x1ff6d7(0x49c)),_0x240fd1[_0x1ff6d7(0x1c4)]='';}function switchProjectTab(_0x5cf0d4){const _0x46dee3=_0x425095;[_0x46dee3(0x2a2),_0x46dee3(0x4fe),_0x46dee3(0x551)]['forEach'](_0x35924b=>{const _0x5e9de0=_0x46dee3;document[_0x5e9de0(0x525)](_0x35924b+'-tab')[_0x5e9de0(0x370)]['remove'](_0x5e9de0(0x28b)),document[_0x5e9de0(0x525)](_0x35924b+_0x5e9de0(0x170))['classList']['add'](_0x5e9de0(0x49c));}),document['getElementById'](_0x5cf0d4+_0x46dee3(0x30e))[_0x46dee3(0x370)][_0x46dee3(0x213)]('active'),document[_0x46dee3(0x525)](_0x5cf0d4+_0x46dee3(0x170))[_0x46dee3(0x370)][_0x46dee3(0x355)]('hidden');}function switchQuizDetailTab(_0x4920f2){const _0x118738=_0x425095,_0x348a4f={'analytics':{'btn':'analytics-tab-btn','content':_0x118738(0x392)},'scores':{'btn':_0x118738(0x2d1),'content':_0x118738(0x1cc)},'leaderboard-quiz':{'btn':_0x118738(0x33d),'content':'leaderboard-quiz-tab-content'}};for(const _0x5b3bf5 in _0x348a4f){document['getElementById'](_0x348a4f[_0x5b3bf5][_0x118738(0x45c)])[_0x118738(0x370)][_0x118738(0x355)](_0x118738(0x28b)),document[_0x118738(0x525)](_0x348a4f[_0x5b3bf5][_0x118738(0x1e6)])[_0x118738(0x370)][_0x118738(0x213)](_0x118738(0x49c));}document[_0x118738(0x525)](_0x348a4f[_0x4920f2][_0x118738(0x45c)])[_0x118738(0x370)]['add'](_0x118738(0x28b)),document['getElementById'](_0x348a4f[_0x4920f2][_0x118738(0x1e6)])[_0x118738(0x370)][_0x118738(0x355)](_0x118738(0x49c));}function showMessage(_0x326eb2){const _0x43482b=_0x425095;modalMessage[_0x43482b(0x4b1)]=_0x326eb2,messageModal[_0x43482b(0x370)]['remove'](_0x43482b(0x49c));}function showConfirmation(_0x535f9a,_0x387d27){const _0x46ba79=_0x425095;document[_0x46ba79(0x525)](_0x46ba79(0x3a3))[_0x46ba79(0x4b1)]=_0x535f9a,document[_0x46ba79(0x525)](_0x46ba79(0x471))['querySelector']('h3')[_0x46ba79(0x4b1)]=_0x46ba79(0x36a),confirmAction=_0x387d27,confirmationModal['classList'][_0x46ba79(0x355)](_0x46ba79(0x49c));}function listenForProjects(){const _0x15eaf9=_0x425095,_0x4ad7f3=collection(db,'artifacts/'+appId+_0x15eaf9(0x421));unsubscribeProjectsListener=onSnapshot(_0x4ad7f3,_0x449418=>{const _0x2b84d3=_0x15eaf9;allProjects=_0x449418['docs'][_0x2b84d3(0x238)](_0x22f69e=>({'id':_0x22f69e['id'],..._0x22f69e[_0x2b84d3(0x59a)]()})),renderProjects();},_0x28e781=>{const _0x58a7cd=_0x15eaf9;console[_0x58a7cd(0x310)](_0x58a7cd(0x3ea),_0x28e781),showMessage('เกิดข้อผิดพลาดในการโหลดโปรเจค');});}async function renderProjects(){const _0x27eb90=_0x425095,_0x20f2bc=document[_0x27eb90(0x525)](_0x27eb90(0x21f))['value']['toLowerCase'](),_0x108240=document[_0x27eb90(0x525)](_0x27eb90(0x1e9))['value'];let _0x455c32=allProjects[_0x27eb90(0x563)](_0x2ac9cc=>_0x2ac9cc[_0x27eb90(0x4f0)][_0x27eb90(0x56a)]()[_0x27eb90(0x3aa)](_0x20f2bc));_0x455c32[_0x27eb90(0x4a2)]((_0x299fb5,_0x36629c)=>{const _0x17a16f=_0x27eb90;switch(_0x108240){case _0x17a16f(0x427):return _0x299fb5[_0x17a16f(0x4f0)][_0x17a16f(0x5ca)](_0x36629c[_0x17a16f(0x4f0)],'th');case'name_desc':return _0x36629c[_0x17a16f(0x4f0)][_0x17a16f(0x5ca)](_0x299fb5[_0x17a16f(0x4f0)],'th');case'date_asc':return new Date(_0x299fb5[_0x17a16f(0x2f6)])-new Date(_0x36629c[_0x17a16f(0x2f6)]);case _0x17a16f(0x477):default:return new Date(_0x36629c[_0x17a16f(0x2f6)])-new Date(_0x299fb5[_0x17a16f(0x2f6)]);}});const _0x4e3582={};await Promise[_0x27eb90(0x175)](_0x455c32['map'](async _0x38946e=>{const _0x1f5987=_0x27eb90,_0x241b50=query(collection(db,_0x1f5987(0x4f4)+appId+_0x1f5987(0x5cb)),where(_0x1f5987(0x340),'==',_0x38946e['id'])),_0x101c08=await getDocs(_0x241b50);_0x4e3582[_0x38946e['id']]=_0x101c08[_0x1f5987(0x1d2)];}));let _0x3794dd='';starredQuizzes[_0x27eb90(0x5c8)]>0x0&&(_0x3794dd+=_0x27eb90(0x56f)+starredQuizzes[_0x27eb90(0x5c8)]+'\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x20h-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x455c32[_0x27eb90(0x299)](_0x2676d7=>{const _0x345c8b=_0x27eb90,_0x36f106=_0x4e3582[_0x2676d7['id']]??0x0;_0x3794dd+=_0x345c8b(0x185)+_0x2676d7['id']+_0x345c8b(0x2ed)+_0x2676d7[_0x345c8b(0x4f0)]+_0x345c8b(0x271)+new Date(_0x2676d7[_0x345c8b(0x2f6)])['toLocaleDateString'](_0x345c8b(0x1fb))+_0x345c8b(0x179)+_0x36f106+_0x345c8b(0x26e)+_0x2676d7['id']+'\x22\x20data-name=\x22'+_0x2676d7[_0x345c8b(0x4f0)]+_0x345c8b(0x4d2);}),projectList['innerHTML']=_0x3794dd,noProjectsMsg[_0x27eb90(0x370)][_0x27eb90(0x255)]('hidden',_0x3794dd[_0x27eb90(0x5c8)]>0x0);}document[_0x425095(0x525)]('confirm-create-project-btn')[_0x425095(0x225)](_0x425095(0x441),async()=>{const _0xd87f9b=_0x425095,_0x33214d=document[_0xd87f9b(0x525)]('project-name-input'),_0x2bd4e5=_0x33214d[_0xd87f9b(0x1c4)][_0xd87f9b(0x3ff)]();if(!_0x2bd4e5){showMessage('กรุณาใส่ชื่อโปรเจค');return;}try{const _0x3d47db=doc(collection(db,_0xd87f9b(0x4f4)+appId+'/public/data/projects'));await setDoc(_0x3d47db,{'projectName':_0x2bd4e5,'students':[],'settings':{'resultsDisplay':_0xd87f9b(0x2e8),'shuffleSetting':_0xd87f9b(0x38a),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0xd87f9b(0x38a),'timerDuration':0xa},'createdBy':userId,'createdAt':new Date()[_0xd87f9b(0x24d)]()}),_0x33214d[_0xd87f9b(0x1c4)]='',createProjectModal[_0xd87f9b(0x370)]['add']('hidden'),showMessage(_0xd87f9b(0x3d8));}catch(_0x5d629a){console[_0xd87f9b(0x310)](_0xd87f9b(0x234),_0x5d629a),showMessage(_0xd87f9b(0x543));}}),projectList['addEventListener'](_0x425095(0x441),async _0x24c080=>{const _0xe78444=_0x425095,_0x120a53=_0x24c080[_0xe78444(0x42d)]['closest']('.project-card-content'),_0x3fe883=_0x24c080[_0xe78444(0x42d)][_0xe78444(0x411)]('.delete-project-btn');if(_0x120a53){const _0x2dd8f8=_0x120a53[_0xe78444(0x366)]['id'];_0x2dd8f8==='starred-project'?showStarredProjectView():(currentProjectId=_0x2dd8f8,await loadProjectDetails(currentProjectId),showView('project-detail'));}else{if(_0x3fe883){const _0x134f2a=_0x3fe883[_0xe78444(0x366)]['id'],_0x2a846e=_0x3fe883[_0xe78444(0x366)]['name'];showConfirmation(_0xe78444(0x31d)+_0x2a846e+_0xe78444(0x495),()=>handleDeleteProject(_0x134f2a));}}});function showStarredProjectView(){const _0x244b98=_0x425095;currentProjectId=_0x244b98(0x54e),currentProjectData=null,projectTitle['textContent']='แบบทดสอบที่ติดดาว',projectIdDisplay[_0x244b98(0x4b1)]=_0x244b98(0x1d3),showView('project-detail'),manageTab[_0x244b98(0x370)][_0x244b98(0x213)](_0x244b98(0x49c)),leaderboardTab[_0x244b98(0x370)][_0x244b98(0x213)](_0x244b98(0x49c)),switchProjectTab(_0x244b98(0x4fe)),renderQuizzes();}async function loadProjectDetails(_0x33ac1d){const _0x3cd190=_0x425095,_0x35e2c5=doc(db,'artifacts/'+appId+'/public/data/projects',_0x33ac1d),_0x132dd7=await getDoc(_0x35e2c5);if(_0x132dd7[_0x3cd190(0x192)]()){manageTab[_0x3cd190(0x370)][_0x3cd190(0x355)](_0x3cd190(0x49c)),leaderboardTab[_0x3cd190(0x370)]['remove']('hidden'),currentProjectData=_0x132dd7['data'](),projectTitle['textContent']=currentProjectData['projectName'],projectIdDisplay['textContent']=_0x33ac1d;const _0x53715c=currentProjectData[_0x3cd190(0x47f)]||{};document[_0x3cd190(0x525)](_0x3cd190(0x17c))[_0x3cd190(0x1c4)]=_0x53715c['defaultNumQuestions']||0x5,document[_0x3cd190(0x525)](_0x3cd190(0x535))[_0x3cd190(0x1c4)]=_0x53715c[_0x3cd190(0x458)]||0x4,document['getElementById'](_0x3cd190(0x44e))['value']=_0x53715c['defaultPassingScore']||Math[_0x3cd190(0x3b3)]((_0x53715c[_0x3cd190(0x40a)]||0x5)/0x2),document['getElementById'](_0x3cd190(0x44e))[_0x3cd190(0x3bb)]=_0x53715c[_0x3cd190(0x40a)]||0x5,document['getElementById']('results-display-select')[_0x3cd190(0x1c4)]=_0x53715c['resultsDisplay']||_0x3cd190(0x2e8),document['getElementById']('shuffle-setting-select')[_0x3cd190(0x1c4)]=_0x53715c[_0x3cd190(0x43b)]||_0x3cd190(0x38a);const _0xc47cfe=_0x53715c[_0x3cd190(0x15c)]||_0x3cd190(0x38a),_0x29ba45=_0x53715c[_0x3cd190(0x55f)]||0xa,_0x2f85fe=document[_0x3cd190(0x525)](_0x3cd190(0x395)),_0x213466=document['getElementById'](_0x3cd190(0x36c)),_0x86958f=document[_0x3cd190(0x525)]('timer-duration-input');_0x2f85fe['value']=_0xc47cfe,_0x86958f['value']=_0x29ba45;_0xc47cfe===_0x3cd190(0x38a)?_0x213466['classList'][_0x3cd190(0x213)](_0x3cd190(0x49c)):_0x213466['classList']['remove'](_0x3cd190(0x49c));_0x2f85fe[_0x3cd190(0x218)](new Event(_0x3cd190(0x56c)));if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x33ac1d),listenForProjectQuizzes(_0x33ac1d),listenForStudentProfiles(_0x33ac1d);}else showMessage(_0x3cd190(0x1fc)),showView('admin-dashboard');}async function handleDeleteProject(_0x41b8b2){const _0x3d7705=_0x425095;try{const _0x140cf3=writeBatch(db),_0x552d6e=collection(db,'artifacts/'+appId+'/public/data/quizzes'),_0x1120c6=query(_0x552d6e,where(_0x3d7705(0x340),'==',_0x41b8b2)),_0x48246d=await getDocs(_0x1120c6);for(const _0x52abf8 of _0x48246d[_0x3d7705(0x4be)]){const _0x377889=collection(db,'artifacts/'+appId+_0x3d7705(0x27e)+_0x52abf8['id']+'/submissions'),_0x32204d=await getDocs(_0x377889);_0x32204d[_0x3d7705(0x299)](_0x3d94e2=>{const _0x29ca2b=_0x3d7705;_0x140cf3[_0x29ca2b(0x227)](_0x3d94e2[_0x29ca2b(0x5be)]);}),_0x140cf3[_0x3d7705(0x227)](_0x52abf8[_0x3d7705(0x5be)]);}const _0x1714cc=collection(db,_0x3d7705(0x4f4)+appId+_0x3d7705(0x18a)+_0x41b8b2+_0x3d7705(0x1bd)),_0x45b8ae=await getDocs(_0x1714cc);_0x45b8ae['forEach'](_0x4546e8=>{const _0x3e0821=_0x3d7705;_0x140cf3[_0x3e0821(0x227)](_0x4546e8[_0x3e0821(0x5be)]);});const _0x2162be=doc(db,_0x3d7705(0x4f4)+appId+_0x3d7705(0x421),_0x41b8b2);_0x140cf3[_0x3d7705(0x227)](_0x2162be),await _0x140cf3['commit'](),showMessage(_0x3d7705(0x3cd)),showView('admin-dashboard');}catch(_0x18de09){console[_0x3d7705(0x310)](_0x3d7705(0x41d),_0x18de09),showMessage('เกิดข้อผิดพลาดในการลบโปรเจค');}}document[_0x425095(0x525)](_0x425095(0x555))[_0x425095(0x225)](_0x425095(0x441),async()=>{const _0x2cf11f=_0x425095;if(!currentProjectId)return;const _0x511650={'defaultNumQuestions':parseInt(document[_0x2cf11f(0x525)]('num-questions')['value']),'defaultNumChoices':parseInt(document[_0x2cf11f(0x525)]('num-choices')[_0x2cf11f(0x1c4)]),'defaultPassingScore':parseInt(document[_0x2cf11f(0x525)]('passing-score-input')[_0x2cf11f(0x1c4)]),'resultsDisplay':document['getElementById'](_0x2cf11f(0x19b))['value'],'shuffleSetting':document['getElementById'](_0x2cf11f(0x3ec))[_0x2cf11f(0x1c4)],'timerMode':document[_0x2cf11f(0x525)]('timer-mode-select')[_0x2cf11f(0x1c4)],'timerDuration':parseInt(document[_0x2cf11f(0x525)](_0x2cf11f(0x474))['value'])};try{const _0x5b23ef=doc(db,_0x2cf11f(0x4f4)+appId+_0x2cf11f(0x421),currentProjectId);await updateDoc(_0x5b23ef,{'settings':_0x511650}),showMessage(_0x2cf11f(0x431));}catch(_0x57250e){console[_0x2cf11f(0x310)]('Error\x20saving\x20settings:',_0x57250e),showMessage(_0x2cf11f(0x30f));}});function listenForStudents(_0x141486){const _0x4d5559=_0x425095,_0x1ed5e3=doc(db,_0x4d5559(0x4f4)+appId+'/public/data/projects',_0x141486);unsubscribeStudentsListener=onSnapshot(_0x1ed5e3,_0x1b8b1f=>{const _0x153102=_0x4d5559;if(_0x1b8b1f[_0x153102(0x192)]()){const _0x58172b=_0x1b8b1f[_0x153102(0x59a)]();currentProjectData=_0x58172b,renderStudentList(_0x58172b[_0x153102(0x16a)]||[]);}});}function renderStudentList(_0x56d734){const _0x1a7e5a=_0x425095,_0x4c7c1d=document[_0x1a7e5a(0x525)](_0x1a7e5a(0x51f));_0x56d734[_0x1a7e5a(0x5c8)]===0x0?(studentList[_0x1a7e5a(0x1c1)]=_0x1a7e5a(0x18d),_0x4c7c1d[_0x1a7e5a(0x370)]['add'](_0x1a7e5a(0x49c))):(studentList[_0x1a7e5a(0x1c1)]=_0x56d734[_0x1a7e5a(0x238)](_0x5d76d2=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x5d76d2+_0x1a7e5a(0x5b1)+_0x5d76d2+'\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join'](''),_0x4c7c1d['classList'][_0x1a7e5a(0x355)](_0x1a7e5a(0x49c)));}document[_0x425095(0x525)](_0x425095(0x41f))[_0x425095(0x225)](_0x425095(0x441),async()=>{const _0x10b4a2=_0x425095;if(!currentProjectId)return;const _0x55c85e=document[_0x10b4a2(0x525)](_0x10b4a2(0x4af)),_0x474d7e=_0x55c85e['value'][_0x10b4a2(0x3ff)]();if(!_0x474d7e){showMessage(_0x10b4a2(0x2df));return;}const _0x1d273b=_0x474d7e[_0x10b4a2(0x20c)]('\x0a')['map'](_0x31d01f=>_0x31d01f[_0x10b4a2(0x3ff)]())['filter'](_0x13666d=>_0x13666d);if(_0x1d273b[_0x10b4a2(0x5c8)]===0x0)return;try{const _0x391a46=doc(db,_0x10b4a2(0x4f4)+appId+_0x10b4a2(0x421),currentProjectId),_0x2180c3=await getDoc(_0x391a46);if(_0x2180c3[_0x10b4a2(0x192)]()){const _0x372652=_0x2180c3['data']()['students']||[],_0x492d77=[...new Set([..._0x372652,..._0x1d273b])];await updateDoc(_0x391a46,{'students':_0x492d77}),_0x55c85e[_0x10b4a2(0x1c4)]='';}}catch(_0x37f2c3){console['error'](_0x10b4a2(0x486),_0x37f2c3),showMessage(_0x10b4a2(0x2ca));}});function handleDeleteStudent(_0x21d14f){const _0x6c82f2=_0x425095;showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22'+_0x21d14f+_0x6c82f2(0x3b9),async()=>{const _0x363bbb=_0x6c82f2;if(!currentProjectId||!currentProjectData)return;const _0x1cc5a1=currentProjectData[_0x363bbb(0x16a)][_0x363bbb(0x563)](_0x1cc456=>_0x1cc456!==_0x21d14f);try{const _0x185779=doc(db,_0x363bbb(0x4f4)+appId+_0x363bbb(0x421),currentProjectId),_0x3650e8=doc(db,_0x363bbb(0x4f4)+appId+_0x363bbb(0x18a)+currentProjectId+_0x363bbb(0x1bd),_0x21d14f),_0x232bb5=writeBatch(db);_0x232bb5[_0x363bbb(0x25c)](_0x185779,{'students':_0x1cc5a1}),_0x232bb5[_0x363bbb(0x227)](_0x3650e8),await _0x232bb5[_0x363bbb(0x5ab)]();}catch(_0x81f831){console[_0x363bbb(0x310)]('Error\x20deleting\x20student:',_0x81f831),showMessage(_0x363bbb(0x3da));}});}function handleDeleteAllStudents(){const _0x1102d3=_0x425095;showConfirmation(_0x1102d3(0x17e),async()=>{const _0x4a7e82=_0x1102d3;if(!currentProjectId)return;try{const _0x588b10=doc(db,_0x4a7e82(0x4f4)+appId+_0x4a7e82(0x421),currentProjectId),_0x2a36e2=collection(db,'artifacts/'+appId+_0x4a7e82(0x18a)+currentProjectId+_0x4a7e82(0x1bd)),_0x42f716=await getDocs(_0x2a36e2),_0x36b9a0=writeBatch(db);_0x36b9a0['update'](_0x588b10,{'students':[]}),_0x42f716[_0x4a7e82(0x299)](_0x67f68f=>_0x36b9a0[_0x4a7e82(0x227)](_0x67f68f[_0x4a7e82(0x5be)])),await _0x36b9a0[_0x4a7e82(0x5ab)]();}catch(_0x1fad51){console[_0x4a7e82(0x310)](_0x4a7e82(0x4ef),_0x1fad51),showMessage(_0x4a7e82(0x163));}});}async function handleGenerateFromFileClick(){const _0x5cc74b=_0x425095;if(!selectedFile){showMessage('กรุณาเลือกไฟล์ก่อน');return;}const _0x3b9a71=document[_0x5cc74b(0x525)](_0x5cc74b(0x2c4)),_0x19f532=document['getElementById']('loader-text'),_0x358553=document[_0x5cc74b(0x525)](_0x5cc74b(0x210)),_0x11362a=document[_0x5cc74b(0x525)](_0x5cc74b(0x39c));_0x11362a['disabled']=!![],document[_0x5cc74b(0x525)](_0x5cc74b(0x1c6))['classList']['remove'](_0x5cc74b(0x49c)),_0x358553['innerHTML']='',_0x3b9a71[_0x5cc74b(0x370)][_0x5cc74b(0x355)](_0x5cc74b(0x49c)),_0x19f532[_0x5cc74b(0x4b1)]=_0x5cc74b(0x27f);const _0xc81ba8=new FileReader();_0xc81ba8['readAsDataURL'](selectedFile),_0xc81ba8['onload']=async()=>{const _0x53e438=_0x5cc74b;try{const _0x57e5a6=_0xc81ba8['result'][_0x53e438(0x20c)](',')[0x1],_0x261a1f=selectedFile[_0x53e438(0x388)];await generateQuizFromFile(_0x261a1f,_0x57e5a6);}catch(_0x11f9e5){console[_0x53e438(0x310)](_0x53e438(0x1e1),_0x11f9e5),showMessage(_0x53e438(0x575)+_0x11f9e5['message']),_0x3b9a71['classList']['add'](_0x53e438(0x49c));}finally{}},_0xc81ba8[_0x5cc74b(0x198)]=_0x54fe2c=>{const _0x4ddf5c=_0x5cc74b;console[_0x4ddf5c(0x310)](_0x4ddf5c(0x248),_0x54fe2c),showMessage(_0x4ddf5c(0x3a9)),_0x3b9a71[_0x4ddf5c(0x370)]['add'](_0x4ddf5c(0x49c)),_0x11362a['disabled']=![];};}function autoFormatMath(_0x214ef8){const _0xaf951=_0x425095;if(typeof _0x214ef8!==_0xaf951(0x19c)||!_0x214ef8)return _0x214ef8;const _0x58d60d=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x4b99d4=_0x214ef8[_0xaf951(0x1d4)](_0x58d60d,_0x772e89=>{const _0x4fcbaf=_0xaf951;return'$'+_0x772e89[_0x4fcbaf(0x3ff)]()+'$';});return _0x4b99d4;}function sanitizeQuizData(_0x481582){const _0x34481d=_0x425095;if(!_0x481582||!_0x481582['questions'])return _0x481582;const _0x2c82aa={'imes':_0x34481d(0x1c9),'div':'\x5cdiv'},_0x33a56b=_0x3a90f2=>{const _0x1aec75=_0x34481d;if(typeof _0x3a90f2!==_0x1aec75(0x19c))return _0x3a90f2;let _0x45f21d=_0x3a90f2;for(const [_0x214046,_0x152b95]of Object['entries'](_0x2c82aa)){const _0x5359b9=new RegExp('\x5cb'+_0x214046+'\x5cb','g');_0x45f21d=_0x45f21d[_0x1aec75(0x1d4)](_0x5359b9,_0x152b95);}return _0x45f21d=_0x45f21d[_0x1aec75(0x1d4)](/\\\//g,'\x5cdiv'),_0x45f21d=_0x45f21d['replace'](/<(i|em)>\s*div\s*<\/\1>/gi,'\x5cdiv')[_0x1aec75(0x1d4)](/<(i|em)>\s*times\s*<\/\1>/gi,_0x1aec75(0x1c9))['replace'](/÷/g,_0x1aec75(0x276))[_0x1aec75(0x1d4)](/×/g,'\x5ctimes'),_0x45f21d=_0x45f21d[_0x1aec75(0x1d4)](/(\d)(\\frac)/g,_0x1aec75(0x18b)),_0x45f21d=autoFormatMath(_0x45f21d),_0x45f21d;};return _0x481582[_0x34481d(0x161)]&&(_0x481582['topic']=_0x33a56b(_0x481582[_0x34481d(0x161)])),_0x481582[_0x34481d(0x4ce)][_0x34481d(0x299)](_0x1b97bd=>{const _0x1f2c92=_0x34481d;_0x1b97bd['questionText']=_0x33a56b(_0x1b97bd[_0x1f2c92(0x35c)]),_0x1b97bd[_0x1f2c92(0x513)]&&(_0x1b97bd[_0x1f2c92(0x513)]=_0x1b97bd[_0x1f2c92(0x513)][_0x1f2c92(0x238)](_0x33a56b)),_0x1b97bd[_0x1f2c92(0x1aa)]&&(_0x1b97bd[_0x1f2c92(0x1aa)]=_0x33a56b(_0x1b97bd[_0x1f2c92(0x1aa)])),_0x1b97bd['stem']&&(_0x1b97bd['stem']=_0x33a56b(_0x1b97bd['stem'])),_0x1b97bd[_0x1f2c92(0x39e)]&&(_0x1b97bd['correctResponse']=_0x33a56b(_0x1b97bd[_0x1f2c92(0x39e)])),_0x1b97bd[_0x1f2c92(0x280)]&&(_0x1b97bd[_0x1f2c92(0x280)]=_0x1b97bd[_0x1f2c92(0x280)]['map'](_0x33a56b));}),_0x481582;}const simpleMathPrompt=_0x425095(0x321);async function handleGenerateFromLink(){const _0x4998f7=_0x425095,_0x2310b5=document[_0x4998f7(0x525)](_0x4998f7(0x3cb)),_0xb86455=document[_0x4998f7(0x525)](_0x4998f7(0x58e)),_0x4abdc9=_0x2310b5['value']['trim'](),_0x1d6c91=_0xb86455[_0x4998f7(0x1c4)][_0x4998f7(0x3ff)]();if(!_0x4abdc9){showMessage(_0x4998f7(0x444));return;}const _0x55e55e=document['getElementById'](_0x4998f7(0x2c4)),_0xda48d5=document[_0x4998f7(0x525)](_0x4998f7(0x3ba)),_0xee1756=document['getElementById'](_0x4998f7(0x210)),_0x56aa24=document[_0x4998f7(0x525)](_0x4998f7(0x205));document[_0x4998f7(0x525)]('quiz-generation-area')[_0x4998f7(0x370)][_0x4998f7(0x355)]('hidden'),_0xee1756[_0x4998f7(0x1c1)]='',_0x55e55e[_0x4998f7(0x370)]['remove'](_0x4998f7(0x49c)),_0xda48d5[_0x4998f7(0x4b1)]=_0x4998f7(0x186),_0x56aa24[_0x4998f7(0x48e)]=!![];try{const _0x11e814=_0x4998f7(0x39f)+encodeURIComponent(_0x4abdc9),_0x154bc3=await fetch(_0x11e814);if(!_0x154bc3['ok'])throw new Error(_0x4998f7(0x4eb)+_0x154bc3[_0x4998f7(0x23c)]+')');const _0x115cc8=await _0x154bc3['text'](),_0x56828f=extractTextFromHtml(_0x115cc8);if(!_0x56828f||_0x56828f[_0x4998f7(0x5c8)]<0x64)throw new Error('ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา');await generateQuiz(_0x1d6c91,_0x56828f);}catch(_0x33d230){console[_0x4998f7(0x310)](_0x4998f7(0x257),_0x33d230),showMessage('เกิดข้อผิดพลาด:\x20'+_0x33d230[_0x4998f7(0x3be)]),_0xee1756[_0x4998f7(0x1c1)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>';}finally{_0x55e55e[_0x4998f7(0x370)]['add'](_0x4998f7(0x49c)),_0x56aa24[_0x4998f7(0x48e)]=![];}}function extractTextFromHtml(_0x194e3b){const _0x1e0359=_0x425095,_0x234c82=new DOMParser()[_0x1e0359(0x4cc)](_0x194e3b,'text/html');return _0x234c82[_0x1e0359(0x381)](_0x1e0359(0x4e4))['forEach'](_0x4a073c=>_0x4a073c[_0x1e0359(0x355)]()),_0x234c82[_0x1e0359(0x3fd)]['textContent']||'';}document['getElementById'](_0x425095(0x3db))['addEventListener'](_0x425095(0x441),()=>{const _0xa5903c=_0x425095,_0x2d2e4d=document[_0xa5903c(0x525)]('topic-input')['value'][_0xa5903c(0x3ff)]();if(!_0x2d2e4d){showMessage('กรุณาป้อนหัวข้อก่อน');return;}generateQuiz(_0x2d2e4d,null);}),document[_0x425095(0x525)](_0x425095(0x472))[_0x425095(0x225)](_0x425095(0x441),()=>{const _0x10f732=_0x425095,_0x2205f7=document[_0x10f732(0x525)]('text-content-input')['value'][_0x10f732(0x3ff)]();if(!_0x2205f7){showMessage(_0x10f732(0x51a));return;}generateQuiz(null,_0x2205f7);});async function generateQuiz(_0x4b5ba7,_0x390aaf,_0x3fe82f=null){const _0x1ef2b9=_0x425095,_0x593fec=document[_0x1ef2b9(0x525)](_0x1ef2b9(0x475))[_0x1ef2b9(0x46e)],_0x53c4dd=document[_0x1ef2b9(0x525)](_0x1ef2b9(0x377))['value'],_0x1331dd=document[_0x1ef2b9(0x525)](_0x1ef2b9(0x17c))['value'],_0x4d0aeb=document['getElementById'](_0x1ef2b9(0x535))[_0x1ef2b9(0x1c4)],_0x2204cc=document['getElementById'](_0x1ef2b9(0x4d6))[_0x1ef2b9(0x46e)],_0x77b35c=_0x2204cc?'':_0x1ef2b9(0x25a);let _0x563833='',_0x10e446='',_0x442588,_0x2e3196=_0x1ef2b9(0x5a5)+_0x4b5ba7+'\x22';if(!_0x4b5ba7&&_0x390aaf)_0x2e3196=_0x1ef2b9(0x1a3);else!_0x4b5ba7&&!_0x390aaf&&(_0x2e3196=_0x1ef2b9(0x2ee));const _0x5afd5a={'type':_0x1ef2b9(0x51c),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x1ef2b9(0x3b6),'items':{'type':_0x1ef2b9(0x164)}},'correctAnswerIndex':{'type':_0x1ef2b9(0x30d)},'explanation':{'type':_0x1ef2b9(0x164)},'imageCode':{'type':_0x1ef2b9(0x164)}},'required':['questionText',_0x1ef2b9(0x513),'correctAnswerIndex',_0x1ef2b9(0x1aa)]},_0xa1a9dc={'type':'OBJECT','properties':{'questionText':{'type':_0x1ef2b9(0x164)},'idealAnswer':{'type':_0x1ef2b9(0x164)},'explanation':{'type':_0x1ef2b9(0x164)},'imageCode':{'type':_0x1ef2b9(0x164)}},'required':['questionText','idealAnswer','explanation']},_0x213f0c={'type':_0x1ef2b9(0x51c),'properties':{'questionText':{'type':_0x1ef2b9(0x164)},'questionType':{'type':_0x1ef2b9(0x164),'enum':[_0x1ef2b9(0x3e1),_0x1ef2b9(0x4ac)]},'options':{'type':'ARRAY','items':{'type':_0x1ef2b9(0x164)}},'correctAnswerIndex':{'type':_0x1ef2b9(0x30d)},'idealAnswer':{'type':_0x1ef2b9(0x164)},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x1ef2b9(0x35c),_0x1ef2b9(0x4bb),'explanation']},_0x789b3c={'type':_0x1ef2b9(0x51c),'properties':{'questionText':{'type':'STRING'},'correctAnswer':{'type':_0x1ef2b9(0x386)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x1ef2b9(0x164)}},'required':[_0x1ef2b9(0x35c),_0x1ef2b9(0x53e),_0x1ef2b9(0x1aa)]},_0x2ce43f={'type':_0x1ef2b9(0x51c),'properties':{'questionType':{'type':_0x1ef2b9(0x164),'enum':[_0x1ef2b9(0x47d)]},'stem':{'type':_0x1ef2b9(0x164)},'correctResponse':{'type':_0x1ef2b9(0x164)},'allResponses':{'type':_0x1ef2b9(0x3b6),'items':{'type':'STRING'}},'explanation':{'type':_0x1ef2b9(0x164)},'imageCode':{'type':'STRING'}},'required':['questionType',_0x1ef2b9(0x329),_0x1ef2b9(0x39e),'allResponses',_0x1ef2b9(0x1aa)]};let _0x1852e4;if(_0x3fe82f!==null){const _0x6b9108=currentQuizData[_0x1ef2b9(0x4ce)][_0x3fe82f][_0x1ef2b9(0x4bb)],_0x41d32a=_0x593fec?_0x1ef2b9(0x5ba):'';if(_0x6b9108==='multiple_choice')_0x563833='สร้างแบบทดสอบปรนัย'+_0x77b35c+_0x1ef2b9(0x1ae)+_0x2e3196+'.\x20ให้มี\x20'+_0x4d0aeb+'\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20'+_0x41d32a+'\x20'+simpleMathPrompt,_0x442588=_0x5afd5a;else _0x6b9108===_0x1ef2b9(0x47d)?(_0x563833=_0x1ef2b9(0x449)+_0x2e3196+_0x1ef2b9(0x4f2)+_0x77b35c+_0x1ef2b9(0x3a6)+_0x41d32a+'\x20'+simpleMathPrompt,_0x442588={'type':'OBJECT','properties':{'questionType':{'type':_0x1ef2b9(0x164),'enum':[_0x1ef2b9(0x47d)]},'stem':{'type':_0x1ef2b9(0x164)},'correctResponse':{'type':_0x1ef2b9(0x164)},'explanation':{'type':_0x1ef2b9(0x164)},'imageCode':{'type':'STRING'}},'required':[_0x1ef2b9(0x4bb),'stem',_0x1ef2b9(0x39e),_0x1ef2b9(0x1aa)]}):(_0x563833=_0x1ef2b9(0x309)+_0x77b35c+'\x201\x20ข้อ\x20'+_0x2e3196+_0x1ef2b9(0x223)+_0x41d32a+'\x20'+simpleMathPrompt,_0x442588=_0xa1a9dc);_0x1852e4=_0x442588;}else{const _0x565bba=_0x593fec?_0x1ef2b9(0x511):'';switch(_0x53c4dd){case _0x1ef2b9(0x3e1):_0x563833=_0x1ef2b9(0x487)+_0x77b35c+'\x20'+_0x1331dd+_0x1ef2b9(0x41c)+_0x2e3196+_0x1ef2b9(0x21e)+_0x4d0aeb+_0x1ef2b9(0x466)+_0x565bba+'\x20'+simpleMathPrompt,_0x442588=_0x5afd5a;break;case _0x1ef2b9(0x2b5):_0x563833=_0x1ef2b9(0x309)+_0x77b35c+'\x20'+_0x1331dd+'\x20ข้อ\x20'+_0x2e3196+'.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20'+_0x4d0aeb+'\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20'+_0x565bba+'\x20'+simpleMathPrompt,_0x442588=_0x5afd5a;break;case _0x1ef2b9(0x1c0):_0x563833=_0x1ef2b9(0x309)+_0x77b35c+'\x20'+_0x1331dd+_0x1ef2b9(0x41c)+_0x2e3196+_0x1ef2b9(0x3d2)+_0x565bba+'\x20'+simpleMathPrompt,_0x442588=_0xa1a9dc;break;case _0x1ef2b9(0x581):_0x563833=_0x1ef2b9(0x3ee)+_0x77b35c+'\x20'+_0x1331dd+_0x1ef2b9(0x41c)+_0x2e3196+_0x1ef2b9(0x3bf)+_0x4d0aeb+_0x1ef2b9(0x182)+_0x565bba+'\x20'+simpleMathPrompt+_0x1ef2b9(0x517),_0x442588=_0x213f0c;break;case _0x1ef2b9(0x4a3):_0x563833=_0x1ef2b9(0x5c1)+_0x77b35c+'\x20'+_0x1331dd+'\x20ข้อ\x20'+_0x2e3196+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20'+_0x565bba+'\x20'+simpleMathPrompt,_0x442588=_0x789b3c;break;case _0x1ef2b9(0x22e):_0x563833=_0x1ef2b9(0x1ac)+_0x77b35c+'\x20'+_0x1331dd+_0x1ef2b9(0x292)+_0x2e3196+'.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20'+_0x1331dd+'\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20'+_0x565bba+'\x20'+simpleMathPrompt,_0x442588=_0x2ce43f;break;}_0x1852e4={'type':_0x1ef2b9(0x51c),'properties':{'topic':{'type':'STRING'},'questions':{'type':'ARRAY','items':_0x442588}},'required':[_0x1ef2b9(0x161),_0x1ef2b9(0x4ce)]};}return _0x390aaf?(_0x563833=_0x1ef2b9(0x5c0)+_0x390aaf+_0x1ef2b9(0x372)+_0x563833,_0x10e446=_0x1ef2b9(0x565)):_0x10e446=_0x1ef2b9(0x40d),handleApiCall(_0x563833,_0x10e446,_0x1852e4,_0x3fe82f);}async function generateQuizFromFile(_0x1754f8,_0xef2ef8){const _0x5bc137=_0x425095,_0xae912d=document[_0x5bc137(0x525)]('file-topic-input')[_0x5bc137(0x1c4)][_0x5bc137(0x3ff)](),_0x1041be=document[_0x5bc137(0x525)](_0x5bc137(0x377))[_0x5bc137(0x1c4)],_0x263351=document[_0x5bc137(0x525)]('num-questions')['value'],_0x53f2a1=document['getElementById']('num-choices')['value'],_0x2f8a23=document['getElementById'](_0x5bc137(0x475))[_0x5bc137(0x46e)],_0xbea7b1=document[_0x5bc137(0x525)]('force-math-checkbox')[_0x5bc137(0x46e)],_0x1b2fdd=_0xbea7b1?'':_0x5bc137(0x25a);let _0x396a0c='',_0x41f450,_0x18d1d9=_0x5bc137(0x5a5)+_0xae912d+'\x22';!_0xae912d&&(_0x18d1d9=_0x5bc137(0x2c3));const _0x55a1e2=_0x2f8a23?_0x5bc137(0x511):'';switch(_0x1041be){case _0x5bc137(0x3e1):_0x396a0c=_0x5bc137(0x487)+_0x1b2fdd+'\x20'+_0x263351+_0x5bc137(0x41c)+_0x18d1d9+'.\x20แต่ละข้อมี\x20'+_0x53f2a1+_0x5bc137(0x466)+_0x55a1e2+'\x20'+simpleMathPrompt,_0x41f450={'type':_0x5bc137(0x51c),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x5bc137(0x3b6),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x5bc137(0x30d)},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':['questionText','options',_0x5bc137(0x3dc),_0x5bc137(0x1aa)]};break;case _0x5bc137(0x2b5):_0x396a0c='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x1b2fdd+'\x20'+_0x263351+_0x5bc137(0x41c)+_0x18d1d9+_0x5bc137(0x2d6)+_0x53f2a1+_0x5bc137(0x398)+_0x55a1e2+'\x20'+simpleMathPrompt,_0x41f450={'type':_0x5bc137(0x51c),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x5bc137(0x3b6),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x5bc137(0x30d)},'explanation':{'type':_0x5bc137(0x164)},'imageCode':{'type':_0x5bc137(0x164)}},'required':[_0x5bc137(0x35c),_0x5bc137(0x513),_0x5bc137(0x3dc),'explanation']};break;case'fill_in_no_choices':_0x396a0c=_0x5bc137(0x309)+_0x1b2fdd+'\x20'+_0x263351+_0x5bc137(0x41c)+_0x18d1d9+_0x5bc137(0x3d2)+_0x55a1e2+'\x20'+simpleMathPrompt,_0x41f450={'type':_0x5bc137(0x51c),'properties':{'questionText':{'type':_0x5bc137(0x164)},'idealAnswer':{'type':_0x5bc137(0x164)},'explanation':{'type':_0x5bc137(0x164)},'imageCode':{'type':_0x5bc137(0x164)}},'required':[_0x5bc137(0x35c),_0x5bc137(0x55a),'explanation']};break;case _0x5bc137(0x581):_0x396a0c='สร้างแบบทดสอบ'+_0x1b2fdd+'\x20'+_0x263351+_0x5bc137(0x41c)+_0x18d1d9+_0x5bc137(0x3bf)+_0x53f2a1+_0x5bc137(0x182)+_0x55a1e2+'\x20'+simpleMathPrompt+_0x5bc137(0x517),_0x41f450={'type':_0x5bc137(0x51c),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x5bc137(0x164),'enum':[_0x5bc137(0x3e1),_0x5bc137(0x4ac)]},'options':{'type':_0x5bc137(0x3b6),'items':{'type':_0x5bc137(0x164)}},'correctAnswerIndex':{'type':_0x5bc137(0x30d)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x5bc137(0x164)},'imageCode':{'type':_0x5bc137(0x164)}},'required':['questionText',_0x5bc137(0x4bb),_0x5bc137(0x1aa)]};break;case _0x5bc137(0x4a3):_0x396a0c=_0x5bc137(0x5c1)+_0x1b2fdd+'\x20'+_0x263351+_0x5bc137(0x41c)+_0x18d1d9+_0x5bc137(0x162)+_0x55a1e2+'\x20'+simpleMathPrompt,_0x41f450={'type':_0x5bc137(0x51c),'properties':{'questionText':{'type':_0x5bc137(0x164)},'correctAnswer':{'type':_0x5bc137(0x386)},'explanation':{'type':_0x5bc137(0x164)},'imageCode':{'type':_0x5bc137(0x164)}},'required':[_0x5bc137(0x35c),_0x5bc137(0x53e),_0x5bc137(0x1aa)]};break;case _0x5bc137(0x22e):_0x396a0c=_0x5bc137(0x1ac)+_0x1b2fdd+'\x20'+_0x263351+_0x5bc137(0x292)+_0x18d1d9+'.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20'+_0x263351+'\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20'+_0x55a1e2+'\x20'+simpleMathPrompt,_0x41f450={'type':_0x5bc137(0x51c),'properties':{'questionType':{'type':'STRING','enum':[_0x5bc137(0x47d)]},'stem':{'type':_0x5bc137(0x164)},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x5bc137(0x3b6),'items':{'type':_0x5bc137(0x164)}},'explanation':{'type':_0x5bc137(0x164)},'imageCode':{'type':_0x5bc137(0x164)}},'required':[_0x5bc137(0x4bb),_0x5bc137(0x329),_0x5bc137(0x39e),'allResponses',_0x5bc137(0x1aa)]};break;}const _0x2f417={'type':_0x5bc137(0x51c),'properties':{'topic':{'type':_0x5bc137(0x164)},'questions':{'type':_0x5bc137(0x3b6),'items':_0x41f450}},'required':[_0x5bc137(0x161),_0x5bc137(0x4ce)]},_0x2f1983=_0x5bc137(0x2bd)+_0x396a0c,_0x59250e={'contents':[{'parts':[{'text':_0x2f1983},{'inlineData':{'mimeType':_0x1754f8,'data':_0xef2ef8}}]}],'generationConfig':{'responseMimeType':_0x5bc137(0x1e3),'responseSchema':_0x2f417}};return handleApiCall(_0x59250e[_0x5bc137(0x4b7)][0x0][_0x5bc137(0x403)],'AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...',_0x2f417);}async function handleApiCall(_0x13c660,_0x54cffc,_0x4c01da,_0x5144d1=null){const _0x33dc5c=_0x425095,_0x4e1fae=document[_0x33dc5c(0x525)](_0x33dc5c(0x1c6)),_0x29e95b=document[_0x33dc5c(0x525)]('loader'),_0x248a5d=document[_0x33dc5c(0x525)]('loader-text'),_0x22049d=document['getElementById'](_0x33dc5c(0x210));_0x4e1fae['classList'][_0x33dc5c(0x355)](_0x33dc5c(0x49c));_0x5144d1===null&&(_0x22049d[_0x33dc5c(0x1c1)]='');_0x29e95b[_0x33dc5c(0x370)][_0x33dc5c(0x355)]('hidden'),_0x248a5d['textContent']=_0x54cffc,document['getElementById'](_0x33dc5c(0x3db))[_0x33dc5c(0x48e)]=!![],document[_0x33dc5c(0x525)](_0x33dc5c(0x472))[_0x33dc5c(0x48e)]=!![],document[_0x33dc5c(0x525)](_0x33dc5c(0x205))[_0x33dc5c(0x48e)]=!![];try{const _0x23b722={'responseMimeType':'application/json','responseSchema':_0x4c01da},_0x544c76=Array[_0x33dc5c(0x3dd)](_0x13c660)?_0x13c660:[{'text':_0x13c660}],_0x1d9055={'contents':[{'role':_0x33dc5c(0x52c),'parts':_0x544c76}],'generationConfig':_0x23b722},_0x4e6fc2=_0x33dc5c(0x5bb),_0x3b784a=_0x33dc5c(0x5b2)+_0x4e6fc2,_0x3186b1=await fetch(_0x3b784a,{'method':'POST','headers':{'Content-Type':_0x33dc5c(0x1e3)},'body':JSON['stringify'](_0x1d9055)});if(!_0x3186b1['ok'])throw new Error(_0x33dc5c(0x522)+_0x3186b1['status']);const _0x526233=await _0x3186b1[_0x33dc5c(0x5ae)]();if(_0x526233[_0x33dc5c(0x258)]?.[0x0]?.[_0x33dc5c(0x1e6)]?.[_0x33dc5c(0x403)]?.[0x0]){let _0x4f9f49=_0x526233[_0x33dc5c(0x258)][0x0][_0x33dc5c(0x1e6)][_0x33dc5c(0x403)][0x0][_0x33dc5c(0x4b0)],_0x19a0b5;try{if(_0x4f9f49[_0x33dc5c(0x3e6)](_0x33dc5c(0x462)))_0x4f9f49=_0x4f9f49['substring'](0x7,_0x4f9f49[_0x33dc5c(0x5c8)]-0x3)['trim']();else _0x4f9f49[_0x33dc5c(0x3e6)](_0x33dc5c(0x397))&&(_0x4f9f49=_0x4f9f49['substring'](0x3,_0x4f9f49[_0x33dc5c(0x5c8)]-0x3)[_0x33dc5c(0x3ff)]());_0x19a0b5=JSON[_0x33dc5c(0x241)](_0x4f9f49);}catch(_0x103d6d){console[_0x33dc5c(0x310)](_0x33dc5c(0x423),_0x103d6d,_0x4f9f49);throw new Error('Invalid\x20response\x20structure\x20from\x20AI.');}if(_0x5144d1!==null){if(_0x19a0b5[_0x33dc5c(0x4bb)]===_0x33dc5c(0x47d)){const _0x2f1af9=currentQuizData[_0x33dc5c(0x4ce)][_0x33dc5c(0x238)](_0x58743b=>_0x58743b[_0x33dc5c(0x39e)]);_0x19a0b5[_0x33dc5c(0x280)]=_0x2f1af9;const _0x3f53ea=currentQuizData[_0x33dc5c(0x4ce)][_0x5144d1][_0x33dc5c(0x39e)],_0x5918a1=_0x2f1af9[_0x33dc5c(0x2e0)](_0x3f53ea);_0x5918a1>-0x1&&(_0x2f1af9[_0x5918a1]=_0x19a0b5['correctResponse']),currentQuizData[_0x33dc5c(0x4ce)][_0x33dc5c(0x299)](_0x2dbf2e=>{const _0x32e460=_0x33dc5c;if(_0x2dbf2e[_0x32e460(0x4bb)]==='matching_item')_0x2dbf2e[_0x32e460(0x280)]=_0x2f1af9;});}currentQuizData[_0x33dc5c(0x4ce)][_0x5144d1]=_0x19a0b5,displayGeneratedQuiz(currentQuizData);}else{currentQuizData=_0x19a0b5;const _0x7aac53=document['getElementById'](_0x33dc5c(0x377))[_0x33dc5c(0x1c4)];currentQuizData[_0x33dc5c(0x4bc)]=_0x7aac53,currentQuizData[_0x33dc5c(0x4ce)]&&currentQuizData[_0x33dc5c(0x4ce)][_0x33dc5c(0x299)](_0x3fed1e=>{const _0x25b84d=_0x33dc5c;if(!_0x3fed1e['questionType']){if(_0x7aac53==='fill_in_with_choices')_0x3fed1e[_0x25b84d(0x4bb)]='multiple_choice';else _0x7aac53==='fill_in_no_choices'?_0x3fed1e[_0x25b84d(0x4bb)]='short_answer':_0x3fed1e[_0x25b84d(0x4bb)]=_0x7aac53;}}),displayGeneratedQuiz(currentQuizData);}}else{console[_0x33dc5c(0x310)](_0x33dc5c(0x272),JSON[_0x33dc5c(0x2d8)](_0x526233));throw new Error('Invalid\x20response\x20structure\x20from\x20AI.');}}catch(_0x3bb1bd){console[_0x33dc5c(0x310)](_0x33dc5c(0x2aa),_0x3bb1bd),showMessage(_0x33dc5c(0x50e)),_0x5144d1===null&&(_0x22049d[_0x33dc5c(0x1c1)]=_0x33dc5c(0x168));}finally{_0x29e95b['classList'][_0x33dc5c(0x213)](_0x33dc5c(0x49c)),document[_0x33dc5c(0x525)](_0x33dc5c(0x3db))[_0x33dc5c(0x48e)]=![],document[_0x33dc5c(0x525)](_0x33dc5c(0x472))['disabled']=![],document[_0x33dc5c(0x525)](_0x33dc5c(0x205))[_0x33dc5c(0x48e)]=![];const _0x4c65de=document[_0x33dc5c(0x525)]('generate-from-file-btn');_0x4c65de&&(_0x4c65de[_0x33dc5c(0x48e)]=![]);}}function displayGeneratedQuiz(_0x4a2ecf){const _0x1872cf=_0x425095,_0x321ea9=document['getElementById'](_0x1872cf(0x210));let _0x25f2a1=_0x1872cf(0x359)+_0x4a2ecf[_0x1872cf(0x161)]+_0x1872cf(0x166);_0x4a2ecf[_0x1872cf(0x4ce)][_0x1872cf(0x299)]((_0x53e2b3,_0x37f31b)=>{const _0x586225=_0x1872cf,_0x5c5809=_0x53e2b3[_0x586225(0x4bb)]||_0x4a2ecf['quizType'];_0x25f2a1+=_0x586225(0x165)+_0x37f31b+_0x586225(0x59d)+_0x37f31b+_0x586225(0x176)+_0x37f31b+_0x586225(0x3e5);switch(_0x5c5809){case _0x586225(0x47d):_0x25f2a1+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x37f31b+'\x22>'+(_0x37f31b+0x1)+'.\x20'+_0x53e2b3[_0x586225(0x329)]+_0x586225(0x594);_0x53e2b3[_0x586225(0x247)]&&(_0x25f2a1+=_0x586225(0x1ec)+_0x37f31b+'\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x53e2b3[_0x586225(0x247)]+'</div>');_0x25f2a1+=_0x586225(0x341)+_0x37f31b+'\x22>'+_0x53e2b3[_0x586225(0x39e)]+_0x586225(0x3c9),_0x25f2a1+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x37f31b+'\x22>'+_0x53e2b3[_0x586225(0x1aa)]+'</span></div>';break;case _0x586225(0x4ac):_0x25f2a1+=_0x586225(0x5b7)+_0x37f31b+'\x22>'+(_0x37f31b+0x1)+'.\x20'+_0x53e2b3['questionText']+'</p>';_0x53e2b3[_0x586225(0x247)]&&(_0x25f2a1+=_0x586225(0x1ec)+_0x37f31b+'\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x53e2b3[_0x586225(0x247)]+_0x586225(0x552));_0x25f2a1+=_0x586225(0x574)+_0x37f31b+'\x22>'+_0x53e2b3[_0x586225(0x55a)]+_0x586225(0x3c9),_0x25f2a1+=_0x586225(0x2b6)+_0x37f31b+'\x22>'+_0x53e2b3[_0x586225(0x1aa)]+'</span></div>';break;case'true_false':_0x25f2a1+=_0x586225(0x5b7)+_0x37f31b+'\x22>'+(_0x37f31b+0x1)+'.\x20'+_0x53e2b3[_0x586225(0x35c)]+_0x586225(0x594);_0x53e2b3['imageCode']&&(_0x25f2a1+='<div\x20id=\x22q-image-container-'+_0x37f31b+_0x586225(0x515)+_0x53e2b3[_0x586225(0x247)]+_0x586225(0x552));_0x25f2a1+='<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22'+(_0x53e2b3[_0x586225(0x53e)]===!![]?_0x586225(0x3c3):'')+_0x586225(0x579)+(_0x53e2b3[_0x586225(0x53e)]===![]?_0x586225(0x3c3):'')+_0x586225(0x236),_0x25f2a1+=_0x586225(0x2b6)+_0x37f31b+'\x22>'+_0x53e2b3[_0x586225(0x1aa)]+_0x586225(0x3c9);break;case _0x586225(0x3a5):case _0x586225(0x3e1):default:_0x25f2a1+=_0x586225(0x5b7)+_0x37f31b+'\x22>'+(_0x37f31b+0x1)+'.\x20'+_0x53e2b3[_0x586225(0x35c)]+_0x586225(0x594);_0x53e2b3[_0x586225(0x247)]&&(_0x25f2a1+=_0x586225(0x1ec)+_0x37f31b+'\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x53e2b3[_0x586225(0x247)]+_0x586225(0x552));_0x25f2a1+=_0x586225(0x268)+_0x37f31b+_0x586225(0x29b)+_0x53e2b3[_0x586225(0x513)][_0x586225(0x238)]((_0x5aa445,_0x244d0b)=>_0x586225(0x35b)+(_0x244d0b===_0x53e2b3[_0x586225(0x3dc)]?'text-green-600\x20font-bold':'')+'\x22>'+_0x5aa445+'</li>')[_0x586225(0x19f)]('')+_0x586225(0x595),_0x25f2a1+=_0x586225(0x2b6)+_0x37f31b+'\x22>'+_0x53e2b3['explanation']+_0x586225(0x3c9);break;}_0x25f2a1+=_0x586225(0x552);}),_0x25f2a1+='<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',_0x321ea9[_0x1872cf(0x1c1)]=_0x25f2a1,document['querySelectorAll']('.edit-question-btn')['forEach'](_0x2f8a73=>_0x2f8a73[_0x1872cf(0x225)](_0x1872cf(0x441),handleEditQuestion)),document['querySelectorAll'](_0x1872cf(0x5b8))[_0x1872cf(0x299)](_0x404dfe=>_0x404dfe['addEventListener']('click',handleRegenerateQuestion)),document['querySelectorAll'](_0x1872cf(0x41b))[_0x1872cf(0x299)](_0x338cd5=>_0x338cd5[_0x1872cf(0x225)](_0x1872cf(0x441),handleSaveToBank)),document['getElementById'](_0x1872cf(0x2b0))['addEventListener'](_0x1872cf(0x441),saveQuiz);if(window[_0x1872cf(0x4b6)])window['MathJax'][_0x1872cf(0x549)]([_0x321ea9]);}function handleRegenerateQuestion(_0x5b398c){const _0x29359e=_0x425095,_0x2f1eb3=_0x5b398c[_0x29359e(0x1f3)][_0x29359e(0x366)][_0x29359e(0x15d)],_0x51fc81=currentQuizData[_0x29359e(0x161)];showMessage(_0x29359e(0x306)+(parseInt(_0x2f1eb3)+0x1)+_0x29359e(0x4cf)),generateQuiz(_0x51fc81,null,parseInt(_0x2f1eb3));}function getPointerPosition(_0x5758ee,_0x46deb3){const _0x1b3643=_0x425095,_0x7d8522=_0x5758ee[_0x1b3643(0x2f9)]();let _0x50a89c,_0x218156;return _0x46deb3[_0x1b3643(0x3f9)]&&_0x46deb3[_0x1b3643(0x3f9)]['length']>0x0?(_0x50a89c=_0x46deb3[_0x1b3643(0x3f9)][0x0][_0x1b3643(0x406)],_0x218156=_0x46deb3[_0x1b3643(0x3f9)][0x0][_0x1b3643(0x34d)]):(_0x50a89c=_0x46deb3['clientX'],_0x218156=_0x46deb3[_0x1b3643(0x34d)]),{'x':(_0x50a89c-_0x7d8522['e'])/_0x7d8522['a'],'y':(_0x218156-_0x7d8522['f'])/_0x7d8522['d']};}function startDrag(_0x36236d){const _0x57ecad=_0x425095;_0x36236d[_0x57ecad(0x388)]===_0x57ecad(0x226)&&_0x36236d['preventDefault']();const _0x4976cb=_0x36236d['target'][_0x57ecad(0x411)](_0x57ecad(0x349));if(_0x4976cb){draggedSvgElement=_0x4976cb;const _0x318ce2=draggedSvgElement[_0x57ecad(0x1ad)],_0x330276=getPointerPosition(_0x318ce2,_0x36236d);svgOffset['x']=_0x330276['x']-parseFloat(draggedSvgElement[_0x57ecad(0x450)](null,'x')),svgOffset['y']=_0x330276['y']-parseFloat(draggedSvgElement[_0x57ecad(0x450)](null,'y'));}}function drag(_0x4d0fff){const _0xb1f5c5=_0x425095;if(draggedSvgElement){_0x4d0fff[_0xb1f5c5(0x4a7)]();const _0x128bf7=draggedSvgElement[_0xb1f5c5(0x1ad)],_0x50546b=getPointerPosition(_0x128bf7,_0x4d0fff),_0x4b91f3=_0x128bf7[_0xb1f5c5(0x2b1)][_0xb1f5c5(0x2da)];let _0x7c1d17=_0x50546b['x']-svgOffset['x'],_0x2e5346=_0x50546b['y']-svgOffset['y'];const _0x4d75f7=draggedSvgElement['getBBox']();_0x7c1d17=Math[_0xb1f5c5(0x3bb)](_0x4b91f3['x'],Math['min'](_0x7c1d17,_0x4b91f3['x']+_0x4b91f3[_0xb1f5c5(0x473)]-_0x4d75f7[_0xb1f5c5(0x473)])),_0x2e5346=Math[_0xb1f5c5(0x3bb)](_0x4b91f3['y'],Math[_0xb1f5c5(0x22a)](_0x2e5346,_0x4b91f3['y']+_0x4b91f3[_0xb1f5c5(0x3a7)]-_0x4d75f7['height'])),draggedSvgElement['setAttributeNS'](null,'x',_0x7c1d17),draggedSvgElement['setAttributeNS'](null,'y',_0x2e5346);}}function endDrag(_0x78bf80){draggedSvgElement=null;}function handleSvgEditClick(_0x2f7b08){const _0x128d34=_0x425095;if(_0x2f7b08['target'][_0x128d34(0x370)][_0x128d34(0x416)]('delete-svg-btn')){const _0x2f3e8a=_0x2f7b08['target'][_0x128d34(0x366)][_0x128d34(0x478)],_0x364935=_0x2f7b08['currentTarget'],_0x401575=_0x364935['querySelector']('#'+_0x2f3e8a);_0x401575&&_0x401575[_0x128d34(0x355)](),_0x2f7b08[_0x128d34(0x42d)][_0x128d34(0x355)]();}}function handleEditQuestion(_0x3de8a4){const _0x4f994c=_0x425095,_0x10b03d=_0x3de8a4[_0x4f994c(0x1f3)],_0x5d387b=_0x10b03d['dataset'][_0x4f994c(0x15d)],_0x3a4974=currentQuizData[_0x4f994c(0x4ce)][_0x5d387b],_0x57ba1c=document[_0x4f994c(0x525)]('q-text-'+_0x5d387b),_0x46e1f1=document[_0x4f994c(0x525)](_0x4f994c(0x2ba)+_0x5d387b),_0x2a7214=document[_0x4f994c(0x525)](_0x4f994c(0x2dd)+_0x5d387b);if(_0x10b03d[_0x4f994c(0x1c1)][_0x4f994c(0x3aa)](_0x4f994c(0x237))){_0x10b03d[_0x4f994c(0x1c1)]=_0x4f994c(0x2bc),_0x10b03d[_0x4f994c(0x53f)]=_0x4f994c(0x49d);if(_0x57ba1c)_0x57ba1c['contentEditable']=!![];if(_0x46e1f1)_0x46e1f1['contentEditable']=!![];if(_0x2a7214){const _0x1136e4=_0x2a7214[_0x4f994c(0x452)](_0x4f994c(0x4d1));if(_0x1136e4){const _0x351599=_0x1136e4[_0x4f994c(0x381)](_0x4f994c(0x4b0));_0x351599[_0x4f994c(0x299)]((_0x3bc732,_0x5b2c6a)=>{const _0x1e1afe=_0x4f994c,_0x328800='editable-text-'+_0x5d387b+'-'+_0x5b2c6a;_0x3bc732['id']=_0x328800,_0x3bc732[_0x1e1afe(0x370)]['add'](_0x1e1afe(0x446)),_0x3bc732[_0x1e1afe(0x49a)][_0x1e1afe(0x1b8)]='move';const _0x4f6f6d=document[_0x1e1afe(0x400)](_0x1e1afe(0x43c),_0x1e1afe(0x31b)),_0xdd42fe=_0x3bc732['getBBox']();_0x4f6f6d['setAttribute']('cx',String(_0xdd42fe['x']+_0xdd42fe[_0x1e1afe(0x473)]+0x5)),_0x4f6f6d[_0x1e1afe(0x38b)]('cy',String(_0xdd42fe['y']+_0xdd42fe[_0x1e1afe(0x3a7)]/0x2-0x5)),_0x4f6f6d['setAttribute']('r','5'),_0x4f6f6d[_0x1e1afe(0x38b)](_0x1e1afe(0x317),'red'),_0x4f6f6d[_0x1e1afe(0x38b)](_0x1e1afe(0x34c),_0x1e1afe(0x235)),_0x4f6f6d['dataset']['targetId']=_0x328800,_0x3bc732[_0x1e1afe(0x4a0)](_0x4f6f6d);}),_0x1136e4[_0x4f994c(0x225)]('mousedown',startDrag),_0x1136e4[_0x4f994c(0x225)]('mousemove',drag),_0x1136e4[_0x4f994c(0x225)](_0x4f994c(0x1d5),endDrag),_0x1136e4[_0x4f994c(0x225)]('mouseleave',endDrag),_0x1136e4[_0x4f994c(0x225)](_0x4f994c(0x226),startDrag,{'passive':![]}),_0x1136e4[_0x4f994c(0x225)](_0x4f994c(0x382),drag,{'passive':![]}),_0x1136e4['addEventListener'](_0x4f994c(0x296),endDrag),_0x1136e4[_0x4f994c(0x225)]('touchcancel',endDrag),_0x1136e4[_0x4f994c(0x225)](_0x4f994c(0x441),handleSvgEditClick);}}if(_0x57ba1c)_0x57ba1c[_0x4f994c(0x339)]();}else{_0x10b03d[_0x4f994c(0x1c1)]=_0x4f994c(0x2d4),_0x10b03d['title']='แก้ไขข้อนี้';if(_0x57ba1c){_0x57ba1c[_0x4f994c(0x1ee)]=![];const _0x53ae99=_0x3a4974[_0x4f994c(0x4bb)]||currentQuizData[_0x4f994c(0x4bc)];_0x53ae99==='matching_item'?_0x3a4974[_0x4f994c(0x329)]=_0x57ba1c[_0x4f994c(0x47b)][_0x4f994c(0x2f7)](_0x57ba1c[_0x4f994c(0x47b)][_0x4f994c(0x2e0)]('.')+0x2)[_0x4f994c(0x3ff)]():_0x3a4974[_0x4f994c(0x35c)]=_0x57ba1c[_0x4f994c(0x47b)][_0x4f994c(0x2f7)](_0x57ba1c[_0x4f994c(0x47b)][_0x4f994c(0x2e0)]('.')+0x2)[_0x4f994c(0x3ff)]();}_0x46e1f1&&(_0x46e1f1[_0x4f994c(0x1ee)]=![],_0x3a4974[_0x4f994c(0x1aa)]=_0x46e1f1['innerText']);if(_0x2a7214){const _0x1b96ee=_0x2a7214['querySelector']('svg');if(_0x1b96ee){const _0x24f71a=_0x1b96ee[_0x4f994c(0x430)](!![]);_0x24f71a[_0x4f994c(0x381)](_0x4f994c(0x291))[_0x4f994c(0x299)](_0x58d7c7=>_0x58d7c7['remove']()),_0x24f71a[_0x4f994c(0x381)](_0x4f994c(0x349))[_0x4f994c(0x299)](_0xf7527b=>{const _0x54dc03=_0x4f994c;_0xf7527b[_0x54dc03(0x370)][_0x54dc03(0x355)](_0x54dc03(0x446)),_0xf7527b[_0x54dc03(0x49a)][_0x54dc03(0x1b8)]=_0x54dc03(0x1dc),_0xf7527b[_0x54dc03(0x311)]('id');}),_0x3a4974[_0x4f994c(0x247)]=_0x24f71a[_0x4f994c(0x285)],_0x1b96ee[_0x4f994c(0x3ac)](_0x4f994c(0x3fa),startDrag),_0x1b96ee['removeEventListener'](_0x4f994c(0x5b6),drag),_0x1b96ee[_0x4f994c(0x3ac)]('mouseup',endDrag),_0x1b96ee[_0x4f994c(0x3ac)](_0x4f994c(0x59e),endDrag),_0x1b96ee[_0x4f994c(0x3ac)](_0x4f994c(0x226),startDrag),_0x1b96ee[_0x4f994c(0x3ac)]('touchmove',drag),_0x1b96ee[_0x4f994c(0x3ac)]('touchend',endDrag),_0x1b96ee['removeEventListener'](_0x4f994c(0x393),endDrag),_0x1b96ee[_0x4f994c(0x3ac)](_0x4f994c(0x441),handleSvgEditClick),_0x1b96ee['querySelectorAll'](_0x4f994c(0x291))[_0x4f994c(0x299)](_0x43324a=>_0x43324a[_0x4f994c(0x355)]()),_0x1b96ee[_0x4f994c(0x381)](_0x4f994c(0x349))[_0x4f994c(0x299)](_0x2174a8=>{const _0x216ddf=_0x4f994c;_0x2174a8[_0x216ddf(0x370)][_0x216ddf(0x355)](_0x216ddf(0x446)),_0x2174a8['style'][_0x216ddf(0x1b8)]=_0x216ddf(0x1dc);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x541613){const _0x45612e=_0x425095,_0x4140ce=document[_0x45612e(0x525)]('quiz-editor-modal'),_0x4a08d5=document[_0x45612e(0x525)](_0x45612e(0x599));_0x4a08d5['innerHTML']=_0x45612e(0x544),_0x4140ce[_0x45612e(0x370)][_0x45612e(0x355)](_0x45612e(0x49c));try{const _0x5d27fe=doc(db,_0x45612e(0x4f4)+appId+_0x45612e(0x5cb),_0x541613),_0x415df6=await getDoc(_0x5d27fe);if(!_0x415df6['exists']())throw new Error('ไม่พบแบบทดสอบ');currentEditingQuizData={'id':_0x541613,..._0x415df6[_0x45612e(0x59a)]()},renderQuizEditor(currentEditingQuizData);}catch(_0x45791c){console[_0x45612e(0x310)]('Error\x20opening\x20quiz\x20editor:',_0x45791c),showMessage(_0x45612e(0x59c)),_0x4140ce['classList'][_0x45612e(0x213)](_0x45612e(0x49c));}}function renderQuizEditor(_0x27a04c){const _0xba470e=_0x425095;document['getElementById'](_0xba470e(0x371))['value']=_0x27a04c['topic'];const _0x16fe66=document['getElementById'](_0xba470e(0x599));let _0x3c0f6a=_0x27a04c[_0xba470e(0x4ce)]['map']((_0x5e6a5c,_0x1caab8)=>{const _0x1e3f13=_0xba470e;let _0x3c1d74='';const _0x5cbe8c=_0x5e6a5c['questionType']||_0x27a04c[_0x1e3f13(0x4bc)];switch(_0x5cbe8c){case _0x1e3f13(0x3e1):const _0x3a1fe2=(_0x5e6a5c[_0x1e3f13(0x513)]||[])['map']((_0x532815,_0x55f40f)=>_0x1e3f13(0x493)+_0x1caab8+_0x1e3f13(0x556)+_0x55f40f+'\x22\x20'+(_0x55f40f===_0x5e6a5c[_0x1e3f13(0x3dc)]?'checked':'')+'\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+_0x532815+_0x1e3f13(0x5ac))['join']('');_0x3c1d74='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>'+_0x3a1fe2+_0x1e3f13(0x562);break;case _0x1e3f13(0x4ac):_0x3c1d74=_0x1e3f13(0x3ab)+(_0x5e6a5c[_0x1e3f13(0x55a)]||'')+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case'true_false':_0x3c1d74=_0x1e3f13(0x4ca)+_0x1caab8+'\x22\x20value=\x22true\x22\x20'+(_0x5e6a5c['correctAnswer']===!![]?_0x1e3f13(0x46e):'')+_0x1e3f13(0x308)+_0x1caab8+_0x1e3f13(0x17d)+(_0x5e6a5c[_0x1e3f13(0x53e)]===![]?_0x1e3f13(0x46e):'')+'\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x1e3f13(0x47d):_0x3c1d74=_0x1e3f13(0x2f3)+(_0x5e6a5c[_0x1e3f13(0x39e)]||'')+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;}const _0x4ba4a8=_0x5e6a5c[_0x1e3f13(0x35c)]||_0x5e6a5c[_0x1e3f13(0x329)]||'';return _0x1e3f13(0x548)+_0x5cbe8c+_0x1e3f13(0x3c1)+(_0x1caab8+0x1)+'\x20('+_0x5cbe8c+_0x1e3f13(0x3fe)+_0x4ba4a8+'</textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>'+_0x3c1d74+_0x1e3f13(0x586);})['join']('');_0x16fe66[_0xba470e(0x1c1)]=_0x3c0f6a;}async function handleSaveChanges(){const _0x22d41a=_0x425095,_0x2d793d=document[_0x22d41a(0x525)]('save-quiz-edits-btn');_0x2d793d[_0x22d41a(0x48e)]=!![],_0x2d793d[_0x22d41a(0x1c1)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...';try{const _0xe60b3a=document['getElementById']('editor-quiz-topic')[_0x22d41a(0x1c4)],_0x379802=document[_0x22d41a(0x381)](_0x22d41a(0x488));let _0x5ea5a0=[];const _0x3ccfa2=Array[_0x22d41a(0x494)](_0x379802)['map']((_0xa004d1,_0x3f0ce0)=>{const _0x1d4711=_0x22d41a,_0x29941c=_0xa004d1[_0x1d4711(0x366)][_0x1d4711(0x1c3)],_0x245e43=_0xa004d1[_0x1d4711(0x452)](_0x1d4711(0x50c))[_0x1d4711(0x1c4)];let _0x5f194c={'questionType':_0x29941c};const _0x30e5ae=currentEditingQuizData[_0x1d4711(0x4ce)][_0x3f0ce0];switch(_0x29941c){case'multiple_choice':_0x5f194c['questionText']=_0x245e43;const _0x22a481=_0xa004d1['querySelectorAll'](_0x1d4711(0x490));_0x5f194c[_0x1d4711(0x513)]=Array[_0x1d4711(0x494)](_0x22a481)[_0x1d4711(0x238)](_0xebb791=>_0xebb791['value']);const _0x296234=_0xa004d1[_0x1d4711(0x452)](_0x1d4711(0x4c1));_0x5f194c[_0x1d4711(0x3dc)]=_0x296234?parseInt(_0x296234[_0x1d4711(0x1c4)]):0x0;break;case'short_answer':_0x5f194c['questionText']=_0x245e43,_0x5f194c[_0x1d4711(0x55a)]=_0xa004d1[_0x1d4711(0x452)]('.ideal-answer-input')[_0x1d4711(0x1c4)];break;case _0x1d4711(0x4a3):_0x5f194c['questionText']=_0x245e43;const _0xd8f8d3=_0xa004d1[_0x1d4711(0x452)](_0x1d4711(0x4c1));_0x5f194c[_0x1d4711(0x53e)]=_0xd8f8d3?_0xd8f8d3['value']===_0x1d4711(0x45a):!![];break;case _0x1d4711(0x47d):_0x5f194c['stem']=_0x245e43;const _0x2164c6=_0xa004d1[_0x1d4711(0x452)](_0x1d4711(0x360));_0x5f194c[_0x1d4711(0x39e)]=_0x2164c6?_0x2164c6[_0x1d4711(0x1c4)]:'',_0x5ea5a0['push'](_0x5f194c['correctResponse']);break;default:_0x5f194c[_0x1d4711(0x35c)]=_0x245e43;break;}return{..._0x30e5ae,..._0x5f194c};});_0x5ea5a0['length']>0x0&&_0x3ccfa2[_0x22d41a(0x299)](_0x575735=>{const _0x577967=_0x22d41a;_0x575735[_0x577967(0x4bb)]===_0x577967(0x47d)&&(_0x575735['allResponses']=_0x5ea5a0);});const _0x4d4369=doc(db,_0x22d41a(0x4f4)+appId+_0x22d41a(0x5cb),currentEditingQuizData['id']);await updateDoc(_0x4d4369,{'topic':_0xe60b3a,'questions':_0x3ccfa2}),showMessage('บันทึกการแก้ไขสำเร็จ'),document[_0x22d41a(0x525)](_0x22d41a(0x54d))[_0x22d41a(0x370)][_0x22d41a(0x213)]('hidden');}catch(_0x10dbd8){console['error'](_0x22d41a(0x1ce),_0x10dbd8),showMessage(_0x22d41a(0x519));}finally{_0x2d793d['disabled']=![],_0x2d793d['innerHTML']=_0x22d41a(0x2cb);}}async function saveQuiz(){const _0x5ab302=_0x425095;if(!currentQuizData||!currentQuizData[_0x5ab302(0x4ce)]||!userId||!currentProjectId){showMessage(_0x5ab302(0x31c));return;}const _0x5791f5=document['getElementById'](_0x5ab302(0x2b0));_0x5791f5[_0x5ab302(0x48e)]=!![],_0x5791f5[_0x5ab302(0x1c1)]=_0x5ab302(0x2d2),currentQuizData[_0x5ab302(0x161)]=document[_0x5ab302(0x525)](_0x5ab302(0x47e))[_0x5ab302(0x47b)];try{const _0x16bd9a={'resultsDisplay':document['getElementById'](_0x5ab302(0x19b))[_0x5ab302(0x1c4)],'shuffle':document[_0x5ab302(0x525)](_0x5ab302(0x3ec))[_0x5ab302(0x1c4)],'timerMode':document[_0x5ab302(0x525)](_0x5ab302(0x395))[_0x5ab302(0x1c4)],'timerDuration':parseInt(document[_0x5ab302(0x525)](_0x5ab302(0x474))[_0x5ab302(0x1c4)])||0xa,'passingScore':parseInt(document[_0x5ab302(0x525)](_0x5ab302(0x44e))['value'])||0x0,'passingScore':parseInt(document[_0x5ab302(0x525)](_0x5ab302(0x44e))[_0x5ab302(0x1c4)])||0x0,'isAdaptive':document[_0x5ab302(0x525)](_0x5ab302(0x44c))[_0x5ab302(0x46e)]},_0x2e0a93=(currentQuizData[_0x5ab302(0x4ce)]||[])[_0x5ab302(0x238)](_0x164ba1=>{const _0x3e0dcd=_0x5ab302,_0x16852f=document['getElementById']('quiz-type-select')[_0x3e0dcd(0x1c4)],_0x2b6882={'questionText':_0x164ba1['questionText']||'','explanation':_0x164ba1[_0x3e0dcd(0x1aa)]||_0x3e0dcd(0x533),'questionType':_0x164ba1[_0x3e0dcd(0x4bb)]||_0x16852f,'imageCode':_0x164ba1[_0x3e0dcd(0x247)]||null};return(_0x2b6882[_0x3e0dcd(0x4bb)]===_0x3e0dcd(0x3e1)||_0x2b6882[_0x3e0dcd(0x4bb)]===_0x3e0dcd(0x2b5)||_0x2b6882['questionType']===_0x3e0dcd(0x581)&&_0x164ba1['options'])&&(_0x2b6882[_0x3e0dcd(0x513)]=_0x164ba1['options']||[],_0x2b6882[_0x3e0dcd(0x3dc)]=_0x164ba1['correctAnswerIndex']!==undefined?_0x164ba1[_0x3e0dcd(0x3dc)]:0x0),(_0x2b6882[_0x3e0dcd(0x4bb)]==='short_answer'||_0x2b6882[_0x3e0dcd(0x4bb)]===_0x3e0dcd(0x1c0)||_0x2b6882[_0x3e0dcd(0x4bb)]===_0x3e0dcd(0x581)&&_0x164ba1[_0x3e0dcd(0x55a)])&&(_0x2b6882[_0x3e0dcd(0x55a)]=_0x164ba1[_0x3e0dcd(0x55a)]||''),_0x2b6882[_0x3e0dcd(0x4bb)]==='true_false'&&(_0x2b6882['correctAnswer']=_0x164ba1[_0x3e0dcd(0x53e)]===!![]),_0x2b6882[_0x3e0dcd(0x4bb)]==='matching_item'&&(_0x2b6882[_0x3e0dcd(0x329)]=_0x164ba1[_0x3e0dcd(0x329)]||'',_0x2b6882['correctResponse']=_0x164ba1[_0x3e0dcd(0x39e)]||'',_0x2b6882[_0x3e0dcd(0x280)]=_0x164ba1[_0x3e0dcd(0x280)]||[]),_0x2b6882;}),_0x2f7f0d={'topic':currentQuizData[_0x5ab302(0x161)]||_0x5ab302(0x363),'quizType':currentQuizData['quizType']||_0x5ab302(0x3e1),'questions':_0x2e0a93,'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x5ab302(0x24d)](),'status':_0x5ab302(0x28b),'settings':_0x16bd9a};let _0x1c1a13;while(!![]){_0x1c1a13=Math[_0x5ab302(0x3b3)](0x3e8+Math[_0x5ab302(0x1a9)]()*0x2328)[_0x5ab302(0x464)]();const _0x3a17c0=await getDoc(doc(db,_0x5ab302(0x4f4)+appId+_0x5ab302(0x5cb),_0x1c1a13));if(!_0x3a17c0[_0x5ab302(0x192)]())break;}await setDoc(doc(db,_0x5ab302(0x4f4)+appId+_0x5ab302(0x5cb),_0x1c1a13),_0x2f7f0d),currentQuizData['settings']=_0x16bd9a,currentQuizData['id']=_0x1c1a13;const _0x309c04=document[_0x5ab302(0x525)](_0x5ab302(0x2fd));_0x309c04[_0x5ab302(0x1c1)]=_0x5ab302(0x1ba)+_0x1c1a13+_0x5ab302(0x38e),document[_0x5ab302(0x525)](_0x5ab302(0x3a0))[_0x5ab302(0x225)](_0x5ab302(0x441),()=>copyTextToClipboard(_0x1c1a13,_0x5ab302(0x52f))),document[_0x5ab302(0x525)](_0x5ab302(0x1ed))['addEventListener'](_0x5ab302(0x441),()=>handleStartLiveRace(_0x1c1a13)),document[_0x5ab302(0x525)]('start-presentation-btn')[_0x5ab302(0x225)](_0x5ab302(0x441),()=>startPresentation(currentQuizData)),document[_0x5ab302(0x525)](_0x5ab302(0x18c))[_0x5ab302(0x225)](_0x5ab302(0x441),startAdminTest),showMessage(_0x5ab302(0x5d2));}catch(_0x1d652d){console[_0x5ab302(0x310)](_0x5ab302(0x5aa),_0x1d652d),showMessage(_0x5ab302(0x1a6)),_0x5791f5[_0x5ab302(0x48e)]=![],_0x5791f5[_0x5ab302(0x1c1)]=_0x5ab302(0x3de);}}function copyTextToClipboard(_0x1e72a4,_0x38744e){const _0x40e4d1=_0x425095,_0x1ee4fc=document[_0x40e4d1(0x39d)](_0x40e4d1(0x50c));_0x1ee4fc[_0x40e4d1(0x1c4)]=_0x1e72a4,_0x1ee4fc[_0x40e4d1(0x49a)]['position']=_0x40e4d1(0x4f8),_0x1ee4fc[_0x40e4d1(0x49a)][_0x40e4d1(0x246)]='0',document['body'][_0x40e4d1(0x352)](_0x1ee4fc),_0x1ee4fc[_0x40e4d1(0x339)](),_0x1ee4fc[_0x40e4d1(0x22d)]();try{const _0x375096=document[_0x40e4d1(0x229)](_0x40e4d1(0x55d));showMessage(_0x375096?_0x38744e:_0x40e4d1(0x290));}catch(_0x51c8ae){showMessage(_0x40e4d1(0x290)),console[_0x40e4d1(0x310)](_0x40e4d1(0x434),_0x51c8ae);}document[_0x40e4d1(0x3fd)][_0x40e4d1(0x1a5)](_0x1ee4fc);}function listenForProjectQuizzes(_0x1013f8){const _0x5f58ae=_0x425095,_0x31de45=collection(db,_0x5f58ae(0x4f4)+appId+_0x5f58ae(0x5cb)),_0x366117=query(_0x31de45,where(_0x5f58ae(0x340),'==',_0x1013f8));unsubscribeQuizzesListener=onSnapshot(_0x366117,async _0x2d9c04=>{const _0x28d676=_0x5f58ae;allQuizzes=_0x2d9c04[_0x28d676(0x4be)]['map'](_0x1fa37b=>({'id':_0x1fa37b['id'],..._0x1fa37b[_0x28d676(0x59a)]()})),renderQuizzes();},_0x3345b7=>{const _0x54d86c=_0x5f58ae;console[_0x54d86c(0x310)]('Error\x20fetching\x20project\x20quizzes:',_0x3345b7),document[_0x54d86c(0x525)](_0x54d86c(0x21c))[_0x54d86c(0x1c1)]='<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>';});}async function renderQuizzes(){const _0x384d64=_0x425095,_0xecbb2a=document[_0x384d64(0x525)](_0x384d64(0x21c)),_0x127d9f=document[_0x384d64(0x525)](_0x384d64(0x414))[_0x384d64(0x1c4)][_0x384d64(0x56a)]();let _0x5ce069;currentProjectId==='starred'?_0x5ce069=starredQuizzes:_0x5ce069=allQuizzes;let _0xb638a8=_0x5ce069[_0x384d64(0x563)](_0x27e608=>_0x27e608['topic']['toLowerCase']()[_0x384d64(0x3aa)](_0x127d9f));_0xb638a8[_0x384d64(0x4a2)]((_0x525440,_0x3b4869)=>new Date(_0x3b4869[_0x384d64(0x2f6)])-new Date(_0x525440[_0x384d64(0x2f6)]));if(_0xb638a8[_0x384d64(0x5c8)]===0x0){_0xecbb2a[_0x384d64(0x1c1)]=_0x384d64(0x582);return;}const _0xac2ea={},_0x3a45a8=_0xb638a8['map'](async _0x1002d1=>{const _0x50da9b=_0x384d64,_0x465993=collection(db,_0x50da9b(0x4f4)+appId+'/public/data/quizzes/'+_0x1002d1['id']+_0x50da9b(0x454)),_0x3c0d28=await getDocs(_0x465993);_0xac2ea[_0x1002d1['id']]=_0x3c0d28[_0x50da9b(0x1d2)];});await Promise[_0x384d64(0x175)](_0x3a45a8);let _0x5ae97f='';_0xb638a8[_0x384d64(0x299)](_0x370275=>{const _0x440ae4=_0x384d64,_0xf8e842=_0xac2ea[_0x370275['id']]||0x0,_0x55f9d1=_0x370275[_0x440ae4(0x23c)]||_0x440ae4(0x28b),_0x50e8d0=_0x370275[_0x440ae4(0x47f)]?.[_0x440ae4(0x15c)]||_0x440ae4(0x38a);let _0x8eb5e8='',_0x23a66c='';const _0x210301=new Date();let _0x55481f=_0x55f9d1;if(_0x55f9d1===_0x440ae4(0x38c)){const _0x4c5d13=_0x370275[_0x440ae4(0x288)]?new Date(_0x370275[_0x440ae4(0x288)]):null,_0x14c61b=_0x370275[_0x440ae4(0x5a6)]?new Date(_0x370275[_0x440ae4(0x5a6)]):null;if(_0x14c61b&&_0x210301>_0x14c61b)_0x55481f=_0x440ae4(0x40b);else _0x4c5d13&&_0x210301<_0x4c5d13?_0x55481f='scheduled_pending':_0x55481f='active';}switch(_0x55481f){case _0x440ae4(0x40b):_0x8eb5e8=_0x440ae4(0x27d),_0x23a66c=_0x440ae4(0x20d);break;case _0x440ae4(0x42e):_0x8eb5e8=_0x440ae4(0x222),_0x23a66c='text-blue-700\x20bg-blue-100';break;case _0x440ae4(0x28b):_0x8eb5e8=_0x50e8d0!==_0x440ae4(0x38a)?'เปิด\x20(จับเวลา)':_0x440ae4(0x567),_0x23a66c='text-green-700\x20bg-green-100';break;default:_0x8eb5e8='ตั้งเวลา\x20(เปิด)',_0x23a66c=_0x440ae4(0x2a8);}let _0x540b80='';const _0x525aff={'day':_0x440ae4(0x32b),'month':_0x440ae4(0x32b),'year':'numeric','hour':_0x440ae4(0x32b),'minute':'2-digit','hour12':![]};_0x55f9d1===_0x440ae4(0x38c)&&(_0x370275['startTime']&&(_0x540b80+='<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20'+new Date(_0x370275[_0x440ae4(0x288)])[_0x440ae4(0x455)](_0x440ae4(0x1fb),_0x525aff)+'</p>'),_0x370275[_0x440ae4(0x5a6)]&&(_0x540b80+=_0x440ae4(0x3e8)+new Date(_0x370275['endTime'])[_0x440ae4(0x455)](_0x440ae4(0x1fb),_0x525aff)+_0x440ae4(0x594))),_0x5ae97f+=_0x440ae4(0x364)+_0x370275['id']+_0x440ae4(0x2ad)+_0x370275[_0x440ae4(0x161)]+_0x440ae4(0x180)+_0x370275[_0x440ae4(0x4ce)][_0x440ae4(0x5c8)]+_0x440ae4(0x2e5)+new Date(_0x370275['createdAt'])['toLocaleString'](_0x440ae4(0x1fb))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-sm\x22>'+_0xf8e842+_0x440ae4(0x2ae)+_0x540b80+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20'+_0x23a66c+'\x22>'+_0x8eb5e8+_0x440ae4(0x43a)+_0x370275['id']+_0x440ae4(0x302)+_0x370275['id']+_0x440ae4(0x5a8)+(_0x370275[_0x440ae4(0x536)]?'fas\x20fa-star\x20text-yellow-500':_0x440ae4(0x482))+'\x22></i>\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x370275['id']+_0x440ae4(0x284)+_0x370275['id']+_0x440ae4(0x2de)+_0x370275['topic']+_0x440ae4(0x313)+_0x370275['id']+'\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x370275['id']+_0x440ae4(0x2db)+_0x370275['id']+_0x440ae4(0x297)+_0x370275['id']+'\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x370275['id']+_0x440ae4(0x1cb)+_0x370275['id']+_0x440ae4(0x512)+_0x370275['id']+'\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x370275['id']+'\x22\x20data-topic=\x22'+_0x370275[_0x440ae4(0x161)]+_0x440ae4(0x3e3);}),_0xecbb2a[_0x384d64(0x1c1)]=_0x5ae97f,document[_0x384d64(0x381)]('.quiz-result-card')['forEach'](_0x134ff7=>{const _0x297f6b=_0x384d64;_0x134ff7[_0x297f6b(0x225)](_0x297f6b(0x441),()=>{const _0x1469c9=_0x297f6b,_0x170f05=_0x134ff7[_0x1469c9(0x366)]['quizId'];showQuizDetailView(_0x170f05);});});}async function handleDuplicateQuiz(_0x3afb25){const _0x5651f0=_0x425095;try{const _0x3dd03d=doc(db,_0x5651f0(0x4f4)+appId+_0x5651f0(0x5cb),_0x3afb25),_0x382b1f=await getDoc(_0x3dd03d);if(_0x382b1f[_0x5651f0(0x192)]()){const _0xea59bb=_0x382b1f[_0x5651f0(0x59a)](),_0x58331a={..._0xea59bb,'topic':'(คัดลอก)\x20'+_0xea59bb[_0x5651f0(0x161)],'createdAt':new Date()[_0x5651f0(0x24d)]()};await addDoc(collection(db,'artifacts/'+appId+_0x5651f0(0x5cb)),_0x58331a),showMessage(_0x5651f0(0x267));}else throw new Error(_0x5651f0(0x4ed));}catch(_0x104c10){console[_0x5651f0(0x310)]('Error\x20duplicating\x20quiz:',_0x104c10),showMessage(_0x5651f0(0x214));}}async function handleDeleteQuiz(_0x921413,_0x3f6afe=!![]){const _0x3bab36=_0x425095;try{const _0x4bff0f=writeBatch(db),_0x3d724e=collection(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x921413+_0x3bab36(0x454)),_0x405a02=await getDocs(_0x3d724e);_0x405a02['forEach'](_0x580426=>{_0x4bff0f['delete'](doc(_0x3d724e,_0x580426['id']));});const _0x3dc815=doc(db,'artifacts/'+appId+_0x3bab36(0x5cb),_0x921413);_0x4bff0f[_0x3bab36(0x227)](_0x3dc815),await _0x4bff0f[_0x3bab36(0x5ab)](),_0x3f6afe&&showMessage(_0x3bab36(0x2b7));}catch(_0x26d556){console[_0x3bab36(0x310)]('Error\x20deleting\x20quiz:',_0x26d556),_0x3f6afe&&showMessage(_0x3bab36(0x409));}}async function showQuizDetailView(_0x4e2ec8){const _0xb9c7a1=_0x425095;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab('analytics');try{const _0x5a4439=doc(db,'artifacts/'+appId+_0xb9c7a1(0x5cb),_0x4e2ec8),_0x5278fb=await getDoc(_0x5a4439);if(!_0x5278fb[_0xb9c7a1(0x192)]()){showMessage(_0xb9c7a1(0x4d5));return;}const _0x1383ed={'id':_0x5278fb['id'],..._0x5278fb[_0xb9c7a1(0x59a)]()};currentQuizData=_0x1383ed;const _0x5a1586=doc(db,'artifacts/'+appId+_0xb9c7a1(0x421),_0x1383ed[_0xb9c7a1(0x340)]),_0xdfe9ee=await getDoc(_0x5a1586);_0xdfe9ee['exists']()?(currentProjectData=_0xdfe9ee[_0xb9c7a1(0x59a)](),currentProjectId=_0x1383ed[_0xb9c7a1(0x340)]):(currentProjectData={'students':[]},currentProjectId=_0x1383ed[_0xb9c7a1(0x340)]);document[_0xb9c7a1(0x525)](_0xb9c7a1(0x24c))[_0xb9c7a1(0x4b1)]=_0x1383ed[_0xb9c7a1(0x161)],document[_0xb9c7a1(0x525)]('results-quiz-id-display')['textContent']=_0x4e2ec8;const _0xbb0923=collection(db,_0xb9c7a1(0x4f4)+appId+_0xb9c7a1(0x5cb),_0x4e2ec8,_0xb9c7a1(0x249));unsubscribeSubmissionsListener=onSnapshot(_0xbb0923,_0x6b532e=>{const _0x1cfe6f=_0xb9c7a1,_0xf38256=_0x6b532e[_0x1cfe6f(0x4be)][_0x1cfe6f(0x238)](_0x44702f=>({'id':_0x44702f['id'],..._0x44702f[_0x1cfe6f(0x59a)]()}));currentSubmissions=_0xf38256,renderAnalytics(_0x1383ed,_0xf38256),renderQuizResultsTable(currentProjectData[_0x1cfe6f(0x16a)],_0xf38256,_0x1383ed),renderQuizLeaderboard(_0xf38256,_0x1383ed,_0x1cfe6f(0x429));}),showView(_0xb9c7a1(0x1de));}catch(_0x5717db){console[_0xb9c7a1(0x310)]('Error\x20showing\x20quiz\x20detail\x20view:',_0x5717db),showMessage('เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ');}}function _0x4fdf(){const _0xcd3918=['quiz-id-input','promptFeedback','fa-fire\x20text-orange-500','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q_opt','COMEBACK_KING','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','finishReason','touches','mousedown','start-remedial-quiz-btn','live-game','body','):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x222\x22>','trim','createElementNS','admin-password-modal','23272hTGfch','parts','จำนวนนักเรียน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20','clientX','44653cCRLXU','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการลบแบบทดสอบ','defaultNumQuestions','inactive','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังสร้างแบบทดสอบจากหัวข้อ...','หมดเวลา!\x20กำลังส่งคำตอบ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.start-live-race-btn','closest','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancel-quiz-edits-btn','quiz-search-input','Error\x20starting\x20live\x20race:','contains','ai-quiz-app-aefee.firebaseapp.com','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.save-to-bank-btn','\x20ข้อ\x20','Error\x20deleting\x20project:','MathJax\x20typeset\x20error\x20(analytics):','add-student-btn','project-detail-view','/public/data/projects','both','Failed\x20to\x20parse\x20JSON\x20from\x20AI','.start-presentation-list-btn','.edit-quiz-btn','option','name_asc','earned-badges-container','quiz-leaderboard-table-body','file-upload-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','ไม่พบเกมด้วยรหัสนี้\x20กรุณาตรวจสอบอีกครั้ง','target','scheduled_pending','classWeaknesses','cloneNode','บันทึกการตั้งค่าแล้ว','ผู้ไม่ยอมแพ้','<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม','Copy\x20command\x20failed','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','export-leaderboard-image-btn','helvetica','back-to-student-initial-btn','pointsLastQuestion','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','shuffleSetting','http://www.w3.org/2000/svg','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<tr><td\x20colspan=\x22','modal-results-display-select','toDate','click','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','กรุณาวาง\x20URL\x20ของบทความก่อน','log','draggable-text','แบบทดสอบจากคลังส่วนตัว','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','จากหัวข้อ\x20','admin','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','adaptive-quiz-checkbox','</td>','passing-score-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getAttributeNS','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','querySelector','text/csv;charset=utf-8;','/submissions','toLocaleString','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-green-100\x20text-green-800','defaultNumChoices','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20','true','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','btn','student-project-leaderboard-content','badgesCount','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','#student-project-leaderboard-content\x20thead','answer-counter','```json','admin-password-input','toString','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20text-left\x20p-2\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x22>\x0a\x20\x20','.pointsLastQuestion','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','countdown-display','Error\x20updating\x20quiz\x20settings:','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','checked','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','isAdaptive','confirmation-modal','generate-from-text-btn','width','timer-duration-input','include-images-checkbox','confirm-join-game-btn','date_desc','targetId','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','innerText','ไม่ผ่าน','matching_item','editable-quiz-topic','settings','toFixed','passingScore','far\x20fa-star','bg-red-100\x20text-red-800','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','115167wasWQW','Error\x20adding\x20students:','สร้างแบบทดสอบปรนัย','.question-editor-item','<option\x20value=\x22','exitFullscreen','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','write','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','disabled','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','input[type=\x22text\x22]','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','สอบปกติ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','from','\x22?\x20ข้อมูลทั้งหมดในโปรเจคนี้\x20(รวมถึงแบบทดสอบและผลการส่งงาน)\x20จะถูกลบอย่างถาวร','STOP','188dExwee','#view-rankings-btn','create-project-modal','style','find','hidden','บันทึกการแก้ไข','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','timer-duration-label','after','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','sort','true_false','font-bold\x20text-green-700','.presentation-option','check-presentation-answer-btn','preventDefault','เกิดข้อผิดพลาดในการเข้าร่วมเกม','student-quiz-leaderboard-table-body','show_results_only','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','short_answer','ราชาคัมแบ็ก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','student-name-input','text','textContent','button[data-id]','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>ไม่ใช่</p>','save','MathJax','contents','reveal-answer-btn','cancel-quiz-edits-btn-footer','border-green-300\x20bg-green-50','questionType','quizType','set','docs','comeback_king','.quiz-settings-btn','input[type=\x22radio\x22]:checked','join-live-game-btn','</body></html>','.answeredCurrentQuestion','student-view','padStart','link-tab','.correctStreak','fa-bolt\x20text-blue-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','</p></div>','parseFromString','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>','questions','\x20ใหม่...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','svg','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20p-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','แบบทดสอบ:\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบข้อมูลแบบทดสอบ','force-math-checkbox','text-purple-600','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','ย้ายแบบทดสอบสำเร็จ','specialist','game-pin-input','border-green-500','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-amber-100\x20text-amber-800','ผ่าน','open','การยืนยันตัวตนล้มเหลว','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','per-q-countdown','fullscreenchange','false','players.','project-detail','Error\x20loading\x20quiz\x20for\x20student:','ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20','bg-blue-100\x20text-blue-800','Original\x20quiz\x20not\x20found','schedule','Error\x20deleting\x20all\x20students:','projectName','isCorrect','\x20สร้างคำถามจับคู่','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','artifacts/','\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน','ทำคะแนนเต็มในการทำครั้งแรก','worksheet-topic-input','fixed','name','next-question-btn','presentation-slide-container','student-quiz-leaderboard-content','</option>','results','ตอบถูกทุกข้อในแบบทดสอบนี้','back-to-dashboard-from-results-btn','beforeend','ที่พิมพ์ได้\x20จำนวน\x20','podium','rgba(79,\x2070,\x20229,\x200.8)','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','แบบทดสอบนี้ปิดใช้งานอยู่','.delete-quiz-btn','questionStatus','ส่งคำตอบ','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','\x22>ใช่</p>','textarea','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','เกิดข้อผิดพลาดในการสร้างแบบทดสอบ\x20โปรดลองอีกครั้ง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','.copy-quiz-id-list-btn','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','options','admin-action-buttons','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','insertAdjacentHTML','.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','เกิดข้อผิดพลาดในการบันทึก','กรุณาวางเนื้อหาก่อน','student-quiz-leaderboard-tab','OBJECT','prev-question-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>','delete-all-students-btn','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้','สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','API\x20call\x20failed\x20with\x20status:\x20','Error\x20listening\x20for\x20starred\x20quizzes:','bg-red-500','getElementById','student-rankings-modal','quiz-schedule-start-container','Error\x20updating\x20quiz\x20status:','back-to-home-manual-release','points','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','user','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','คัดลอกรหัสแล้ว!','ai-quiz-app-aefee.appspot.com','PERFECT_SCORE','round','ไม่มีคำอธิบาย','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','num-choices','isStarred','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','correctStreak','<div\x20class=\x22flex-1\x22></div>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22active\x22\x20id=\x22status-active\x22\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>','next-live-question-btn','correctAnswer','title','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','16282728VsJgRJ','ไม่สามารถสร้างโปรเจคได้','<div\x20class=\x22loader\x20mx-auto\x22></div>','blockReason','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','download','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x22\x20data-q-type=\x22','typesetPromise','slice','whole_quiz','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-3xl\x22>','quiz-editor-modal','starred','กรุณาเลือกสถานะ','worksheet-tab','leaderboard','</div>','empty','\x20คนที่ส่ง\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','save-settings-btn','\x22\x20value=\x22','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>','idealAnswer','\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','copy','score','timerDuration','\x20/\x20','bg-green-200\x20text-green-800','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','filter','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','_opt','เปิดใช้งาน','9327045qZXMKj','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','toLowerCase','ไม่มี','change','originalQuestionText','student-result-area','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20bg-indigo-50\x20border-indigo-200\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20flex\x20flex-col\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x22\x20data-id=\x22starred-project\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-indigo-800\x20pointer-events-none\x22>แบบทดสอบที่ติดดาว\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-400\x22></i></h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>ทางลัดสำหรับแบบทดสอบที่ใช้บ่อย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-700\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','lobby','.png','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','เกิดข้อผิดพลาดในการเตรียมไฟล์:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.rename-quiz-btn','Error\x20toggling\x20star\x20status:','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','confirm-move-quiz-btn','เซียนสมองไว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','admin-view','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','uid','mixed','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','no-projects-msg','bg-red-200\x20text-red-800','quiz-results-view','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-name-selection-view','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<h2\x20class=\x22text-3xl\x20font-bold\x22>','generate-worksheet-btn','jspdf','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','document','Error\x20joining\x20live\x20game:','link-topic-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลข้างต้น\x20โปรดสรุปเนื้อหาสำคัญเพื่อสอนซ่อมเสริมนักเรียนคนนี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้อธิบายด้วยภาษาที่เข้าใจง่าย\x20เป็นกันเอง\x20เหมือนติวเตอร์ใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20สรุปมาเป็นย่อหน้าเดียวหรือสองย่อหน้าสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มี\x20key\x20ชื่อ\x20\x22remedialContent\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','first_try_ace','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-editor-questions-container','data','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','\x22\x20class=\x22save-to-bank-btn\x20text-purple-600\x20hover:text-purple-800\x20p-1\x22\x20title=\x22เก็บเข้าคลังข้อสอบส่วนตัว\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-university\x22></i>\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','mouseleave','player-list-lobby','move-quiz-project-select','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','quiz-schedule-end-container','cancel-global-live-btn','เกี่ยวกับหัวข้อ\x20\x22','endTime','Error\x20starting\x20game:','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22','revealed','Error\x20saving\x20quiz:','commit','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','file-tab','json','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','font-bold','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q','mousemove','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','.regenerate-question-btn','topic-tab','สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ref','timer-container','จากเนื้อหาต่อไปนี้:\x20\x22','สร้างคำถามแบบใช่/ไม่ใช่','<i\x20class=\x22fas\x20fa-check\x20mr-3\x22></i>','Error\x20fetching\x20student\x20rankings:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a','เกิดข้อผิดพลาดในการสร้างใบงาน','สลับไปโหมดนักเรียน','undefined','length','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','localeCompare','/public/data/quizzes','cancel-test-btn','analytics-tab-btn','print','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','\x0a---\x0a','answering','บันทึกแบบทดสอบสำเร็จแล้ว!','submit','22592910DltGmA','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','AI\x20request\x20was\x20blocked.\x20Reason:\x20','timerMode','index','กรุณาใส่ชื่อใหม่','quiz-end-time','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','topic','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','STRING','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','</h3>','<br>','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','files','students','#per-question-options\x20textarea','close-presentation-btn','กรุณาป้อนหัวข้อสำหรับใบงาน','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q_opt','-tab-content','bg-green-300','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','presentation-explanation','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','all','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','00:00','autoTable','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-700\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','flex','กำลังสร้างรูปภาพ...','num-questions','\x22\x20value=\x22false\x22\x20','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','link-input-area','\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>(','button','\x20ตัวเลือก.\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20moving\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20bg-white\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20border-gray-200\x20flex\x20flex-col\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x22\x20data-id=\x22','กำลังดึงข้อมูลจากลิงก์...','modal-timer-mode-select','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','td,\x20th','/public/data/projects/','$1\x20\x5cfrac','admin-try-quiz-btn','<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>','ดูสรุปผล','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancel-quiz-settings-btn','exists','answers','shuffle','กรุณาเลือกโปรเจคปลายทาง','manage-tab','\x22?\x20ผลการส่งงานทั้งหมดของแบบทดสอบนี้จะถูกลบอย่างถาวร','onerror','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','results-display-select','string','latestSubmittedAt','.move-quiz-btn','join','</span></td>','start-quiz-btn','[data-is-correct=\x22true\x22]','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','removeChild','เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ','leaderboard-tab','timer-bar','random','explanation','totalQuestions','สร้างชุดคำถามจับคู่','ownerSVGElement','\x201\x20ข้อ\x20','save-quiz-edits-btn','AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','student-join-game-view','text-white','fa-rocket\x20text-purple-500','originalQuestion','start-game-btn','.csv','cursor','s;\x22\x20title=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','Error\x20fetching\x20quiz\x20status:','student-initial-view','/studentProfiles','เกมสิ้นสุดลงแล้ว','export-image-btn','fill_in_no_choices','innerHTML','ท็อปฟอร์ม','qType','value','reduce','quiz-generation-area','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x5ctimes','data:application/vnd.ms-word;charset=utf-8,','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','scores-tab-content','results-table','Error\x20saving\x20quiz\x20edits:','confirm-rename-quiz-btn','text-tab','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','size','pinned-items','replace','mouseup','<span\x20title=\x22','modal-passing-score-input','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','default','global-quiz-search-input','quiz-results','input','FIRST_TRY_ACE','Error\x20processing\x20file\x20for\x20AI:','desc','application/json','createObjectURL','\x20จาก\x20','content','ไม่ได้ตอบ','then','project-sort-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','totalPoints','<div\x20id=\x22q-image-container-','start-live-race-generated-btn','contentEditable','ring-2','คะแนน','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','cancel-rename-quiz-btn','currentTarget','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบถูก\x20','close','quizId','show_pass_fail_only','strength-weakness-analysis-container','th-TH','ไม่พบโปรเจค','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','question-analytics-container','%\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','เกิดข้อผิดพลาดในการโหลดสถานะ','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','project-list','label[for=\x22num-questions\x22]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-live-question-btn\x22\x20class=\x22bg-blue-500\x20hover:bg-blue-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','generate-from-link-btn','คำถามถัดไป','input[name=\x22status-option\x22]:checked','project-dashboard-view','quiz-start-time','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>','answer','split','text-red-700\x20bg-red-100','bestScore','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','generated-quiz-container','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','.quiz-status-btn','add','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','manage-tab-content','bar','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','dispatchEvent','input[name=\x22question_single\x22]:checked','on_fire','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','project-quizzes-list','questionDisplayedAt','.\x20แต่ละข้อมี\x20','project-search-input','<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>','<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>','รอเปิด','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','student-project-leaderboard-tab','addEventListener','touchstart','delete','project-title','execCommand','min','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>','thead\x20.sortable-header','select','matching','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','fullscreenElement','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','keys','Error\x20creating\x20project:','delete-svg-btn','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','fa-pen','map','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x20text-purple-600\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','status','ไม่สามารถเริ่มเกมได้','ไม่พบแบบทดสอบสำหรับรหัสนี้','remedialContent','global-live-game-modal','parse','ส่งแล้ว','API\x20call\x20failed','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','bank-input-area','opacity','imageCode','FileReader\x20error:','submissions','worksheet-input-area','admin-testing','results-quiz-title','toISOString','studentName','.sort-indicator','score-distribution-chart','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','student-name-select','line-through\x20text-red-700','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','toggle','border-4','Error\x20generating\x20from\x20link:','candidates','quiz','คณิตศาสตร์','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','update','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','ผู้เชี่ยวชาญ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','274192258111','analytics-summary-cards','N/A','export-pdf-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','key','คัดลอกแบบทดสอบสำเร็จ','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','Error\x20listening\x20for\x20student\x20profiles:','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','live-game-view','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','/users/','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการโปรเจค','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','Invalid\x20response\x20structure\x20from\x20AI:','quiz-settings-modal','quick_thinker','#ffffff','\x5cdiv','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ผู้ควบคุม\x20(ทดสอบ)','text-green-900','admin-dashboard','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','ปิดใช้งาน','/public/data/quizzes/','กำลังอ่านและเตรียมไฟล์...','allResponses','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3/4\x20truncate\x22>ข้อ\x20','export-leaderboard-excel-btn','\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','outerHTML','answeredCurrentQuestion','ไม่ใช่','startTime','ผ่านฉลุย','rename-quiz-input','active','<li>','get','text-green-600','fa-shield-alt\x20text-gray-600','คัดลอกไม่สำเร็จ','.delete-svg-btn','\x20คู่\x20','ยังไม่ส่ง','teacherSuggestions','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','touchend','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','forEach','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','attempts','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>(','quiz-leaderboard-table','QUICK_THINKER','some','<div\x20class=\x22','manage','23oCXSMg','ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้','hover:bg-indigo-100','หมดเวลาสำหรับข้อนี้!','confirm-admin-login-btn','text-green-700\x20bg-green-100','_opt0\x22>ใช่</label></div>','Error\x20generating\x20quiz:','ring-purple-400','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','create-from-bank-btn','save-quiz-btn','viewBox','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','fill_in_with_choices','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','ลบแบบทดสอบสำเร็จแล้ว','student-list','<div\x20class=\x22p-3\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','q-explanation-','quiz-form','<i\x20class=\x22fas\x20fa-save\x22></i>','จากไฟล์ที่แนบมานี้,\x20','\x20คน):</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','results-table-container','text-input-area','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','loader','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_true\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_true\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_false\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_false\x22>ไม่ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ข้อ)</span>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x22>','load-quiz-btn','display','ไม่สามารถเพิ่มนักเรียนได้','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข','submission','href','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','scores-tab-btn','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','เกิดข้อผิดพลาดในการเปลี่ยนชื่อ','<i\x20class=\x22fas\x20fa-pen\x22></i>','rows','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','stringify','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','baseVal','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','cancel-quiz-status-btn','q-image-container-','\x22\x20data-topic=\x22','กรุณาใส่ชื่อนักเรียน','indexOf','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','>\x20<label\x20for=\x22status-inactive\x22>ปิดใช้งาน\x20(Inactive)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22schedule\x22\x20id=\x22status-schedule\x22\x20','resultsDisplay','\x20ข้อ)</span></p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','</li>','show_results_and_answers','leaderboard-table-body','บันทึกการตั้งค่าสำเร็จ','dataIndex','\x20\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-indigo-800\x20pointer-events-none\x22>','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','leaderboard-tab-content','firstScore','keyup','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','2741','.pdf','createdAt','substring','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getScreenCTM','\x0a\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนหนึ่งทำแบบทดสอบเรื่อง\x20\x22','player-count','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','generated-quiz-actions','image/png','เกิดข้อผิดพลาดในการติดดาว','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','currentQuestionIndex','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-end\x20flex-wrap\x20gap-2\x20mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','rename-quiz-modal','bg-purple-50','กรุณาป้อนรหัสแบบทดสอบ','กำลังสร้างคำถามข้อ\x20','<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','สร้างคำถามแบบเติมคำในช่องว่าง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์จุดอ่อนและสร้างเนื้อหาทบทวนให้คุณโดยเฉพาะ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','mode-switcher-btn','/public/data/liveGames','NUMBER','-tab','ไม่สามารถบันทึกการตั้งค่าได้','error','removeAttribute','\x22\x20name=\x22question','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x09\x09\x09\x09\x09\x09\x09\x20<button\x20data-quiz-id=\x22','rgba(79,\x2070,\x20229,\x201)','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20','fill','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<h2\x20class=\x22text-3xl\x20font-bold\x22>หมดเวลา!</h2>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเฉลยและไปข้อต่อไป...</p>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ใช่','circle','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','คะแนนเต็ม','perfect_score','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว','ไม่สามารถโหลดข้อมูลอันดับได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','manual_release','leaderboard-quiz','scores','global-quiz-list','student','stem','destroy','2-digit','Error\x20displaying\x20question\x20bank:','analyze-strengths-btn','_opt1\x22>ไม่ใช่</label></div>','setFont','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน','badges','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','players','opacity-50','asc','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','live-options-container','focus','results-tab-content','cancel-move-quiz-btn','>\x20<label\x20for=\x22status-active\x22>เปิดใช้งาน\x20(Active)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22inactive\x22\x20id=\x22status-inactive\x22\x20','leaderboard-quiz-tab-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','project-id-display','projectId','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','getContext','quiz-leaderboard-table-container','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','perseverance','export-leaderboard-pdf-btn','<div><input\x20type=\x22radio\x22\x20id=\x22q','raw','.draggable-text','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','<h1></h1>','class','clientY','confirm-delete-btn','\x0a\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','classStrengths','toDataURL','appendChild','/questionBank','#per-question-options\x20select','remove','next-question-timed-btn','question','#F59E0B','<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>','\x22><i\x20class=\x22fas\x20','<li\x20class=\x22','questionText','back-to-project-btn','AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','.correct-response-input','ระยะเวลา\x20(วินาที):','แบบทดสอบซ่อมเสริม','แบบทดสอบไม่มีชื่อ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22','push','dataset','modal-timer-duration-container','ข้อต่อไป','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ยืนยันการกระทำ','<option>กำลังโหลดโปรเจค...</option>','timer-duration-container','latestScore','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','ไม่สามารถโหลดรายการโปรเจคได้','classList','editor-quiz-topic','\x22,\x20','thead','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการสร้างห้องเกม','quiz-type-select','\x22.\x20Ideal\x20Answer:\x20\x22','modal-timer-duration-input','.sortable-header','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','instructions','back-to-dashboard-btn','</span></p>','values','close-game-final-btn','querySelectorAll','touchmove','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คำตอบผิด','BOOLEAN','gamePin','type','per-question-text','none','setAttribute','scheduled','ระยะเวลา\x20(นาที):','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>','<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>','\x0a\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>','analytics-tab-content','touchcancel','isRemedial','timer-mode-select','312nuKgDd','```','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','leaderboard_','student-reading-area','G-V90KRM0L63','generate-from-file-btn','createElement','correctResponse','https://corsproxy.io/?','copy-quiz-id-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','#results-table','confirmation-message','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','fill_in_the_blank','\x201\x20ข้อ\x20(1\x20คู่)\x20ที่อยู่ในหมวดหมู่เดียวกันกับคำถามเดิม\x20แต่ต้องแตกต่างออกไป.\x20รูปแบบคือ:\x20stem,\x20correctResponse,\x20และ\x20explanation.\x20','height','modal-adaptive-quiz-checkbox','เกิดข้อผิดพลาดในการอ่านไฟล์','includes','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','removeEventListener','fa-crown\x20text-yellow-500','nickname-input','การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','icon','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','floor','questions_only','presentation-modal','ARRAY','ข้อที่\x20','confirm-quiz-status-btn','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','loader-text','max','cancel-admin-login-btn','onclick','message',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','คำตอบถูกต้อง!\x20+','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','Error\x20saving\x20to\x20question\x20bank:','text-green-600\x20font-bold','font-bold\x20text-red-700\x20line-through','now','normal','Remedial\x20quiz\x20generation\x20failed:','file-input-area','</span></div>','back-from-results-btn','link-url-input','3467460lQAPBP','ลบโปรเจคสำเร็จแล้ว','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','confirm-global-live-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','เกิดข้อผิดพลาดในการอัปเดตสถานะ','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','.live-answer-btn,\x20#live-submit-short-answer-btn','live-short-answer-input','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','ไม่พบตารางสำหรับ\x20Export','>\x20<label\x20for=\x22status-schedule\x22>ตั้งเวลาเปิด/ปิด\x20(Schedule)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สร้างโปรเจคสำเร็จ!','.duplicate-quiz-btn','เกิดข้อผิดพลาดในการลบนักเรียน','generate-from-topic-btn','correctAnswerIndex','isArray','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','create-project-btn','quiz-status-options','multiple_choice','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x20ml-auto\x22\x20title=\x22ลบแบบทดสอบ\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','modal-message','\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','startsWith','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-remedial-quiz-btn\x22\x20class=\x22mt-4\x20bg-indigo-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เข้าใจแล้ว\x20ลองอีกครั้ง!\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20','_opt1\x22\x20name=\x22question','Error\x20listening\x20for\x20projects:','<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20','shuffle-setting-select','choices_only','สร้างแบบทดสอบ','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20'];_0x4fdf=function(){return _0xcd3918;};return _0x4fdf();}function renderQuizResultsTable(_0x1794a8,_0xa8ce2,_0x5d0cae){const _0x205d52=_0x425095,_0x271892=_0xa8ce2[_0x205d52(0x1c5)]((_0x3f9ca9,_0xa7eaf1)=>{return _0x3f9ca9[_0xa7eaf1['studentName']]=_0xa7eaf1,_0x3f9ca9;},{}),_0x4140d6=document[_0x205d52(0x525)]('quiz-results-table-body');if(!_0x1794a8||_0x1794a8[_0x205d52(0x5c8)]===0x0){_0x4140d6[_0x205d52(0x1c1)]=_0x205d52(0x3b0);return;}const _0x574e54=_0x5d0cae[_0x205d52(0x394)]===!![],_0x3f3a6f=_0x5d0cae['settings']?.[_0x205d52(0x481)]??-0x1;let _0x5de9ee='';_0x1794a8[_0x205d52(0x299)](_0x324ccb=>{const _0x16016b=_0x205d52,_0x4b3337=_0x271892[_0x324ccb];let _0x5969e1=_0x16016b(0x220),_0x4d2e6d=_0x16016b(0x419)+(_0x574e54?_0x16016b(0x4e0):_0x16016b(0x4ec))+'\x22>'+(_0x574e54?'สอบซ่อม':_0x16016b(0x492))+_0x16016b(0x1a0);if(_0x4b3337){let _0x1637ca;_0x574e54?_0x1637ca=_0x4b3337[_0x16016b(0x20e)]===_0x4b3337['totalQuestions']:_0x1637ca=_0x3f3a6f!==-0x1&&_0x4b3337['bestScore']>=_0x3f3a6f;if(_0x574e54||_0x3f3a6f!==-0x1){const _0x11ef4e=_0x1637ca?'bg-green-100\x20text-green-800':_0x16016b(0x483),_0x201a81=_0x1637ca?_0x16016b(0x4e1):_0x16016b(0x47c);_0x5969e1=_0x16016b(0x4d8)+_0x11ef4e+'\x22>'+_0x201a81+'</span></td>';}const _0x561d03=_0x16016b(0x5b3)+(_0x4b3337[_0x16016b(0x29c)]?.[_0x16016b(0x5c8)]||0x1)+'\x20ครั้ง)</span></td>';_0x5de9ee+=_0x16016b(0x5b4)+_0x324ccb+_0x16016b(0x2b3)+_0x4b3337['bestScore']+_0x16016b(0x560)+_0x4b3337['totalQuestions']+_0x16016b(0x598)+_0x5969e1+_0x16016b(0x265)+_0x4d2e6d+_0x16016b(0x42b)+_0x4b3337[_0x16016b(0x2f1)]+_0x16016b(0x560)+_0x4b3337['totalQuestions']+_0x16016b(0x593)+_0x4b3337['latestScore']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>'+(_0x4b3337[_0x16016b(0x52a)]||0x0)+_0x16016b(0x598)+_0x561d03+_0x16016b(0x546)+new Date(_0x4b3337['latestSubmittedAt'])['toLocaleString'](_0x16016b(0x1fb))+_0x16016b(0x558);}else{const _0xf9c47d=_0x16016b(0x1f4);_0x5de9ee+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x324ccb+_0x16016b(0x1d8)+_0x4d2e6d+_0x16016b(0x2fc)+_0xf9c47d+_0x16016b(0x298);}}),_0x4140d6['innerHTML']=_0x5de9ee;}function handleRenameQuiz(_0x14c1ad,_0xe7dbb9){const _0x5ce9e2=_0x425095;actionTargetId=_0x14c1ad,document['getElementById']('rename-quiz-input')['value']=_0xe7dbb9,renameQuizModal[_0x5ce9e2(0x370)][_0x5ce9e2(0x355)](_0x5ce9e2(0x49c));}async function confirmRenameQuiz(){const _0x527bd7=_0x425095,_0x5e1796=document['getElementById'](_0x527bd7(0x28a))['value'][_0x527bd7(0x3ff)]();if(!_0x5e1796){showMessage(_0x527bd7(0x15e));return;}if(!actionTargetId)return;const _0x4748d8=doc(db,'artifacts/'+appId+_0x527bd7(0x5cb),actionTargetId);try{await updateDoc(_0x4748d8,{'topic':_0x5e1796}),showMessage('เปลี่ยนชื่อแบบทดสอบสำเร็จ'),renameQuizModal[_0x527bd7(0x370)]['add'](_0x527bd7(0x49c)),actionTargetId=null;}catch(_0x219e72){console[_0x527bd7(0x310)]('Error\x20renaming\x20quiz:',_0x219e72),showMessage(_0x527bd7(0x2d3));}}async function handleMoveQuiz(_0x58f2ec){const _0x429d44=_0x425095;actionTargetId=_0x58f2ec;const _0x273aa1=document['getElementById'](_0x429d44(0x5a0));_0x273aa1[_0x429d44(0x1c1)]=_0x429d44(0x36b),moveQuizModal[_0x429d44(0x370)][_0x429d44(0x355)](_0x429d44(0x49c));try{const _0x1e1581=collection(db,_0x429d44(0x4f4)+appId+_0x429d44(0x421)),_0xf3ec72=await getDocs(_0x1e1581),_0x5e6471=_0xf3ec72['docs']['map'](_0x4b10ab=>({'id':_0x4b10ab['id'],..._0x4b10ab['data']()})),_0x57ad6d=_0x5e6471[_0x429d44(0x563)](_0x40c30e=>_0x40c30e['id']!==currentProjectId);if(_0x57ad6d[_0x429d44(0x5c8)]===0x0){_0x273aa1['innerHTML']=_0x429d44(0x1f1),document[_0x429d44(0x525)](_0x429d44(0x57a))['disabled']=!![];return;}_0x273aa1[_0x429d44(0x1c1)]=_0x57ad6d[_0x429d44(0x238)](_0x2e1f52=>_0x429d44(0x489)+_0x2e1f52['id']+'\x22>'+_0x2e1f52[_0x429d44(0x4f0)]+_0x429d44(0x4fd))[_0x429d44(0x19f)](''),document[_0x429d44(0x525)]('confirm-move-quiz-btn')[_0x429d44(0x48e)]=![];}catch(_0x5546e5){console[_0x429d44(0x310)]('Error\x20fetching\x20projects\x20for\x20move:',_0x5546e5),showMessage(_0x429d44(0x36f)),moveQuizModal[_0x429d44(0x370)]['add'](_0x429d44(0x49c));}}async function confirmMoveQuiz(){const _0x158df0=_0x425095,_0x20b089=document[_0x158df0(0x525)](_0x158df0(0x5a0))['value'];if(!_0x20b089){showMessage(_0x158df0(0x195));return;}if(!actionTargetId)return;const _0x2fce2c=doc(db,_0x158df0(0x4f4)+appId+_0x158df0(0x5cb),actionTargetId);try{await updateDoc(_0x2fce2c,{'projectId':_0x20b089}),showMessage(_0x158df0(0x4db)),moveQuizModal[_0x158df0(0x370)][_0x158df0(0x213)](_0x158df0(0x49c)),actionTargetId=null;}catch(_0x2226c1){console[_0x158df0(0x310)](_0x158df0(0x184),_0x2226c1),showMessage(_0x158df0(0x26d));}}async function handleQuizSettings(_0x5a3f7b){const _0xfcedbd=_0x425095;actionTargetId=_0x5a3f7b;const _0x27af21=doc(db,_0xfcedbd(0x4f4)+appId+_0xfcedbd(0x5cb),_0x5a3f7b);try{const _0x2fb806=await getDoc(_0x27af21);if(_0x2fb806[_0xfcedbd(0x192)]()){const _0x5cc5b2=_0x2fb806[_0xfcedbd(0x59a)](),_0x21c740=_0x5cc5b2[_0xfcedbd(0x47f)]||{},_0x1f6dc5=_0x5cc5b2[_0xfcedbd(0x4ce)]['length'];document[_0xfcedbd(0x525)]('modal-shuffle-select')[_0xfcedbd(0x1c4)]=_0x21c740['shuffle']||_0xfcedbd(0x38a),document[_0xfcedbd(0x525)](_0xfcedbd(0x43f))['value']=_0x21c740[_0xfcedbd(0x2e4)]||_0xfcedbd(0x2e8),document[_0xfcedbd(0x525)]('modal-timer-mode-select')[_0xfcedbd(0x1c4)]=_0x21c740['timerMode']||_0xfcedbd(0x38a),document[_0xfcedbd(0x525)](_0xfcedbd(0x379))['value']=_0x21c740[_0xfcedbd(0x55f)]||0xa,document[_0xfcedbd(0x525)](_0xfcedbd(0x1d7))[_0xfcedbd(0x1c4)]=_0x21c740[_0xfcedbd(0x481)]||Math[_0xfcedbd(0x3b3)](_0x1f6dc5/0x2),document[_0xfcedbd(0x525)]('modal-passing-score-input')['max']=_0x1f6dc5,document['getElementById'](_0xfcedbd(0x3a8))[_0xfcedbd(0x46e)]=_0x21c740['isAdaptive']||![],document['getElementById'](_0xfcedbd(0x187))[_0xfcedbd(0x218)](new Event(_0xfcedbd(0x56c))),quizSettingsModal[_0xfcedbd(0x370)][_0xfcedbd(0x355)]('hidden');}else showMessage(_0xfcedbd(0x4d5));}catch(_0x572e63){console[_0xfcedbd(0x310)]('Error\x20fetching\x20quiz\x20settings:',_0x572e63),showMessage(_0xfcedbd(0x269));}}async function confirmQuizSettings(){const _0x229fd4=_0x425095;if(!actionTargetId)return;const _0x554818=doc(db,'artifacts/'+appId+_0x229fd4(0x5cb),actionTargetId),_0x20264d={'shuffle':document[_0x229fd4(0x525)]('modal-shuffle-select')[_0x229fd4(0x1c4)],'resultsDisplay':document[_0x229fd4(0x525)]('modal-results-display-select')['value'],'timerMode':document[_0x229fd4(0x525)](_0x229fd4(0x187))[_0x229fd4(0x1c4)],'timerDuration':parseInt(document[_0x229fd4(0x525)]('modal-timer-duration-input')[_0x229fd4(0x1c4)])||0xa,'passingScore':parseInt(document[_0x229fd4(0x525)](_0x229fd4(0x1d7))[_0x229fd4(0x1c4)])||0x0,'passingScore':parseInt(document[_0x229fd4(0x525)](_0x229fd4(0x1d7))['value'])||0x0,'isAdaptive':document['getElementById']('modal-adaptive-quiz-checkbox')[_0x229fd4(0x46e)]};try{await updateDoc(_0x554818,{'settings':_0x20264d}),showMessage(_0x229fd4(0x2ea)),quizSettingsModal[_0x229fd4(0x370)]['add'](_0x229fd4(0x49c)),actionTargetId=null;}catch(_0x2d5914){console['error'](_0x229fd4(0x46b),_0x2d5914),showMessage(_0x229fd4(0x519));}}async function handleQuizStatus(_0x37d926){const _0x1172e5=_0x425095;actionTargetId=_0x37d926;const _0x50f593=doc(db,_0x1172e5(0x4f4)+appId+_0x1172e5(0x5cb),_0x37d926);try{const _0x33680d=await getDoc(_0x50f593);if(_0x33680d[_0x1172e5(0x192)]()){const _0x2be724=_0x33680d[_0x1172e5(0x59a)](),_0x49a59a=_0x2be724[_0x1172e5(0x23c)]||'active',_0x36b98f=document[_0x1172e5(0x525)](_0x1172e5(0x3e0)),_0x4d50ea=document[_0x1172e5(0x525)](_0x1172e5(0x527)),_0x4c920f=document[_0x1172e5(0x525)](_0x1172e5(0x5a3));let _0x515603=_0x1172e5(0x53b)+(_0x49a59a===_0x1172e5(0x28b)?_0x1172e5(0x46e):'')+_0x1172e5(0x33c)+(_0x49a59a===_0x1172e5(0x40b)?_0x1172e5(0x46e):'')+_0x1172e5(0x2e3)+(_0x49a59a==='scheduled'?_0x1172e5(0x46e):'')+_0x1172e5(0x3d7);_0x36b98f['innerHTML']=_0x515603;const _0x26b4cd=_0x49a59a===_0x1172e5(0x38c);_0x4d50ea['classList']['toggle'](_0x1172e5(0x49c),!_0x26b4cd),_0x4c920f[_0x1172e5(0x370)][_0x1172e5(0x255)](_0x1172e5(0x49c),!_0x26b4cd),document[_0x1172e5(0x525)]('quiz-start-time')[_0x1172e5(0x1c4)]=_0x2be724[_0x1172e5(0x288)]?_0x2be724['startTime'][_0x1172e5(0x2f7)](0x0,0x10):'',document[_0x1172e5(0x525)](_0x1172e5(0x15f))['value']=_0x2be724[_0x1172e5(0x5a6)]?_0x2be724[_0x1172e5(0x5a6)]['substring'](0x0,0x10):'',_0x36b98f[_0x1172e5(0x381)]('input[name=\x22status-option\x22]')[_0x1172e5(0x299)](_0x266373=>{const _0x66acb5=_0x1172e5;_0x266373[_0x66acb5(0x225)](_0x66acb5(0x56c),_0x368269=>{const _0x9d1f77=_0x66acb5,_0xde97f1=_0x368269[_0x9d1f77(0x42d)]['value']===_0x9d1f77(0x4ee);_0x4d50ea[_0x9d1f77(0x370)][_0x9d1f77(0x255)](_0x9d1f77(0x49c),!_0xde97f1),_0x4c920f[_0x9d1f77(0x370)][_0x9d1f77(0x255)](_0x9d1f77(0x49c),!_0xde97f1);});}),quizStatusModal[_0x1172e5(0x370)][_0x1172e5(0x355)](_0x1172e5(0x49c));}}catch(_0x3d6a97){console[_0x1172e5(0x310)](_0x1172e5(0x1bb),_0x3d6a97),showMessage(_0x1172e5(0x200));}}async function confirmQuizStatus(){const _0x1a9f07=_0x425095;if(!actionTargetId)return;const _0x1c6eff=doc(db,'artifacts/'+appId+_0x1a9f07(0x5cb),actionTargetId),_0x5c39fb=document[_0x1a9f07(0x452)](_0x1a9f07(0x207));if(!_0x5c39fb){showMessage(_0x1a9f07(0x54f));return;}const _0x93a2f3=_0x5c39fb['value'];let _0x337139={};if(_0x93a2f3===_0x1a9f07(0x28b)||_0x93a2f3===_0x1a9f07(0x40b))_0x337139={'status':_0x93a2f3,'startTime':null,'endTime':null};else{if(_0x93a2f3==='schedule'){const _0x566674=document[_0x1a9f07(0x525)](_0x1a9f07(0x209))['value'],_0x385c94=document[_0x1a9f07(0x525)]('quiz-end-time')[_0x1a9f07(0x1c4)];if(!_0x566674&&!_0x385c94){showMessage(_0x1a9f07(0x217));return;}_0x337139={'status':'scheduled','startTime':_0x566674?new Date(_0x566674)[_0x1a9f07(0x24d)]():null,'endTime':_0x385c94?new Date(_0x385c94)[_0x1a9f07(0x24d)]():null};}}try{await updateDoc(_0x1c6eff,_0x337139),showMessage('อัปเดตสถานะสำเร็จ'),quizStatusModal[_0x1a9f07(0x370)]['add'](_0x1a9f07(0x49c)),actionTargetId=null;}catch(_0x1647ec){console[_0x1a9f07(0x310)](_0x1a9f07(0x528),_0x1647ec),showMessage(_0x1a9f07(0x3d1));}}function listenForStudentProfiles(_0x1c5b47){const _0x4a94e5=_0x425095,_0x44f3f5=collection(db,_0x4a94e5(0x4f4)+appId+_0x4a94e5(0x18a)+_0x1c5b47+_0x4a94e5(0x1bd));unsubscribeStudentProfilesListener=onSnapshot(_0x44f3f5,_0x30aef9=>{const _0x861c0=_0x4a94e5,_0x2ebedb=_0x30aef9['docs'][_0x861c0(0x238)](_0x4bd598=>_0x4bd598['data']());renderLeaderboard(_0x2ebedb,'leaderboard-table-body');},_0x521420=>{const _0xb6a237=_0x4a94e5;console[_0xb6a237(0x310)](_0xb6a237(0x26a),_0x521420),document[_0xb6a237(0x525)](_0xb6a237(0x2e9))[_0xb6a237(0x1c1)]=_0xb6a237(0x174);});}function renderLeaderboard(_0x248d6e,_0x1b4908){const _0x2f4050=_0x425095,_0xa32479=document['getElementById'](_0x1b4908);if(!_0x248d6e||_0x248d6e[_0x2f4050(0x5c8)]===0x0){_0xa32479[_0x2f4050(0x1c1)]=_0x2f4050(0x1c7);return;}_0x248d6e[_0x2f4050(0x4a2)]((_0x5e77f6,_0x1face4)=>{const _0x4774c3=_0x2f4050,_0x2ef34b=(_0x1face4[_0x4774c3(0x1eb)]||0x0)-(_0x5e77f6['totalPoints']||0x0);if(_0x2ef34b!==0x0)return _0x2ef34b;const _0x4586cd=(_0x1face4[_0x4774c3(0x45e)]?.[_0x4774c3(0x4dc)]||0x0)-(_0x5e77f6[_0x4774c3(0x45e)]?.[_0x4774c3(0x4dc)]||0x0);if(_0x4586cd!==0x0)return _0x4586cd;const _0xe4115f=(_0x1face4[_0x4774c3(0x45e)]?.[_0x4774c3(0x597)]||0x0)-(_0x5e77f6[_0x4774c3(0x45e)]?.[_0x4774c3(0x597)]||0x0);if(_0xe4115f!==0x0)return _0xe4115f;const _0x5e3ffa=(_0x1face4[_0x4774c3(0x45e)]?.[_0x4774c3(0x31f)]||0x0)-(_0x5e77f6[_0x4774c3(0x45e)]?.['perfect_score']||0x0);if(_0x5e3ffa!==0x0)return _0x5e3ffa;const _0x3275a7=(_0x1face4[_0x4774c3(0x45e)]?.['quick_thinker']||0x0)-(_0x5e77f6[_0x4774c3(0x45e)]?.[_0x4774c3(0x274)]||0x0);if(_0x3275a7!==0x0)return _0x3275a7;return _0x5e77f6[_0x4774c3(0x24e)][_0x4774c3(0x5ca)](_0x1face4[_0x4774c3(0x24e)],'th');});let _0x5325ef='';_0x248d6e['forEach']((_0x1f6f1b,_0x56bca7)=>{const _0x352162=_0x2f4050,_0x40bf4d=_0x56bca7+0x1,_0x585c32=_0x1f6f1b[_0x352162(0x45e)]||{};let _0x51cfbf='';const _0xf5bdb0=[_0x352162(0x4dc),_0x352162(0x31f),_0x352162(0x597),_0x352162(0x274)];_0xf5bdb0[_0x352162(0x299)](_0x55599c=>{const _0x1cf571=_0x352162;if(_0x585c32[_0x55599c]>0x0){const _0x3076ff=Object[_0x1cf571(0x37f)](BADGES)[_0x1cf571(0x49b)](_0x37ead2=>_0x37ead2['id']===_0x55599c);_0x3076ff&&(_0x55599c===_0x1cf571(0x4dc)?_0x51cfbf+=_0x1cf571(0x569)+_0x3076ff[_0x1cf571(0x4f9)]+_0x1cf571(0x3d0)+_0x3076ff['icon']+_0x1cf571(0x540):_0x51cfbf+=_0x1cf571(0x569)+_0x3076ff[_0x1cf571(0x4f9)]+'\x20('+_0x585c32[_0x55599c]+'\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0x3076ff[_0x1cf571(0x3b1)]+_0x1cf571(0x22b)+_0x585c32[_0x55599c]+_0x1cf571(0x201));}}),_0x5325ef+=_0x352162(0x5a2)+_0x40bf4d+_0x352162(0x45b)+_0x1f6f1b[_0x352162(0x24e)]+_0x352162(0x20a)+(_0x1f6f1b[_0x352162(0x1eb)]||0x0)+_0x352162(0x45b)+(_0x51cfbf||'-')+_0x352162(0x231);}),_0xa32479['innerHTML']=_0x5325ef;}function renderQuizLeaderboard(_0x1f501b,_0x2933ed,_0x5de079){const _0x60a2fb=_0x425095,_0x415439=document[_0x60a2fb(0x525)](_0x5de079),_0x3f43cb=_0x5de079===_0x60a2fb(0x4a9),_0x2488da=_0x2933ed['questions']['length'],_0x5fdcd4=document[_0x60a2fb(0x525)](_0x5de079)['closest']('table');if(_0x5fdcd4&&!_0x3f43cb){const _0x4fab8=_0x5fdcd4[_0x60a2fb(0x452)](_0x60a2fb(0x373));_0x4fab8[_0x60a2fb(0x1c1)]=_0x60a2fb(0x43d);}if(!_0x1f501b||_0x1f501b[_0x60a2fb(0x5c8)]===0x0){_0x415439['innerHTML']=_0x60a2fb(0x43e)+(_0x3f43cb?0x6:0x8)+'\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>';return;}const _0x237c1c=[..._0x1f501b];_0x237c1c['sort']((_0x5ada07,_0x1129b8)=>{const _0x6faf84=_0x60a2fb;let _0x1168bc,_0x246f87;switch(quizLeaderboardSortBy){case _0x6faf84(0x24e):_0x1168bc=_0x5ada07[_0x6faf84(0x24e)]||'',_0x246f87=_0x1129b8[_0x6faf84(0x24e)]||'';return quizLeaderboardSortOrder==='asc'?_0x1168bc[_0x6faf84(0x5ca)](_0x246f87,'th'):_0x246f87[_0x6faf84(0x5ca)](_0x1168bc,'th');case _0x6faf84(0x52a):_0x1168bc=_0x5ada07[_0x6faf84(0x52a)]||0x0,_0x246f87=_0x1129b8[_0x6faf84(0x52a)]||0x0;break;case _0x6faf84(0x29c):_0x1168bc=_0x5ada07['attempts']?.[_0x6faf84(0x5c8)]||0x1,_0x246f87=_0x1129b8[_0x6faf84(0x29c)]?.[_0x6faf84(0x5c8)]||0x1;break;case _0x6faf84(0x19d):_0x1168bc=new Date(_0x5ada07[_0x6faf84(0x19d)]),_0x246f87=new Date(_0x1129b8[_0x6faf84(0x19d)]);break;case _0x6faf84(0x20e):default:_0x1168bc=_0x5ada07[_0x6faf84(0x20e)],_0x246f87=_0x1129b8['bestScore'];break;}if(_0x1168bc<_0x246f87)return quizLeaderboardSortOrder===_0x6faf84(0x335)?-0x1:0x1;if(_0x1168bc>_0x246f87)return quizLeaderboardSortOrder===_0x6faf84(0x335)?0x1:-0x1;return 0x0;});const _0x4aa4f8=_0x2933ed[_0x60a2fb(0x394)]===!![],_0x3b0c62=_0x2933ed['settings']?.[_0x60a2fb(0x481)]??-0x1;let _0x250dcb='';_0x237c1c[_0x60a2fb(0x299)]((_0x5b9986,_0x5ec7a5)=>{const _0x4d7b3b=_0x60a2fb,_0x3eecc8=_0x5ec7a5+0x1;let _0x3b3fd2=_0x4d7b3b(0x254);if(_0x4aa4f8||_0x3b0c62!==-0x1){let _0x10a758=_0x4aa4f8?_0x5b9986[_0x4d7b3b(0x20e)]===_0x2488da:_0x5b9986['bestScore']>=_0x3b0c62;const _0x3f52ac=_0x10a758?_0x4d7b3b(0x457):_0x4d7b3b(0x483),_0x60408b=_0x10a758?_0x4d7b3b(0x4e1):'ไม่ผ่าน';_0x3b3fd2=_0x4d7b3b(0x199)+_0x3f52ac+'\x22>'+_0x60408b+_0x4d7b3b(0x1a0);}const _0x573dcb=_0x5b9986[_0x4d7b3b(0x29c)][_0x5b9986[_0x4d7b3b(0x29c)][_0x4d7b3b(0x5c8)]-0x1],_0x1066ca=(_0x573dcb[_0x4d7b3b(0x331)]||[])[_0x4d7b3b(0x238)](_0x540e7c=>{const _0x2479ff=_0x4d7b3b,_0x1a0f9f=Object[_0x2479ff(0x37f)](BADGES)['find'](_0x24164f=>_0x24164f['id']===_0x540e7c);return _0x1a0f9f?_0x2479ff(0x1d6)+_0x1a0f9f['name']+_0x2479ff(0x35a)+_0x1a0f9f['icon']+'\x20mx-1\x20text-lg\x22></i></span>':'';})['join']('');_0x250dcb+=_0x4d7b3b(0x29a)+_0x3eecc8+_0x4d7b3b(0x4f3)+_0x5b9986[_0x4d7b3b(0x24e)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>'+_0x5b9986[_0x4d7b3b(0x20e)]+_0x4d7b3b(0x560)+_0x2488da+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3b3fd2+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>'+(_0x5b9986[_0x4d7b3b(0x52a)]||0x0)+_0x4d7b3b(0x408)+(_0x3f43cb?'':_0x4d7b3b(0x50d)+(_0x5b9986['attempts']?.[_0x4d7b3b(0x5c8)]||0x1)+'</td>')+_0x4d7b3b(0x40f)+(_0x3f43cb?'':_0x4d7b3b(0x337)+new Date(_0x5b9986[_0x4d7b3b(0x19d)])['toLocaleString'](_0x4d7b3b(0x1fb))+_0x4d7b3b(0x44d))+_0x4d7b3b(0x18f)+(_0x1066ca||'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x415439[_0x60a2fb(0x1c1)]=_0x250dcb,_0x5fdcd4&&!_0x3f43cb&&_0x5fdcd4['querySelectorAll'](_0x60a2fb(0x22c))[_0x60a2fb(0x299)](_0x3c983c=>{const _0x3479f8=_0x60a2fb,_0x468ea0=_0x3c983c[_0x3479f8(0x452)](_0x3479f8(0x24f));if(_0x468ea0)_0x468ea0[_0x3479f8(0x355)]();_0x3c983c[_0x3479f8(0x366)][_0x3479f8(0x4a2)]===quizLeaderboardSortBy&&(_0x3c983c[_0x3479f8(0x1c1)]+='<span\x20class=\x22sort-indicator\x20ml-2\x22>'+(quizLeaderboardSortOrder===_0x3479f8(0x335)?'▲':'▼')+'</span>');});}async function handleLoadQuiz(){const _0x53f6b8=_0x425095,_0x5824a0=document[_0x53f6b8(0x525)](_0x53f6b8(0x3f2)),_0x2f2dc6=_0x5824a0[_0x53f6b8(0x1c4)][_0x53f6b8(0x3ff)]();if(!_0x2f2dc6){showMessage(_0x53f6b8(0x305));return;}loadQuizBtn[_0x53f6b8(0x48e)]=!![],loadQuizBtn[_0x53f6b8(0x1c1)]=_0x53f6b8(0x160);try{const _0x1fce2a=doc(db,_0x53f6b8(0x4f4)+appId+'/public/data/quizzes',_0x2f2dc6),_0x50294e=await getDoc(_0x1fce2a);if(!_0x50294e[_0x53f6b8(0x192)]()){showMessage(_0x53f6b8(0x23e));return;}currentQuizData={'id':_0x50294e['id'],..._0x50294e[_0x53f6b8(0x59a)]()};const _0x41fc73=currentQuizData['status']||_0x53f6b8(0x28b),_0x4b7a0c=new Date();if(_0x41fc73==='inactive'){showMessage(_0x53f6b8(0x506));return;}if(_0x41fc73===_0x53f6b8(0x38c)){const _0x1886c0=currentQuizData[_0x53f6b8(0x288)]?new Date(currentQuizData[_0x53f6b8(0x288)]):null,_0x235fd8=currentQuizData['endTime']?new Date(currentQuizData[_0x53f6b8(0x5a6)]):null;if(_0x1886c0&&_0x4b7a0c<_0x1886c0){showMessage(_0x53f6b8(0x3ef)+_0x1886c0[_0x53f6b8(0x455)]('th-TH',{'hour12':![]}));return;}if(_0x235fd8&&_0x4b7a0c>_0x235fd8){showMessage('แบบทดสอบนี้หมดเวลาแล้ว');return;}}const _0x21648a=currentQuizData[_0x53f6b8(0x340)];currentProjectId=_0x21648a;const _0x2fd9d8=doc(db,_0x53f6b8(0x4f4)+appId+_0x53f6b8(0x421),_0x21648a),_0x5b47d1=await getDoc(_0x2fd9d8);if(!_0x5b47d1[_0x53f6b8(0x192)]()){showMessage(_0x53f6b8(0x2b4));return;}const _0x36ee02=_0x5b47d1[_0x53f6b8(0x59a)]();currentStudentProjectData=_0x36ee02,displayStudentNameSelector(_0x36ee02['students'],currentQuizData[_0x53f6b8(0x161)]);}catch(_0x163157){console[_0x53f6b8(0x310)](_0x53f6b8(0x4ea),_0x163157),showMessage(_0x53f6b8(0x557));}finally{loadQuizBtn['disabled']=![],loadQuizBtn[_0x53f6b8(0x1c1)]=_0x53f6b8(0x52d);}}async function handleJoinLiveGame(){const _0x36a3cf=_0x425095,_0x13bfa9=document[_0x36a3cf(0x525)](_0x36a3cf(0x4dd)),_0x496e0e=document[_0x36a3cf(0x525)](_0x36a3cf(0x3ae)),_0x484bad=document['getElementById'](_0x36a3cf(0x476)),_0x1c9798=_0x13bfa9[_0x36a3cf(0x1c4)]['trim'](),_0x3816b5=_0x496e0e[_0x36a3cf(0x1c4)]['trim']();if(!_0x1c9798||!_0x3816b5){showMessage(_0x36a3cf(0x451));return;}_0x484bad['disabled']=!![],_0x484bad[_0x36a3cf(0x1c1)]=_0x36a3cf(0x57f);try{const _0x1f0f2c=collection(db,'artifacts/'+appId+_0x36a3cf(0x30c)),_0x2e844c=query(_0x1f0f2c,where(_0x36a3cf(0x387),'==',_0x1c9798),where(_0x36a3cf(0x23c),'==',_0x36a3cf(0x572))),_0x3cc66b=await getDocs(_0x2e844c);if(_0x3cc66b['empty']){showMessage(_0x36a3cf(0x42c));return;}const _0x5b353c=_0x3cc66b[_0x36a3cf(0x4be)][0x0],_0xcefb5a=_0x5b353c[_0x36a3cf(0x59a)]();currentLiveGameId=_0x5b353c['id'];const _0x691e45=_0xcefb5a[_0x36a3cf(0x1f8)],_0x19d160=doc(db,_0x36a3cf(0x4f4)+appId+'/public/data/quizzes',_0x691e45),_0x4a82b1=await getDoc(_0x19d160);if(!_0x4a82b1[_0x36a3cf(0x192)]()){showMessage(_0x36a3cf(0x520));return;}currentQuizData={'id':_0x4a82b1['id'],..._0x4a82b1[_0x36a3cf(0x59a)]()};if(_0xcefb5a[_0x36a3cf(0x333)]&&_0xcefb5a['players'][_0x3816b5]){showMessage('ชื่อเล่นนี้ถูกใช้ไปแล้ว\x20กรุณาใช้ชื่ออื่น');return;}const _0x511ed0={};_0x511ed0[_0x36a3cf(0x4e8)+_0x3816b5]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0},await updateDoc(doc(db,_0x36a3cf(0x4f4)+appId+'/public/data/liveGames',currentLiveGameId),_0x511ed0),currentStudentName=_0x3816b5,listenForLiveGameUpdates();}catch(_0x2aa32d){console['error'](_0x36a3cf(0x58d),_0x2aa32d),showMessage(_0x36a3cf(0x4a8));}finally{_0x484bad[_0x36a3cf(0x48e)]=![],_0x484bad[_0x36a3cf(0x1c1)]=_0x36a3cf(0x433);}}function displayStudentNameSelector(_0x40019d,_0x4ca816){const _0x1971ac=_0x425095,_0x3ad2ea=document[_0x1971ac(0x525)](_0x1971ac(0x252));document[_0x1971ac(0x525)]('student-quiz-topic')[_0x1971ac(0x4b1)]=_0x1971ac(0x4d3)+_0x4ca816,!_0x40019d||_0x40019d['length']===0x0?(_0x3ad2ea[_0x1971ac(0x1c1)]='<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>',startQuizBtn[_0x1971ac(0x48e)]=!![]):(_0x3ad2ea[_0x1971ac(0x1c1)]='<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>',_0x40019d[_0x1971ac(0x299)](_0x628c8a=>{const _0x9ddda1=_0x1971ac,_0x4c9f90=document[_0x9ddda1(0x39d)](_0x9ddda1(0x426));_0x4c9f90[_0x9ddda1(0x1c4)]=_0x628c8a,_0x4c9f90['textContent']=_0x628c8a,_0x3ad2ea[_0x9ddda1(0x352)](_0x4c9f90);}),startQuizBtn['disabled']=![]),studentInitialView['classList'][_0x1971ac(0x213)]('hidden'),studentNameSelectionView[_0x1971ac(0x370)][_0x1971ac(0x355)](_0x1971ac(0x49c));}function shuffleArray(_0x5f3bef){const _0x4569d6=_0x425095;for(let _0x25f8f6=_0x5f3bef[_0x4569d6(0x5c8)]-0x1;_0x25f8f6>0x0;_0x25f8f6--){const _0x3f049a=Math[_0x4569d6(0x3b3)](Math['random']()*(_0x25f8f6+0x1));[_0x5f3bef[_0x25f8f6],_0x5f3bef[_0x3f049a]]=[_0x5f3bef[_0x3f049a],_0x5f3bef[_0x25f8f6]];}}function getShuffledQuiz(_0x1ee2d9){const _0x21c2f9=_0x425095;let _0x503a82=JSON[_0x21c2f9(0x241)](JSON[_0x21c2f9(0x2d8)](_0x1ee2d9));const _0x5f3ce8=_0x503a82[_0x21c2f9(0x47f)]?.[_0x21c2f9(0x194)]||_0x21c2f9(0x38a);if(_0x5f3ce8==='none')return _0x503a82;return(_0x5f3ce8===_0x21c2f9(0x3b4)||_0x5f3ce8===_0x21c2f9(0x422))&&shuffleArray(_0x503a82[_0x21c2f9(0x4ce)]),(_0x5f3ce8===_0x21c2f9(0x3ed)||_0x5f3ce8===_0x21c2f9(0x422))&&_0x503a82[_0x21c2f9(0x4ce)][_0x21c2f9(0x299)](_0x35f2af=>{const _0x4ec21c=_0x21c2f9,_0x28c0c8=_0x35f2af[_0x4ec21c(0x4bb)]||_0x503a82['quizType'];if(_0x35f2af[_0x4ec21c(0x513)]){let _0x2061ef=_0x35f2af[_0x4ec21c(0x513)][_0x4ec21c(0x238)]((_0x1f1f9b,_0x3cadc3)=>({'text':_0x1f1f9b,'isCorrect':_0x3cadc3===_0x35f2af[_0x4ec21c(0x3dc)]}));shuffleArray(_0x2061ef),_0x35f2af['options']=_0x2061ef['map'](_0xfd9ef3=>_0xfd9ef3['text']),_0x35f2af[_0x4ec21c(0x3dc)]=_0x2061ef['findIndex'](_0x145e2e=>_0x145e2e[_0x4ec21c(0x4f1)]);}_0x28c0c8==='matching_item'&&_0x35f2af[_0x4ec21c(0x280)]&&shuffleArray(_0x35f2af[_0x4ec21c(0x280)]);}),_0x503a82;}function displayQuizForStudent(_0x25f74e){const _0xc54c61=_0x425095;studentQuizArea[_0xc54c61(0x370)][_0xc54c61(0x355)]('hidden'),currentDisplayedQuiz=getShuffledQuiz(_0x25f74e);const _0x5065bf=currentDisplayedQuiz['settings']?.[_0xc54c61(0x15c)]||'none';if(_0x5065bf===_0xc54c61(0x54b))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0xc54c61(0x47f)][_0xc54c61(0x55f)]);else _0x5065bf==='per_question'?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x39c236=_0x425095;let _0x96f303=_0x39c236(0x405)+currentDisplayedQuiz[_0x39c236(0x161)]+_0x39c236(0x534)+(currentMode===_0x39c236(0x24b)?_0x39c236(0x16e):'')+_0x39c236(0x44f);currentDisplayedQuiz['questions'][_0x39c236(0x299)]((_0x4b3d7b,_0x49f765)=>{const _0x158211=_0x39c236,_0x88fce0=_0x4b3d7b[_0x158211(0x4bb)]||currentDisplayedQuiz[_0x158211(0x4bc)];_0x96f303+=_0x158211(0x541);_0x88fce0===_0x158211(0x47d)?_0x96f303+=_0x158211(0x391)+(_0x49f765+0x1)+'.\x20'+_0x4b3d7b[_0x158211(0x329)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question'+_0x49f765+'\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4b3d7b['allResponses']['map'](_0x3a61be=>_0x158211(0x489)+_0x3a61be+'\x22>'+_0x3a61be+'</option>')['join']('')+_0x158211(0x5c4):(_0x96f303+='<p>'+(_0x49f765+0x1)+'.\x20'+(_0x4b3d7b[_0x158211(0x37c)]||_0x4b3d7b[_0x158211(0x35c)])+_0x158211(0x594),_0x4b3d7b['imageCode']&&(_0x96f303+=_0x158211(0x491)+_0x4b3d7b[_0x158211(0x247)]+'</div>'));_0x96f303+='</div><div\x20class=\x22space-y-2\x22>';switch(_0x88fce0){case _0x158211(0x4ac):_0x96f303+='<textarea\x20name=\x22question'+_0x49f765+_0x158211(0x5c9);break;case _0x158211(0x4a3):_0x96f303+=_0x158211(0x347)+_0x49f765+'_opt0\x22\x20name=\x22question'+_0x49f765+_0x158211(0x4da)+_0x49f765+_0x158211(0x2a9),_0x96f303+='<div><input\x20type=\x22radio\x22\x20id=\x22q'+_0x49f765+_0x158211(0x3e9)+_0x49f765+_0x158211(0x537)+_0x49f765+_0x158211(0x32e);break;case'matching_item':break;case'fill_in_the_blank':case _0x158211(0x3e1):default:_0x96f303+=_0x4b3d7b[_0x158211(0x513)][_0x158211(0x238)]((_0x491b42,_0xdd3b54)=>_0x158211(0x34f)+_0x49f765+_0x158211(0x566)+_0xdd3b54+_0x158211(0x312)+_0x49f765+_0x158211(0x556)+_0xdd3b54+_0x158211(0x5b5)+_0x49f765+_0x158211(0x566)+_0xdd3b54+'\x22>'+_0x491b42+'</label>\x0a\x20\x20\x20\x20</div>\x0a')[_0x158211(0x19f)]('');break;}_0x96f303+=_0x158211(0x40c);}),_0x96f303+='<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>',_0x96f303+='</form>',studentQuizArea[_0x39c236(0x1c1)]=_0x96f303;if(currentMode===_0x39c236(0x24b)){const _0x41746f=document[_0x39c236(0x525)](_0x39c236(0x5cc));if(_0x41746f)_0x41746f[_0x39c236(0x225)]('click',cancelAdminTest);}document[_0x39c236(0x525)](_0x39c236(0x2bb))['addEventListener'](_0x39c236(0x158),handleSubmitQuiz);if(window['MathJax'])window[_0x39c236(0x4b6)][_0x39c236(0x549)]([studentQuizArea]);}async function handleSubmitQuiz(_0x1bb8b4){const _0x7325b5=_0x425095;if(_0x1bb8b4)_0x1bb8b4[_0x7325b5(0x4a7)]();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x58c357=document[_0x7325b5(0x525)]('quiz-form');if(!_0x58c357)return;const _0x5566b5=_0x58c357['querySelector']('button[type=\x22submit\x22]'),_0x458f78=currentDisplayedQuiz[_0x7325b5(0x4ce)][_0x7325b5(0x2a0)](_0xb0e940=>_0xb0e940[_0x7325b5(0x4bb)]===_0x7325b5(0x4ac));_0x5566b5&&(_0x5566b5[_0x7325b5(0x48e)]=!![],_0x458f78?_0x5566b5['innerHTML']=_0x7325b5(0x46c):_0x5566b5['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...');const _0x4081d5=new FormData(_0x58c357),_0x27b7d6=currentDisplayedQuiz[_0x7325b5(0x4ce)][_0x7325b5(0x238)]((_0x19428d,_0x21ac6e)=>{const _0x3a39aa=_0x7325b5,_0x44c994=_0x19428d['questionType']||currentDisplayedQuiz[_0x3a39aa(0x4bc)],_0xd172e7=_0x4081d5[_0x3a39aa(0x28d)](_0x3a39aa(0x357)+_0x21ac6e);if(_0xd172e7!==null&&_0xd172e7!==undefined){if(_0x44c994===_0x3a39aa(0x3e1)||_0x44c994===_0x3a39aa(0x3a5))return parseInt(_0xd172e7);return _0xd172e7;}return null;}),_0x13072a=currentQuizData['id'],_0x2192f1=doc(db,_0x7325b5(0x4f4)+appId+'/public/data/quizzes/'+_0x13072a+_0x7325b5(0x454),currentStudentName),_0x5eaede=await getDoc(_0x2192f1),_0x48b4e0=_0x5eaede['exists']()?_0x5eaede[_0x7325b5(0x59a)]():{},_0x2a2080=_0x48b4e0[_0x7325b5(0x29c)]||[];await processAndSubmitAnswers(_0x27b7d6,_0x2a2080);}async function gradeShortAnswerWithAI(_0x3085dc,_0x5f4c95){const _0x528a8d=_0x425095;if(!_0x3085dc||!_0x5f4c95)return![];try{const _0x33b193=_0x528a8d(0x2e1)+_0x3085dc+_0x528a8d(0x378)+_0x5f4c95+_0x528a8d(0x50a),_0x3f1ca8={'contents':[{'role':_0x528a8d(0x52c),'parts':[{'text':_0x33b193}]}]},_0x286fb1=_0x528a8d(0x5bb),_0x503cad='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key='+_0x286fb1,_0x1e76b6=await fetch(_0x503cad,{'method':'POST','headers':{'Content-Type':_0x528a8d(0x1e3)},'body':JSON[_0x528a8d(0x2d8)](_0x3f1ca8)});if(!_0x1e76b6['ok'])throw new Error(_0x528a8d(0x243));const _0x1e3b62=await _0x1e76b6[_0x528a8d(0x5ae)](),_0x594de5=_0x1e3b62[_0x528a8d(0x258)][0x0][_0x528a8d(0x1e6)][_0x528a8d(0x403)][0x0][_0x528a8d(0x4b0)]['trim']()[_0x528a8d(0x56a)]();return _0x594de5===_0x528a8d(0x45a);}catch(_0x5c4b0a){return console['error']('AI\x20grading\x20failed:',_0x5c4b0a),![];}}async function processAndSubmitAnswers(_0x343d22,_0x21613b){const _0x3c521b=_0x425095;let _0x56f40c=0x0,_0x5f1cc5=0x0,_0x408fe2=[];const _0x3ec91a=[],_0x5ba3f4=currentDisplayedQuiz[_0x3c521b(0x4ce)][_0x3c521b(0x5c8)];let _0x42c70a=0x0;const _0x1323f0=currentDisplayedQuiz['questions'];for(let _0x490cc3=0x0;_0x490cc3<_0x1323f0[_0x3c521b(0x5c8)];_0x490cc3++){const _0xe2f6ba=_0x1323f0[_0x490cc3],_0x6d7384=_0x343d22[_0x490cc3],_0x3f4560=_0xe2f6ba[_0x3c521b(0x4bb)]||currentDisplayedQuiz[_0x3c521b(0x4bc)];let _0x1aabd4=![];if(_0x6d7384!==null&&_0x6d7384!=='')switch(_0x3f4560){case _0x3c521b(0x47d):_0x1aabd4=_0x6d7384===_0xe2f6ba[_0x3c521b(0x39e)];break;case _0x3c521b(0x4a3):const _0xb07bb6=_0x6d7384===!![]||_0x6d7384==='true';_0x1aabd4=_0xb07bb6===_0xe2f6ba[_0x3c521b(0x53e)];break;case'fill_in_the_blank':case'multiple_choice':default:_0x1aabd4=Number(_0x6d7384)===_0xe2f6ba[_0x3c521b(0x3dc)];break;case _0x3c521b(0x4ac):_0x1aabd4=await gradeShortAnswer(_0x6d7384,_0xe2f6ba);break;}_0x1aabd4?(_0x56f40c++,_0x42c70a++,_0x42c70a===0x3&&(_0x408fe2[_0x3c521b(0x365)](BADGES['ON_FIRE']['id']),_0x42c70a=0x0)):_0x42c70a=0x0,_0x3ec91a[_0x3c521b(0x365)]({'answer':_0x6d7384,'isCorrect':_0x1aabd4,'originalQuestionText':_0xe2f6ba['stem']||_0xe2f6ba['questionText']});}_0x5f1cc5=_0x56f40c*0xa;_0x56f40c===_0x5ba3f4&&_0x5ba3f4>0x0&&!currentDisplayedQuiz[_0x3c521b(0x394)]&&(_0x5f1cc5+=0x32,_0x408fe2[_0x3c521b(0x365)](BADGES[_0x3c521b(0x531)]['id']));const _0x452498=currentDisplayedQuiz[_0x3c521b(0x47f)]?.[_0x3c521b(0x481)]??Math[_0x3c521b(0x3b3)](_0x5ba3f4/0x2),_0x4eaff7=currentDisplayedQuiz[_0x3c521b(0x47f)]?.[_0x3c521b(0x15c)];if(_0x4eaff7===_0x3c521b(0x54b)&&quizStartTime){const _0x2abf7c=(new Date()-quizStartTime)/0x3e8,_0xda1be1=currentDisplayedQuiz[_0x3c521b(0x47f)][_0x3c521b(0x55f)]*0x3c;_0x56f40c>=_0x452498&&_0x2abf7c<_0xda1be1/0x2&&(_0x5f1cc5+=0x14,_0x408fe2['push'](BADGES[_0x3c521b(0x29f)]['id']));}_0x21613b['length']===0x0&&_0x56f40c===_0x5ba3f4&&_0x5ba3f4>0x0&&_0x408fe2['push'](BADGES[_0x3c521b(0x1e0)]['id']);if(_0x21613b['length']>0x0){const _0x2c3872=_0x21613b[0x0]['score'];if(_0x2c3872<_0x452498&&_0x56f40c>=_0x452498){const _0x62bdc1=_0x21613b[_0x3c521b(0x2a0)](_0x56eb70=>(_0x56eb70[_0x3c521b(0x331)]||[])[_0x3c521b(0x3aa)](BADGES[_0x3c521b(0x3f6)]['id']));!_0x62bdc1&&_0x408fe2['push'](BADGES[_0x3c521b(0x3f6)]['id']);}}_0x21613b['length']===0x4&&_0x408fe2[_0x3c521b(0x365)](BADGES['PERSEVERANCE']['id']);const _0x1b8b40=currentDisplayedQuiz['settings'][_0x3c521b(0x2e4)];if(currentMode===_0x3c521b(0x24b)){handleResultDisplay(_0x1b8b40,_0x56f40c,_0x5f1cc5,_0x408fe2,_0x3ec91a,_0x5ba3f4);return;}const _0x1866ab=currentQuizData['id'],_0x500bb8=doc(db,_0x3c521b(0x4f4)+appId+_0x3c521b(0x27e)+_0x1866ab+_0x3c521b(0x454),currentStudentName);try{const _0x4966cb=[..._0x21613b],_0x2f0d1f={'score':_0x56f40c,'points':_0x5f1cc5,'badges':_0x408fe2,'submittedAt':new Date()['toISOString'](),'answers':_0x3ec91a};_0x4966cb[_0x3c521b(0x365)](_0x2f0d1f);const _0x2376a2=_0x4966cb[0x0][_0x3c521b(0x55e)],_0x4cfa99=Math[_0x3c521b(0x3bb)](..._0x4966cb['map'](_0x1966fd=>_0x1966fd[_0x3c521b(0x55e)])),_0x2f503a=_0x56f40c,_0x5ec8e6=_0x2f0d1f['submittedAt'];await setDoc(_0x500bb8,{'studentName':currentStudentName,'totalQuestions':_0x5ba3f4,'attempts':_0x4966cb,'firstScore':_0x2376a2,'bestScore':_0x4cfa99,'latestScore':_0x2f503a,'points':_0x5f1cc5,'latestSubmittedAt':_0x5ec8e6}),await updateStudentProfile(currentQuizData[_0x3c521b(0x340)],currentStudentName),handleResultDisplay(_0x1b8b40,_0x56f40c,_0x5f1cc5,_0x408fe2,_0x3ec91a,_0x5ba3f4);}catch(_0x56879a){console['error']('Error\x20saving\x20submission:',_0x56879a),showMessage(_0x3c521b(0x374));}}async function updateStudentProfile(_0x4dfc83,_0x3e0cd9){const _0x1f0bc4=_0x425095,_0x63e18=doc(db,'artifacts/'+appId+'/public/data/projects/'+_0x4dfc83+_0x1f0bc4(0x1bd),_0x3e0cd9);try{const _0x31fa59=query(collection(db,_0x1f0bc4(0x4f4)+appId+_0x1f0bc4(0x5cb)),where('projectId','==',_0x4dfc83)),_0x8c3f32=await getDocs(_0x31fa59),_0x388498=new Map(_0x8c3f32[_0x1f0bc4(0x4be)]['map'](_0x5d0b1f=>[_0x5d0b1f['id'],_0x5d0b1f[_0x1f0bc4(0x59a)]()])),_0x555e61=Array[_0x1f0bc4(0x494)](_0x388498['keys']());await runTransaction(db,async _0x5448b1=>{const _0xf19516=_0x1f0bc4;let _0x22501e=0x0;const _0x56aa14={};let _0x3ca502=!![],_0x5abf83=0x0,_0x420cf8=0x0;for(const _0x408b2f of _0x555e61){const _0x497a27=_0x388498[_0xf19516(0x28d)](_0x408b2f),_0x33e840=doc(db,_0xf19516(0x4f4)+appId+_0xf19516(0x27e)+_0x408b2f+'/submissions',_0x3e0cd9),_0x159aa6=await _0x5448b1[_0xf19516(0x28d)](_0x33e840);if(_0x159aa6['exists']()){const _0x257db6=_0x159aa6['data'](),_0x298c03=_0x257db6[_0xf19516(0x29c)]||[];if(_0x298c03[_0xf19516(0x5c8)]>0x0){const _0x1dbdb9=_0x298c03[_0xf19516(0x1c5)]((_0x3cdef9,_0x545bb9)=>{const _0x508533=_0xf19516;if(_0x545bb9[_0x508533(0x55e)]>_0x3cdef9[_0x508533(0x55e)])return _0x545bb9;if(_0x545bb9['score']===_0x3cdef9['score'])return(_0x545bb9['points']||0x0)>(_0x3cdef9[_0x508533(0x52a)]||0x0)?_0x545bb9:_0x3cdef9;return _0x3cdef9;},{'score':-0x1,'points':-0x1});_0x1dbdb9[_0xf19516(0x55e)]>-0x1&&(_0x22501e+=_0x1dbdb9[_0xf19516(0x52a)]||0x0,(_0x1dbdb9[_0xf19516(0x331)]||[])[_0xf19516(0x299)](_0x461841=>{_0x56aa14[_0x461841]=(_0x56aa14[_0x461841]||0x0)+0x1;}));}}if(_0x497a27[_0xf19516(0x161)]!==_0xf19516(0x362)){_0x420cf8++;if(_0x159aa6[_0xf19516(0x192)]()){_0x5abf83++;const _0x830a01=_0x159aa6[_0xf19516(0x59a)]();_0x830a01[_0xf19516(0x20e)]!==_0x830a01[_0xf19516(0x1ab)]&&(_0x3ca502=![]);}else _0x3ca502=![];}}_0x420cf8>0x0&&_0x5abf83===_0x420cf8&&_0x3ca502?_0x56aa14[_0xf19516(0x4dc)]=0x1:_0x56aa14['specialist']=0x0,_0x5448b1[_0xf19516(0x4bd)](_0x63e18,{'studentName':_0x3e0cd9,'totalPoints':_0x22501e,'unlockedBadges':Object[_0xf19516(0x233)](_0x56aa14)[_0xf19516(0x563)](_0x3cfb59=>_0x56aa14[_0x3cfb59]>0x0),'badgesCount':_0x56aa14},{'merge':!![]});});}catch(_0x35cda4){console['error']('Leaderboard\x20update\x20transaction\x20failed:\x20',_0x35cda4),showMessage(_0x1f0bc4(0x277));}}function startAdminTest(){const _0x5b1933=_0x425095;if(!currentQuizData){showMessage(_0x5b1933(0x5a1));return;}let _0x5e45e4=JSON['parse'](JSON[_0x5b1933(0x2d8)](currentQuizData));currentMode='admin-testing',currentStudentName=_0x5b1933(0x279),adminView[_0x5b1933(0x370)][_0x5b1933(0x213)](_0x5b1933(0x49c)),studentView['classList'][_0x5b1933(0x355)](_0x5b1933(0x49c)),studentInitialView[_0x5b1933(0x370)]['add'](_0x5b1933(0x49c)),studentNameSelectionView[_0x5b1933(0x370)]['add'](_0x5b1933(0x49c)),studentResultArea[_0x5b1933(0x370)][_0x5b1933(0x213)](_0x5b1933(0x49c)),studentQuizArea[_0x5b1933(0x370)][_0x5b1933(0x355)](_0x5b1933(0x49c)),quizStartTime=new Date(),displayQuizForStudent(_0x5e45e4);}function handleResultDisplay(_0x594da5,_0x1dbfc5,_0x4a5aa6,_0x29a858,_0x370615,_0x4ae3f6){const _0x4e1f1b=_0x425095,_0xa4643a=currentDisplayedQuiz[_0x4e1f1b(0x47f)]?.[_0x4e1f1b(0x481)]??Math[_0x4e1f1b(0x3b3)](_0x4ae3f6/0x2),_0x9dc04a=currentDisplayedQuiz[_0x4e1f1b(0x47f)]?.[_0x4e1f1b(0x470)]??![];if(_0x9dc04a&&_0x1dbfc5<_0xa4643a){startAdaptiveFlow(_0x370615,_0x1dbfc5,_0x4ae3f6);return;}switch(_0x594da5){case'show_results_and_answers':displayResultsWithAnswers(_0x1dbfc5,_0x4a5aa6,_0x29a858,_0x370615,_0x4ae3f6);break;case _0x4e1f1b(0x4aa):displayResultsScoreOnly(_0x1dbfc5,_0x4a5aa6,_0x29a858,_0x4ae3f6);break;case _0x4e1f1b(0x1f9):displayPassFailOnly(_0x1dbfc5,_0x4ae3f6);break;case _0x4e1f1b(0x324):default:displaySubmissionConfirmation();break;}}async function startAdaptiveFlow(_0x5937f1,_0x30f93e,_0x57df8d){const _0x8b632b=_0x425095,_0x580485=_0x5937f1[_0x8b632b(0x238)]((_0x30add5,_0x4f7880)=>({..._0x30add5,'originalQuestion':currentDisplayedQuiz['questions'][_0x4f7880]}))[_0x8b632b(0x563)](_0x556720=>!_0x556720[_0x8b632b(0x4f1)]&&_0x556720[_0x8b632b(0x1b5)][_0x8b632b(0x1aa)])['map'](_0x896872=>'-\x20'+_0x896872['originalQuestion'][_0x8b632b(0x1aa)])[_0x8b632b(0x19f)]('\x0a');if(!_0x580485){displayResultsScoreOnly(_0x30f93e,0x0,[],_0x57df8d);return;}studentQuizArea[_0x8b632b(0x370)]['add']('hidden'),studentReadingArea[_0x8b632b(0x370)][_0x8b632b(0x355)](_0x8b632b(0x49c)),studentReadingArea[_0x8b632b(0x1c1)]=_0x8b632b(0x30a);const _0x1b0514=_0x8b632b(0x2fa)+currentDisplayedQuiz['topic']+'\x22\x20ไม่ผ่าน\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือคำอธิบายจากข้อที่นักเรียนตอบผิด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x580485+_0x8b632b(0x592),_0x4653b5={'type':_0x8b632b(0x51c),'properties':{'remedialContent':{'type':'STRING'}},'required':[_0x8b632b(0x23f)]};try{const _0x40adc4=await callAnalysisApi(_0x1b0514,_0x4653b5),_0x3f32a8=_0x40adc4['remedialContent'];studentReadingArea[_0x8b632b(0x1c1)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-6\x20bg-amber-50\x20border-l-4\x20border-amber-400\x20rounded-r-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20text-amber-800\x22>ทบทวนก่อนไปต่อนะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x20text-gray-700\x22>'+_0x3f32a8[_0x8b632b(0x1d4)](/\n/g,_0x8b632b(0x167))+_0x8b632b(0x3e7),document[_0x8b632b(0x525)](_0x8b632b(0x3fb))[_0x8b632b(0x225)]('click',()=>generateRemedialQuiz(_0x580485));}catch(_0x28d9e8){console[_0x8b632b(0x310)]('Adaptive\x20flow\x20failed:',_0x28d9e8),showMessage('เกิดข้อผิดพลาดในการสร้างเนื้อหาทบทวน'),displayResultsScoreOnly(_0x30f93e,0x0,[],_0x57df8d);}}async function generateRemedialQuiz(_0x4ed4a0){const _0x4a0030=_0x425095;studentReadingArea[_0x4a0030(0x1c1)]=_0x4a0030(0x48d);const _0x37ab71=_0x4a0030(0x1ea)+_0x4ed4a0+_0x4a0030(0x1db)+simpleMathPrompt+'\x0a\x20\x20\x20\x20',_0x491172={'type':'OBJECT','properties':{'questionText':{'type':_0x4a0030(0x164)},'options':{'type':_0x4a0030(0x3b6),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x4a0030(0x164)}},'required':[_0x4a0030(0x35c),'options',_0x4a0030(0x3dc),_0x4a0030(0x1aa)]},_0x3003b7={'type':'OBJECT','properties':{'topic':{'type':_0x4a0030(0x164)},'questions':{'type':'ARRAY','items':_0x491172}},'required':[_0x4a0030(0x161),_0x4a0030(0x4ce)]};try{const _0x5ec4a4=await callAnalysisApi(_0x37ab71,_0x3003b7);_0x5ec4a4[_0x4a0030(0x394)]=!![],studentReadingArea[_0x4a0030(0x370)][_0x4a0030(0x213)](_0x4a0030(0x49c));const _0x3a3599={...currentDisplayedQuiz['settings'],'isAdaptive':![],'resultsDisplay':_0x4a0030(0x2e8)};_0x5ec4a4[_0x4a0030(0x47f)]=_0x3a3599,displayQuizForStudent(_0x5ec4a4);}catch(_0x56fd29){console['error'](_0x4a0030(0x3c7),_0x56fd29),showMessage(_0x4a0030(0x435)),showView(_0x4a0030(0x328));}}function displayPassFailOnly(_0x467f95,_0x3397fb){const _0x383c99=_0x425095,_0x17bbfc=currentDisplayedQuiz['settings']?.[_0x383c99(0x481)]??-0x1,_0x579154=currentDisplayedQuiz[_0x383c99(0x394)]===!![];let _0x11d178='';if(_0x579154||_0x17bbfc!==-0x1){let _0x4968db;_0x579154?_0x4968db=_0x467f95===_0x3397fb:_0x4968db=_0x467f95>=_0x17bbfc;const _0x148f64=_0x4968db?_0x383c99(0x457):_0x383c99(0x483),_0x4ae12b=_0x4968db?'ผ่าน':_0x383c99(0x47c);_0x11d178=_0x383c99(0x23a)+_0x148f64+'\x22>'+_0x4ae12b+_0x383c99(0x3c9);}else _0x11d178=_0x383c99(0x559);let _0x37de71='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+_0x383c99(0x456)+_0x11d178+_0x383c99(0x320);studentResultArea[_0x383c99(0x1c1)]=_0x37de71,studentResultArea[_0x383c99(0x370)][_0x383c99(0x355)](_0x383c99(0x49c)),studentQuizArea[_0x383c99(0x370)]['add']('hidden');const _0x3d75dc=_0x383c99(0x3ca),_0x153af4=currentMode==='admin-testing',_0x168440=_0x153af4?'<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการโปรเจค':_0x383c99(0x59b),_0x242d6e='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22'+_0x3d75dc+'\x22\x20class=\x22w-full\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x168440+_0x383c99(0x49e);studentResultArea['insertAdjacentHTML'](_0x383c99(0x501),_0x242d6e),document['getElementById'](_0x3d75dc)['addEventListener'](_0x383c99(0x441),()=>{const _0x51e0ac=_0x383c99;_0x153af4?(currentMode='admin',studentView[_0x51e0ac(0x370)][_0x51e0ac(0x213)](_0x51e0ac(0x49c)),adminView[_0x51e0ac(0x370)][_0x51e0ac(0x355)](_0x51e0ac(0x49c)),showView(_0x51e0ac(0x4e9))):(showView(_0x51e0ac(0x328)),document['getElementById'](_0x51e0ac(0x3f2))[_0x51e0ac(0x1c4)]='');});}function cancelAdminTest(){const _0x34c66d=_0x425095;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);currentMode=_0x34c66d(0x44a),studentView[_0x34c66d(0x370)][_0x34c66d(0x213)]('hidden'),adminView[_0x34c66d(0x370)][_0x34c66d(0x355)](_0x34c66d(0x49c)),showView(_0x34c66d(0x4e9));}function setupResultScreenBackButton(){const _0x46a82b=_0x425095,_0x447321='back-from-results-btn',_0xd918a5=currentMode===_0x46a82b(0x24b),_0x4f44d8=_0xd918a5?_0x46a82b(0x270):_0x46a82b(0x59b),_0x167f00='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22'+_0x447321+'\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4f44d8+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x46a82b(0x516)](_0x46a82b(0x501),_0x167f00),studentResultArea[_0x46a82b(0x452)](_0x46a82b(0x498))[_0x46a82b(0x225)](_0x46a82b(0x441),handleShowStudentRankings),document[_0x46a82b(0x525)](_0x447321)['addEventListener'](_0x46a82b(0x441),()=>{const _0x349a64=_0x46a82b;_0xd918a5?(currentMode=_0x349a64(0x44a),studentView[_0x349a64(0x370)][_0x349a64(0x213)]('hidden'),adminView[_0x349a64(0x370)][_0x349a64(0x355)](_0x349a64(0x49c)),showView('project-detail')):(showView(_0x349a64(0x328)),document[_0x349a64(0x525)](_0x349a64(0x3f2))[_0x349a64(0x1c4)]='');});}function displayResultsWithAnswers(_0x5a62c7,_0x414a5f,_0xe2158a,_0x384a2c,_0x4eecf9){const _0x3cec90=_0x425095,_0x29a82a=_0x4eecf9>0x0?_0x5a62c7/_0x4eecf9*0x64:0x0,_0x474555=currentDisplayedQuiz[_0x3cec90(0x47f)]?.[_0x3cec90(0x481)]??-0x1,_0x785d67=currentDisplayedQuiz[_0x3cec90(0x394)]===!![];let _0x337979='';if(_0x785d67||_0x474555!==-0x1){let _0x482643=_0x785d67?_0x5a62c7===_0x4eecf9:_0x5a62c7>=_0x474555;const _0x809f3b=_0x482643?_0x3cec90(0x457):'bg-red-100\x20text-red-800',_0x2fecd3=_0x482643?_0x3cec90(0x4e1):'ไม่ผ่าน';_0x337979=_0x3cec90(0x46f)+_0x809f3b+'\x22>'+_0x2fecd3+_0x3cec90(0x594);}let _0x54eaf5=_0x3cec90(0x47a)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>'+_0x5a62c7+_0x3cec90(0x260)+_0x4eecf9+_0x3cec90(0x1f5)+_0x337979+_0x3cec90(0x465)+_0x414a5f+_0x3cec90(0x295)+_0x29a82a[_0x3cec90(0x480)](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20';currentDisplayedQuiz[_0x3cec90(0x4ce)][_0x3cec90(0x299)]((_0xe7a643,_0x418316)=>{const _0x338ead=_0x3cec90,_0x18b0bb=_0x384a2c[_0x418316],_0x1cb8ba=_0x18b0bb[_0x338ead(0x20b)],_0x49369c=_0x18b0bb[_0x338ead(0x4f1)],_0x358511=_0xe7a643['questionType']||currentDisplayedQuiz[_0x338ead(0x4bc)];_0x54eaf5+=_0x338ead(0x3a1)+(_0x49369c?_0x338ead(0x4ba):'border-red-300\x20bg-red-50')+_0x338ead(0x518)+(_0x418316+0x1)+'.\x20'+(_0xe7a643[_0x338ead(0x329)]||_0xe7a643[_0x338ead(0x35c)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';switch(_0x358511){case _0x338ead(0x47d):const _0x205441=_0x1cb8ba||_0x338ead(0x1e7),_0x3d38e0=_0xe7a643[_0x338ead(0x39e)];_0x54eaf5+='<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22'+(!_0x49369c?_0x338ead(0x253):'')+'\x22>'+_0x205441+_0x338ead(0x37e);!_0x49369c&&(_0x54eaf5+=_0x338ead(0x3f1)+_0x3d38e0+_0x338ead(0x594));break;case'short_answer':_0x54eaf5+='<p><strong>คำตอบของคุณ:</strong>\x20'+(_0x1cb8ba||_0x338ead(0x1e7))+_0x338ead(0x594),_0x54eaf5+=_0x338ead(0x1d9)+_0xe7a643[_0x338ead(0x55a)]+_0x338ead(0x594);break;case'true_false':_0x54eaf5+='<p\x20class=\x22'+(_0xe7a643[_0x338ead(0x53e)]===!![]?_0x338ead(0x4a4):'')+'\x20'+(_0x1cb8ba===_0x338ead(0x45a)&&!_0x49369c?_0x338ead(0x253):'')+_0x338ead(0x50b),_0x54eaf5+='<p\x20class=\x22'+(_0xe7a643[_0x338ead(0x53e)]===![]?_0x338ead(0x4a4):'')+'\x20'+(_0x1cb8ba===_0x338ead(0x4e7)&&!_0x49369c?'line-through\x20text-red-700':'')+_0x338ead(0x4b4);break;case'fill_in_the_blank':case _0x338ead(0x3e1):default:_0x54eaf5+=_0xe7a643[_0x338ead(0x513)][_0x338ead(0x238)]((_0x205947,_0x301b09)=>{const _0x46beae=_0x338ead;let _0x4fe99d='',_0x381a2b='';if(_0x301b09===_0xe7a643[_0x46beae(0x3dc)])_0x4fe99d='font-bold\x20text-green-700',_0x381a2b='<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>';else _0x301b09===_0x1cb8ba&&(_0x4fe99d=_0x46beae(0x3c4),_0x381a2b='<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>');return _0x46beae(0x2a1)+_0x4fe99d+'\x22>'+_0x381a2b+_0x205947+_0x46beae(0x552);})[_0x338ead(0x19f)]('');break;}_0x54eaf5+=_0x338ead(0x27c)+(_0xe7a643[_0x338ead(0x1aa)]||_0x338ead(0x533))+_0x338ead(0x4ae);}),studentResultArea[_0x3cec90(0x1c1)]=_0x54eaf5,renderEarnedBadges(_0xe2158a,_0x3cec90(0x428)),studentResultArea[_0x3cec90(0x370)][_0x3cec90(0x355)](_0x3cec90(0x49c)),studentQuizArea[_0x3cec90(0x370)][_0x3cec90(0x213)]('hidden'),setupResultScreenBackButton();if(window[_0x3cec90(0x4b6)])window[_0x3cec90(0x4b6)][_0x3cec90(0x549)]([studentResultArea]);}function displayResultsScoreOnly(_0x28462f,_0xaa6e8d,_0x50de7e,_0x4d8ea9){const _0x32faa6=_0x425095,_0x410197=_0x4d8ea9>0x0?_0x28462f/_0x4d8ea9*0x64:0x0,_0x438887=currentDisplayedQuiz[_0x32faa6(0x47f)]?.[_0x32faa6(0x481)]??-0x1,_0x50031a=currentDisplayedQuiz['isRemedial']===!![];let _0x2b8994='';if(_0x50031a||_0x438887!==-0x1){let _0x4d8b08;_0x50031a?_0x4d8b08=_0x28462f===_0x4d8ea9:_0x4d8b08=_0x28462f>=_0x438887;const _0x9671e4=_0x4d8b08?_0x32faa6(0x457):'bg-red-100\x20text-red-800',_0x4a32de=_0x4d8b08?_0x32faa6(0x4e1):'ไม่ผ่าน';_0x2b8994=_0x32faa6(0x46f)+_0x9671e4+'\x22>'+_0x4a32de+_0x32faa6(0x594);}let _0x4283c0=_0x32faa6(0x564)+currentStudentName+_0x32faa6(0x4cd)+_0x28462f+_0x32faa6(0x55b)+_0x4d8ea9+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2b8994+_0x32faa6(0x465)+_0xaa6e8d+_0x32faa6(0x211)+_0x410197[_0x32faa6(0x480)](0x0)+_0x32faa6(0x5bd);studentResultArea[_0x32faa6(0x1c1)]=_0x4283c0,renderEarnedBadges(_0x50de7e,'earned-badges-container'),studentResultArea[_0x32faa6(0x370)]['remove'](_0x32faa6(0x49c)),studentQuizArea[_0x32faa6(0x370)][_0x32faa6(0x213)](_0x32faa6(0x49c)),setupResultScreenBackButton();}function displaySubmissionConfirmation(){const _0x306109=_0x425095;let _0x1b5040=_0x306109(0x53c)+currentStudentName+_0x306109(0x443);studentResultArea['innerHTML']=_0x1b5040,studentResultArea[_0x306109(0x370)][_0x306109(0x355)]('hidden'),studentQuizArea['classList'][_0x306109(0x213)](_0x306109(0x49c)),document[_0x306109(0x525)](_0x306109(0x529))['addEventListener'](_0x306109(0x441),()=>{const _0x2d2282=_0x306109;showView(_0x2d2282(0x328)),document[_0x2d2282(0x525)](_0x2d2282(0x3f2))['value']='';});}function renderEarnedBadges(_0x12ec6c,_0x351ab5){const _0x114d6e=_0x425095,_0x4f57e2=document[_0x114d6e(0x525)](_0x351ab5);if(!_0x4f57e2||!_0x12ec6c||_0x12ec6c[_0x114d6e(0x5c8)]===0x0)return;let _0x543ec5='';_0x12ec6c[_0x114d6e(0x299)]((_0x27a5e5,_0x18f656)=>{const _0xe61b9a=_0x114d6e,_0x3bafc1=Object['values'](BADGES)[_0xe61b9a(0x49b)](_0x5af7f7=>_0x5af7f7['id']===_0x27a5e5);_0x3bafc1&&(_0x543ec5+=_0xe61b9a(0x35f)+_0x18f656*0.2+_0xe61b9a(0x1b9)+_0x3bafc1['description']+_0xe61b9a(0x4ab)+_0x3bafc1['icon']+_0xe61b9a(0x1fd)+_0x3bafc1[_0xe61b9a(0x4f9)]+_0xe61b9a(0x1d1));}),_0x4f57e2[_0x114d6e(0x1c1)]=_0x543ec5;}function startPresentation(_0x573094){const _0x98aa80=_0x425095;currentQuizData=getShuffledQuiz(_0x573094),currentPresentationSlide=0x0,presentationModal['style'][_0x98aa80(0x2c9)]=_0x98aa80(0x17a),renderPresentationSlide(currentPresentationSlide);}function _0x5945(_0x58c953,_0x3ab9f9){const _0x4fdf77=_0x4fdf();return _0x5945=function(_0x594580,_0x8843d7){_0x594580=_0x594580-0x158;let _0x278749=_0x4fdf77[_0x594580];return _0x278749;},_0x5945(_0x58c953,_0x3ab9f9);}function closePresentation(){const _0x4d76de=_0x425095;document[_0x4d76de(0x230)]&&document[_0x4d76de(0x48a)](),presentationModal[_0x4d76de(0x49a)][_0x4d76de(0x2c9)]=_0x4d76de(0x38a);}function renderPresentationSlide(_0x49b13e){const _0x41c8ec=_0x425095,_0x11e41b=document[_0x41c8ec(0x525)](_0x41c8ec(0x4fb));if(!currentQuizData||!currentQuizData['questions']||!currentQuizData['questions'][_0x49b13e]){_0x11e41b[_0x41c8ec(0x1c1)]='<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>';return;}const _0x296547=currentQuizData[_0x41c8ec(0x4ce)][_0x49b13e],_0x3c995e=_0x296547[_0x41c8ec(0x4bb)]||currentQuizData[_0x41c8ec(0x4bc)];_0x11e41b[_0x41c8ec(0x1c1)]='';let _0x40c54d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20h-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x296547[_0x41c8ec(0x247)]?_0x41c8ec(0x491)+_0x296547[_0x41c8ec(0x247)]+_0x41c8ec(0x552):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20leading-relaxed\x20text-center\x22>'+(_0x49b13e+0x1)+'.\x20'+(_0x296547[_0x41c8ec(0x329)]||_0x296547[_0x41c8ec(0x35c)])+_0x41c8ec(0x2f8);switch(_0x3c995e){case _0x41c8ec(0x47d):_0x40c54d+=_0x296547['allResponses']['map'](_0x1dc4fe=>_0x41c8ec(0x3b2)+_0x1dc4fe+_0x41c8ec(0x1a4))[_0x41c8ec(0x19f)]('');break;case _0x41c8ec(0x4a3):_0x40c54d+=_0x41c8ec(0x20f),_0x40c54d+=_0x41c8ec(0x55c);break;case _0x41c8ec(0x1c0):case _0x41c8ec(0x4ac):_0x40c54d+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case'fill_in_the_blank':case _0x41c8ec(0x3e1):default:_0x40c54d+=_0x296547['options'][_0x41c8ec(0x238)]((_0x2321ac,_0x23abb8)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22'+_0x23abb8+_0x41c8ec(0x591)+_0x2321ac+_0x41c8ec(0x1a4))['join']('');break;}_0x40c54d+=_0x41c8ec(0x15a)+(_0x296547[_0x41c8ec(0x1aa)]||_0x41c8ec(0x533))+_0x41c8ec(0x19a),_0x11e41b[_0x41c8ec(0x1c1)]=_0x40c54d;if(window[_0x41c8ec(0x4b6)])window[_0x41c8ec(0x4b6)][_0x41c8ec(0x549)]([_0x11e41b]);document['querySelectorAll']('.presentation-option')[_0x41c8ec(0x299)](_0x27e5a4=>{const _0x414635=_0x41c8ec;_0x27e5a4[_0x414635(0x225)]('click',_0x2e636b=>revealAnswerForPresentation(_0x49b13e,_0x2e636b[_0x414635(0x1f3)]));});const _0x2df8f1=document[_0x41c8ec(0x525)](_0x41c8ec(0x4a6));_0x2df8f1&&_0x2df8f1[_0x41c8ec(0x225)](_0x41c8ec(0x441),()=>checkShortAnswerForPresentation(_0x49b13e)),document[_0x41c8ec(0x525)]('slide-counter')[_0x41c8ec(0x4b1)]=_0x41c8ec(0x3b7)+(_0x49b13e+0x1)+_0x41c8ec(0x560)+currentQuizData[_0x41c8ec(0x4ce)][_0x41c8ec(0x5c8)],document['getElementById'](_0x41c8ec(0x51d))['disabled']=_0x49b13e===0x0,document['getElementById'](_0x41c8ec(0x4fa))[_0x41c8ec(0x48e)]=_0x49b13e===currentQuizData[_0x41c8ec(0x4ce)][_0x41c8ec(0x5c8)]-0x1;}async function checkShortAnswerForPresentation(_0x2b6a75){const _0x27ca27=_0x425095,_0x1ee3c5=currentQuizData['questions'][_0x2b6a75],_0x5775a7=document['getElementById']('presentation-short-answer-input'),_0x29ca4d=document[_0x27ca27(0x525)](_0x27ca27(0x4a6)),_0x486fae=document['getElementById']('presentation-ai-result'),_0x2c3fc0=document[_0x27ca27(0x525)](_0x27ca27(0x173));if(!_0x5775a7||!_0x29ca4d||!_0x486fae||!_0x2c3fc0)return;const _0x1482c6=_0x5775a7[_0x27ca27(0x1c4)]['trim']();if(_0x1482c6==='')return;_0x29ca4d[_0x27ca27(0x48e)]=!![],_0x29ca4d['innerHTML']=_0x27ca27(0x25b),_0x5775a7[_0x27ca27(0x48e)]=!![];const _0x1b31ea=await gradeShortAnswer(_0x1482c6,_0x1ee3c5);_0x1b31ea?_0x486fae[_0x27ca27(0x1c1)]=_0x27ca27(0x307):_0x486fae[_0x27ca27(0x1c1)]=_0x27ca27(0x3eb)+_0x1ee3c5[_0x27ca27(0x55a)]+')',_0x486fae[_0x27ca27(0x370)][_0x27ca27(0x355)](_0x27ca27(0x49c)),_0x2c3fc0[_0x27ca27(0x370)][_0x27ca27(0x355)](_0x27ca27(0x49c)),_0x29ca4d['classList']['add'](_0x27ca27(0x49c));}function revealAnswerForPresentation(_0x5bcdeb,_0x3bedc7){const _0x134fa7=_0x425095,_0x36d1b0=currentQuizData[_0x134fa7(0x4ce)][_0x5bcdeb],_0x5056c6=_0x36d1b0['questionType']||currentQuizData[_0x134fa7(0x4bc)];document['querySelectorAll'](_0x134fa7(0x4a5))[_0x134fa7(0x299)](_0x488f93=>{const _0x369068=_0x134fa7;_0x488f93[_0x369068(0x48e)]=!![],_0x488f93['classList'][_0x369068(0x355)](_0x369068(0x2a5));let _0x56a60c=![];if(_0x5056c6===_0x369068(0x3e1)||_0x5056c6===_0x369068(0x3a5)){const _0x4fb6d7=parseInt(_0x488f93[_0x369068(0x366)][_0x369068(0x15d)]);_0x56a60c=_0x4fb6d7===_0x36d1b0[_0x369068(0x3dc)];}else{if(_0x5056c6===_0x369068(0x4a3)){const _0x25050d=_0x488f93['dataset'][_0x369068(0x20b)]===_0x369068(0x45a);_0x56a60c=_0x25050d===_0x36d1b0['correctAnswer'];}else _0x5056c6==='matching_item'&&(_0x56a60c=_0x488f93[_0x369068(0x4b1)][_0x369068(0x3ff)]()===_0x36d1b0[_0x369068(0x39e)]);}_0x56a60c?_0x488f93[_0x369068(0x370)][_0x369068(0x213)]('bg-green-500',_0x369068(0x1b3),'border-green-700'):_0x488f93[_0x369068(0x370)][_0x369068(0x213)]('opacity-50');}),_0x3bedc7[_0x134fa7(0x370)][_0x134fa7(0x355)](_0x134fa7(0x334));let _0x5785d9=![];if(_0x5056c6===_0x134fa7(0x3e1))_0x5785d9=parseInt(_0x3bedc7[_0x134fa7(0x366)][_0x134fa7(0x15d)])===_0x36d1b0[_0x134fa7(0x3dc)];else{if(_0x5056c6===_0x134fa7(0x4a3))_0x5785d9=_0x3bedc7[_0x134fa7(0x366)]['answer']===_0x134fa7(0x45a)===_0x36d1b0[_0x134fa7(0x53e)];else _0x5056c6==='matching_item'&&(_0x5785d9=_0x3bedc7['textContent'][_0x134fa7(0x3ff)]()===_0x36d1b0['correctResponse']);}!_0x5785d9&&_0x3bedc7['classList']['add'](_0x134fa7(0x524),_0x134fa7(0x1b3),'border-red-700'),document[_0x134fa7(0x525)](_0x134fa7(0x173))[_0x134fa7(0x370)][_0x134fa7(0x355)](_0x134fa7(0x49c));}function startWholeQuizTimer(_0x426c8a){const _0x4f1f1a=_0x425095,_0x4f74fa=document[_0x4f1f1a(0x525)](_0x4f1f1a(0x5bf));if(!_0x4f74fa)return;const _0x5563c4=Date['now']()+_0x426c8a*0x3c*0x3e8;_0x4f74fa[_0x4f1f1a(0x1c1)]=_0x4f1f1a(0x596);const _0xec5cb=document[_0x4f1f1a(0x525)](_0x4f1f1a(0x46a));quizTimerInterval=setInterval(()=>{const _0x121a68=_0x4f1f1a,_0x4977c0=_0x5563c4-Date[_0x121a68(0x3c5)]();if(_0x4977c0<=0x0)clearInterval(quizTimerInterval),_0xec5cb[_0x121a68(0x4b1)]=_0x121a68(0x177),showMessage(_0x121a68(0x40e)),handleSubmitQuiz(null);else{const _0x498103=Math[_0x121a68(0x3b3)](_0x4977c0/0x3e8/0x3c%0x3c)[_0x121a68(0x464)]()[_0x121a68(0x4c6)](0x2,'0'),_0x477f34=Math['floor'](_0x4977c0/0x3e8%0x3c)[_0x121a68(0x464)]()[_0x121a68(0x4c6)](0x2,'0');_0xec5cb[_0x121a68(0x4b1)]=_0x498103+':'+_0x477f34;}},0x3e8);}function renderPerQuestionView(){const _0x316a3e=_0x425095;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x58669f=currentDisplayedQuiz['questions'][currentQuestionIndex],_0x5385b9=_0x58669f['questionType']||currentDisplayedQuiz['quizType'];let _0x4c5a41=_0x316a3e(0x316)+(currentQuestionIndex+0x1)+_0x316a3e(0x1e5)+currentDisplayedQuiz['questions']['length']+_0x316a3e(0x48b)+(currentMode==='admin-testing'?_0x316a3e(0x16e):'')+_0x316a3e(0x2d9)+currentDisplayedQuiz[_0x316a3e(0x161)]+_0x316a3e(0x5bc)+(currentQuestionIndex===currentDisplayedQuiz['questions'][_0x316a3e(0x5c8)]-0x1?_0x316a3e(0x509):_0x316a3e(0x206))+_0x316a3e(0x4d0);studentQuizArea[_0x316a3e(0x1c1)]=_0x4c5a41;let _0x321d52='',_0x8be75a='';switch(_0x5385b9){case _0x316a3e(0x47d):_0x321d52=currentQuestionIndex+0x1+'.\x20'+_0x58669f[_0x316a3e(0x329)],_0x8be75a='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x58669f[_0x316a3e(0x280)][_0x316a3e(0x238)](_0x2af7a1=>_0x316a3e(0x489)+_0x2af7a1+'\x22>'+_0x2af7a1+_0x316a3e(0x4fd))[_0x316a3e(0x19f)]('')+_0x316a3e(0x23b);break;case'true_false':_0x321d52=currentQuestionIndex+0x1+'.\x20'+_0x58669f[_0x316a3e(0x35c)],_0x8be75a=_0x316a3e(0x2c5);break;case _0x316a3e(0x4ac):case _0x316a3e(0x1c0):_0x321d52=currentQuestionIndex+0x1+'.\x20'+_0x58669f[_0x316a3e(0x35c)],_0x8be75a='<textarea\x20id=\x22per-q-textarea\x22\x20name=\x22question_single_text\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณที่นี่...\x22></textarea>';break;case'multiple_choice':case'fill_in_with_choices':default:_0x321d52=currentQuestionIndex+0x1+'.\x20'+_0x58669f[_0x316a3e(0x35c)],_0x8be75a=_0x58669f[_0x316a3e(0x513)][_0x316a3e(0x238)]((_0x3bc722,_0x16ff41)=>_0x316a3e(0x16f)+_0x16ff41+'\x22\x20name=\x22question_single\x22\x20value=\x22'+_0x16ff41+_0x316a3e(0x3f5)+_0x16ff41+'\x22>'+_0x3bc722+_0x316a3e(0x570))[_0x316a3e(0x19f)]('');break;}_0x58669f['imageCode']&&(_0x321d52+=_0x316a3e(0x491)+_0x58669f[_0x316a3e(0x247)]+_0x316a3e(0x552));document[_0x316a3e(0x525)](_0x316a3e(0x389))[_0x316a3e(0x1c1)]=_0x321d52,document[_0x316a3e(0x525)]('per-question-options')['innerHTML']=_0x8be75a;if(currentMode===_0x316a3e(0x24b)){const _0x12d3cf=document[_0x316a3e(0x525)]('cancel-test-btn');if(_0x12d3cf)_0x12d3cf[_0x316a3e(0x225)](_0x316a3e(0x441),cancelAdminTest);}document['getElementById'](_0x316a3e(0x356))[_0x316a3e(0x225)](_0x316a3e(0x441),()=>handleNextQuestionInTimedMode(![]));if(window['MathJax'])window[_0x316a3e(0x4b6)][_0x316a3e(0x549)]([studentQuizArea]);startPerQuestionTimer();}function startPerQuestionTimer(){const _0x216fa6=_0x425095,_0x1d7640=currentDisplayedQuiz[_0x216fa6(0x47f)]['timerDuration'],_0x5b174=document[_0x216fa6(0x525)]('per-question-timer-container');if(!_0x5b174)return;let _0x5d25cd=_0x1d7640;_0x5b174[_0x216fa6(0x1c1)]=_0x216fa6(0x38f)+_0x5d25cd+_0x216fa6(0x412);const _0x3910d1=document[_0x216fa6(0x525)](_0x216fa6(0x1a8)),_0x4f2af0=document[_0x216fa6(0x525)](_0x216fa6(0x4e5));perQuestionTimerInterval=setInterval(()=>{const _0x5a19cf=_0x216fa6;_0x5d25cd--;const _0x22d116=_0x5d25cd/_0x1d7640*0x64;_0x3910d1[_0x5a19cf(0x49a)][_0x5a19cf(0x473)]=_0x22d116+'%',_0x4f2af0[_0x5a19cf(0x4b1)]=_0x5d25cd,_0x5d25cd<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0x5a19cf(0x2a6)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x544c26=![]){const _0x1eed92=_0x425095;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x51b923=null;if(!_0x544c26){const _0x494dec=currentDisplayedQuiz[_0x1eed92(0x4ce)][currentQuestionIndex],_0x3ecd0e=_0x494dec[_0x1eed92(0x4bb)]||currentDisplayedQuiz[_0x1eed92(0x4bc)];if(_0x3ecd0e===_0x1eed92(0x4ac)||_0x3ecd0e===_0x1eed92(0x1c0)){const _0x46162f=document[_0x1eed92(0x452)](_0x1eed92(0x16b));_0x51b923=_0x46162f?_0x46162f[_0x1eed92(0x1c4)]['trim']():'';}else{if(_0x3ecd0e===_0x1eed92(0x47d)){const _0x175e70=document[_0x1eed92(0x452)](_0x1eed92(0x354));_0x51b923=_0x175e70?_0x175e70['value']:'';}else{const _0x382378=document[_0x1eed92(0x452)](_0x1eed92(0x219));if(_0x382378){const _0x3ee5e2=_0x382378[_0x1eed92(0x1c4)];_0x51b923=!isNaN(parseInt(_0x3ee5e2,0xa))&&_0x3ee5e2['trim']()!==''?parseInt(_0x3ee5e2,0xa):_0x3ee5e2;}}}}studentAnswersPerQuestion[_0x1eed92(0x365)](_0x51b923),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz[_0x1eed92(0x4ce)][_0x1eed92(0x5c8)]?finalizePerQuestionQuiz():renderPerQuestionView();}async function finalizePerQuestionQuiz(){const _0x1e5e05=_0x425095,_0x480728=currentDisplayedQuiz[_0x1e5e05(0x4ce)][_0x1e5e05(0x2a0)](_0x3c7e8d=>_0x3c7e8d[_0x1e5e05(0x4bb)]===_0x1e5e05(0x4ac));_0x480728?showMessage(_0x1e5e05(0x52e)):showMessage(_0x1e5e05(0x2b2));const _0x3b31ff=currentQuizData['id'],_0x1f6729=doc(db,_0x1e5e05(0x4f4)+appId+_0x1e5e05(0x27e)+_0x3b31ff+_0x1e5e05(0x454),currentStudentName),_0x7f2f62=await getDoc(_0x1f6729),_0x35986b=_0x7f2f62['exists']()?_0x7f2f62['data']():{},_0x2e532a=_0x35986b[_0x1e5e05(0x29c)]||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x2e532a);}function getResultsFilename(){const _0x2b22b6=_0x425095,_0x5b411a=document[_0x2b22b6(0x525)](_0x2b22b6(0x24c))[_0x2b22b6(0x4b1)][_0x2b22b6(0x1d4)](/[^a-z0-9]/gi,'_')['toLowerCase']();return'results_'+(_0x5b411a||'quiz');}function exportResultsAsImage(){const _0x4e7b3e=_0x425095,_0x2618dc=document['getElementById']('results-table-container');showMessage(_0x4e7b3e(0x17b)),html2canvas(_0x2618dc)[_0x4e7b3e(0x1e8)](_0x588cf6=>{const _0x80b016=_0x4e7b3e,_0x5a4d92=document[_0x80b016(0x39d)]('a');_0x5a4d92[_0x80b016(0x547)]=getResultsFilename()+_0x80b016(0x573),_0x5a4d92[_0x80b016(0x2cd)]=_0x588cf6[_0x80b016(0x351)](_0x80b016(0x2fe)),_0x5a4d92[_0x80b016(0x441)](),messageModal[_0x80b016(0x370)][_0x80b016(0x213)]('hidden');});}function exportResultsAsPDF(){const _0x35658b=_0x425095,{jsPDF:_0xac6c46}=window[_0x35658b(0x58a)],_0x3a58ad=new _0xac6c46();_0x3a58ad[_0x35658b(0x32f)](_0x35658b(0x437),'normal'),_0x3a58ad['autoTable']({'html':_0x35658b(0x3a2)}),_0x3a58ad[_0x35658b(0x4b5)](getResultsFilename()+_0x35658b(0x2f5));}function exportResultsAsWord(){const _0x34bc4d=_0x425095,_0x2d40b9=_0x34bc4d(0x505)+_0x34bc4d(0x46d)+_0x34bc4d(0x3d5)+_0x34bc4d(0x2ce),_0x4d11c3=_0x34bc4d(0x4c3),_0x30dc1f=_0x2d40b9+document['getElementById']('results-table-container')[_0x34bc4d(0x1c1)]+_0x4d11c3,_0x15440f=_0x34bc4d(0x1ca)+encodeURIComponent(_0x30dc1f),_0x461409=document[_0x34bc4d(0x39d)]('a');document[_0x34bc4d(0x3fd)][_0x34bc4d(0x352)](_0x461409),_0x461409[_0x34bc4d(0x2cd)]=_0x15440f,_0x461409[_0x34bc4d(0x547)]=getResultsFilename()+'.doc',_0x461409[_0x34bc4d(0x441)](),document[_0x34bc4d(0x3fd)][_0x34bc4d(0x1a5)](_0x461409);}function exportResultsAsExcel(){const _0x3997b3=_0x425095,_0x509396=document['getElementById']('results-table');let _0x14cf25=[];for(let _0x2a8b26=0x0;_0x2a8b26<_0x509396[_0x3997b3(0x2d5)][_0x3997b3(0x5c8)];_0x2a8b26++){let _0x2ed362=[],_0x13eab4=_0x509396[_0x3997b3(0x2d5)][_0x2a8b26][_0x3997b3(0x381)](_0x3997b3(0x189));for(let _0x3d6299=0x0;_0x3d6299<_0x13eab4[_0x3997b3(0x5c8)];_0x3d6299++){_0x2ed362['push']('\x22'+_0x13eab4[_0x3d6299]['innerText'][_0x3997b3(0x1d4)](/"/g,'\x22\x22')+'\x22');}_0x14cf25[_0x3997b3(0x365)](_0x2ed362['join'](','));}const _0x4ee1af=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x14cf25['join']('\x0a')],{'type':_0x3997b3(0x453)}),_0x2b4e42=document['createElement']('a');_0x2b4e42[_0x3997b3(0x2cd)]=URL[_0x3997b3(0x1e4)](_0x4ee1af),_0x2b4e42[_0x3997b3(0x547)]=getResultsFilename()+_0x3997b3(0x1b7),_0x2b4e42[_0x3997b3(0x441)]();}function exportTableAsImage(_0x14e5d3,_0x435b13){const _0x4f8b7b=_0x425095,_0x58c123=document[_0x4f8b7b(0x525)](_0x14e5d3);if(!_0x58c123){showMessage(_0x4f8b7b(0x3d6));return;}showMessage(_0x4f8b7b(0x17b)),html2canvas(_0x58c123)[_0x4f8b7b(0x1e8)](_0x483e1f=>{const _0x33db3b=_0x4f8b7b,_0x2e5c82=document[_0x33db3b(0x39d)]('a');_0x2e5c82[_0x33db3b(0x547)]=_0x435b13+'.png',_0x2e5c82[_0x33db3b(0x2cd)]=_0x483e1f[_0x33db3b(0x351)](_0x33db3b(0x2fe)),_0x2e5c82[_0x33db3b(0x441)](),messageModal['classList'][_0x33db3b(0x213)](_0x33db3b(0x49c));});}function exportTableAsPDF(_0x385e45,_0x3292d3){const _0x305b67=_0x425095,{jsPDF:_0x2529aa}=window[_0x305b67(0x58a)],_0x12b72b=new _0x2529aa();_0x12b72b[_0x305b67(0x32f)](_0x305b67(0x437),_0x305b67(0x3c6)),_0x12b72b[_0x305b67(0x178)]({'html':'#'+_0x385e45}),_0x12b72b[_0x305b67(0x4b5)](_0x3292d3+'.pdf');}function exportTableAsWord(_0x56c66e,_0x30ddd3){const _0x5b4235=_0x425095,_0x4149a2=document['getElementById'](_0x56c66e);if(!_0x4149a2){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}const _0x2e32d6=_0x5b4235(0x505)+'xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20'+_0x5b4235(0x3d5)+_0x5b4235(0x2ce),_0x5910db=_0x5b4235(0x4c3),_0x1fe72b=_0x2e32d6+_0x4149a2[_0x5b4235(0x1c1)]+_0x5910db,_0x3beddf=_0x5b4235(0x1ca)+encodeURIComponent(_0x1fe72b),_0x382d59=document[_0x5b4235(0x39d)]('a');document[_0x5b4235(0x3fd)][_0x5b4235(0x352)](_0x382d59),_0x382d59['href']=_0x3beddf,_0x382d59[_0x5b4235(0x547)]=_0x30ddd3+'.doc',_0x382d59[_0x5b4235(0x441)](),document[_0x5b4235(0x3fd)]['removeChild'](_0x382d59);}function exportTableAsExcel(_0x48c105,_0x19422e){const _0x37467d=_0x425095,_0x6269cd=document['getElementById'](_0x48c105);if(!_0x6269cd){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}let _0x518757=[];for(let _0x5c3682=0x0;_0x5c3682<_0x6269cd[_0x37467d(0x2d5)]['length'];_0x5c3682++){let _0x32f333=[],_0xf23c89=_0x6269cd[_0x37467d(0x2d5)][_0x5c3682][_0x37467d(0x381)](_0x37467d(0x189));for(let _0x2e5bc4=0x0;_0x2e5bc4<_0xf23c89['length'];_0x2e5bc4++){_0x32f333[_0x37467d(0x365)]('\x22'+_0xf23c89[_0x2e5bc4]['innerText'][_0x37467d(0x1d4)](/"/g,'\x22\x22')+'\x22');}_0x518757[_0x37467d(0x365)](_0x32f333[_0x37467d(0x19f)](','));}const _0x1a034c=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x518757['join']('\x0a')],{'type':'text/csv;charset=utf-8;'}),_0x39ed36=document[_0x37467d(0x39d)]('a');_0x39ed36['href']=URL[_0x37467d(0x1e4)](_0x1a034c),_0x39ed36['download']=_0x19422e+_0x37467d(0x1b7),_0x39ed36[_0x37467d(0x441)]();}function renderAnalytics(_0x1376cd,_0x46de51){const _0x38a792=_0x425095,_0x1d8387=currentProjectData[_0x38a792(0x16a)][_0x38a792(0x5c8)],_0x27a7e1=_0x46de51[_0x38a792(0x5c8)],_0x8c5498=_0x1d8387-_0x27a7e1,_0x1982a0=_0x1d8387>0x0?_0x27a7e1/_0x1d8387*0x64:0x0,_0x48fddc=_0x46de51[_0x38a792(0x238)](_0x1a282a=>_0x1a282a[_0x38a792(0x36d)]),_0x195a6a=_0x48fddc['length']>0x0?_0x48fddc[_0x38a792(0x1c5)]((_0x133457,_0x4fac97)=>_0x133457+_0x4fac97,0x0)/_0x48fddc['length']:0x0,_0x44fee5=_0x1376cd[_0x38a792(0x4ce)][_0x38a792(0x5c8)],_0x34af91=_0x44fee5>0x0?_0x195a6a/_0x44fee5*0x64:0x0,_0x17bd2d=document[_0x38a792(0x525)](_0x38a792(0x262));_0x17bd2d['innerHTML']=_0x38a792(0x5cf)+_0x1982a0[_0x38a792(0x480)](0x0)+_0x38a792(0x29d)+_0x27a7e1+'/'+_0x1d8387+_0x38a792(0x479)+_0x195a6a['toFixed'](0x2)+_0x38a792(0x53a)+_0x34af91[_0x38a792(0x480)](0x0)+_0x38a792(0x22f)+(_0x48fddc[_0x38a792(0x5c8)]>0x0?Math[_0x38a792(0x3bb)](..._0x48fddc):_0x38a792(0x263))+_0x38a792(0x448)+(_0x48fddc[_0x38a792(0x5c8)]>0x0?Math[_0x38a792(0x22a)](..._0x48fddc):_0x38a792(0x263))+_0x38a792(0x58b);const _0x5e4d7c=currentProjectData['students']||[];renderSubmissionChart(_0x27a7e1,_0x8c5498,_0x46de51,_0x5e4d7c),renderScoreDistributionChart(_0x46de51,_0x44fee5),renderQuestionAnalytics(_0x1376cd,_0x46de51,_0x5e4d7c);}function renderSubmissionChart(_0x22fbaf,_0x37e9d3,_0x420d12,_0x5e03e0){const _0x336c2c=_0x425095,_0x131bd4=document[_0x336c2c(0x525)]('submission-status-chart')[_0x336c2c(0x342)]('2d'),_0x10af52=_0x420d12['map'](_0x3579cf=>_0x3579cf[_0x336c2c(0x24e)]),_0x1ed97e=_0x5e03e0[_0x336c2c(0x563)](_0x5dfc49=>!_0x10af52[_0x336c2c(0x3aa)](_0x5dfc49));chartInstances[_0x336c2c(0x2cc)]&&chartInstances['submission'][_0x336c2c(0x32a)](),chartInstances[_0x336c2c(0x2cc)]=new Chart(_0x131bd4,{'type':'doughnut','data':{'labels':[_0x336c2c(0x242),_0x336c2c(0x293)],'datasets':[{'data':[_0x22fbaf,_0x37e9d3],'backgroundColor':['#10B981',_0x336c2c(0x358)],'borderColor':[_0x336c2c(0x275),'#ffffff'],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':'bottom'},'tooltip':{'callbacks':{'label':function(_0x3a6daf){const _0x4d2592=_0x336c2c;let _0x217947=_0x3a6daf['label']||'';return _0x217947&&(_0x217947+=':\x20'),_0x217947+=_0x3a6daf[_0x4d2592(0x348)],_0x217947;},'afterLabel':function(_0xd551a5){const _0x1619e1=_0x336c2c;let _0x5ebdb6;return _0xd551a5[_0x1619e1(0x2eb)]===0x0?_0x5ebdb6=_0x10af52:_0x5ebdb6=_0x1ed97e,_0x5ebdb6['length']>0x0?_0x5ebdb6['join']('\x0a'):_0x1619e1(0x56b);}}}}}});}function renderScoreDistributionChart(_0x5d086e,_0x1e0998){const _0x2807ab=_0x425095,_0x405cba=document[_0x2807ab(0x525)](_0x2807ab(0x250))['getContext']('2d'),_0x3581b1={};for(let _0x1b7bef=0x0;_0x1b7bef<=_0x1e0998;_0x1b7bef++){_0x3581b1[_0x1b7bef]=0x0;}_0x5d086e[_0x2807ab(0x299)](_0x2e1549=>{const _0x101f60=_0x2807ab;_0x3581b1[_0x2e1549[_0x101f60(0x36d)]]!==undefined&&_0x3581b1[_0x2e1549[_0x101f60(0x36d)]]++;}),chartInstances['score']&&chartInstances[_0x2807ab(0x55e)][_0x2807ab(0x32a)](),chartInstances['score']=new Chart(_0x405cba,{'type':_0x2807ab(0x216),'data':{'labels':Object[_0x2807ab(0x233)](_0x3581b1),'datasets':[{'label':_0x2807ab(0x404),'data':Object[_0x2807ab(0x37f)](_0x3581b1),'backgroundColor':_0x2807ab(0x504),'borderColor':_0x2807ab(0x314),'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x2807ab(0x1f0)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x15ba65){const _0x40d855=_0x2807ab,_0xda5102=_0x15ba65['label'],_0x207f8d=_0x5d086e[_0x40d855(0x563)](_0x270eb1=>_0x270eb1[_0x40d855(0x36d)]==_0xda5102)[_0x40d855(0x238)](_0x49cef0=>_0x49cef0[_0x40d855(0x24e)]);return _0x207f8d['length']>0x0?_0x207f8d[_0x40d855(0x19f)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x487ae0,_0x458b10,_0x3046d3){const _0x51162f=_0x425095,_0x36dbad=document[_0x51162f(0x525)](_0x51162f(0x1fe));if(_0x3046d3['length']===0x0){_0x36dbad['innerHTML']='<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>';return;}let _0x2d5781='';const _0x3eb4fd=_0x458b10[_0x51162f(0x238)](_0x5df321=>_0x5df321['studentName']);_0x487ae0['questions']['forEach']((_0xfab3e8,_0x31d756)=>{const _0x32942a=_0x51162f;let _0x1af00d=0x0;const _0x53ca71=[],_0x106caa=[],_0x25ee49=_0xfab3e8[_0x32942a(0x329)]||_0xfab3e8[_0x32942a(0x35c)]||_0xfab3e8[_0x32942a(0x37c)];_0x458b10[_0x32942a(0x299)](_0xbc3c59=>{const _0x2ff671=_0x32942a,_0x5ca4b1=_0xbc3c59[_0x2ff671(0x29c)][_0xbc3c59[_0x2ff671(0x29c)][_0x2ff671(0x5c8)]-0x1];if(_0x5ca4b1&&_0x5ca4b1[_0x2ff671(0x193)]){const _0x20eae4=_0x5ca4b1['answers'][_0x2ff671(0x49b)](_0x40c9f2=>_0x40c9f2[_0x2ff671(0x56d)]===_0x25ee49)??_0x5ca4b1[_0x2ff671(0x193)][_0x31d756]??null;_0x20eae4&&(_0x20eae4['isCorrect']?(_0x1af00d++,_0x53ca71['push'](_0xbc3c59[_0x2ff671(0x24e)])):_0x106caa['push'](_0xbc3c59[_0x2ff671(0x24e)]));}});const _0x2280fb=_0x3046d3['filter'](_0x3df29c=>!_0x3eb4fd[_0x32942a(0x3aa)](_0x3df29c)),_0x565442=_0x458b10[_0x32942a(0x5c8)]>0x0?_0x1af00d/_0x458b10[_0x32942a(0x5c8)]*0x64:0x0;_0x2d5781+=_0x32942a(0x282)+(_0x31d756+0x1)+':\x20'+_0x25ee49+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20px-2\x20py-1\x20rounded\x20'+(_0x565442>=0x46?_0x32942a(0x561):_0x565442>=0x28?'bg-yellow-200\x20text-yellow-800':_0x32942a(0x584))+_0x32942a(0x1f6)+_0x565442[_0x32942a(0x480)](0x0)+_0x32942a(0x1ff)+_0x25ee49+_0x32942a(0x590)+_0x1af00d+_0x32942a(0x1e5)+_0x458b10[_0x32942a(0x5c8)]+_0x32942a(0x554)+_0x53ca71[_0x32942a(0x5c8)]+_0x32942a(0x2be)+(_0x53ca71['length']>0x0?_0x53ca71[_0x32942a(0x19f)](',\x20'):'ไม่มี')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20('+_0x106caa[_0x32942a(0x5c8)]+_0x32942a(0x2be)+(_0x106caa['length']>0x0?_0x106caa[_0x32942a(0x19f)](',\x20'):_0x32942a(0x56b))+_0x32942a(0x244)+_0x2280fb[_0x32942a(0x5c8)]+_0x32942a(0x2be)+(_0x2280fb[_0x32942a(0x5c8)]>0x0?_0x2280fb[_0x32942a(0x19f)](',\x20'):_0x32942a(0x56b))+_0x32942a(0x232);}),_0x36dbad['innerHTML']=_0x2d5781;try{window[_0x51162f(0x4b6)]&&MathJax['typesetPromise']&&MathJax[_0x51162f(0x549)]([_0x36dbad]);}catch(_0x397c62){console['error'](_0x51162f(0x41e),_0x397c62);}}async function handleAnalyzeClass(){const _0x501e25=_0x425095;if(!currentQuizData||!currentQuizData['id']){showMessage(_0x501e25(0x330));return;}const _0x2ae422=collection(db,_0x501e25(0x4f4)+appId+_0x501e25(0x27e)+currentQuizData['id']+'/submissions'),_0x142afc=await getDocs(_0x2ae422),_0x46ae58=_0x142afc[_0x501e25(0x4be)][_0x501e25(0x238)](_0x406663=>_0x406663[_0x501e25(0x59a)]());if(_0x46ae58[_0x501e25(0x5c8)]<0x2){showMessage('ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้');return;}const _0x4fb50c=document[_0x501e25(0x525)](_0x501e25(0x1fa));_0x4fb50c[_0x501e25(0x1c1)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',document[_0x501e25(0x525)](_0x501e25(0x32d))[_0x501e25(0x48e)]=!![];const _0x22568b=_0x46ae58[_0x501e25(0x238)]((_0x36e768,_0x1b8ea6)=>{const _0x1dcfbd=_0x501e25,_0x516e68=_0x36e768['attempts'][_0x36e768[_0x1dcfbd(0x29c)][_0x1dcfbd(0x5c8)]-0x1];if(!_0x516e68)return'';return _0x1dcfbd(0x4d9)+(_0x1b8ea6+0x1)+'\x20('+_0x36e768['studentName']+_0x1dcfbd(0x2e2)+_0x516e68[_0x1dcfbd(0x55e)]+'/'+_0x36e768[_0x1dcfbd(0x1ab)]+_0x1dcfbd(0x2d0)+JSON[_0x1dcfbd(0x2d8)](_0x516e68[_0x1dcfbd(0x193)])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x501e25(0x19f)](_0x501e25(0x5d0)),_0x31daeb=_0x501e25(0x281)+currentQuizData[_0x501e25(0x161)]+_0x501e25(0x3ce)+JSON[_0x501e25(0x2d8)](currentQuizData[_0x501e25(0x4ce)])+_0x501e25(0x26b)+_0x22568b+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20',_0x14ea96={'type':_0x501e25(0x51c),'properties':{'classStrengths':{'type':'ARRAY','items':{'type':_0x501e25(0x164)}},'classWeaknesses':{'type':'ARRAY','items':{'type':'STRING'}},'teacherSuggestions':{'type':'ARRAY','items':{'type':'STRING'}}},'required':[_0x501e25(0x350),_0x501e25(0x42f),_0x501e25(0x294)]};try{const _0x22a519=await callAnalysisApi(_0x31daeb,_0x14ea96);displayClassAnalysis(_0x22a519);}catch(_0x1515b8){console[_0x501e25(0x310)]('Error\x20during\x20class\x20analysis:',_0x1515b8),_0x4fb50c[_0x501e25(0x1c1)]=_0x501e25(0x315)+_0x1515b8[_0x501e25(0x3be)]+_0x501e25(0x4cb);}finally{document['getElementById'](_0x501e25(0x32d))[_0x501e25(0x48e)]=![];}}function displayClassAnalysis(_0x5ba2c9){const _0x520848=_0x425095,_0x150546=document[_0x520848(0x525)](_0x520848(0x1fa));if(!_0x5ba2c9){_0x150546[_0x520848(0x1c1)]=_0x520848(0x251);return;}_0x150546[_0x520848(0x1c1)]=_0x520848(0x3f0)+_0x5ba2c9['classStrengths'][_0x520848(0x238)](_0x5188c9=>_0x520848(0x28c)+_0x5188c9+_0x520848(0x2e7))[_0x520848(0x19f)]('')+_0x520848(0x2c0)+_0x5ba2c9[_0x520848(0x42f)][_0x520848(0x238)](_0xd6b15e=>_0x520848(0x28c)+_0xd6b15e+_0x520848(0x2e7))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5ba2c9[_0x520848(0x294)][_0x520848(0x238)](_0x315145=>'<li>'+_0x315145+_0x520848(0x2e7))[_0x520848(0x19f)]('')+_0x520848(0x369);}function formatAndPrintWorksheet(_0xcb74eb,_0x31f608){const _0xf7eafc=_0x425095,_0x3928b8=_0xf7eafc(0x459)+_0xcb74eb[_0xf7eafc(0x161)]+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20'+_0xcb74eb[_0xf7eafc(0x161)]+_0xf7eafc(0x418)+_0xcb74eb[_0xf7eafc(0x4ce)][_0xf7eafc(0x238)]((_0x3ca6e1,_0x58ea72)=>_0xf7eafc(0x34a)+(_0x58ea72+0x1)+'.\x20'+_0x3ca6e1[_0xf7eafc(0x35c)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x3ca6e1[_0xf7eafc(0x247)]?_0xf7eafc(0x1b1)+_0x3ca6e1[_0xf7eafc(0x247)]+_0xf7eafc(0x552):'')+_0xf7eafc(0x319))['join']('')+_0xf7eafc(0x3a4);_0x31f608['document'][_0xf7eafc(0x48c)](_0x3928b8),_0x31f608[_0xf7eafc(0x58c)][_0xf7eafc(0x1f7)](),_0x31f608['onload']=function(){const _0x44a767=_0xf7eafc;_0x31f608[_0x44a767(0x5ce)]();};}async function generateWorksheet(){const _0x9edd06=_0x425095,_0x1e0f2b=document['getElementById'](_0x9edd06(0x4f7))[_0x9edd06(0x1c4)][_0x9edd06(0x3ff)]();if(!_0x1e0f2b){showMessage(_0x9edd06(0x16d));return;}const _0x438552=document[_0x9edd06(0x525)](_0x9edd06(0x4d6))['checked'],_0x3dca55=_0x438552?'':_0x9edd06(0x25a),_0x12abcf=window[_0x9edd06(0x4e2)]('','_blank');_0x12abcf[_0x9edd06(0x58c)]['write'](_0x9edd06(0x34b));const _0x4d91cf=parseInt(document[_0x9edd06(0x525)](_0x9edd06(0x17c))[_0x9edd06(0x1c4)]),_0x4586b5=document[_0x9edd06(0x525)](_0x9edd06(0x475))[_0x9edd06(0x46e)],_0x1d768a=_0x4586b5?_0x9edd06(0x25d):'',_0x2f8067=_0x9edd06(0x4f5)+_0x3dca55+_0x9edd06(0x502)+_0x4d91cf+'\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22'+_0x1e0f2b+_0x9edd06(0x4a1)+_0x1d768a+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20',_0x3b7594={'type':'OBJECT','properties':{'topic':{'type':_0x9edd06(0x164)},'questions':{'type':_0x9edd06(0x3b6),'items':{'type':_0x9edd06(0x51c),'properties':{'questionText':{'type':'STRING'},'imageCode':{'type':_0x9edd06(0x164)}},'required':[_0x9edd06(0x35c)]}}},'required':['topic',_0x9edd06(0x4ce)]};document[_0x9edd06(0x525)](_0x9edd06(0x3ba))[_0x9edd06(0x4b1)]='',document['getElementById'](_0x9edd06(0x2c4))['classList'][_0x9edd06(0x355)](_0x9edd06(0x49c)),document[_0x9edd06(0x525)](_0x9edd06(0x1c6))['classList']['remove']('hidden'),generateWorksheetBtn[_0x9edd06(0x48e)]=!![];try{const _0x3ca71f=await callAnalysisApi(_0x2f8067,_0x3b7594);formatAndPrintWorksheet(_0x3ca71f,_0x12abcf);}catch(_0x17166f){console[_0x9edd06(0x310)]('Error\x20generating\x20worksheet:',_0x17166f);if(_0x12abcf)_0x12abcf[_0x9edd06(0x1f7)]();showMessage(_0x9edd06(0x5c5));}finally{document['getElementById']('loader')[_0x9edd06(0x370)]['add'](_0x9edd06(0x49c)),document[_0x9edd06(0x525)]('quiz-generation-area')[_0x9edd06(0x370)][_0x9edd06(0x213)](_0x9edd06(0x49c)),generateWorksheetBtn[_0x9edd06(0x48e)]=![];}}async function callAnalysisApi(_0x1eb345,_0x253d21){const _0x1fbc5a=_0x425095,_0x5d17e6={'contents':[{'role':'user','parts':[{'text':_0x1eb345}]}],'generationConfig':{'responseMimeType':_0x1fbc5a(0x1e3),'responseSchema':_0x253d21}},_0x14ff8f=_0x1fbc5a(0x5bb),_0x2d8f82=_0x1fbc5a(0x5b2)+_0x14ff8f,_0x4c6c50=await fetch(_0x2d8f82,{'method':'POST','headers':{'Content-Type':'application/json'},'body':JSON[_0x1fbc5a(0x2d8)](_0x5d17e6)});if(!_0x4c6c50['ok'])throw new Error(_0x1fbc5a(0x522)+_0x4c6c50['status']);const _0x3492a4=await _0x4c6c50[_0x1fbc5a(0x5ae)]();if(_0x3492a4[_0x1fbc5a(0x258)]?.[0x0]?.[_0x1fbc5a(0x1e6)]?.['parts']?.[0x0])return JSON[_0x1fbc5a(0x241)](_0x3492a4['candidates'][0x0][_0x1fbc5a(0x1e6)][_0x1fbc5a(0x403)][0x0][_0x1fbc5a(0x4b0)]);else{let _0x66f392='Invalid\x20response\x20structure\x20from\x20AI.';if(_0x3492a4[_0x1fbc5a(0x3f3)]?.[_0x1fbc5a(0x545)])_0x66f392=_0x1fbc5a(0x15b)+_0x3492a4[_0x1fbc5a(0x3f3)][_0x1fbc5a(0x545)]+'.';else _0x3492a4['candidates']?.[0x0]?.[_0x1fbc5a(0x3f8)]&&_0x3492a4[_0x1fbc5a(0x258)][0x0][_0x1fbc5a(0x3f8)]!==_0x1fbc5a(0x496)&&(_0x66f392=_0x1fbc5a(0x35e)+_0x3492a4[_0x1fbc5a(0x258)][0x0][_0x1fbc5a(0x3f8)]+'.');console[_0x1fbc5a(0x310)](_0x66f392,JSON['stringify'](_0x3492a4));throw new Error(_0x66f392);}}initialize();
